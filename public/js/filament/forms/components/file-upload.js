var __defProp = Object.defineProperty;
var __export = (target, all) => {
  for (var name2 in all)
    __defProp(target, name2, { get: all[name2], enumerable: true });
};

// node_modules/filepond/dist/filepond.esm.js
var filepond_esm_exports = {};
__export(filepond_esm_exports, {
  FileOrigin: () => FileOrigin$1,
  FileStatus: () => FileStatus,
  OptionTypes: () => OptionTypes,
  Status: () => Status$1,
  create: () => create$f,
  destroy: () => destroy,
  find: () => find,
  getOptions: () => getOptions$1,
  parse: () => parse,
  registerPlugin: () => registerPlugin,
  setOptions: () => setOptions$1,
  supported: () => supported
});
var isNode = (value) => value instanceof HTMLElement;
var createStore = (initialState, queries2 = [], actions2 = []) => {
  const state2 = {
    ...initialState
  };
  const actionQueue = [];
  const dispatchQueue = [];
  const getState = () => ({ ...state2 });
  const processActionQueue = () => {
    const queue = [...actionQueue];
    actionQueue.length = 0;
    return queue;
  };
  const processDispatchQueue = () => {
    const queue = [...dispatchQueue];
    dispatchQueue.length = 0;
    queue.forEach(({ type, data: data3 }) => {
      dispatch(type, data3);
    });
  };
  const dispatch = (type, data3, isBlocking) => {
    if (isBlocking && !document.hidden) {
      dispatchQueue.push({ type, data: data3 });
      return;
    }
    if (actionHandlers[type]) {
      actionHandlers[type](data3);
    }
    actionQueue.push({
      type,
      data: data3
    });
  };
  const query = (str, ...args) => queryHandles[str] ? queryHandles[str](...args) : null;
  const api = {
    getState,
    processActionQueue,
    processDispatchQueue,
    dispatch,
    query
  };
  let queryHandles = {};
  queries2.forEach((query2) => {
    queryHandles = {
      ...query2(state2),
      ...queryHandles
    };
  });
  let actionHandlers = {};
  actions2.forEach((action) => {
    actionHandlers = {
      ...action(dispatch, query, state2),
      ...actionHandlers
    };
  });
  return api;
};
var defineProperty = (obj, property, definition) => {
  if (typeof definition === "function") {
    obj[property] = definition;
    return;
  }
  Object.defineProperty(obj, property, { ...definition });
};
var forin = (obj, cb) => {
  for (const key in obj) {
    if (!obj.hasOwnProperty(key)) {
      continue;
    }
    cb(key, obj[key]);
  }
};
var createObject = (definition) => {
  const obj = {};
  forin(definition, (property) => {
    defineProperty(obj, property, definition[property]);
  });
  return obj;
};
var attr = (node, name2, value = null) => {
  if (value === null) {
    return node.getAttribute(name2) || node.hasAttribute(name2);
  }
  node.setAttribute(name2, value);
};
var ns = "http://www.w3.org/2000/svg";
var svgElements = ["svg", "path"];
var isSVGElement = (tag) => svgElements.includes(tag);
var createElement = (tag, className, attributes = {}) => {
  if (typeof className === "object") {
    attributes = className;
    className = null;
  }
  const element = isSVGElement(tag) ? document.createElementNS(ns, tag) : document.createElement(tag);
  if (className) {
    if (isSVGElement(tag)) {
      attr(element, "class", className);
    } else {
      element.className = className;
    }
  }
  forin(attributes, (name2, value) => {
    attr(element, name2, value);
  });
  return element;
};
var appendChild = (parent) => (child, index) => {
  if (typeof index !== "undefined" && parent.children[index]) {
    parent.insertBefore(child, parent.children[index]);
  } else {
    parent.appendChild(child);
  }
};
var appendChildView = (parent, childViews) => (view, index) => {
  if (typeof index !== "undefined") {
    childViews.splice(index, 0, view);
  } else {
    childViews.push(view);
  }
  return view;
};
var removeChildView = (parent, childViews) => (view) => {
  childViews.splice(childViews.indexOf(view), 1);
  if (view.element.parentNode) {
    parent.removeChild(view.element);
  }
  return view;
};
var IS_BROWSER = (() => typeof window !== "undefined" && typeof window.document !== "undefined")();
var isBrowser = () => IS_BROWSER;
var testElement = isBrowser() ? createElement("svg") : {};
var getChildCount = "children" in testElement ? (el) => el.children.length : (el) => el.childNodes.length;
var getViewRect = (elementRect, childViews, offset, scale2) => {
  const left = offset[0] || elementRect.left;
  const top = offset[1] || elementRect.top;
  const right = left + elementRect.width;
  const bottom = top + elementRect.height * (scale2[1] || 1);
  const rect = {
    // the rectangle of the element itself
    element: {
      ...elementRect
    },
    // the rectangle of the element expanded to contain its children, does not include any margins
    inner: {
      left: elementRect.left,
      top: elementRect.top,
      right: elementRect.right,
      bottom: elementRect.bottom
    },
    // the rectangle of the element expanded to contain its children including own margin and child margins
    // margins will be added after we've recalculated the size
    outer: {
      left,
      top,
      right,
      bottom
    }
  };
  childViews.filter((childView) => !childView.isRectIgnored()).map((childView) => childView.rect).forEach((childViewRect) => {
    expandRect(rect.inner, { ...childViewRect.inner });
    expandRect(rect.outer, { ...childViewRect.outer });
  });
  calculateRectSize(rect.inner);
  rect.outer.bottom += rect.element.marginBottom;
  rect.outer.right += rect.element.marginRight;
  calculateRectSize(rect.outer);
  return rect;
};
var expandRect = (parent, child) => {
  child.top += parent.top;
  child.right += parent.left;
  child.bottom += parent.top;
  child.left += parent.left;
  if (child.bottom > parent.bottom) {
    parent.bottom = child.bottom;
  }
  if (child.right > parent.right) {
    parent.right = child.right;
  }
};
var calculateRectSize = (rect) => {
  rect.width = rect.right - rect.left;
  rect.height = rect.bottom - rect.top;
};
var isNumber = (value) => typeof value === "number";
var thereYet = (position, destination, velocity, errorMargin = 1e-3) => {
  return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;
};
var spring = (
  // default options
  ({ stiffness = 0.5, damping = 0.75, mass = 10 } = {}) => {
    let target = null;
    let position = null;
    let velocity = 0;
    let resting = false;
    const interpolate = (ts, skipToEndState) => {
      if (resting)
        return;
      if (!(isNumber(target) && isNumber(position))) {
        resting = true;
        velocity = 0;
        return;
      }
      const f = -(position - target) * stiffness;
      velocity += f / mass;
      position += velocity;
      velocity *= damping;
      if (thereYet(position, target, velocity) || skipToEndState) {
        position = target;
        velocity = 0;
        resting = true;
        api.onupdate(position);
        api.oncomplete(position);
      } else {
        api.onupdate(position);
      }
    };
    const setTarget = (value) => {
      if (isNumber(value) && !isNumber(position)) {
        position = value;
      }
      if (target === null) {
        target = value;
        position = value;
      }
      target = value;
      if (position === target || typeof target === "undefined") {
        resting = true;
        velocity = 0;
        api.onupdate(position);
        api.oncomplete(position);
        return;
      }
      resting = false;
    };
    const api = createObject({
      interpolate,
      target: {
        set: setTarget,
        get: () => target
      },
      resting: {
        get: () => resting
      },
      onupdate: (value) => {
      },
      oncomplete: (value) => {
      }
    });
    return api;
  }
);
var easeInOutQuad = (t) => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
var tween = (
  // default values
  ({ duration = 500, easing = easeInOutQuad, delay = 0 } = {}) => {
    let start = null;
    let t;
    let p;
    let resting = true;
    let reverse = false;
    let target = null;
    const interpolate = (ts, skipToEndState) => {
      if (resting || target === null)
        return;
      if (start === null) {
        start = ts;
      }
      if (ts - start < delay)
        return;
      t = ts - start - delay;
      if (t >= duration || skipToEndState) {
        t = 1;
        p = reverse ? 0 : 1;
        api.onupdate(p * target);
        api.oncomplete(p * target);
        resting = true;
      } else {
        p = t / duration;
        api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);
      }
    };
    const api = createObject({
      interpolate,
      target: {
        get: () => reverse ? 0 : target,
        set: (value) => {
          if (target === null) {
            target = value;
            api.onupdate(value);
            api.oncomplete(value);
            return;
          }
          if (value < target) {
            target = 1;
            reverse = true;
          } else {
            reverse = false;
            target = value;
          }
          resting = false;
          start = null;
        }
      },
      resting: {
        get: () => resting
      },
      onupdate: (value) => {
      },
      oncomplete: (value) => {
      }
    });
    return api;
  }
);
var animator = {
  spring,
  tween
};
var createAnimator = (definition, category, property) => {
  const def = definition[category] && typeof definition[category][property] === "object" ? definition[category][property] : definition[category] || definition;
  const type = typeof def === "string" ? def : def.type;
  const props = typeof def === "object" ? { ...def } : {};
  return animator[type] ? animator[type](props) : null;
};
var addGetSet = (keys, obj, props, overwrite = false) => {
  obj = Array.isArray(obj) ? obj : [obj];
  obj.forEach((o) => {
    keys.forEach((key) => {
      let name2 = key;
      let getter = () => props[key];
      let setter = (value) => props[key] = value;
      if (typeof key === "object") {
        name2 = key.key;
        getter = key.getter || getter;
        setter = key.setter || setter;
      }
      if (o[name2] && !overwrite) {
        return;
      }
      o[name2] = {
        get: getter,
        set: setter
      };
    });
  });
};
var animations = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI }) => {
  const initialProps = { ...viewProps };
  const animations2 = [];
  forin(mixinConfig, (property, animation) => {
    const animator2 = createAnimator(animation);
    if (!animator2) {
      return;
    }
    animator2.onupdate = (value) => {
      viewProps[property] = value;
    };
    animator2.target = initialProps[property];
    const prop = {
      key: property,
      setter: (value) => {
        if (animator2.target === value) {
          return;
        }
        animator2.target = value;
      },
      getter: () => viewProps[property]
    };
    addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);
    animations2.push(animator2);
  });
  return {
    write: (ts) => {
      let skipToEndState = document.hidden;
      let resting = true;
      animations2.forEach((animation) => {
        if (!animation.resting)
          resting = false;
        animation.interpolate(ts, skipToEndState);
      });
      return resting;
    },
    destroy: () => {
    }
  };
};
var addEvent = (element) => (type, fn2) => {
  element.addEventListener(type, fn2);
};
var removeEvent = (element) => (type, fn2) => {
  element.removeEventListener(type, fn2);
};
var listeners = ({
  mixinConfig,
  viewProps,
  viewInternalAPI,
  viewExternalAPI,
  viewState,
  view
}) => {
  const events2 = [];
  const add = addEvent(view.element);
  const remove = removeEvent(view.element);
  viewExternalAPI.on = (type, fn2) => {
    events2.push({
      type,
      fn: fn2
    });
    add(type, fn2);
  };
  viewExternalAPI.off = (type, fn2) => {
    events2.splice(events2.findIndex((event) => event.type === type && event.fn === fn2), 1);
    remove(type, fn2);
  };
  return {
    write: () => {
      return true;
    },
    destroy: () => {
      events2.forEach((event) => {
        remove(event.type, event.fn);
      });
    }
  };
};
var apis = ({ mixinConfig, viewProps, viewExternalAPI }) => {
  addGetSet(mixinConfig, viewExternalAPI, viewProps);
};
var isDefined = (value) => value != null;
var defaults = {
  opacity: 1,
  scaleX: 1,
  scaleY: 1,
  translateX: 0,
  translateY: 0,
  rotateX: 0,
  rotateY: 0,
  rotateZ: 0,
  originX: 0,
  originY: 0
};
var styles = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI, view }) => {
  const initialProps = { ...viewProps };
  const currentProps = {};
  addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);
  const getOffset2 = () => [viewProps["translateX"] || 0, viewProps["translateY"] || 0];
  const getScale = () => [viewProps["scaleX"] || 0, viewProps["scaleY"] || 0];
  const getRect = () => view.rect ? getViewRect(view.rect, view.childViews, getOffset2(), getScale()) : null;
  viewInternalAPI.rect = { get: getRect };
  viewExternalAPI.rect = { get: getRect };
  mixinConfig.forEach((key) => {
    viewProps[key] = typeof initialProps[key] === "undefined" ? defaults[key] : initialProps[key];
  });
  return {
    write: () => {
      if (!propsHaveChanged(currentProps, viewProps)) {
        return;
      }
      applyStyles(view.element, viewProps);
      Object.assign(currentProps, { ...viewProps });
      return true;
    },
    destroy: () => {
    }
  };
};
var propsHaveChanged = (currentProps, newProps) => {
  if (Object.keys(currentProps).length !== Object.keys(newProps).length) {
    return true;
  }
  for (const prop in newProps) {
    if (newProps[prop] !== currentProps[prop]) {
      return true;
    }
  }
  return false;
};
var applyStyles = (element, {
  opacity,
  perspective,
  translateX,
  translateY,
  scaleX: scaleX2,
  scaleY: scaleY2,
  rotateX,
  rotateY,
  rotateZ,
  originX,
  originY,
  width,
  height
}) => {
  let transforms2 = "";
  let styles2 = "";
  if (isDefined(originX) || isDefined(originY)) {
    styles2 += `transform-origin: ${originX || 0}px ${originY || 0}px;`;
  }
  if (isDefined(perspective)) {
    transforms2 += `perspective(${perspective}px) `;
  }
  if (isDefined(translateX) || isDefined(translateY)) {
    transforms2 += `translate3d(${translateX || 0}px, ${translateY || 0}px, 0) `;
  }
  if (isDefined(scaleX2) || isDefined(scaleY2)) {
    transforms2 += `scale3d(${isDefined(scaleX2) ? scaleX2 : 1}, ${isDefined(scaleY2) ? scaleY2 : 1}, 1) `;
  }
  if (isDefined(rotateZ)) {
    transforms2 += `rotateZ(${rotateZ}rad) `;
  }
  if (isDefined(rotateX)) {
    transforms2 += `rotateX(${rotateX}rad) `;
  }
  if (isDefined(rotateY)) {
    transforms2 += `rotateY(${rotateY}rad) `;
  }
  if (transforms2.length) {
    styles2 += `transform:${transforms2};`;
  }
  if (isDefined(opacity)) {
    styles2 += `opacity:${opacity};`;
    if (opacity === 0) {
      styles2 += `visibility:hidden;`;
    }
    if (opacity < 1) {
      styles2 += `pointer-events:none;`;
    }
  }
  if (isDefined(height)) {
    styles2 += `height:${height}px;`;
  }
  if (isDefined(width)) {
    styles2 += `width:${width}px;`;
  }
  const elementCurrentStyle = element.elementCurrentStyle || "";
  if (styles2.length !== elementCurrentStyle.length || styles2 !== elementCurrentStyle) {
    element.style.cssText = styles2;
    element.elementCurrentStyle = styles2;
  }
};
var Mixins = {
  styles,
  listeners,
  animations,
  apis
};
var updateRect = (rect = {}, element = {}, style = {}) => {
  if (!element.layoutCalculated) {
    rect.paddingTop = parseInt(style.paddingTop, 10) || 0;
    rect.marginTop = parseInt(style.marginTop, 10) || 0;
    rect.marginRight = parseInt(style.marginRight, 10) || 0;
    rect.marginBottom = parseInt(style.marginBottom, 10) || 0;
    rect.marginLeft = parseInt(style.marginLeft, 10) || 0;
    element.layoutCalculated = true;
  }
  rect.left = element.offsetLeft || 0;
  rect.top = element.offsetTop || 0;
  rect.width = element.offsetWidth || 0;
  rect.height = element.offsetHeight || 0;
  rect.right = rect.left + rect.width;
  rect.bottom = rect.top + rect.height;
  rect.scrollTop = element.scrollTop;
  rect.hidden = element.offsetParent === null;
  return rect;
};
var createView = (
  // default view definition
  ({
    // element definition
    tag = "div",
    name: name2 = null,
    attributes = {},
    // view interaction
    read = () => {
    },
    write: write2 = () => {
    },
    create: create2 = () => {
    },
    destroy: destroy3 = () => {
    },
    // hooks
    filterFrameActionsForChild = (child, actions2) => actions2,
    didCreateView = () => {
    },
    didWriteView = () => {
    },
    // rect related
    ignoreRect = false,
    ignoreRectUpdate = false,
    // mixins
    mixins = []
  } = {}) => (store, props = {}) => {
    const element = createElement(tag, `filepond--${name2}`, attributes);
    const style = window.getComputedStyle(element, null);
    const rect = updateRect();
    let frameRect = null;
    let isResting = false;
    const childViews = [];
    const activeMixins = [];
    const ref = {};
    const state2 = {};
    const writers = [
      write2
      // default writer
    ];
    const readers = [
      read
      // default reader
    ];
    const destroyers = [
      destroy3
      // default destroy
    ];
    const getElement = () => element;
    const getChildViews = () => childViews.concat();
    const getReference = () => ref;
    const createChildView = (store2) => (view, props2) => view(store2, props2);
    const getRect = () => {
      if (frameRect) {
        return frameRect;
      }
      frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);
      return frameRect;
    };
    const getStyle = () => style;
    const _read = () => {
      frameRect = null;
      childViews.forEach((child) => child._read());
      const shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);
      if (shouldUpdate) {
        updateRect(rect, element, style);
      }
      const api = { root: internalAPI, props, rect };
      readers.forEach((reader) => reader(api));
    };
    const _write = (ts, frameActions, shouldOptimize) => {
      let resting = frameActions.length === 0;
      writers.forEach((writer) => {
        const writerResting = writer({
          props,
          root: internalAPI,
          actions: frameActions,
          timestamp: ts,
          shouldOptimize
        });
        if (writerResting === false) {
          resting = false;
        }
      });
      activeMixins.forEach((mixin) => {
        const mixinResting = mixin.write(ts);
        if (mixinResting === false) {
          resting = false;
        }
      });
      childViews.filter((child) => !!child.element.parentNode).forEach((child) => {
        const childResting = child._write(
          ts,
          filterFrameActionsForChild(child, frameActions),
          shouldOptimize
        );
        if (!childResting) {
          resting = false;
        }
      });
      childViews.forEach((child, index) => {
        if (child.element.parentNode) {
          return;
        }
        internalAPI.appendChild(child.element, index);
        child._read();
        child._write(
          ts,
          filterFrameActionsForChild(child, frameActions),
          shouldOptimize
        );
        resting = false;
      });
      isResting = resting;
      didWriteView({
        props,
        root: internalAPI,
        actions: frameActions,
        timestamp: ts
      });
      return resting;
    };
    const _destroy = () => {
      activeMixins.forEach((mixin) => mixin.destroy());
      destroyers.forEach((destroyer) => {
        destroyer({ root: internalAPI, props });
      });
      childViews.forEach((child) => child._destroy());
    };
    const sharedAPIDefinition = {
      element: {
        get: getElement
      },
      style: {
        get: getStyle
      },
      childViews: {
        get: getChildViews
      }
    };
    const internalAPIDefinition = {
      ...sharedAPIDefinition,
      rect: {
        get: getRect
      },
      // access to custom children references
      ref: {
        get: getReference
      },
      // dom modifiers
      is: (needle) => name2 === needle,
      appendChild: appendChild(element),
      createChildView: createChildView(store),
      linkView: (view) => {
        childViews.push(view);
        return view;
      },
      unlinkView: (view) => {
        childViews.splice(childViews.indexOf(view), 1);
      },
      appendChildView: appendChildView(element, childViews),
      removeChildView: removeChildView(element, childViews),
      registerWriter: (writer) => writers.push(writer),
      registerReader: (reader) => readers.push(reader),
      registerDestroyer: (destroyer) => destroyers.push(destroyer),
      invalidateLayout: () => element.layoutCalculated = false,
      // access to data store
      dispatch: store.dispatch,
      query: store.query
    };
    const externalAPIDefinition = {
      element: {
        get: getElement
      },
      childViews: {
        get: getChildViews
      },
      rect: {
        get: getRect
      },
      resting: {
        get: () => isResting
      },
      isRectIgnored: () => ignoreRect,
      _read,
      _write,
      _destroy
    };
    const mixinAPIDefinition = {
      ...sharedAPIDefinition,
      rect: {
        get: () => rect
      }
    };
    Object.keys(mixins).sort((a, b) => {
      if (a === "styles") {
        return 1;
      } else if (b === "styles") {
        return -1;
      }
      return 0;
    }).forEach((key) => {
      const mixinAPI = Mixins[key]({
        mixinConfig: mixins[key],
        viewProps: props,
        viewState: state2,
        viewInternalAPI: internalAPIDefinition,
        viewExternalAPI: externalAPIDefinition,
        view: createObject(mixinAPIDefinition)
      });
      if (mixinAPI) {
        activeMixins.push(mixinAPI);
      }
    });
    const internalAPI = createObject(internalAPIDefinition);
    create2({
      root: internalAPI,
      props
    });
    const childCount = getChildCount(element);
    childViews.forEach((child, index) => {
      internalAPI.appendChild(child.element, childCount + index);
    });
    didCreateView(internalAPI);
    return createObject(externalAPIDefinition);
  }
);
var createPainter = (read, write2, fps = 60) => {
  const name2 = "__framePainter";
  if (window[name2]) {
    window[name2].readers.push(read);
    window[name2].writers.push(write2);
    return;
  }
  window[name2] = {
    readers: [read],
    writers: [write2]
  };
  const painter = window[name2];
  const interval = 1e3 / fps;
  let last = null;
  let id = null;
  let requestTick = null;
  let cancelTick = null;
  const setTimerType = () => {
    if (document.hidden) {
      requestTick = () => window.setTimeout(() => tick(performance.now()), interval);
      cancelTick = () => window.clearTimeout(id);
    } else {
      requestTick = () => window.requestAnimationFrame(tick);
      cancelTick = () => window.cancelAnimationFrame(id);
    }
  };
  document.addEventListener("visibilitychange", () => {
    if (cancelTick)
      cancelTick();
    setTimerType();
    tick(performance.now());
  });
  const tick = (ts) => {
    id = requestTick(tick);
    if (!last) {
      last = ts;
    }
    const delta = ts - last;
    if (delta <= interval) {
      return;
    }
    last = ts - delta % interval;
    painter.readers.forEach((read2) => read2());
    painter.writers.forEach((write3) => write3(ts));
  };
  setTimerType();
  tick(performance.now());
  return {
    pause: () => {
      cancelTick(id);
    }
  };
};
var createRoute = (routes, fn2) => ({ root: root2, props, actions: actions2 = [], timestamp, shouldOptimize }) => {
  actions2.filter((action) => routes[action.type]).forEach(
    (action) => routes[action.type]({ root: root2, props, action: action.data, timestamp, shouldOptimize })
  );
  if (fn2) {
    fn2({ root: root2, props, actions: actions2, timestamp, shouldOptimize });
  }
};
var insertBefore = (newNode, referenceNode) => referenceNode.parentNode.insertBefore(newNode, referenceNode);
var insertAfter = (newNode, referenceNode) => {
  return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
};
var isArray = (value) => Array.isArray(value);
var isEmpty = (value) => value == null;
var trim = (str) => str.trim();
var toString = (value) => "" + value;
var toArray = (value, splitter = ",") => {
  if (isEmpty(value)) {
    return [];
  }
  if (isArray(value)) {
    return value;
  }
  return toString(value).split(splitter).map(trim).filter((str) => str.length);
};
var isBoolean = (value) => typeof value === "boolean";
var toBoolean = (value) => isBoolean(value) ? value : value === "true";
var isString = (value) => typeof value === "string";
var toNumber = (value) => isNumber(value) ? value : isString(value) ? toString(value).replace(/[a-z]+/gi, "") : 0;
var toInt = (value) => parseInt(toNumber(value), 10);
var toFloat = (value) => parseFloat(toNumber(value));
var isInt = (value) => isNumber(value) && isFinite(value) && Math.floor(value) === value;
var toBytes = (value, base = 1e3) => {
  if (isInt(value)) {
    return value;
  }
  let naturalFileSize = toString(value).trim();
  if (/MB$/i.test(naturalFileSize)) {
    naturalFileSize = naturalFileSize.replace(/MB$i/, "").trim();
    return toInt(naturalFileSize) * base * base;
  }
  if (/KB/i.test(naturalFileSize)) {
    naturalFileSize = naturalFileSize.replace(/KB$i/, "").trim();
    return toInt(naturalFileSize) * base;
  }
  return toInt(naturalFileSize);
};
var isFunction = (value) => typeof value === "function";
var toFunctionReference = (string) => {
  let ref = self;
  let levels = string.split(".");
  let level = null;
  while (level = levels.shift()) {
    ref = ref[level];
    if (!ref) {
      return null;
    }
  }
  return ref;
};
var methods = {
  process: "POST",
  patch: "PATCH",
  revert: "DELETE",
  fetch: "GET",
  restore: "GET",
  load: "GET"
};
var createServerAPI = (outline) => {
  const api = {};
  api.url = isString(outline) ? outline : outline.url || "";
  api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;
  api.headers = outline.headers ? outline.headers : {};
  forin(methods, (key) => {
    api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);
  });
  api.process = outline.process || isString(outline) || outline.url ? api.process : null;
  api.remove = outline.remove || null;
  delete api.headers;
  return api;
};
var createAction = (name2, outline, method, timeout, headers) => {
  if (outline === null) {
    return null;
  }
  if (typeof outline === "function") {
    return outline;
  }
  const action = {
    url: method === "GET" || method === "PATCH" ? `?${name2}=` : "",
    method,
    headers,
    withCredentials: false,
    timeout,
    onload: null,
    ondata: null,
    onerror: null
  };
  if (isString(outline)) {
    action.url = outline;
    return action;
  }
  Object.assign(action, outline);
  if (isString(action.headers)) {
    const parts = action.headers.split(/:(.+)/);
    action.headers = {
      header: parts[0],
      value: parts[1]
    };
  }
  action.withCredentials = toBoolean(action.withCredentials);
  return action;
};
var toServerAPI = (value) => createServerAPI(value);
var isNull = (value) => value === null;
var isObject = (value) => typeof value === "object" && value !== null;
var isAPI = (value) => {
  return isObject(value) && isString(value.url) && isObject(value.process) && isObject(value.revert) && isObject(value.restore) && isObject(value.fetch);
};
var getType = (value) => {
  if (isArray(value)) {
    return "array";
  }
  if (isNull(value)) {
    return "null";
  }
  if (isInt(value)) {
    return "int";
  }
  if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {
    return "bytes";
  }
  if (isAPI(value)) {
    return "api";
  }
  return typeof value;
};
var replaceSingleQuotes = (str) => str.replace(/{\s*'/g, '{"').replace(/'\s*}/g, '"}').replace(/'\s*:/g, '":').replace(/:\s*'/g, ':"').replace(/,\s*'/g, ',"').replace(/'\s*,/g, '",');
var conversionTable = {
  array: toArray,
  boolean: toBoolean,
  int: (value) => getType(value) === "bytes" ? toBytes(value) : toInt(value),
  number: toFloat,
  float: toFloat,
  bytes: toBytes,
  string: (value) => isFunction(value) ? value : toString(value),
  function: (value) => toFunctionReference(value),
  serverapi: toServerAPI,
  object: (value) => {
    try {
      return JSON.parse(replaceSingleQuotes(value));
    } catch (e) {
      return null;
    }
  }
};
var convertTo = (value, type) => conversionTable[type](value);
var getValueByType = (newValue, defaultValue, valueType) => {
  if (newValue === defaultValue) {
    return newValue;
  }
  let newValueType = getType(newValue);
  if (newValueType !== valueType) {
    const convertedValue = convertTo(newValue, valueType);
    newValueType = getType(convertedValue);
    if (convertedValue === null) {
      throw `Trying to assign value with incorrect type to "${option}", allowed type: "${valueType}"`;
    } else {
      newValue = convertedValue;
    }
  }
  return newValue;
};
var createOption = (defaultValue, valueType) => {
  let currentValue = defaultValue;
  return {
    enumerable: true,
    get: () => currentValue,
    set: (newValue) => {
      currentValue = getValueByType(newValue, defaultValue, valueType);
    }
  };
};
var createOptions = (options) => {
  const obj = {};
  forin(options, (prop) => {
    const optionDefinition = options[prop];
    obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);
  });
  return createObject(obj);
};
var createInitialState = (options) => ({
  // model
  items: [],
  // timeout used for calling update items
  listUpdateTimeout: null,
  // timeout used for stacking metadata updates
  itemUpdateTimeout: null,
  // queue of items waiting to be processed
  processingQueue: [],
  // options
  options: createOptions(options)
});
var fromCamels = (string, separator = "-") => string.split(/(?=[A-Z])/).map((part) => part.toLowerCase()).join(separator);
var createOptionAPI = (store, options) => {
  const obj = {};
  forin(options, (key) => {
    obj[key] = {
      get: () => store.getState().options[key],
      set: (value) => {
        store.dispatch(`SET_${fromCamels(key, "_").toUpperCase()}`, {
          value
        });
      }
    };
  });
  return obj;
};
var createOptionActions = (options) => (dispatch, query, state2) => {
  const obj = {};
  forin(options, (key) => {
    const name2 = fromCamels(key, "_").toUpperCase();
    obj[`SET_${name2}`] = (action) => {
      try {
        state2.options[key] = action.value;
      } catch (e) {
      }
      dispatch(`DID_SET_${name2}`, { value: state2.options[key] });
    };
  });
  return obj;
};
var createOptionQueries = (options) => (state2) => {
  const obj = {};
  forin(options, (key) => {
    obj[`GET_${fromCamels(key, "_").toUpperCase()}`] = (action) => state2.options[key];
  });
  return obj;
};
var InteractionMethod = {
  API: 1,
  DROP: 2,
  BROWSE: 3,
  PASTE: 4,
  NONE: 5
};
var getUniqueId = () => Math.random().toString(36).substring(2, 11);
var arrayRemove = (arr, index) => arr.splice(index, 1);
var run = (cb, sync) => {
  if (sync) {
    cb();
  } else if (document.hidden) {
    Promise.resolve(1).then(cb);
  } else {
    setTimeout(cb, 0);
  }
};
var on = () => {
  const listeners2 = [];
  const off = (event, cb) => {
    arrayRemove(
      listeners2,
      listeners2.findIndex((listener) => listener.event === event && (listener.cb === cb || !cb))
    );
  };
  const fire = (event, args, sync) => {
    listeners2.filter((listener) => listener.event === event).map((listener) => listener.cb).forEach((cb) => run(() => cb(...args), sync));
  };
  return {
    fireSync: (event, ...args) => {
      fire(event, args, true);
    },
    fire: (event, ...args) => {
      fire(event, args, false);
    },
    on: (event, cb) => {
      listeners2.push({ event, cb });
    },
    onOnce: (event, cb) => {
      listeners2.push({
        event,
        cb: (...args) => {
          off(event, cb);
          cb(...args);
        }
      });
    },
    off
  };
};
var copyObjectPropertiesToObject = (src, target, excluded) => {
  Object.getOwnPropertyNames(src).filter((property) => !excluded.includes(property)).forEach(
    (key) => Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(src, key))
  );
};
var PRIVATE = [
  "fire",
  "process",
  "revert",
  "load",
  "on",
  "off",
  "onOnce",
  "retryLoad",
  "extend",
  "archive",
  "archived",
  "release",
  "released",
  "requestProcessing",
  "freeze"
];
var createItemAPI = (item2) => {
  const api = {};
  copyObjectPropertiesToObject(item2, api, PRIVATE);
  return api;
};
var removeReleasedItems = (items) => {
  items.forEach((item2, index) => {
    if (item2.released) {
      arrayRemove(items, index);
    }
  });
};
var ItemStatus = {
  INIT: 1,
  IDLE: 2,
  PROCESSING_QUEUED: 9,
  PROCESSING: 3,
  PROCESSING_COMPLETE: 5,
  PROCESSING_ERROR: 6,
  PROCESSING_REVERT_ERROR: 10,
  LOADING: 7,
  LOAD_ERROR: 8
};
var FileOrigin = {
  INPUT: 1,
  LIMBO: 2,
  LOCAL: 3
};
var getNonNumeric = (str) => /[^0-9]+/.exec(str);
var getDecimalSeparator = () => getNonNumeric(1.1.toLocaleString())[0];
var getThousandsSeparator = () => {
  const decimalSeparator = getDecimalSeparator();
  const thousandsStringWithSeparator = 1e3.toLocaleString();
  const thousandsStringWithoutSeparator = 1e3.toString();
  if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {
    return getNonNumeric(thousandsStringWithSeparator)[0];
  }
  return decimalSeparator === "." ? "," : ".";
};
var Type = {
  BOOLEAN: "boolean",
  INT: "int",
  NUMBER: "number",
  STRING: "string",
  ARRAY: "array",
  OBJECT: "object",
  FUNCTION: "function",
  ACTION: "action",
  SERVER_API: "serverapi",
  REGEX: "regex"
};
var filters = [];
var applyFilterChain = (key, value, utils) => new Promise((resolve, reject) => {
  const matchingFilters = filters.filter((f) => f.key === key).map((f) => f.cb);
  if (matchingFilters.length === 0) {
    resolve(value);
    return;
  }
  const initialFilter = matchingFilters.shift();
  matchingFilters.reduce(
    // loop over promises passing value to next promise
    (current, next) => current.then((value2) => next(value2, utils)),
    // call initial filter, will return a promise
    initialFilter(value, utils)
    // all executed
  ).then((value2) => resolve(value2)).catch((error2) => reject(error2));
});
var applyFilters = (key, value, utils) => filters.filter((f) => f.key === key).map((f) => f.cb(value, utils));
var addFilter = (key, cb) => filters.push({ key, cb });
var extendDefaultOptions = (additionalOptions) => Object.assign(defaultOptions, additionalOptions);
var getOptions = () => ({ ...defaultOptions });
var setOptions = (opts) => {
  forin(opts, (key, value) => {
    if (!defaultOptions[key]) {
      return;
    }
    defaultOptions[key][0] = getValueByType(
      value,
      defaultOptions[key][0],
      defaultOptions[key][1]
    );
  });
};
var defaultOptions = {
  // the id to add to the root element
  id: [null, Type.STRING],
  // input field name to use
  name: ["filepond", Type.STRING],
  // disable the field
  disabled: [false, Type.BOOLEAN],
  // classname to put on wrapper
  className: [null, Type.STRING],
  // is the field required
  required: [false, Type.BOOLEAN],
  // Allow media capture when value is set
  captureMethod: [null, Type.STRING],
  // - "camera", "microphone" or "camcorder",
  // - Does not work with multiple on apple devices
  // - If set, acceptedFileTypes must be made to match with media wildcard "image/*", "audio/*" or "video/*"
  // sync `acceptedFileTypes` property with `accept` attribute
  allowSyncAcceptAttribute: [true, Type.BOOLEAN],
  // Feature toggles
  allowDrop: [true, Type.BOOLEAN],
  // Allow dropping of files
  allowBrowse: [true, Type.BOOLEAN],
  // Allow browsing the file system
  allowPaste: [true, Type.BOOLEAN],
  // Allow pasting files
  allowMultiple: [false, Type.BOOLEAN],
  // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)
  allowReplace: [true, Type.BOOLEAN],
  // Allow dropping a file on other file to replace it (only works when multiple is set to false)
  allowRevert: [true, Type.BOOLEAN],
  // Allows user to revert file upload
  allowRemove: [true, Type.BOOLEAN],
  // Allow user to remove a file
  allowProcess: [true, Type.BOOLEAN],
  // Allows user to process a file, when set to false, this removes the file upload button
  allowReorder: [false, Type.BOOLEAN],
  // Allow reordering of files
  allowDirectoriesOnly: [false, Type.BOOLEAN],
  // Allow only selecting directories with browse (no support for filtering dnd at this point)
  // Try store file if `server` not set
  storeAsFile: [false, Type.BOOLEAN],
  // Revert mode
  forceRevert: [false, Type.BOOLEAN],
  // Set to 'force' to require the file to be reverted before removal
  // Input requirements
  maxFiles: [null, Type.INT],
  // Max number of files
  checkValidity: [false, Type.BOOLEAN],
  // Enables custom validity messages
  // Where to put file
  itemInsertLocationFreedom: [true, Type.BOOLEAN],
  // Set to false to always add items to begin or end of list
  itemInsertLocation: ["before", Type.STRING],
  // Default index in list to add items that have been dropped at the top of the list
  itemInsertInterval: [75, Type.INT],
  // Drag 'n Drop related
  dropOnPage: [false, Type.BOOLEAN],
  // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)
  dropOnElement: [true, Type.BOOLEAN],
  // Drop needs to happen on element (set to false to also load drops outside of Up)
  dropValidation: [false, Type.BOOLEAN],
  // Enable or disable validating files on drop
  ignoredFiles: [[".ds_store", "thumbs.db", "desktop.ini"], Type.ARRAY],
  // Upload related
  instantUpload: [true, Type.BOOLEAN],
  // Should upload files immediately on drop
  maxParallelUploads: [2, Type.INT],
  // Maximum files to upload in parallel
  allowMinimumUploadDuration: [true, Type.BOOLEAN],
  // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened
  // Chunks
  chunkUploads: [false, Type.BOOLEAN],
  // Enable chunked uploads
  chunkForce: [false, Type.BOOLEAN],
  // Force use of chunk uploads even for files smaller than chunk size
  chunkSize: [5e6, Type.INT],
  // Size of chunks (5MB default)
  chunkRetryDelays: [[500, 1e3, 3e3], Type.ARRAY],
  // Amount of times to retry upload of a chunk when it fails
  // The server api end points to use for uploading (see docs)
  server: [null, Type.SERVER_API],
  // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000
  fileSizeBase: [1e3, Type.INT],
  // Labels and status messages
  labelFileSizeBytes: ["bytes", Type.STRING],
  labelFileSizeKilobytes: ["KB", Type.STRING],
  labelFileSizeMegabytes: ["MB", Type.STRING],
  labelFileSizeGigabytes: ["GB", Type.STRING],
  labelDecimalSeparator: [getDecimalSeparator(), Type.STRING],
  // Default is locale separator
  labelThousandsSeparator: [getThousandsSeparator(), Type.STRING],
  // Default is locale separator
  labelIdle: [
    'Drag & Drop your files or <span class="filepond--label-action">Browse</span>',
    Type.STRING
  ],
  labelInvalidField: ["Field contains invalid files", Type.STRING],
  labelFileWaitingForSize: ["Waiting for size", Type.STRING],
  labelFileSizeNotAvailable: ["Size not available", Type.STRING],
  labelFileCountSingular: ["file in list", Type.STRING],
  labelFileCountPlural: ["files in list", Type.STRING],
  labelFileLoading: ["Loading", Type.STRING],
  labelFileAdded: ["Added", Type.STRING],
  // assistive only
  labelFileLoadError: ["Error during load", Type.STRING],
  labelFileRemoved: ["Removed", Type.STRING],
  // assistive only
  labelFileRemoveError: ["Error during remove", Type.STRING],
  labelFileProcessing: ["Uploading", Type.STRING],
  labelFileProcessingComplete: ["Upload complete", Type.STRING],
  labelFileProcessingAborted: ["Upload cancelled", Type.STRING],
  labelFileProcessingError: ["Error during upload", Type.STRING],
  labelFileProcessingRevertError: ["Error during revert", Type.STRING],
  labelTapToCancel: ["tap to cancel", Type.STRING],
  labelTapToRetry: ["tap to retry", Type.STRING],
  labelTapToUndo: ["tap to undo", Type.STRING],
  labelButtonRemoveItem: ["Remove", Type.STRING],
  labelButtonAbortItemLoad: ["Abort", Type.STRING],
  labelButtonRetryItemLoad: ["Retry", Type.STRING],
  labelButtonAbortItemProcessing: ["Cancel", Type.STRING],
  labelButtonUndoItemProcessing: ["Undo", Type.STRING],
  labelButtonRetryItemProcessing: ["Retry", Type.STRING],
  labelButtonProcessItem: ["Upload", Type.STRING],
  // make sure width and height plus viewpox are even numbers so icons are nicely centered
  iconRemove: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  iconProcess: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',
    Type.STRING
  ],
  iconRetry: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  iconUndo: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  iconDone: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  // event handlers
  oninit: [null, Type.FUNCTION],
  onwarning: [null, Type.FUNCTION],
  onerror: [null, Type.FUNCTION],
  onactivatefile: [null, Type.FUNCTION],
  oninitfile: [null, Type.FUNCTION],
  onaddfilestart: [null, Type.FUNCTION],
  onaddfileprogress: [null, Type.FUNCTION],
  onaddfile: [null, Type.FUNCTION],
  onprocessfilestart: [null, Type.FUNCTION],
  onprocessfileprogress: [null, Type.FUNCTION],
  onprocessfileabort: [null, Type.FUNCTION],
  onprocessfilerevert: [null, Type.FUNCTION],
  onprocessfile: [null, Type.FUNCTION],
  onprocessfiles: [null, Type.FUNCTION],
  onremovefile: [null, Type.FUNCTION],
  onpreparefile: [null, Type.FUNCTION],
  onupdatefiles: [null, Type.FUNCTION],
  onreorderfiles: [null, Type.FUNCTION],
  // hooks
  beforeDropFile: [null, Type.FUNCTION],
  beforeAddFile: [null, Type.FUNCTION],
  beforeRemoveFile: [null, Type.FUNCTION],
  beforePrepareFile: [null, Type.FUNCTION],
  // styles
  stylePanelLayout: [null, Type.STRING],
  // null 'integrated', 'compact', 'circle'
  stylePanelAspectRatio: [null, Type.STRING],
  // null or '3:2' or 1
  styleItemPanelAspectRatio: [null, Type.STRING],
  styleButtonRemoveItemPosition: ["left", Type.STRING],
  styleButtonProcessItemPosition: ["right", Type.STRING],
  styleLoadIndicatorPosition: ["right", Type.STRING],
  styleProgressIndicatorPosition: ["right", Type.STRING],
  styleButtonRemoveItemAlign: [false, Type.BOOLEAN],
  // custom initial files array
  files: [[], Type.ARRAY],
  // show support by displaying credits
  credits: [["https://pqina.nl/", "Powered by PQINA"], Type.ARRAY]
};
var getItemByQuery = (items, query) => {
  if (isEmpty(query)) {
    return items[0] || null;
  }
  if (isInt(query)) {
    return items[query] || null;
  }
  if (typeof query === "object") {
    query = query.id;
  }
  return items.find((item2) => item2.id === query) || null;
};
var getNumericAspectRatioFromString = (aspectRatio) => {
  if (isEmpty(aspectRatio)) {
    return aspectRatio;
  }
  if (/:/.test(aspectRatio)) {
    const parts = aspectRatio.split(":");
    return parts[1] / parts[0];
  }
  return parseFloat(aspectRatio);
};
var getActiveItems = (items) => items.filter((item2) => !item2.archived);
var Status = {
  EMPTY: 0,
  IDLE: 1,
  // waiting
  ERROR: 2,
  // a file is in error state
  BUSY: 3,
  // busy processing or loading
  READY: 4
  // all files uploaded
};
var res = null;
var canUpdateFileInput = () => {
  if (res === null) {
    try {
      const dataTransfer = new DataTransfer();
      dataTransfer.items.add(new File(["hello world"], "This_Works.txt"));
      const el = document.createElement("input");
      el.setAttribute("type", "file");
      el.files = dataTransfer.files;
      res = el.files.length === 1;
    } catch (err) {
      res = false;
    }
  }
  return res;
};
var ITEM_ERROR = [
  ItemStatus.LOAD_ERROR,
  ItemStatus.PROCESSING_ERROR,
  ItemStatus.PROCESSING_REVERT_ERROR
];
var ITEM_BUSY = [
  ItemStatus.LOADING,
  ItemStatus.PROCESSING,
  ItemStatus.PROCESSING_QUEUED,
  ItemStatus.INIT
];
var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];
var isItemInErrorState = (item2) => ITEM_ERROR.includes(item2.status);
var isItemInBusyState = (item2) => ITEM_BUSY.includes(item2.status);
var isItemInReadyState = (item2) => ITEM_READY.includes(item2.status);
var isAsync = (state2) => isObject(state2.options.server) && (isObject(state2.options.server.process) || isFunction(state2.options.server.process));
var queries = (state2) => ({
  GET_STATUS: () => {
    const items = getActiveItems(state2.items);
    const { EMPTY, ERROR, BUSY, IDLE, READY } = Status;
    if (items.length === 0)
      return EMPTY;
    if (items.some(isItemInErrorState))
      return ERROR;
    if (items.some(isItemInBusyState))
      return BUSY;
    if (items.some(isItemInReadyState))
      return READY;
    return IDLE;
  },
  GET_ITEM: (query) => getItemByQuery(state2.items, query),
  GET_ACTIVE_ITEM: (query) => getItemByQuery(getActiveItems(state2.items), query),
  GET_ACTIVE_ITEMS: () => getActiveItems(state2.items),
  GET_ITEMS: () => state2.items,
  GET_ITEM_NAME: (query) => {
    const item2 = getItemByQuery(state2.items, query);
    return item2 ? item2.filename : null;
  },
  GET_ITEM_SIZE: (query) => {
    const item2 = getItemByQuery(state2.items, query);
    return item2 ? item2.fileSize : null;
  },
  GET_STYLES: () => Object.keys(state2.options).filter((key) => /^style/.test(key)).map((option2) => ({
    name: option2,
    value: state2.options[option2]
  })),
  GET_PANEL_ASPECT_RATIO: () => {
    const isShapeCircle = /circle/.test(state2.options.stylePanelLayout);
    const aspectRatio = isShapeCircle ? 1 : getNumericAspectRatioFromString(state2.options.stylePanelAspectRatio);
    return aspectRatio;
  },
  GET_ITEM_PANEL_ASPECT_RATIO: () => state2.options.styleItemPanelAspectRatio,
  GET_ITEMS_BY_STATUS: (status) => getActiveItems(state2.items).filter((item2) => item2.status === status),
  GET_TOTAL_ITEMS: () => getActiveItems(state2.items).length,
  SHOULD_UPDATE_FILE_INPUT: () => state2.options.storeAsFile && canUpdateFileInput() && !isAsync(state2),
  IS_ASYNC: () => isAsync(state2),
  GET_FILE_SIZE_LABELS: (query) => ({
    labelBytes: query("GET_LABEL_FILE_SIZE_BYTES") || void 0,
    labelKilobytes: query("GET_LABEL_FILE_SIZE_KILOBYTES") || void 0,
    labelMegabytes: query("GET_LABEL_FILE_SIZE_MEGABYTES") || void 0,
    labelGigabytes: query("GET_LABEL_FILE_SIZE_GIGABYTES") || void 0
  })
});
var hasRoomForItem = (state2) => {
  const count = getActiveItems(state2.items).length;
  if (!state2.options.allowMultiple) {
    return count === 0;
  }
  const maxFileCount = state2.options.maxFiles;
  if (maxFileCount === null) {
    return true;
  }
  if (count < maxFileCount) {
    return true;
  }
  return false;
};
var limit = (value, min, max) => Math.max(Math.min(max, value), min);
var arrayInsert = (arr, index, item2) => arr.splice(index, 0, item2);
var insertItem = (items, item2, index) => {
  if (isEmpty(item2)) {
    return null;
  }
  if (typeof index === "undefined") {
    items.push(item2);
    return item2;
  }
  index = limit(index, 0, items.length);
  arrayInsert(items, index, item2);
  return item2;
};
var isBase64DataURI = (str) => /^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(
  str
);
var getFilenameFromURL = (url) => url.split("/").pop().split("?").shift();
var getExtensionFromFilename = (name2) => name2.split(".").pop();
var guesstimateExtension = (type) => {
  if (typeof type !== "string") {
    return "";
  }
  const subtype = type.split("/").pop();
  if (/svg/.test(subtype)) {
    return "svg";
  }
  if (/zip|compressed/.test(subtype)) {
    return "zip";
  }
  if (/plain/.test(subtype)) {
    return "txt";
  }
  if (/msword/.test(subtype)) {
    return "doc";
  }
  if (/[a-z]+/.test(subtype)) {
    if (subtype === "jpeg") {
      return "jpg";
    }
    return subtype;
  }
  return "";
};
var leftPad = (value, padding = "") => (padding + value).slice(-padding.length);
var getDateString = (date = /* @__PURE__ */ new Date()) => `${date.getFullYear()}-${leftPad(date.getMonth() + 1, "00")}-${leftPad(
  date.getDate(),
  "00"
)}_${leftPad(date.getHours(), "00")}-${leftPad(date.getMinutes(), "00")}-${leftPad(
  date.getSeconds(),
  "00"
)}`;
var getFileFromBlob = (blob2, filename, type = null, extension = null) => {
  const file2 = typeof type === "string" ? blob2.slice(0, blob2.size, type) : blob2.slice(0, blob2.size, blob2.type);
  file2.lastModifiedDate = /* @__PURE__ */ new Date();
  if (blob2._relativePath)
    file2._relativePath = blob2._relativePath;
  if (!isString(filename)) {
    filename = getDateString();
  }
  if (filename && extension === null && getExtensionFromFilename(filename)) {
    file2.name = filename;
  } else {
    extension = extension || guesstimateExtension(file2.type);
    file2.name = filename + (extension ? "." + extension : "");
  }
  return file2;
};
var getBlobBuilder = () => {
  return window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;
};
var createBlob = (arrayBuffer, mimeType) => {
  const BB = getBlobBuilder();
  if (BB) {
    const bb = new BB();
    bb.append(arrayBuffer);
    return bb.getBlob(mimeType);
  }
  return new Blob([arrayBuffer], {
    type: mimeType
  });
};
var getBlobFromByteStringWithMimeType = (byteString, mimeType) => {
  const ab = new ArrayBuffer(byteString.length);
  const ia = new Uint8Array(ab);
  for (let i = 0; i < byteString.length; i++) {
    ia[i] = byteString.charCodeAt(i);
  }
  return createBlob(ab, mimeType);
};
var getMimeTypeFromBase64DataURI = (dataURI) => {
  return (/^data:(.+);/.exec(dataURI) || [])[1] || null;
};
var getBase64DataFromBase64DataURI = (dataURI) => {
  const data3 = dataURI.split(",")[1];
  return data3.replace(/\s/g, "");
};
var getByteStringFromBase64DataURI = (dataURI) => {
  return atob(getBase64DataFromBase64DataURI(dataURI));
};
var getBlobFromBase64DataURI = (dataURI) => {
  const mimeType = getMimeTypeFromBase64DataURI(dataURI);
  const byteString = getByteStringFromBase64DataURI(dataURI);
  return getBlobFromByteStringWithMimeType(byteString, mimeType);
};
var getFileFromBase64DataURI = (dataURI, filename, extension) => {
  return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);
};
var getFileNameFromHeader = (header) => {
  if (!/^content-disposition:/i.test(header))
    return null;
  const matches = header.split(/filename=|filename\*=.+''/).splice(1).map((name2) => name2.trim().replace(/^["']|[;"']{0,2}$/g, "")).filter((name2) => name2.length);
  return matches.length ? decodeURI(matches[matches.length - 1]) : null;
};
var getFileSizeFromHeader = (header) => {
  if (/content-length:/i.test(header)) {
    const size = header.match(/[0-9]+/)[0];
    return size ? parseInt(size, 10) : null;
  }
  return null;
};
var getTranfserIdFromHeader = (header) => {
  if (/x-content-transfer-id:/i.test(header)) {
    const id = (header.split(":")[1] || "").trim();
    return id || null;
  }
  return null;
};
var getFileInfoFromHeaders = (headers) => {
  const info = {
    source: null,
    name: null,
    size: null
  };
  const rows = headers.split("\n");
  for (let header of rows) {
    const name2 = getFileNameFromHeader(header);
    if (name2) {
      info.name = name2;
      continue;
    }
    const size = getFileSizeFromHeader(header);
    if (size) {
      info.size = size;
      continue;
    }
    const source = getTranfserIdFromHeader(header);
    if (source) {
      info.source = source;
      continue;
    }
  }
  return info;
};
var createFileLoader = (fetchFn) => {
  const state2 = {
    source: null,
    complete: false,
    progress: 0,
    size: null,
    timestamp: null,
    duration: 0,
    request: null
  };
  const getProgress = () => state2.progress;
  const abort = () => {
    if (state2.request && state2.request.abort) {
      state2.request.abort();
    }
  };
  const load = () => {
    const source = state2.source;
    api.fire("init", source);
    if (source instanceof File) {
      api.fire("load", source);
    } else if (source instanceof Blob) {
      api.fire("load", getFileFromBlob(source, source.name));
    } else if (isBase64DataURI(source)) {
      api.fire("load", getFileFromBase64DataURI(source));
    } else {
      loadURL(source);
    }
  };
  const loadURL = (url) => {
    if (!fetchFn) {
      api.fire("error", {
        type: "error",
        body: "Can't load URL",
        code: 400
      });
      return;
    }
    state2.timestamp = Date.now();
    state2.request = fetchFn(
      url,
      (response) => {
        state2.duration = Date.now() - state2.timestamp;
        state2.complete = true;
        if (response instanceof Blob) {
          response = getFileFromBlob(response, response.name || getFilenameFromURL(url));
        }
        api.fire(
          "load",
          // if has received blob, we go with blob, if no response, we return null
          response instanceof Blob ? response : response ? response.body : null
        );
      },
      (error2) => {
        api.fire(
          "error",
          typeof error2 === "string" ? {
            type: "error",
            code: 0,
            body: error2
          } : error2
        );
      },
      (computable, current, total) => {
        if (total) {
          state2.size = total;
        }
        state2.duration = Date.now() - state2.timestamp;
        if (!computable) {
          state2.progress = null;
          return;
        }
        state2.progress = current / total;
        api.fire("progress", state2.progress);
      },
      () => {
        api.fire("abort");
      },
      (response) => {
        const fileinfo = getFileInfoFromHeaders(
          typeof response === "string" ? response : response.headers
        );
        api.fire("meta", {
          size: state2.size || fileinfo.size,
          filename: fileinfo.name,
          source: fileinfo.source
        });
      }
    );
  };
  const api = {
    ...on(),
    setSource: (source) => state2.source = source,
    getProgress,
    // file load progress
    abort,
    // abort file load
    load
    // start load
  };
  return api;
};
var isGet = (method) => /GET|HEAD/.test(method);
var sendRequest = (data3, url, options) => {
  const api = {
    onheaders: () => {
    },
    onprogress: () => {
    },
    onload: () => {
    },
    ontimeout: () => {
    },
    onerror: () => {
    },
    onabort: () => {
    },
    abort: () => {
      aborted = true;
      xhr.abort();
    }
  };
  let aborted = false;
  let headersReceived = false;
  options = {
    method: "POST",
    headers: {},
    withCredentials: false,
    ...options
  };
  url = encodeURI(url);
  if (isGet(options.method) && data3) {
    url = `${url}${encodeURIComponent(typeof data3 === "string" ? data3 : JSON.stringify(data3))}`;
  }
  const xhr = new XMLHttpRequest();
  const process = isGet(options.method) ? xhr : xhr.upload;
  process.onprogress = (e) => {
    if (aborted) {
      return;
    }
    api.onprogress(e.lengthComputable, e.loaded, e.total);
  };
  xhr.onreadystatechange = () => {
    if (xhr.readyState < 2) {
      return;
    }
    if (xhr.readyState === 4 && xhr.status === 0) {
      return;
    }
    if (headersReceived) {
      return;
    }
    headersReceived = true;
    api.onheaders(xhr);
  };
  xhr.onload = () => {
    if (xhr.status >= 200 && xhr.status < 300) {
      api.onload(xhr);
    } else {
      api.onerror(xhr);
    }
  };
  xhr.onerror = () => api.onerror(xhr);
  xhr.onabort = () => {
    aborted = true;
    api.onabort();
  };
  xhr.ontimeout = () => api.ontimeout(xhr);
  xhr.open(options.method, url, true);
  if (isInt(options.timeout)) {
    xhr.timeout = options.timeout;
  }
  Object.keys(options.headers).forEach((key) => {
    const value = unescape(encodeURIComponent(options.headers[key]));
    xhr.setRequestHeader(key, value);
  });
  if (options.responseType) {
    xhr.responseType = options.responseType;
  }
  if (options.withCredentials) {
    xhr.withCredentials = true;
  }
  xhr.send(data3);
  return api;
};
var createResponse = (type, code, body, headers) => ({
  type,
  code,
  body,
  headers
});
var createTimeoutResponse = (cb) => (xhr) => {
  cb(createResponse("error", 0, "Timeout", xhr.getAllResponseHeaders()));
};
var hasQS = (str) => /\?/.test(str);
var buildURL = (...parts) => {
  let url = "";
  parts.forEach((part) => {
    url += hasQS(url) && hasQS(part) ? part.replace(/\?/, "&") : part;
  });
  return url;
};
var createFetchFunction = (apiUrl = "", action) => {
  if (typeof action === "function") {
    return action;
  }
  if (!action || !isString(action.url)) {
    return null;
  }
  const onload = action.onload || ((res2) => res2);
  const onerror = action.onerror || ((res2) => null);
  return (url, load, error2, progress, abort, headers) => {
    const request = sendRequest(url, buildURL(apiUrl, action.url), {
      ...action,
      responseType: "blob"
    });
    request.onload = (xhr) => {
      const headers2 = xhr.getAllResponseHeaders();
      const filename = getFileInfoFromHeaders(headers2).name || getFilenameFromURL(url);
      load(
        createResponse(
          "load",
          xhr.status,
          action.method === "HEAD" ? null : getFileFromBlob(onload(xhr.response), filename),
          headers2
        )
      );
    };
    request.onerror = (xhr) => {
      error2(
        createResponse(
          "error",
          xhr.status,
          onerror(xhr.response) || xhr.statusText,
          xhr.getAllResponseHeaders()
        )
      );
    };
    request.onheaders = (xhr) => {
      headers(createResponse("headers", xhr.status, null, xhr.getAllResponseHeaders()));
    };
    request.ontimeout = createTimeoutResponse(error2);
    request.onprogress = progress;
    request.onabort = abort;
    return request;
  };
};
var ChunkStatus = {
  QUEUED: 0,
  COMPLETE: 1,
  PROCESSING: 2,
  ERROR: 3,
  WAITING: 4
};
var processFileChunked = (apiUrl, action, name2, file2, metadata, load, error2, progress, abort, transfer, options) => {
  const chunks = [];
  const { chunkTransferId, chunkServer, chunkSize, chunkRetryDelays } = options;
  const state2 = {
    serverId: chunkTransferId,
    aborted: false
  };
  const ondata = action.ondata || ((fd) => fd);
  const onload = action.onload || ((xhr, method) => method === "HEAD" ? xhr.getResponseHeader("Upload-Offset") : xhr.response);
  const onerror = action.onerror || ((res2) => null);
  const requestTransferId = (cb) => {
    const formData = new FormData();
    if (isObject(metadata))
      formData.append(name2, JSON.stringify(metadata));
    const headers = typeof action.headers === "function" ? action.headers(file2, metadata) : {
      ...action.headers,
      "Upload-Length": file2.size
    };
    const requestParams = {
      ...action,
      headers
    };
    const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);
    request.onload = (xhr) => cb(onload(xhr, requestParams.method));
    request.onerror = (xhr) => error2(
      createResponse(
        "error",
        xhr.status,
        onerror(xhr.response) || xhr.statusText,
        xhr.getAllResponseHeaders()
      )
    );
    request.ontimeout = createTimeoutResponse(error2);
  };
  const requestTransferOffset = (cb) => {
    const requestUrl = buildURL(apiUrl, chunkServer.url, state2.serverId);
    const headers = typeof action.headers === "function" ? action.headers(state2.serverId) : {
      ...action.headers
    };
    const requestParams = {
      headers,
      method: "HEAD"
    };
    const request = sendRequest(null, requestUrl, requestParams);
    request.onload = (xhr) => cb(onload(xhr, requestParams.method));
    request.onerror = (xhr) => error2(
      createResponse(
        "error",
        xhr.status,
        onerror(xhr.response) || xhr.statusText,
        xhr.getAllResponseHeaders()
      )
    );
    request.ontimeout = createTimeoutResponse(error2);
  };
  const lastChunkIndex = Math.floor(file2.size / chunkSize);
  for (let i = 0; i <= lastChunkIndex; i++) {
    const offset = i * chunkSize;
    const data3 = file2.slice(offset, offset + chunkSize, "application/offset+octet-stream");
    chunks[i] = {
      index: i,
      size: data3.size,
      offset,
      data: data3,
      file: file2,
      progress: 0,
      retries: [...chunkRetryDelays],
      status: ChunkStatus.QUEUED,
      error: null,
      request: null,
      timeout: null
    };
  }
  const completeProcessingChunks = () => load(state2.serverId);
  const canProcessChunk = (chunk) => chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;
  const processChunk = (chunk) => {
    if (state2.aborted)
      return;
    chunk = chunk || chunks.find(canProcessChunk);
    if (!chunk) {
      if (chunks.every((chunk2) => chunk2.status === ChunkStatus.COMPLETE)) {
        completeProcessingChunks();
      }
      return;
    }
    chunk.status = ChunkStatus.PROCESSING;
    chunk.progress = null;
    const ondata2 = chunkServer.ondata || ((fd) => fd);
    const onerror2 = chunkServer.onerror || ((res2) => null);
    const requestUrl = buildURL(apiUrl, chunkServer.url, state2.serverId);
    const headers = typeof chunkServer.headers === "function" ? chunkServer.headers(chunk) : {
      ...chunkServer.headers,
      "Content-Type": "application/offset+octet-stream",
      "Upload-Offset": chunk.offset,
      "Upload-Length": file2.size,
      "Upload-Name": file2.name
    };
    const request = chunk.request = sendRequest(ondata2(chunk.data), requestUrl, {
      ...chunkServer,
      headers
    });
    request.onload = () => {
      chunk.status = ChunkStatus.COMPLETE;
      chunk.request = null;
      processChunks();
    };
    request.onprogress = (lengthComputable, loaded, total) => {
      chunk.progress = lengthComputable ? loaded : null;
      updateTotalProgress();
    };
    request.onerror = (xhr) => {
      chunk.status = ChunkStatus.ERROR;
      chunk.request = null;
      chunk.error = onerror2(xhr.response) || xhr.statusText;
      if (!retryProcessChunk(chunk)) {
        error2(
          createResponse(
            "error",
            xhr.status,
            onerror2(xhr.response) || xhr.statusText,
            xhr.getAllResponseHeaders()
          )
        );
      }
    };
    request.ontimeout = (xhr) => {
      chunk.status = ChunkStatus.ERROR;
      chunk.request = null;
      if (!retryProcessChunk(chunk)) {
        createTimeoutResponse(error2)(xhr);
      }
    };
    request.onabort = () => {
      chunk.status = ChunkStatus.QUEUED;
      chunk.request = null;
      abort();
    };
  };
  const retryProcessChunk = (chunk) => {
    if (chunk.retries.length === 0)
      return false;
    chunk.status = ChunkStatus.WAITING;
    clearTimeout(chunk.timeout);
    chunk.timeout = setTimeout(() => {
      processChunk(chunk);
    }, chunk.retries.shift());
    return true;
  };
  const updateTotalProgress = () => {
    const totalBytesTransfered = chunks.reduce((p, chunk) => {
      if (p === null || chunk.progress === null)
        return null;
      return p + chunk.progress;
    }, 0);
    if (totalBytesTransfered === null)
      return progress(false, 0, 0);
    const totalSize = chunks.reduce((total, chunk) => total + chunk.size, 0);
    progress(true, totalBytesTransfered, totalSize);
  };
  const processChunks = () => {
    const totalProcessing = chunks.filter((chunk) => chunk.status === ChunkStatus.PROCESSING).length;
    if (totalProcessing >= 1)
      return;
    processChunk();
  };
  const abortChunks = () => {
    chunks.forEach((chunk) => {
      clearTimeout(chunk.timeout);
      if (chunk.request) {
        chunk.request.abort();
      }
    });
  };
  if (!state2.serverId) {
    requestTransferId((serverId) => {
      if (state2.aborted)
        return;
      transfer(serverId);
      state2.serverId = serverId;
      processChunks();
    });
  } else {
    requestTransferOffset((offset) => {
      if (state2.aborted)
        return;
      chunks.filter((chunk) => chunk.offset < offset).forEach((chunk) => {
        chunk.status = ChunkStatus.COMPLETE;
        chunk.progress = chunk.size;
      });
      processChunks();
    });
  }
  return {
    abort: () => {
      state2.aborted = true;
      abortChunks();
    }
  };
};
var createFileProcessorFunction = (apiUrl, action, name2, options) => (file2, metadata, load, error2, progress, abort, transfer) => {
  if (!file2)
    return;
  const canChunkUpload = options.chunkUploads;
  const shouldChunkUpload = canChunkUpload && file2.size > options.chunkSize;
  const willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);
  if (file2 instanceof Blob && willChunkUpload)
    return processFileChunked(
      apiUrl,
      action,
      name2,
      file2,
      metadata,
      load,
      error2,
      progress,
      abort,
      transfer,
      options
    );
  const ondata = action.ondata || ((fd) => fd);
  const onload = action.onload || ((res2) => res2);
  const onerror = action.onerror || ((res2) => null);
  const headers = typeof action.headers === "function" ? action.headers(file2, metadata) || {} : {
    ...action.headers
  };
  const requestParams = {
    ...action,
    headers
  };
  var formData = new FormData();
  if (isObject(metadata)) {
    formData.append(name2, JSON.stringify(metadata));
  }
  (file2 instanceof Blob ? [{ name: null, file: file2 }] : file2).forEach((item2) => {
    formData.append(
      name2,
      item2.file,
      item2.name === null ? item2.file.name : `${item2.name}${item2.file.name}`
    );
  });
  const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);
  request.onload = (xhr) => {
    load(createResponse("load", xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));
  };
  request.onerror = (xhr) => {
    error2(
      createResponse(
        "error",
        xhr.status,
        onerror(xhr.response) || xhr.statusText,
        xhr.getAllResponseHeaders()
      )
    );
  };
  request.ontimeout = createTimeoutResponse(error2);
  request.onprogress = progress;
  request.onabort = abort;
  return request;
};
var createProcessorFunction = (apiUrl = "", action, name2, options) => {
  if (typeof action === "function")
    return (...params) => action(name2, ...params, options);
  if (!action || !isString(action.url))
    return null;
  return createFileProcessorFunction(apiUrl, action, name2, options);
};
var createRevertFunction = (apiUrl = "", action) => {
  if (typeof action === "function") {
    return action;
  }
  if (!action || !isString(action.url)) {
    return (uniqueFileId, load) => load();
  }
  const onload = action.onload || ((res2) => res2);
  const onerror = action.onerror || ((res2) => null);
  return (uniqueFileId, load, error2) => {
    const request = sendRequest(
      uniqueFileId,
      apiUrl + action.url,
      action
      // contains method, headers and withCredentials properties
    );
    request.onload = (xhr) => {
      load(
        createResponse(
          "load",
          xhr.status,
          onload(xhr.response),
          xhr.getAllResponseHeaders()
        )
      );
    };
    request.onerror = (xhr) => {
      error2(
        createResponse(
          "error",
          xhr.status,
          onerror(xhr.response) || xhr.statusText,
          xhr.getAllResponseHeaders()
        )
      );
    };
    request.ontimeout = createTimeoutResponse(error2);
    return request;
  };
};
var getRandomNumber = (min = 0, max = 1) => min + Math.random() * (max - min);
var createPerceivedPerformanceUpdater = (cb, duration = 1e3, offset = 0, tickMin = 25, tickMax = 250) => {
  let timeout = null;
  const start = Date.now();
  const tick = () => {
    let runtime = Date.now() - start;
    let delay = getRandomNumber(tickMin, tickMax);
    if (runtime + delay > duration) {
      delay = runtime + delay - duration;
    }
    let progress = runtime / duration;
    if (progress >= 1 || document.hidden) {
      cb(1);
      return;
    }
    cb(progress);
    timeout = setTimeout(tick, delay);
  };
  if (duration > 0)
    tick();
  return {
    clear: () => {
      clearTimeout(timeout);
    }
  };
};
var createFileProcessor = (processFn, options) => {
  const state2 = {
    complete: false,
    perceivedProgress: 0,
    perceivedPerformanceUpdater: null,
    progress: null,
    timestamp: null,
    perceivedDuration: 0,
    duration: 0,
    request: null,
    response: null
  };
  const { allowMinimumUploadDuration } = options;
  const process = (file2, metadata) => {
    const progressFn = () => {
      if (state2.duration === 0 || state2.progress === null)
        return;
      api.fire("progress", api.getProgress());
    };
    const completeFn = () => {
      state2.complete = true;
      api.fire("load-perceived", state2.response.body);
    };
    api.fire("start");
    state2.timestamp = Date.now();
    state2.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(
      (progress) => {
        state2.perceivedProgress = progress;
        state2.perceivedDuration = Date.now() - state2.timestamp;
        progressFn();
        if (state2.response && state2.perceivedProgress === 1 && !state2.complete) {
          completeFn();
        }
      },
      // random delay as in a list of files you start noticing
      // files uploading at the exact same speed
      allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0
    );
    state2.request = processFn(
      // the file to process
      file2,
      // the metadata to send along
      metadata,
      // callbacks (load, error, progress, abort, transfer)
      // load expects the body to be a server id if
      // you want to make use of revert
      (response) => {
        state2.response = isObject(response) ? response : {
          type: "load",
          code: 200,
          body: `${response}`,
          headers: {}
        };
        state2.duration = Date.now() - state2.timestamp;
        state2.progress = 1;
        api.fire("load", state2.response.body);
        if (!allowMinimumUploadDuration || allowMinimumUploadDuration && state2.perceivedProgress === 1) {
          completeFn();
        }
      },
      // error is expected to be an object with type, code, body
      (error2) => {
        state2.perceivedPerformanceUpdater.clear();
        api.fire(
          "error",
          isObject(error2) ? error2 : {
            type: "error",
            code: 0,
            body: `${error2}`
          }
        );
      },
      // actual processing progress
      (computable, current, total) => {
        state2.duration = Date.now() - state2.timestamp;
        state2.progress = computable ? current / total : null;
        progressFn();
      },
      // abort does not expect a value
      () => {
        state2.perceivedPerformanceUpdater.clear();
        api.fire("abort", state2.response ? state2.response.body : null);
      },
      // register the id for this transfer
      (transferId) => {
        api.fire("transfer", transferId);
      }
    );
  };
  const abort = () => {
    if (!state2.request)
      return;
    state2.perceivedPerformanceUpdater.clear();
    if (state2.request.abort)
      state2.request.abort();
    state2.complete = true;
  };
  const reset2 = () => {
    abort();
    state2.complete = false;
    state2.perceivedProgress = 0;
    state2.progress = 0;
    state2.timestamp = null;
    state2.perceivedDuration = 0;
    state2.duration = 0;
    state2.request = null;
    state2.response = null;
  };
  const getProgress = allowMinimumUploadDuration ? () => state2.progress ? Math.min(state2.progress, state2.perceivedProgress) : null : () => state2.progress || null;
  const getDuration = allowMinimumUploadDuration ? () => Math.min(state2.duration, state2.perceivedDuration) : () => state2.duration;
  const api = {
    ...on(),
    process,
    // start processing file
    abort,
    // abort active process request
    getProgress,
    getDuration,
    reset: reset2
  };
  return api;
};
var getFilenameWithoutExtension = (name2) => name2.substring(0, name2.lastIndexOf(".")) || name2;
var createFileStub = (source) => {
  let data3 = [source.name, source.size, source.type];
  if (source instanceof Blob || isBase64DataURI(source)) {
    data3[0] = source.name || getDateString();
  } else if (isBase64DataURI(source)) {
    data3[1] = source.length;
    data3[2] = getMimeTypeFromBase64DataURI(source);
  } else if (isString(source)) {
    data3[0] = getFilenameFromURL(source);
    data3[1] = 0;
    data3[2] = "application/octet-stream";
  }
  return {
    name: data3[0],
    size: data3[1],
    type: data3[2]
  };
};
var isFile = (value) => !!(value instanceof File || value instanceof Blob && value.name);
var deepCloneObject = (src) => {
  if (!isObject(src))
    return src;
  const target = isArray(src) ? [] : {};
  for (const key in src) {
    if (!src.hasOwnProperty(key))
      continue;
    const v = src[key];
    target[key] = v && isObject(v) ? deepCloneObject(v) : v;
  }
  return target;
};
var createItem = (origin = null, serverFileReference = null, file2 = null) => {
  const id = getUniqueId();
  const state2 = {
    // is archived
    archived: false,
    // if is frozen, no longer fires events
    frozen: false,
    // removed from view
    released: false,
    // original source
    source: null,
    // file model reference
    file: file2,
    // id of file on server
    serverFileReference,
    // id of file transfer on server
    transferId: null,
    // is aborted
    processingAborted: false,
    // current item status
    status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,
    // active processes
    activeLoader: null,
    activeProcessor: null
  };
  let abortProcessingRequestComplete = null;
  const metadata = {};
  const setStatus = (status) => state2.status = status;
  const fire = (event, ...params) => {
    if (state2.released || state2.frozen)
      return;
    api.fire(event, ...params);
  };
  const getFileExtension = () => getExtensionFromFilename(state2.file.name);
  const getFileType = () => state2.file.type;
  const getFileSize = () => state2.file.size;
  const getFile = () => state2.file;
  const load = (source, loader, onload) => {
    state2.source = source;
    api.fireSync("init");
    if (state2.file) {
      api.fireSync("load-skip");
      return;
    }
    state2.file = createFileStub(source);
    loader.on("init", () => {
      fire("load-init");
    });
    loader.on("meta", (meta) => {
      state2.file.size = meta.size;
      state2.file.filename = meta.filename;
      if (meta.source) {
        origin = FileOrigin.LIMBO;
        state2.serverFileReference = meta.source;
        state2.status = ItemStatus.PROCESSING_COMPLETE;
      }
      fire("load-meta");
    });
    loader.on("progress", (progress) => {
      setStatus(ItemStatus.LOADING);
      fire("load-progress", progress);
    });
    loader.on("error", (error2) => {
      setStatus(ItemStatus.LOAD_ERROR);
      fire("load-request-error", error2);
    });
    loader.on("abort", () => {
      setStatus(ItemStatus.INIT);
      fire("load-abort");
    });
    loader.on("load", (file3) => {
      state2.activeLoader = null;
      const success = (result) => {
        state2.file = isFile(result) ? result : state2.file;
        if (origin === FileOrigin.LIMBO && state2.serverFileReference) {
          setStatus(ItemStatus.PROCESSING_COMPLETE);
        } else {
          setStatus(ItemStatus.IDLE);
        }
        fire("load");
      };
      const error2 = (result) => {
        state2.file = file3;
        fire("load-meta");
        setStatus(ItemStatus.LOAD_ERROR);
        fire("load-file-error", result);
      };
      if (state2.serverFileReference) {
        success(file3);
        return;
      }
      onload(file3, success, error2);
    });
    loader.setSource(source);
    state2.activeLoader = loader;
    loader.load();
  };
  const retryLoad = () => {
    if (!state2.activeLoader) {
      return;
    }
    state2.activeLoader.load();
  };
  const abortLoad = () => {
    if (state2.activeLoader) {
      state2.activeLoader.abort();
      return;
    }
    setStatus(ItemStatus.INIT);
    fire("load-abort");
  };
  const process = (processor, onprocess) => {
    if (state2.processingAborted) {
      state2.processingAborted = false;
      return;
    }
    setStatus(ItemStatus.PROCESSING);
    abortProcessingRequestComplete = null;
    if (!(state2.file instanceof Blob)) {
      api.on("load", () => {
        process(processor, onprocess);
      });
      return;
    }
    processor.on("load", (serverFileReference2) => {
      state2.transferId = null;
      state2.serverFileReference = serverFileReference2;
    });
    processor.on("transfer", (transferId) => {
      state2.transferId = transferId;
    });
    processor.on("load-perceived", (serverFileReference2) => {
      state2.activeProcessor = null;
      state2.transferId = null;
      state2.serverFileReference = serverFileReference2;
      setStatus(ItemStatus.PROCESSING_COMPLETE);
      fire("process-complete", serverFileReference2);
    });
    processor.on("start", () => {
      fire("process-start");
    });
    processor.on("error", (error3) => {
      state2.activeProcessor = null;
      setStatus(ItemStatus.PROCESSING_ERROR);
      fire("process-error", error3);
    });
    processor.on("abort", (serverFileReference2) => {
      state2.activeProcessor = null;
      state2.serverFileReference = serverFileReference2;
      setStatus(ItemStatus.IDLE);
      fire("process-abort");
      if (abortProcessingRequestComplete) {
        abortProcessingRequestComplete();
      }
    });
    processor.on("progress", (progress) => {
      fire("process-progress", progress);
    });
    const success = (file3) => {
      if (state2.archived)
        return;
      processor.process(file3, { ...metadata });
    };
    const error2 = console.error;
    onprocess(state2.file, success, error2);
    state2.activeProcessor = processor;
  };
  const requestProcessing = () => {
    state2.processingAborted = false;
    setStatus(ItemStatus.PROCESSING_QUEUED);
  };
  const abortProcessing = () => new Promise((resolve) => {
    if (!state2.activeProcessor) {
      state2.processingAborted = true;
      setStatus(ItemStatus.IDLE);
      fire("process-abort");
      resolve();
      return;
    }
    abortProcessingRequestComplete = () => {
      resolve();
    };
    state2.activeProcessor.abort();
  });
  const revert = (revertFileUpload, forceRevert) => new Promise((resolve, reject) => {
    const serverTransferId = state2.serverFileReference !== null ? state2.serverFileReference : state2.transferId;
    if (serverTransferId === null) {
      resolve();
      return;
    }
    revertFileUpload(
      serverTransferId,
      () => {
        state2.serverFileReference = null;
        state2.transferId = null;
        resolve();
      },
      (error2) => {
        if (!forceRevert) {
          resolve();
          return;
        }
        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);
        fire("process-revert-error");
        reject(error2);
      }
    );
    setStatus(ItemStatus.IDLE);
    fire("process-revert");
  });
  const setMetadata = (key, value, silent) => {
    const keys = key.split(".");
    const root2 = keys[0];
    const last = keys.pop();
    let data3 = metadata;
    keys.forEach((key2) => data3 = data3[key2]);
    if (JSON.stringify(data3[last]) === JSON.stringify(value))
      return;
    data3[last] = value;
    fire("metadata-update", {
      key: root2,
      value: metadata[root2],
      silent
    });
  };
  const getMetadata = (key) => deepCloneObject(key ? metadata[key] : metadata);
  const api = {
    id: { get: () => id },
    origin: { get: () => origin, set: (value) => origin = value },
    serverId: { get: () => state2.serverFileReference },
    transferId: { get: () => state2.transferId },
    status: { get: () => state2.status },
    filename: { get: () => state2.file.name },
    filenameWithoutExtension: { get: () => getFilenameWithoutExtension(state2.file.name) },
    fileExtension: { get: getFileExtension },
    fileType: { get: getFileType },
    fileSize: { get: getFileSize },
    file: { get: getFile },
    relativePath: { get: () => state2.file._relativePath },
    source: { get: () => state2.source },
    getMetadata,
    setMetadata: (key, value, silent) => {
      if (isObject(key)) {
        const data3 = key;
        Object.keys(data3).forEach((key2) => {
          setMetadata(key2, data3[key2], value);
        });
        return key;
      }
      setMetadata(key, value, silent);
      return value;
    },
    extend: (name2, handler) => itemAPI[name2] = handler,
    abortLoad,
    retryLoad,
    requestProcessing,
    abortProcessing,
    load,
    process,
    revert,
    ...on(),
    freeze: () => state2.frozen = true,
    release: () => state2.released = true,
    released: { get: () => state2.released },
    archive: () => state2.archived = true,
    archived: { get: () => state2.archived }
  };
  const itemAPI = createObject(api);
  return itemAPI;
};
var getItemIndexByQuery = (items, query) => {
  if (isEmpty(query)) {
    return 0;
  }
  if (!isString(query)) {
    return -1;
  }
  return items.findIndex((item2) => item2.id === query);
};
var getItemById = (items, itemId) => {
  const index = getItemIndexByQuery(items, itemId);
  if (index < 0) {
    return;
  }
  return items[index] || null;
};
var fetchBlob = (url, load, error2, progress, abort, headers) => {
  const request = sendRequest(null, url, {
    method: "GET",
    responseType: "blob"
  });
  request.onload = (xhr) => {
    const headers2 = xhr.getAllResponseHeaders();
    const filename = getFileInfoFromHeaders(headers2).name || getFilenameFromURL(url);
    load(createResponse("load", xhr.status, getFileFromBlob(xhr.response, filename), headers2));
  };
  request.onerror = (xhr) => {
    error2(createResponse("error", xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));
  };
  request.onheaders = (xhr) => {
    headers(createResponse("headers", xhr.status, null, xhr.getAllResponseHeaders()));
  };
  request.ontimeout = createTimeoutResponse(error2);
  request.onprogress = progress;
  request.onabort = abort;
  return request;
};
var getDomainFromURL = (url) => {
  if (url.indexOf("//") === 0) {
    url = location.protocol + url;
  }
  return url.toLowerCase().replace("blob:", "").replace(/([a-z])?:\/\//, "$1").split("/")[0];
};
var isExternalURL = (url) => (url.indexOf(":") > -1 || url.indexOf("//") > -1) && getDomainFromURL(location.href) !== getDomainFromURL(url);
var dynamicLabel = (label) => (...params) => isFunction(label) ? label(...params) : label;
var isMockItem = (item2) => !isFile(item2.file);
var listUpdated = (dispatch, state2) => {
  clearTimeout(state2.listUpdateTimeout);
  state2.listUpdateTimeout = setTimeout(() => {
    dispatch("DID_UPDATE_ITEMS", { items: getActiveItems(state2.items) });
  }, 0);
};
var optionalPromise = (fn2, ...params) => new Promise((resolve) => {
  if (!fn2) {
    return resolve(true);
  }
  const result = fn2(...params);
  if (result == null) {
    return resolve(true);
  }
  if (typeof result === "boolean") {
    return resolve(result);
  }
  if (typeof result.then === "function") {
    result.then(resolve);
  }
});
var sortItems = (state2, compare) => {
  state2.items.sort((a, b) => compare(createItemAPI(a), createItemAPI(b)));
};
var getItemByQueryFromState = (state2, itemHandler) => ({
  query,
  success = () => {
  },
  failure = () => {
  },
  ...options
} = {}) => {
  const item2 = getItemByQuery(state2.items, query);
  if (!item2) {
    failure({
      error: createResponse("error", 0, "Item not found"),
      file: null
    });
    return;
  }
  itemHandler(item2, success, failure, options || {});
};
var actions = (dispatch, query, state2) => ({
  /**
   * Aborts all ongoing processes
   */
  ABORT_ALL: () => {
    getActiveItems(state2.items).forEach((item2) => {
      item2.freeze();
      item2.abortLoad();
      item2.abortProcessing();
    });
  },
  /**
   * Sets initial files
   */
  DID_SET_FILES: ({ value = [] }) => {
    const files = value.map((file2) => ({
      source: file2.source ? file2.source : file2,
      options: file2.options
    }));
    let activeItems = getActiveItems(state2.items);
    activeItems.forEach((item2) => {
      if (!files.find((file2) => file2.source === item2.source || file2.source === item2.file)) {
        dispatch("REMOVE_ITEM", { query: item2, remove: false });
      }
    });
    activeItems = getActiveItems(state2.items);
    files.forEach((file2, index) => {
      if (activeItems.find((item2) => item2.source === file2.source || item2.file === file2.source))
        return;
      dispatch("ADD_ITEM", {
        ...file2,
        interactionMethod: InteractionMethod.NONE,
        index
      });
    });
  },
  DID_UPDATE_ITEM_METADATA: ({ id, action, change: change3 }) => {
    if (change3.silent)
      return;
    clearTimeout(state2.itemUpdateTimeout);
    state2.itemUpdateTimeout = setTimeout(() => {
      const item2 = getItemById(state2.items, id);
      if (!query("IS_ASYNC")) {
        applyFilterChain("SHOULD_PREPARE_OUTPUT", false, {
          item: item2,
          query,
          action,
          change: change3
        }).then((shouldPrepareOutput) => {
          const beforePrepareFile = query("GET_BEFORE_PREPARE_FILE");
          if (beforePrepareFile)
            shouldPrepareOutput = beforePrepareFile(item2, shouldPrepareOutput);
          if (!shouldPrepareOutput)
            return;
          dispatch(
            "REQUEST_PREPARE_OUTPUT",
            {
              query: id,
              item: item2,
              success: (file2) => {
                dispatch("DID_PREPARE_OUTPUT", { id, file: file2 });
              }
            },
            true
          );
        });
        return;
      }
      if (item2.origin === FileOrigin.LOCAL) {
        dispatch("DID_LOAD_ITEM", {
          id: item2.id,
          error: null,
          serverFileReference: item2.source
        });
      }
      const upload = () => {
        setTimeout(() => {
          dispatch("REQUEST_ITEM_PROCESSING", { query: id });
        }, 32);
      };
      const revert = (doUpload) => {
        item2.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          query("GET_FORCE_REVERT")
        ).then(doUpload ? upload : () => {
        }).catch(() => {
        });
      };
      const abort = (doUpload) => {
        item2.abortProcessing().then(doUpload ? upload : () => {
        });
      };
      if (item2.status === ItemStatus.PROCESSING_COMPLETE) {
        return revert(state2.options.instantUpload);
      }
      if (item2.status === ItemStatus.PROCESSING) {
        return abort(state2.options.instantUpload);
      }
      if (state2.options.instantUpload) {
        upload();
      }
    }, 0);
  },
  MOVE_ITEM: ({ query: query2, index }) => {
    const item2 = getItemByQuery(state2.items, query2);
    if (!item2)
      return;
    const currentIndex = state2.items.indexOf(item2);
    index = limit(index, 0, state2.items.length - 1);
    if (currentIndex === index)
      return;
    state2.items.splice(index, 0, state2.items.splice(currentIndex, 1)[0]);
  },
  SORT: ({ compare }) => {
    sortItems(state2, compare);
    dispatch("DID_SORT_ITEMS", {
      items: query("GET_ACTIVE_ITEMS")
    });
  },
  ADD_ITEMS: ({ items, index, interactionMethod, success = () => {
  }, failure = () => {
  } }) => {
    let currentIndex = index;
    if (index === -1 || typeof index === "undefined") {
      const insertLocation = query("GET_ITEM_INSERT_LOCATION");
      const totalItems = query("GET_TOTAL_ITEMS");
      currentIndex = insertLocation === "before" ? 0 : totalItems;
    }
    const ignoredFiles = query("GET_IGNORED_FILES");
    const isValidFile = (source) => isFile(source) ? !ignoredFiles.includes(source.name.toLowerCase()) : !isEmpty(source);
    const validItems = items.filter(isValidFile);
    const promises = validItems.map(
      (source) => new Promise((resolve, reject) => {
        dispatch("ADD_ITEM", {
          interactionMethod,
          source: source.source || source,
          success: resolve,
          failure: reject,
          index: currentIndex++,
          options: source.options || {}
        });
      })
    );
    Promise.all(promises).then(success).catch(failure);
  },
  /**
   * @param source
   * @param index
   * @param interactionMethod
   */
  ADD_ITEM: ({
    source,
    index = -1,
    interactionMethod,
    success = () => {
    },
    failure = () => {
    },
    options = {}
  }) => {
    if (isEmpty(source)) {
      failure({
        error: createResponse("error", 0, "No source"),
        file: null
      });
      return;
    }
    if (isFile(source) && state2.options.ignoredFiles.includes(source.name.toLowerCase())) {
      return;
    }
    if (!hasRoomForItem(state2)) {
      if (state2.options.allowMultiple || !state2.options.allowMultiple && !state2.options.allowReplace) {
        const error2 = createResponse("warning", 0, "Max files");
        dispatch("DID_THROW_MAX_FILES", {
          source,
          error: error2
        });
        failure({ error: error2, file: null });
        return;
      }
      const item3 = getActiveItems(state2.items)[0];
      if (item3.status === ItemStatus.PROCESSING_COMPLETE || item3.status === ItemStatus.PROCESSING_REVERT_ERROR) {
        const forceRevert = query("GET_FORCE_REVERT");
        item3.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          forceRevert
        ).then(() => {
          if (!forceRevert)
            return;
          dispatch("ADD_ITEM", {
            source,
            index,
            interactionMethod,
            success,
            failure,
            options
          });
        }).catch(() => {
        });
        if (forceRevert)
          return;
      }
      dispatch("REMOVE_ITEM", { query: item3.id });
    }
    const origin = options.type === "local" ? FileOrigin.LOCAL : options.type === "limbo" ? FileOrigin.LIMBO : FileOrigin.INPUT;
    const item2 = createItem(
      // where did this file come from
      origin,
      // an input file never has a server file reference
      origin === FileOrigin.INPUT ? null : source,
      // file mock data, if defined
      options.file
    );
    Object.keys(options.metadata || {}).forEach((key) => {
      item2.setMetadata(key, options.metadata[key]);
    });
    applyFilters("DID_CREATE_ITEM", item2, { query, dispatch });
    const itemInsertLocation = query("GET_ITEM_INSERT_LOCATION");
    if (!state2.options.itemInsertLocationFreedom) {
      index = itemInsertLocation === "before" ? -1 : state2.items.length;
    }
    insertItem(state2.items, item2, index);
    if (isFunction(itemInsertLocation) && source) {
      sortItems(state2, itemInsertLocation);
    }
    const id = item2.id;
    item2.on("init", () => {
      dispatch("DID_INIT_ITEM", { id });
    });
    item2.on("load-init", () => {
      dispatch("DID_START_ITEM_LOAD", { id });
    });
    item2.on("load-meta", () => {
      dispatch("DID_UPDATE_ITEM_META", { id });
    });
    item2.on("load-progress", (progress) => {
      dispatch("DID_UPDATE_ITEM_LOAD_PROGRESS", { id, progress });
    });
    item2.on("load-request-error", (error2) => {
      const mainStatus = dynamicLabel(state2.options.labelFileLoadError)(error2);
      if (error2.code >= 400 && error2.code < 500) {
        dispatch("DID_THROW_ITEM_INVALID", {
          id,
          error: error2,
          status: {
            main: mainStatus,
            sub: `${error2.code} (${error2.body})`
          }
        });
        failure({ error: error2, file: createItemAPI(item2) });
        return;
      }
      dispatch("DID_THROW_ITEM_LOAD_ERROR", {
        id,
        error: error2,
        status: {
          main: mainStatus,
          sub: state2.options.labelTapToRetry
        }
      });
    });
    item2.on("load-file-error", (error2) => {
      dispatch("DID_THROW_ITEM_INVALID", {
        id,
        error: error2.status,
        status: error2.status
      });
      failure({ error: error2.status, file: createItemAPI(item2) });
    });
    item2.on("load-abort", () => {
      dispatch("REMOVE_ITEM", { query: id });
    });
    item2.on("load-skip", () => {
      dispatch("COMPLETE_LOAD_ITEM", {
        query: id,
        item: item2,
        data: {
          source,
          success
        }
      });
    });
    item2.on("load", () => {
      const handleAdd = (shouldAdd) => {
        if (!shouldAdd) {
          dispatch("REMOVE_ITEM", {
            query: id
          });
          return;
        }
        item2.on("metadata-update", (change3) => {
          dispatch("DID_UPDATE_ITEM_METADATA", { id, change: change3 });
        });
        applyFilterChain("SHOULD_PREPARE_OUTPUT", false, { item: item2, query }).then(
          (shouldPrepareOutput) => {
            const beforePrepareFile = query("GET_BEFORE_PREPARE_FILE");
            if (beforePrepareFile)
              shouldPrepareOutput = beforePrepareFile(item2, shouldPrepareOutput);
            const loadComplete = () => {
              dispatch("COMPLETE_LOAD_ITEM", {
                query: id,
                item: item2,
                data: {
                  source,
                  success
                }
              });
              listUpdated(dispatch, state2);
            };
            if (shouldPrepareOutput) {
              dispatch(
                "REQUEST_PREPARE_OUTPUT",
                {
                  query: id,
                  item: item2,
                  success: (file2) => {
                    dispatch("DID_PREPARE_OUTPUT", { id, file: file2 });
                    loadComplete();
                  }
                },
                true
              );
              return;
            }
            loadComplete();
          }
        );
      };
      applyFilterChain("DID_LOAD_ITEM", item2, { query, dispatch }).then(() => {
        optionalPromise(query("GET_BEFORE_ADD_FILE"), createItemAPI(item2)).then(
          handleAdd
        );
      }).catch((e) => {
        if (!e || !e.error || !e.status)
          return handleAdd(false);
        dispatch("DID_THROW_ITEM_INVALID", {
          id,
          error: e.error,
          status: e.status
        });
      });
    });
    item2.on("process-start", () => {
      dispatch("DID_START_ITEM_PROCESSING", { id });
    });
    item2.on("process-progress", (progress) => {
      dispatch("DID_UPDATE_ITEM_PROCESS_PROGRESS", { id, progress });
    });
    item2.on("process-error", (error2) => {
      dispatch("DID_THROW_ITEM_PROCESSING_ERROR", {
        id,
        error: error2,
        status: {
          main: dynamicLabel(state2.options.labelFileProcessingError)(error2),
          sub: state2.options.labelTapToRetry
        }
      });
    });
    item2.on("process-revert-error", (error2) => {
      dispatch("DID_THROW_ITEM_PROCESSING_REVERT_ERROR", {
        id,
        error: error2,
        status: {
          main: dynamicLabel(state2.options.labelFileProcessingRevertError)(error2),
          sub: state2.options.labelTapToRetry
        }
      });
    });
    item2.on("process-complete", (serverFileReference) => {
      dispatch("DID_COMPLETE_ITEM_PROCESSING", {
        id,
        error: null,
        serverFileReference
      });
      dispatch("DID_DEFINE_VALUE", { id, value: serverFileReference });
    });
    item2.on("process-abort", () => {
      dispatch("DID_ABORT_ITEM_PROCESSING", { id });
    });
    item2.on("process-revert", () => {
      dispatch("DID_REVERT_ITEM_PROCESSING", { id });
      dispatch("DID_DEFINE_VALUE", { id, value: null });
    });
    dispatch("DID_ADD_ITEM", { id, index, interactionMethod });
    listUpdated(dispatch, state2);
    const { url, load, restore, fetch: fetch2 } = state2.options.server || {};
    item2.load(
      source,
      // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)
      createFileLoader(
        origin === FileOrigin.INPUT ? (
          // input, if is remote, see if should use custom fetch, else use default fetchBlob
          isString(source) && isExternalURL(source) ? fetch2 ? createFetchFunction(url, fetch2) : fetchBlob : fetchBlob
        ) : (
          // limbo or local
          origin === FileOrigin.LIMBO ? createFetchFunction(url, restore) : createFetchFunction(url, load)
        )
        // local
      ),
      // called when the file is loaded so it can be piped through the filters
      (file2, success2, error2) => {
        applyFilterChain("LOAD_FILE", file2, { query }).then(success2).catch(error2);
      }
    );
  },
  REQUEST_PREPARE_OUTPUT: ({ item: item2, success, failure = () => {
  } }) => {
    const err = {
      error: createResponse("error", 0, "Item not found"),
      file: null
    };
    if (item2.archived)
      return failure(err);
    applyFilterChain("PREPARE_OUTPUT", item2.file, { query, item: item2 }).then((result) => {
      applyFilterChain("COMPLETE_PREPARE_OUTPUT", result, { query, item: item2 }).then((result2) => {
        if (item2.archived)
          return failure(err);
        success(result2);
      });
    });
  },
  COMPLETE_LOAD_ITEM: ({ item: item2, data: data3 }) => {
    const { success, source } = data3;
    const itemInsertLocation = query("GET_ITEM_INSERT_LOCATION");
    if (isFunction(itemInsertLocation) && source) {
      sortItems(state2, itemInsertLocation);
    }
    dispatch("DID_LOAD_ITEM", {
      id: item2.id,
      error: null,
      serverFileReference: item2.origin === FileOrigin.INPUT ? null : source
    });
    success(createItemAPI(item2));
    if (item2.origin === FileOrigin.LOCAL) {
      dispatch("DID_LOAD_LOCAL_ITEM", { id: item2.id });
      return;
    }
    if (item2.origin === FileOrigin.LIMBO) {
      dispatch("DID_COMPLETE_ITEM_PROCESSING", {
        id: item2.id,
        error: null,
        serverFileReference: source
      });
      dispatch("DID_DEFINE_VALUE", {
        id: item2.id,
        value: item2.serverId || source
      });
      return;
    }
    if (query("IS_ASYNC") && state2.options.instantUpload) {
      dispatch("REQUEST_ITEM_PROCESSING", { query: item2.id });
    }
  },
  RETRY_ITEM_LOAD: getItemByQueryFromState(state2, (item2) => {
    item2.retryLoad();
  }),
  REQUEST_ITEM_PREPARE: getItemByQueryFromState(state2, (item2, success, failure) => {
    dispatch(
      "REQUEST_PREPARE_OUTPUT",
      {
        query: item2.id,
        item: item2,
        success: (file2) => {
          dispatch("DID_PREPARE_OUTPUT", { id: item2.id, file: file2 });
          success({
            file: item2,
            output: file2
          });
        },
        failure
      },
      true
    );
  }),
  REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2, success, failure) => {
    const itemCanBeQueuedForProcessing = (
      // waiting for something
      item2.status === ItemStatus.IDLE || // processing went wrong earlier
      item2.status === ItemStatus.PROCESSING_ERROR
    );
    if (!itemCanBeQueuedForProcessing) {
      const processNow = () => dispatch("REQUEST_ITEM_PROCESSING", { query: item2, success, failure });
      const process = () => document.hidden ? processNow() : setTimeout(processNow, 32);
      if (item2.status === ItemStatus.PROCESSING_COMPLETE || item2.status === ItemStatus.PROCESSING_REVERT_ERROR) {
        item2.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          query("GET_FORCE_REVERT")
        ).then(process).catch(() => {
        });
      } else if (item2.status === ItemStatus.PROCESSING) {
        item2.abortProcessing().then(process);
      }
      return;
    }
    if (item2.status === ItemStatus.PROCESSING_QUEUED)
      return;
    item2.requestProcessing();
    dispatch("DID_REQUEST_ITEM_PROCESSING", { id: item2.id });
    dispatch("PROCESS_ITEM", { query: item2, success, failure }, true);
  }),
  PROCESS_ITEM: getItemByQueryFromState(state2, (item2, success, failure) => {
    const maxParallelUploads = query("GET_MAX_PARALLEL_UPLOADS");
    const totalCurrentUploads = query("GET_ITEMS_BY_STATUS", ItemStatus.PROCESSING).length;
    if (totalCurrentUploads === maxParallelUploads) {
      state2.processingQueue.push({
        id: item2.id,
        success,
        failure
      });
      return;
    }
    if (item2.status === ItemStatus.PROCESSING)
      return;
    const processNext = () => {
      const queueEntry = state2.processingQueue.shift();
      if (!queueEntry)
        return;
      const { id, success: success2, failure: failure2 } = queueEntry;
      const itemReference = getItemByQuery(state2.items, id);
      if (!itemReference || itemReference.archived) {
        processNext();
        return;
      }
      dispatch("PROCESS_ITEM", { query: id, success: success2, failure: failure2 }, true);
    };
    item2.onOnce("process-complete", () => {
      success(createItemAPI(item2));
      processNext();
      const server = state2.options.server;
      const instantUpload = state2.options.instantUpload;
      if (instantUpload && item2.origin === FileOrigin.LOCAL && isFunction(server.remove)) {
        const noop = () => {
        };
        item2.origin = FileOrigin.LIMBO;
        state2.options.server.remove(item2.source, noop, noop);
      }
      const allItemsProcessed = query("GET_ITEMS_BY_STATUS", ItemStatus.PROCESSING_COMPLETE).length === state2.items.length;
      if (allItemsProcessed) {
        dispatch("DID_COMPLETE_ITEM_PROCESSING_ALL");
      }
    });
    item2.onOnce("process-error", (error2) => {
      failure({ error: error2, file: createItemAPI(item2) });
      processNext();
    });
    const options = state2.options;
    item2.process(
      createFileProcessor(
        createProcessorFunction(options.server.url, options.server.process, options.name, {
          chunkTransferId: item2.transferId,
          chunkServer: options.server.patch,
          chunkUploads: options.chunkUploads,
          chunkForce: options.chunkForce,
          chunkSize: options.chunkSize,
          chunkRetryDelays: options.chunkRetryDelays
        }),
        {
          allowMinimumUploadDuration: query("GET_ALLOW_MINIMUM_UPLOAD_DURATION")
        }
      ),
      // called when the file is about to be processed so it can be piped through the transform filters
      (file2, success2, error2) => {
        applyFilterChain("PREPARE_OUTPUT", file2, { query, item: item2 }).then((file3) => {
          dispatch("DID_PREPARE_OUTPUT", { id: item2.id, file: file3 });
          success2(file3);
        }).catch(error2);
      }
    );
  }),
  RETRY_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    dispatch("REQUEST_ITEM_PROCESSING", { query: item2 });
  }),
  REQUEST_REMOVE_ITEM: getItemByQueryFromState(state2, (item2) => {
    optionalPromise(query("GET_BEFORE_REMOVE_FILE"), createItemAPI(item2)).then((shouldRemove) => {
      if (!shouldRemove) {
        return;
      }
      dispatch("REMOVE_ITEM", { query: item2 });
    });
  }),
  RELEASE_ITEM: getItemByQueryFromState(state2, (item2) => {
    item2.release();
  }),
  REMOVE_ITEM: getItemByQueryFromState(state2, (item2, success, failure, options) => {
    const removeFromView = () => {
      const id = item2.id;
      getItemById(state2.items, id).archive();
      dispatch("DID_REMOVE_ITEM", { error: null, id, item: item2 });
      listUpdated(dispatch, state2);
      success(createItemAPI(item2));
    };
    const server = state2.options.server;
    if (item2.origin === FileOrigin.LOCAL && server && isFunction(server.remove) && options.remove !== false) {
      dispatch("DID_START_ITEM_REMOVE", { id: item2.id });
      server.remove(
        item2.source,
        () => removeFromView(),
        (status) => {
          dispatch("DID_THROW_ITEM_REMOVE_ERROR", {
            id: item2.id,
            error: createResponse("error", 0, status, null),
            status: {
              main: dynamicLabel(state2.options.labelFileRemoveError)(status),
              sub: state2.options.labelTapToRetry
            }
          });
        }
      );
    } else {
      if (options.revert && item2.origin !== FileOrigin.LOCAL && item2.serverId !== null || // if chunked uploads are enabled and we're uploading in chunks for this specific file
      // or if the file isn't big enough for chunked uploads but chunkForce is set then call
      // revert before removing from the view...
      state2.options.chunkUploads && item2.file.size > state2.options.chunkSize || state2.options.chunkUploads && state2.options.chunkForce) {
        item2.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          query("GET_FORCE_REVERT")
        );
      }
      removeFromView();
    }
  }),
  ABORT_ITEM_LOAD: getItemByQueryFromState(state2, (item2) => {
    item2.abortLoad();
  }),
  ABORT_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    if (item2.serverId) {
      dispatch("REVERT_ITEM_PROCESSING", { id: item2.id });
      return;
    }
    item2.abortProcessing().then(() => {
      const shouldRemove = state2.options.instantUpload;
      if (shouldRemove) {
        dispatch("REMOVE_ITEM", { query: item2.id });
      }
    });
  }),
  REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    if (!state2.options.instantUpload) {
      dispatch("REVERT_ITEM_PROCESSING", { query: item2 });
      return;
    }
    const handleRevert2 = (shouldRevert) => {
      if (!shouldRevert)
        return;
      dispatch("REVERT_ITEM_PROCESSING", { query: item2 });
    };
    const fn2 = query("GET_BEFORE_REMOVE_FILE");
    if (!fn2) {
      return handleRevert2(true);
    }
    const requestRemoveResult = fn2(createItemAPI(item2));
    if (requestRemoveResult == null) {
      return handleRevert2(true);
    }
    if (typeof requestRemoveResult === "boolean") {
      return handleRevert2(requestRemoveResult);
    }
    if (typeof requestRemoveResult.then === "function") {
      requestRemoveResult.then(handleRevert2);
    }
  }),
  REVERT_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    item2.revert(
      createRevertFunction(state2.options.server.url, state2.options.server.revert),
      query("GET_FORCE_REVERT")
    ).then(() => {
      const shouldRemove = state2.options.instantUpload || isMockItem(item2);
      if (shouldRemove) {
        dispatch("REMOVE_ITEM", { query: item2.id });
      }
    }).catch(() => {
    });
  }),
  SET_OPTIONS: ({ options }) => {
    const optionKeys = Object.keys(options);
    const prioritizedOptionKeys = PrioritizedOptions.filter((key) => optionKeys.includes(key));
    const orderedOptionKeys = [
      // add prioritized first if passed to options, else remove
      ...prioritizedOptionKeys,
      // prevent duplicate keys
      ...Object.keys(options).filter((key) => !prioritizedOptionKeys.includes(key))
    ];
    orderedOptionKeys.forEach((key) => {
      dispatch(`SET_${fromCamels(key, "_").toUpperCase()}`, {
        value: options[key]
      });
    });
  }
});
var PrioritizedOptions = [
  "server"
  // must be processed before "files"
];
var formatFilename = (name2) => name2;
var createElement$1 = (tagName) => {
  return document.createElement(tagName);
};
var text = (node, value) => {
  let textNode = node.childNodes[0];
  if (!textNode) {
    textNode = document.createTextNode(value);
    node.appendChild(textNode);
  } else if (value !== textNode.nodeValue) {
    textNode.nodeValue = value;
  }
};
var polarToCartesian = (centerX, centerY, radius, angleInDegrees) => {
  const angleInRadians = (angleInDegrees % 360 - 90) * Math.PI / 180;
  return {
    x: centerX + radius * Math.cos(angleInRadians),
    y: centerY + radius * Math.sin(angleInRadians)
  };
};
var describeArc = (x, y, radius, startAngle, endAngle, arcSweep) => {
  const start = polarToCartesian(x, y, radius, endAngle);
  const end = polarToCartesian(x, y, radius, startAngle);
  return ["M", start.x, start.y, "A", radius, radius, 0, arcSweep, 0, end.x, end.y].join(" ");
};
var percentageArc = (x, y, radius, from, to) => {
  let arcSweep = 1;
  if (to > from && to - from <= 0.5) {
    arcSweep = 0;
  }
  if (from > to && from - to >= 0.5) {
    arcSweep = 0;
  }
  return describeArc(
    x,
    y,
    radius,
    Math.min(0.9999, from) * 360,
    Math.min(0.9999, to) * 360,
    arcSweep
  );
};
var create = ({ root: root2, props }) => {
  props.spin = false;
  props.progress = 0;
  props.opacity = 0;
  const svg3 = createElement("svg");
  root2.ref.path = createElement("path", {
    "stroke-width": 2,
    "stroke-linecap": "round"
  });
  svg3.appendChild(root2.ref.path);
  root2.ref.svg = svg3;
  root2.appendChild(svg3);
};
var write = ({ root: root2, props }) => {
  if (props.opacity === 0) {
    return;
  }
  if (props.align) {
    root2.element.dataset.align = props.align;
  }
  const ringStrokeWidth = parseInt(attr(root2.ref.path, "stroke-width"), 10);
  const size = root2.rect.element.width * 0.5;
  let ringFrom = 0;
  let ringTo = 0;
  if (props.spin) {
    ringFrom = 0;
    ringTo = 0.5;
  } else {
    ringFrom = 0;
    ringTo = props.progress;
  }
  const coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);
  attr(root2.ref.path, "d", coordinates);
  attr(root2.ref.path, "stroke-opacity", props.spin || props.progress > 0 ? 1 : 0);
};
var progressIndicator = createView({
  tag: "div",
  name: "progress-indicator",
  ignoreRectUpdate: true,
  ignoreRect: true,
  create,
  write,
  mixins: {
    apis: ["progress", "spin", "align"],
    styles: ["opacity"],
    animations: {
      opacity: { type: "tween", duration: 500 },
      progress: {
        type: "spring",
        stiffness: 0.95,
        damping: 0.65,
        mass: 10
      }
    }
  }
});
var create$1 = ({ root: root2, props }) => {
  root2.element.innerHTML = (props.icon || "") + `<span>${props.label}</span>`;
  props.isDisabled = false;
};
var write$1 = ({ root: root2, props }) => {
  const { isDisabled } = props;
  const shouldDisable = root2.query("GET_DISABLED") || props.opacity === 0;
  if (shouldDisable && !isDisabled) {
    props.isDisabled = true;
    attr(root2.element, "disabled", "disabled");
  } else if (!shouldDisable && isDisabled) {
    props.isDisabled = false;
    root2.element.removeAttribute("disabled");
  }
};
var fileActionButton = createView({
  tag: "button",
  attributes: {
    type: "button"
  },
  ignoreRect: true,
  ignoreRectUpdate: true,
  name: "file-action-button",
  mixins: {
    apis: ["label"],
    styles: ["translateX", "translateY", "scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: "spring",
      scaleY: "spring",
      translateX: "spring",
      translateY: "spring",
      opacity: { type: "tween", duration: 250 }
    },
    listeners: true
  },
  create: create$1,
  write: write$1
});
var toNaturalFileSize = (bytes, decimalSeparator = ".", base = 1e3, options = {}) => {
  const {
    labelBytes = "bytes",
    labelKilobytes = "KB",
    labelMegabytes = "MB",
    labelGigabytes = "GB"
  } = options;
  bytes = Math.round(Math.abs(bytes));
  const KB = base;
  const MB = base * base;
  const GB = base * base * base;
  if (bytes < KB) {
    return `${bytes} ${labelBytes}`;
  }
  if (bytes < MB) {
    return `${Math.floor(bytes / KB)} ${labelKilobytes}`;
  }
  if (bytes < GB) {
    return `${removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator)} ${labelMegabytes}`;
  }
  return `${removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator)} ${labelGigabytes}`;
};
var removeDecimalsWhenZero = (value, decimalCount, separator) => {
  return value.toFixed(decimalCount).split(".").filter((part) => part !== "0").join(separator);
};
var create$2 = ({ root: root2, props }) => {
  const fileName = createElement$1("span");
  fileName.className = "filepond--file-info-main";
  attr(fileName, "aria-hidden", "true");
  root2.appendChild(fileName);
  root2.ref.fileName = fileName;
  const fileSize = createElement$1("span");
  fileSize.className = "filepond--file-info-sub";
  root2.appendChild(fileSize);
  root2.ref.fileSize = fileSize;
  text(fileSize, root2.query("GET_LABEL_FILE_WAITING_FOR_SIZE"));
  text(fileName, formatFilename(root2.query("GET_ITEM_NAME", props.id)));
};
var updateFile = ({ root: root2, props }) => {
  text(
    root2.ref.fileSize,
    toNaturalFileSize(
      root2.query("GET_ITEM_SIZE", props.id),
      ".",
      root2.query("GET_FILE_SIZE_BASE"),
      root2.query("GET_FILE_SIZE_LABELS", root2.query)
    )
  );
  text(root2.ref.fileName, formatFilename(root2.query("GET_ITEM_NAME", props.id)));
};
var updateFileSizeOnError = ({ root: root2, props }) => {
  if (isInt(root2.query("GET_ITEM_SIZE", props.id))) {
    updateFile({ root: root2, props });
    return;
  }
  text(root2.ref.fileSize, root2.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"));
};
var fileInfo = createView({
  name: "file-info",
  ignoreRect: true,
  ignoreRectUpdate: true,
  write: createRoute({
    DID_LOAD_ITEM: updateFile,
    DID_UPDATE_ITEM_META: updateFile,
    DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,
    DID_THROW_ITEM_INVALID: updateFileSizeOnError
  }),
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  create: create$2,
  mixins: {
    styles: ["translateX", "translateY"],
    animations: {
      translateX: "spring",
      translateY: "spring"
    }
  }
});
var toPercentage = (value) => Math.round(value * 100);
var create$3 = ({ root: root2 }) => {
  const main = createElement$1("span");
  main.className = "filepond--file-status-main";
  root2.appendChild(main);
  root2.ref.main = main;
  const sub = createElement$1("span");
  sub.className = "filepond--file-status-sub";
  root2.appendChild(sub);
  root2.ref.sub = sub;
  didSetItemLoadProgress({ root: root2, action: { progress: null } });
};
var didSetItemLoadProgress = ({ root: root2, action }) => {
  const title = action.progress === null ? root2.query("GET_LABEL_FILE_LOADING") : `${root2.query("GET_LABEL_FILE_LOADING")} ${toPercentage(action.progress)}%`;
  text(root2.ref.main, title);
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_CANCEL"));
};
var didSetItemProcessProgress = ({ root: root2, action }) => {
  const title = action.progress === null ? root2.query("GET_LABEL_FILE_PROCESSING") : `${root2.query("GET_LABEL_FILE_PROCESSING")} ${toPercentage(action.progress)}%`;
  text(root2.ref.main, title);
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_CANCEL"));
};
var didRequestItemProcessing = ({ root: root2 }) => {
  text(root2.ref.main, root2.query("GET_LABEL_FILE_PROCESSING"));
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_CANCEL"));
};
var didAbortItemProcessing = ({ root: root2 }) => {
  text(root2.ref.main, root2.query("GET_LABEL_FILE_PROCESSING_ABORTED"));
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_RETRY"));
};
var didCompleteItemProcessing = ({ root: root2 }) => {
  text(root2.ref.main, root2.query("GET_LABEL_FILE_PROCESSING_COMPLETE"));
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_UNDO"));
};
var clear = ({ root: root2 }) => {
  text(root2.ref.main, "");
  text(root2.ref.sub, "");
};
var error = ({ root: root2, action }) => {
  text(root2.ref.main, action.status.main);
  text(root2.ref.sub, action.status.sub);
};
var fileStatus = createView({
  name: "file-status",
  ignoreRect: true,
  ignoreRectUpdate: true,
  write: createRoute({
    DID_LOAD_ITEM: clear,
    DID_REVERT_ITEM_PROCESSING: clear,
    DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,
    DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,
    DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,
    DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,
    DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,
    DID_THROW_ITEM_LOAD_ERROR: error,
    DID_THROW_ITEM_INVALID: error,
    DID_THROW_ITEM_PROCESSING_ERROR: error,
    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,
    DID_THROW_ITEM_REMOVE_ERROR: error
  }),
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  create: create$3,
  mixins: {
    styles: ["translateX", "translateY", "opacity"],
    animations: {
      opacity: { type: "tween", duration: 250 },
      translateX: "spring",
      translateY: "spring"
    }
  }
});
var Buttons = {
  AbortItemLoad: {
    label: "GET_LABEL_BUTTON_ABORT_ITEM_LOAD",
    action: "ABORT_ITEM_LOAD",
    className: "filepond--action-abort-item-load",
    align: "LOAD_INDICATOR_POSITION"
    // right
  },
  RetryItemLoad: {
    label: "GET_LABEL_BUTTON_RETRY_ITEM_LOAD",
    action: "RETRY_ITEM_LOAD",
    icon: "GET_ICON_RETRY",
    className: "filepond--action-retry-item-load",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  RemoveItem: {
    label: "GET_LABEL_BUTTON_REMOVE_ITEM",
    action: "REQUEST_REMOVE_ITEM",
    icon: "GET_ICON_REMOVE",
    className: "filepond--action-remove-item",
    align: "BUTTON_REMOVE_ITEM_POSITION"
    // left
  },
  ProcessItem: {
    label: "GET_LABEL_BUTTON_PROCESS_ITEM",
    action: "REQUEST_ITEM_PROCESSING",
    icon: "GET_ICON_PROCESS",
    className: "filepond--action-process-item",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  AbortItemProcessing: {
    label: "GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",
    action: "ABORT_ITEM_PROCESSING",
    className: "filepond--action-abort-item-processing",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  RetryItemProcessing: {
    label: "GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",
    action: "RETRY_ITEM_PROCESSING",
    icon: "GET_ICON_RETRY",
    className: "filepond--action-retry-item-processing",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  RevertItemProcessing: {
    label: "GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",
    action: "REQUEST_REVERT_ITEM_PROCESSING",
    icon: "GET_ICON_UNDO",
    className: "filepond--action-revert-item-processing",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  }
};
var ButtonKeys = [];
forin(Buttons, (key) => {
  ButtonKeys.push(key);
});
var calculateFileInfoOffset = (root2) => {
  if (getRemoveIndicatorAligment(root2) === "right")
    return 0;
  const buttonRect = root2.ref.buttonRemoveItem.rect.element;
  return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;
};
var calculateButtonWidth = (root2) => {
  const buttonRect = root2.ref.buttonAbortItemLoad.rect.element;
  return buttonRect.width;
};
var calculateFileVerticalCenterOffset = (root2) => Math.floor(root2.ref.buttonRemoveItem.rect.element.height / 4);
var calculateFileHorizontalCenterOffset = (root2) => Math.floor(root2.ref.buttonRemoveItem.rect.element.left / 2);
var getLoadIndicatorAlignment = (root2) => root2.query("GET_STYLE_LOAD_INDICATOR_POSITION");
var getProcessIndicatorAlignment = (root2) => root2.query("GET_STYLE_PROGRESS_INDICATOR_POSITION");
var getRemoveIndicatorAligment = (root2) => root2.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION");
var DefaultStyle = {
  buttonAbortItemLoad: { opacity: 0 },
  buttonRetryItemLoad: { opacity: 0 },
  buttonRemoveItem: { opacity: 0 },
  buttonProcessItem: { opacity: 0 },
  buttonAbortItemProcessing: { opacity: 0 },
  buttonRetryItemProcessing: { opacity: 0 },
  buttonRevertItemProcessing: { opacity: 0 },
  loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },
  processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },
  processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },
  info: { translateX: 0, translateY: 0, opacity: 0 },
  status: { translateX: 0, translateY: 0, opacity: 0 }
};
var IdleStyle = {
  buttonRemoveItem: { opacity: 1 },
  buttonProcessItem: { opacity: 1 },
  info: { translateX: calculateFileInfoOffset },
  status: { translateX: calculateFileInfoOffset }
};
var ProcessingStyle = {
  buttonAbortItemProcessing: { opacity: 1 },
  processProgressIndicator: { opacity: 1 },
  status: { opacity: 1 }
};
var StyleMap = {
  DID_THROW_ITEM_INVALID: {
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { translateX: calculateFileInfoOffset, opacity: 1 }
  },
  DID_START_ITEM_LOAD: {
    buttonAbortItemLoad: { opacity: 1 },
    loadProgressIndicator: { opacity: 1 },
    status: { opacity: 1 }
  },
  DID_THROW_ITEM_LOAD_ERROR: {
    buttonRetryItemLoad: { opacity: 1 },
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 1 }
  },
  DID_START_ITEM_REMOVE: {
    processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 0 }
  },
  DID_THROW_ITEM_REMOVE_ERROR: {
    processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 1, translateX: calculateFileInfoOffset }
  },
  DID_LOAD_ITEM: IdleStyle,
  DID_LOAD_LOCAL_ITEM: {
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { translateX: calculateFileInfoOffset }
  },
  DID_START_ITEM_PROCESSING: ProcessingStyle,
  DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,
  DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,
  DID_COMPLETE_ITEM_PROCESSING: {
    buttonRevertItemProcessing: { opacity: 1 },
    info: { opacity: 1 },
    status: { opacity: 1 }
  },
  DID_THROW_ITEM_PROCESSING_ERROR: {
    buttonRemoveItem: { opacity: 1 },
    buttonRetryItemProcessing: { opacity: 1 },
    status: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset }
  },
  DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {
    buttonRevertItemProcessing: { opacity: 1 },
    status: { opacity: 1 },
    info: { opacity: 1 }
  },
  DID_ABORT_ITEM_PROCESSING: {
    buttonRemoveItem: { opacity: 1 },
    buttonProcessItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 1 }
  },
  DID_REVERT_ITEM_PROCESSING: IdleStyle
};
var processingCompleteIndicatorView = createView({
  create: ({ root: root2 }) => {
    root2.element.innerHTML = root2.query("GET_ICON_DONE");
  },
  name: "processing-complete-indicator",
  ignoreRect: true,
  mixins: {
    styles: ["scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: "spring",
      scaleY: "spring",
      opacity: { type: "tween", duration: 250 }
    }
  }
});
var create$4 = ({ root: root2, props }) => {
  const LocalButtons = Object.keys(Buttons).reduce((prev, curr) => {
    prev[curr] = { ...Buttons[curr] };
    return prev;
  }, {});
  const { id } = props;
  const allowRevert = root2.query("GET_ALLOW_REVERT");
  const allowRemove = root2.query("GET_ALLOW_REMOVE");
  const allowProcess = root2.query("GET_ALLOW_PROCESS");
  const instantUpload = root2.query("GET_INSTANT_UPLOAD");
  const isAsync2 = root2.query("IS_ASYNC");
  const alignRemoveItemButton = root2.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");
  let buttonFilter;
  if (isAsync2) {
    if (allowProcess && !allowRevert) {
      buttonFilter = (key) => !/RevertItemProcessing/.test(key);
    } else if (!allowProcess && allowRevert) {
      buttonFilter = (key) => !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);
    } else if (!allowProcess && !allowRevert) {
      buttonFilter = (key) => !/Process/.test(key);
    }
  } else {
    buttonFilter = (key) => !/Process/.test(key);
  }
  const enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();
  if (instantUpload && allowRevert) {
    LocalButtons["RevertItemProcessing"].label = "GET_LABEL_BUTTON_REMOVE_ITEM";
    LocalButtons["RevertItemProcessing"].icon = "GET_ICON_REMOVE";
  }
  if (isAsync2 && !allowRevert) {
    const map2 = StyleMap["DID_COMPLETE_ITEM_PROCESSING"];
    map2.info.translateX = calculateFileHorizontalCenterOffset;
    map2.info.translateY = calculateFileVerticalCenterOffset;
    map2.status.translateY = calculateFileVerticalCenterOffset;
    map2.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };
  }
  if (isAsync2 && !allowProcess) {
    [
      "DID_START_ITEM_PROCESSING",
      "DID_REQUEST_ITEM_PROCESSING",
      "DID_UPDATE_ITEM_PROCESS_PROGRESS",
      "DID_THROW_ITEM_PROCESSING_ERROR"
    ].forEach((key) => {
      StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;
    });
    StyleMap["DID_THROW_ITEM_PROCESSING_ERROR"].status.translateX = calculateButtonWidth;
  }
  if (alignRemoveItemButton && allowRevert) {
    LocalButtons["RevertItemProcessing"].align = "BUTTON_REMOVE_ITEM_POSITION";
    const map2 = StyleMap["DID_COMPLETE_ITEM_PROCESSING"];
    map2.info.translateX = calculateFileInfoOffset;
    map2.status.translateY = calculateFileVerticalCenterOffset;
    map2.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };
  }
  if (!allowRemove) {
    LocalButtons["RemoveItem"].disabled = true;
  }
  forin(LocalButtons, (key, definition) => {
    const buttonView = root2.createChildView(fileActionButton, {
      label: root2.query(definition.label),
      icon: root2.query(definition.icon),
      opacity: 0
    });
    if (enabledButtons.includes(key)) {
      root2.appendChildView(buttonView);
    }
    if (definition.disabled) {
      buttonView.element.setAttribute("disabled", "disabled");
      buttonView.element.setAttribute("hidden", "hidden");
    }
    buttonView.element.dataset.align = root2.query(`GET_STYLE_${definition.align}`);
    buttonView.element.classList.add(definition.className);
    buttonView.on("click", (e) => {
      e.stopPropagation();
      if (definition.disabled)
        return;
      root2.dispatch(definition.action, { query: id });
    });
    root2.ref[`button${key}`] = buttonView;
  });
  root2.ref.processingCompleteIndicator = root2.appendChildView(
    root2.createChildView(processingCompleteIndicatorView)
  );
  root2.ref.processingCompleteIndicator.element.dataset.align = root2.query(
    `GET_STYLE_BUTTON_PROCESS_ITEM_POSITION`
  );
  root2.ref.info = root2.appendChildView(root2.createChildView(fileInfo, { id }));
  root2.ref.status = root2.appendChildView(root2.createChildView(fileStatus, { id }));
  const loadIndicatorView = root2.appendChildView(
    root2.createChildView(progressIndicator, {
      opacity: 0,
      align: root2.query(`GET_STYLE_LOAD_INDICATOR_POSITION`)
    })
  );
  loadIndicatorView.element.classList.add("filepond--load-indicator");
  root2.ref.loadProgressIndicator = loadIndicatorView;
  const progressIndicatorView = root2.appendChildView(
    root2.createChildView(progressIndicator, {
      opacity: 0,
      align: root2.query(`GET_STYLE_PROGRESS_INDICATOR_POSITION`)
    })
  );
  progressIndicatorView.element.classList.add("filepond--process-indicator");
  root2.ref.processProgressIndicator = progressIndicatorView;
  root2.ref.activeStyles = [];
};
var write$2 = ({ root: root2, actions: actions2, props }) => {
  route({ root: root2, actions: actions2, props });
  let action = actions2.concat().filter((action2) => /^DID_/.test(action2.type)).reverse().find((action2) => StyleMap[action2.type]);
  if (action) {
    root2.ref.activeStyles = [];
    const stylesToApply = StyleMap[action.type];
    forin(DefaultStyle, (name2, defaultStyles) => {
      const control = root2.ref[name2];
      forin(defaultStyles, (key, defaultValue) => {
        const value = stylesToApply[name2] && typeof stylesToApply[name2][key] !== "undefined" ? stylesToApply[name2][key] : defaultValue;
        root2.ref.activeStyles.push({ control, key, value });
      });
    });
  }
  root2.ref.activeStyles.forEach(({ control, key, value }) => {
    control[key] = typeof value === "function" ? value(root2) : value;
  });
};
var route = createRoute({
  DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: ({ root: root2, action }) => {
    root2.ref.buttonAbortItemProcessing.label = action.value;
  },
  DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: ({ root: root2, action }) => {
    root2.ref.buttonAbortItemLoad.label = action.value;
  },
  DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: ({ root: root2, action }) => {
    root2.ref.buttonAbortItemRemoval.label = action.value;
  },
  DID_REQUEST_ITEM_PROCESSING: ({ root: root2 }) => {
    root2.ref.processProgressIndicator.spin = true;
    root2.ref.processProgressIndicator.progress = 0;
  },
  DID_START_ITEM_LOAD: ({ root: root2 }) => {
    root2.ref.loadProgressIndicator.spin = true;
    root2.ref.loadProgressIndicator.progress = 0;
  },
  DID_START_ITEM_REMOVE: ({ root: root2 }) => {
    root2.ref.processProgressIndicator.spin = true;
    root2.ref.processProgressIndicator.progress = 0;
  },
  DID_UPDATE_ITEM_LOAD_PROGRESS: ({ root: root2, action }) => {
    root2.ref.loadProgressIndicator.spin = false;
    root2.ref.loadProgressIndicator.progress = action.progress;
  },
  DID_UPDATE_ITEM_PROCESS_PROGRESS: ({ root: root2, action }) => {
    root2.ref.processProgressIndicator.spin = false;
    root2.ref.processProgressIndicator.progress = action.progress;
  }
});
var file = createView({
  create: create$4,
  write: write$2,
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  name: "file"
});
var create$5 = ({ root: root2, props }) => {
  root2.ref.fileName = createElement$1("legend");
  root2.appendChild(root2.ref.fileName);
  root2.ref.file = root2.appendChildView(root2.createChildView(file, { id: props.id }));
  root2.ref.data = false;
};
var didLoadItem = ({ root: root2, props }) => {
  text(root2.ref.fileName, formatFilename(root2.query("GET_ITEM_NAME", props.id)));
};
var fileWrapper = createView({
  create: create$5,
  ignoreRect: true,
  write: createRoute({
    DID_LOAD_ITEM: didLoadItem
  }),
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  tag: "fieldset",
  name: "file-wrapper"
});
var PANEL_SPRING_PROPS = { type: "spring", damping: 0.6, mass: 7 };
var create$6 = ({ root: root2, props }) => {
  [
    {
      name: "top"
    },
    {
      name: "center",
      props: {
        translateY: null,
        scaleY: null
      },
      mixins: {
        animations: {
          scaleY: PANEL_SPRING_PROPS
        },
        styles: ["translateY", "scaleY"]
      }
    },
    {
      name: "bottom",
      props: {
        translateY: null
      },
      mixins: {
        animations: {
          translateY: PANEL_SPRING_PROPS
        },
        styles: ["translateY"]
      }
    }
  ].forEach((section) => {
    createSection(root2, section, props.name);
  });
  root2.element.classList.add(`filepond--${props.name}`);
  root2.ref.scalable = null;
};
var createSection = (root2, section, className) => {
  const viewConstructor = createView({
    name: `panel-${section.name} filepond--${className}`,
    mixins: section.mixins,
    ignoreRectUpdate: true
  });
  const view = root2.createChildView(viewConstructor, section.props);
  root2.ref[section.name] = root2.appendChildView(view);
};
var write$3 = ({ root: root2, props }) => {
  if (root2.ref.scalable === null || props.scalable !== root2.ref.scalable) {
    root2.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;
    root2.element.dataset.scalable = root2.ref.scalable;
  }
  if (!props.height)
    return;
  const topRect = root2.ref.top.rect.element;
  const bottomRect = root2.ref.bottom.rect.element;
  const height = Math.max(topRect.height + bottomRect.height, props.height);
  root2.ref.center.translateY = topRect.height;
  root2.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;
  root2.ref.bottom.translateY = height - bottomRect.height;
};
var panel = createView({
  name: "panel",
  read: ({ root: root2, props }) => props.heightCurrent = root2.ref.bottom.translateY,
  write: write$3,
  create: create$6,
  ignoreRect: true,
  mixins: {
    apis: ["height", "heightCurrent", "scalable"]
  }
});
var createDragHelper = (items) => {
  const itemIds = items.map((item2) => item2.id);
  let prevIndex = void 0;
  return {
    setIndex: (index) => {
      prevIndex = index;
    },
    getIndex: () => prevIndex,
    getItemIndex: (item2) => itemIds.indexOf(item2.id)
  };
};
var ITEM_TRANSLATE_SPRING = {
  type: "spring",
  stiffness: 0.75,
  damping: 0.45,
  mass: 10
};
var ITEM_SCALE_SPRING = "spring";
var StateMap = {
  DID_START_ITEM_LOAD: "busy",
  DID_UPDATE_ITEM_LOAD_PROGRESS: "loading",
  DID_THROW_ITEM_INVALID: "load-invalid",
  DID_THROW_ITEM_LOAD_ERROR: "load-error",
  DID_LOAD_ITEM: "idle",
  DID_THROW_ITEM_REMOVE_ERROR: "remove-error",
  DID_START_ITEM_REMOVE: "busy",
  DID_START_ITEM_PROCESSING: "busy processing",
  DID_REQUEST_ITEM_PROCESSING: "busy processing",
  DID_UPDATE_ITEM_PROCESS_PROGRESS: "processing",
  DID_COMPLETE_ITEM_PROCESSING: "processing-complete",
  DID_THROW_ITEM_PROCESSING_ERROR: "processing-error",
  DID_THROW_ITEM_PROCESSING_REVERT_ERROR: "processing-revert-error",
  DID_ABORT_ITEM_PROCESSING: "cancelled",
  DID_REVERT_ITEM_PROCESSING: "idle"
};
var create$7 = ({ root: root2, props }) => {
  root2.ref.handleClick = (e) => root2.dispatch("DID_ACTIVATE_ITEM", { id: props.id });
  root2.element.id = `filepond--item-${props.id}`;
  root2.element.addEventListener("click", root2.ref.handleClick);
  root2.ref.container = root2.appendChildView(root2.createChildView(fileWrapper, { id: props.id }));
  root2.ref.panel = root2.appendChildView(root2.createChildView(panel, { name: "item-panel" }));
  root2.ref.panel.height = null;
  props.markedForRemoval = false;
  if (!root2.query("GET_ALLOW_REORDER"))
    return;
  root2.element.dataset.dragState = "idle";
  const grab = (e) => {
    if (!e.isPrimary)
      return;
    let removedActivateListener = false;
    const origin = {
      x: e.pageX,
      y: e.pageY
    };
    props.dragOrigin = {
      x: root2.translateX,
      y: root2.translateY
    };
    props.dragCenter = {
      x: e.offsetX,
      y: e.offsetY
    };
    const dragState = createDragHelper(root2.query("GET_ACTIVE_ITEMS"));
    root2.dispatch("DID_GRAB_ITEM", { id: props.id, dragState });
    const drag = (e2) => {
      if (!e2.isPrimary)
        return;
      e2.stopPropagation();
      e2.preventDefault();
      props.dragOffset = {
        x: e2.pageX - origin.x,
        y: e2.pageY - origin.y
      };
      const dist = props.dragOffset.x * props.dragOffset.x + props.dragOffset.y * props.dragOffset.y;
      if (dist > 16 && !removedActivateListener) {
        removedActivateListener = true;
        root2.element.removeEventListener("click", root2.ref.handleClick);
      }
      root2.dispatch("DID_DRAG_ITEM", { id: props.id, dragState });
    };
    const drop2 = (e2) => {
      if (!e2.isPrimary)
        return;
      document.removeEventListener("pointermove", drag);
      document.removeEventListener("pointerup", drop2);
      props.dragOffset = {
        x: e2.pageX - origin.x,
        y: e2.pageY - origin.y
      };
      root2.dispatch("DID_DROP_ITEM", { id: props.id, dragState });
      if (removedActivateListener) {
        setTimeout(() => root2.element.addEventListener("click", root2.ref.handleClick), 0);
      }
    };
    document.addEventListener("pointermove", drag);
    document.addEventListener("pointerup", drop2);
  };
  root2.element.addEventListener("pointerdown", grab);
};
var route$1 = createRoute({
  DID_UPDATE_PANEL_HEIGHT: ({ root: root2, action }) => {
    root2.height = action.height;
  }
});
var write$4 = createRoute(
  {
    DID_GRAB_ITEM: ({ root: root2, props }) => {
      props.dragOrigin = {
        x: root2.translateX,
        y: root2.translateY
      };
    },
    DID_DRAG_ITEM: ({ root: root2 }) => {
      root2.element.dataset.dragState = "drag";
    },
    DID_DROP_ITEM: ({ root: root2, props }) => {
      props.dragOffset = null;
      props.dragOrigin = null;
      root2.element.dataset.dragState = "drop";
    }
  },
  ({ root: root2, actions: actions2, props, shouldOptimize }) => {
    if (root2.element.dataset.dragState === "drop") {
      if (root2.scaleX <= 1) {
        root2.element.dataset.dragState = "idle";
      }
    }
    let action = actions2.concat().filter((action2) => /^DID_/.test(action2.type)).reverse().find((action2) => StateMap[action2.type]);
    if (action && action.type !== props.currentState) {
      props.currentState = action.type;
      root2.element.dataset.filepondItemState = StateMap[props.currentState] || "";
    }
    const aspectRatio = root2.query("GET_ITEM_PANEL_ASPECT_RATIO") || root2.query("GET_PANEL_ASPECT_RATIO");
    if (!aspectRatio) {
      route$1({ root: root2, actions: actions2, props });
      if (!root2.height && root2.ref.container.rect.element.height > 0) {
        root2.height = root2.ref.container.rect.element.height;
      }
    } else if (!shouldOptimize) {
      root2.height = root2.rect.element.width * aspectRatio;
    }
    if (shouldOptimize) {
      root2.ref.panel.height = null;
    }
    root2.ref.panel.height = root2.height;
  }
);
var item = createView({
  create: create$7,
  write: write$4,
  destroy: ({ root: root2, props }) => {
    root2.element.removeEventListener("click", root2.ref.handleClick);
    root2.dispatch("RELEASE_ITEM", { query: props.id });
  },
  tag: "li",
  name: "item",
  mixins: {
    apis: [
      "id",
      "interactionMethod",
      "markedForRemoval",
      "spawnDate",
      "dragCenter",
      "dragOrigin",
      "dragOffset"
    ],
    styles: ["translateX", "translateY", "scaleX", "scaleY", "opacity", "height"],
    animations: {
      scaleX: ITEM_SCALE_SPRING,
      scaleY: ITEM_SCALE_SPRING,
      translateX: ITEM_TRANSLATE_SPRING,
      translateY: ITEM_TRANSLATE_SPRING,
      opacity: { type: "tween", duration: 150 }
    }
  }
});
var getItemsPerRow = (horizontalSpace, itemWidth) => {
  return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));
};
var getItemIndexByPosition = (view, children, positionInView) => {
  if (!positionInView)
    return;
  const horizontalSpace = view.rect.element.width;
  const l = children.length;
  let last = null;
  if (l === 0 || positionInView.top < children[0].rect.element.top)
    return -1;
  const item2 = children[0];
  const itemRect = item2.rect.element;
  const itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;
  const itemWidth = itemRect.width + itemHorizontalMargin;
  const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);
  if (itemsPerRow === 1) {
    for (let index = 0; index < l; index++) {
      const child = children[index];
      const childMid = child.rect.outer.top + child.rect.element.height * 0.5;
      if (positionInView.top < childMid) {
        return index;
      }
    }
    return l;
  }
  const itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;
  const itemHeight = itemRect.height + itemVerticalMargin;
  for (let index = 0; index < l; index++) {
    const indexX = index % itemsPerRow;
    const indexY = Math.floor(index / itemsPerRow);
    const offsetX = indexX * itemWidth;
    const offsetY = indexY * itemHeight;
    const itemTop = offsetY - itemRect.marginTop;
    const itemRight = offsetX + itemWidth;
    const itemBottom = offsetY + itemHeight + itemRect.marginBottom;
    if (positionInView.top < itemBottom && positionInView.top > itemTop) {
      if (positionInView.left < itemRight) {
        return index;
      } else if (index !== l - 1) {
        last = index;
      } else {
        last = null;
      }
    }
  }
  if (last !== null) {
    return last;
  }
  return l;
};
var dropAreaDimensions = {
  height: 0,
  width: 0,
  get getHeight() {
    return this.height;
  },
  set setHeight(val) {
    if (this.height === 0 || val === 0)
      this.height = val;
  },
  get getWidth() {
    return this.width;
  },
  set setWidth(val) {
    if (this.width === 0 || val === 0)
      this.width = val;
  },
  setDimensions: function(height, width) {
    if (this.height === 0 || height === 0)
      this.height = height;
    if (this.width === 0 || width === 0)
      this.width = width;
  }
};
var create$8 = ({ root: root2 }) => {
  attr(root2.element, "role", "list");
  root2.ref.lastItemSpanwDate = Date.now();
};
var addItemView = ({ root: root2, action }) => {
  const { id, index, interactionMethod } = action;
  root2.ref.addIndex = index;
  const now = Date.now();
  let spawnDate = now;
  let opacity = 1;
  if (interactionMethod !== InteractionMethod.NONE) {
    opacity = 0;
    const cooldown = root2.query("GET_ITEM_INSERT_INTERVAL");
    const dist = now - root2.ref.lastItemSpanwDate;
    spawnDate = dist < cooldown ? now + (cooldown - dist) : now;
  }
  root2.ref.lastItemSpanwDate = spawnDate;
  root2.appendChildView(
    root2.createChildView(
      // view type
      item,
      // props
      {
        spawnDate,
        id,
        opacity,
        interactionMethod
      }
    ),
    index
  );
};
var moveItem = (item2, x, y, vx = 0, vy = 1) => {
  if (item2.dragOffset) {
    item2.translateX = null;
    item2.translateY = null;
    item2.translateX = item2.dragOrigin.x + item2.dragOffset.x;
    item2.translateY = item2.dragOrigin.y + item2.dragOffset.y;
    item2.scaleX = 1.025;
    item2.scaleY = 1.025;
  } else {
    item2.translateX = x;
    item2.translateY = y;
    if (Date.now() > item2.spawnDate) {
      if (item2.opacity === 0) {
        introItemView(item2, x, y, vx, vy);
      }
      item2.scaleX = 1;
      item2.scaleY = 1;
      item2.opacity = 1;
    }
  }
};
var introItemView = (item2, x, y, vx, vy) => {
  if (item2.interactionMethod === InteractionMethod.NONE) {
    item2.translateX = null;
    item2.translateX = x;
    item2.translateY = null;
    item2.translateY = y;
  } else if (item2.interactionMethod === InteractionMethod.DROP) {
    item2.translateX = null;
    item2.translateX = x - vx * 20;
    item2.translateY = null;
    item2.translateY = y - vy * 10;
    item2.scaleX = 0.8;
    item2.scaleY = 0.8;
  } else if (item2.interactionMethod === InteractionMethod.BROWSE) {
    item2.translateY = null;
    item2.translateY = y - 30;
  } else if (item2.interactionMethod === InteractionMethod.API) {
    item2.translateX = null;
    item2.translateX = x - 30;
    item2.translateY = null;
  }
};
var removeItemView = ({ root: root2, action }) => {
  const { id } = action;
  const view = root2.childViews.find((child) => child.id === id);
  if (!view) {
    return;
  }
  view.scaleX = 0.9;
  view.scaleY = 0.9;
  view.opacity = 0;
  view.markedForRemoval = true;
};
var getItemHeight = (child) => child.rect.element.height + child.rect.element.marginBottom * 0.5 + child.rect.element.marginTop * 0.5;
var getItemWidth = (child) => child.rect.element.width + child.rect.element.marginLeft * 0.5 + child.rect.element.marginRight * 0.5;
var dragItem = ({ root: root2, action }) => {
  const { id, dragState } = action;
  const item2 = root2.query("GET_ITEM", { id });
  const view = root2.childViews.find((child) => child.id === id);
  const numItems = root2.childViews.length;
  const oldIndex = dragState.getItemIndex(item2);
  if (!view)
    return;
  const dragPosition = {
    x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,
    y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y
  };
  const dragHeight = getItemHeight(view);
  const dragWidth = getItemWidth(view);
  let cols = Math.floor(root2.rect.outer.width / dragWidth);
  if (cols > numItems)
    cols = numItems;
  const rows = Math.floor(numItems / cols + 1);
  dropAreaDimensions.setHeight = dragHeight * rows;
  dropAreaDimensions.setWidth = dragWidth * cols;
  var location3 = {
    y: Math.floor(dragPosition.y / dragHeight),
    x: Math.floor(dragPosition.x / dragWidth),
    getGridIndex: function getGridIndex() {
      if (dragPosition.y > dropAreaDimensions.getHeight || dragPosition.y < 0 || dragPosition.x > dropAreaDimensions.getWidth || dragPosition.x < 0)
        return oldIndex;
      return this.y * cols + this.x;
    },
    getColIndex: function getColIndex() {
      const items = root2.query("GET_ACTIVE_ITEMS");
      const visibleChildren = root2.childViews.filter((child) => child.rect.element.height);
      const children = items.map(
        (item3) => visibleChildren.find((childView) => childView.id === item3.id)
      );
      const currentIndex2 = children.findIndex((child) => child === view);
      const dragHeight2 = getItemHeight(view);
      const l = children.length;
      let idx = l;
      let childHeight = 0;
      let childBottom = 0;
      let childTop = 0;
      for (let i = 0; i < l; i++) {
        childHeight = getItemHeight(children[i]);
        childTop = childBottom;
        childBottom = childTop + childHeight;
        if (dragPosition.y < childBottom) {
          if (currentIndex2 > i) {
            if (dragPosition.y < childTop + dragHeight2) {
              idx = i;
              break;
            }
            continue;
          }
          idx = i;
          break;
        }
      }
      return idx;
    }
  };
  const index = cols > 1 ? location3.getGridIndex() : location3.getColIndex();
  root2.dispatch("MOVE_ITEM", { query: view, index });
  const currentIndex = dragState.getIndex();
  if (currentIndex === void 0 || currentIndex !== index) {
    dragState.setIndex(index);
    if (currentIndex === void 0)
      return;
    root2.dispatch("DID_REORDER_ITEMS", {
      items: root2.query("GET_ACTIVE_ITEMS"),
      origin: oldIndex,
      target: index
    });
  }
};
var route$2 = createRoute({
  DID_ADD_ITEM: addItemView,
  DID_REMOVE_ITEM: removeItemView,
  DID_DRAG_ITEM: dragItem
});
var write$5 = ({ root: root2, props, actions: actions2, shouldOptimize }) => {
  route$2({ root: root2, props, actions: actions2 });
  const { dragCoordinates } = props;
  const horizontalSpace = root2.rect.element.width;
  const visibleChildren = root2.childViews.filter((child) => child.rect.element.height);
  const children = root2.query("GET_ACTIVE_ITEMS").map((item2) => visibleChildren.find((child) => child.id === item2.id)).filter((item2) => item2);
  const dragIndex = dragCoordinates ? getItemIndexByPosition(root2, children, dragCoordinates) : null;
  const addIndex = root2.ref.addIndex || null;
  root2.ref.addIndex = null;
  let dragIndexOffset = 0;
  let removeIndexOffset = 0;
  let addIndexOffset = 0;
  if (children.length === 0)
    return;
  const childRect = children[0].rect.element;
  const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;
  const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;
  const itemWidth = childRect.width + itemHorizontalMargin;
  const itemHeight = childRect.height + itemVerticalMargin;
  const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);
  if (itemsPerRow === 1) {
    let offsetY = 0;
    let dragOffset = 0;
    children.forEach((child, index) => {
      if (dragIndex) {
        let dist = index - dragIndex;
        if (dist === -2) {
          dragOffset = -itemVerticalMargin * 0.25;
        } else if (dist === -1) {
          dragOffset = -itemVerticalMargin * 0.75;
        } else if (dist === 0) {
          dragOffset = itemVerticalMargin * 0.75;
        } else if (dist === 1) {
          dragOffset = itemVerticalMargin * 0.25;
        } else {
          dragOffset = 0;
        }
      }
      if (shouldOptimize) {
        child.translateX = null;
        child.translateY = null;
      }
      if (!child.markedForRemoval) {
        moveItem(child, 0, offsetY + dragOffset);
      }
      let itemHeight2 = child.rect.element.height + itemVerticalMargin;
      let visualHeight = itemHeight2 * (child.markedForRemoval ? child.opacity : 1);
      offsetY += visualHeight;
    });
  } else {
    let prevX = 0;
    let prevY = 0;
    children.forEach((child, index) => {
      if (index === dragIndex) {
        dragIndexOffset = 1;
      }
      if (index === addIndex) {
        addIndexOffset += 1;
      }
      if (child.markedForRemoval && child.opacity < 0.5) {
        removeIndexOffset -= 1;
      }
      const visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;
      const indexX = visualIndex % itemsPerRow;
      const indexY = Math.floor(visualIndex / itemsPerRow);
      const offsetX = indexX * itemWidth;
      const offsetY = indexY * itemHeight;
      const vectorX = Math.sign(offsetX - prevX);
      const vectorY = Math.sign(offsetY - prevY);
      prevX = offsetX;
      prevY = offsetY;
      if (child.markedForRemoval)
        return;
      if (shouldOptimize) {
        child.translateX = null;
        child.translateY = null;
      }
      moveItem(child, offsetX, offsetY, vectorX, vectorY);
    });
  }
};
var filterSetItemActions = (child, actions2) => actions2.filter((action) => {
  if (action.data && action.data.id) {
    return child.id === action.data.id;
  }
  return true;
});
var list = createView({
  create: create$8,
  write: write$5,
  tag: "ul",
  name: "list",
  didWriteView: ({ root: root2 }) => {
    root2.childViews.filter((view) => view.markedForRemoval && view.opacity === 0 && view.resting).forEach((view) => {
      view._destroy();
      root2.removeChildView(view);
    });
  },
  filterFrameActionsForChild: filterSetItemActions,
  mixins: {
    apis: ["dragCoordinates"]
  }
});
var create$9 = ({ root: root2, props }) => {
  root2.ref.list = root2.appendChildView(root2.createChildView(list));
  props.dragCoordinates = null;
  props.overflowing = false;
};
var storeDragCoordinates = ({ root: root2, props, action }) => {
  if (!root2.query("GET_ITEM_INSERT_LOCATION_FREEDOM"))
    return;
  props.dragCoordinates = {
    left: action.position.scopeLeft - root2.ref.list.rect.element.left,
    top: action.position.scopeTop - (root2.rect.outer.top + root2.rect.element.marginTop + root2.rect.element.scrollTop)
  };
};
var clearDragCoordinates = ({ props }) => {
  props.dragCoordinates = null;
};
var route$3 = createRoute({
  DID_DRAG: storeDragCoordinates,
  DID_END_DRAG: clearDragCoordinates
});
var write$6 = ({ root: root2, props, actions: actions2 }) => {
  route$3({ root: root2, props, actions: actions2 });
  root2.ref.list.dragCoordinates = props.dragCoordinates;
  if (props.overflowing && !props.overflow) {
    props.overflowing = false;
    root2.element.dataset.state = "";
    root2.height = null;
  }
  if (props.overflow) {
    const newHeight = Math.round(props.overflow);
    if (newHeight !== root2.height) {
      props.overflowing = true;
      root2.element.dataset.state = "overflow";
      root2.height = newHeight;
    }
  }
};
var listScroller = createView({
  create: create$9,
  write: write$6,
  name: "list-scroller",
  mixins: {
    apis: ["overflow", "dragCoordinates"],
    styles: ["height", "translateY"],
    animations: {
      translateY: "spring"
    }
  }
});
var attrToggle = (element, name2, state2, enabledValue = "") => {
  if (state2) {
    attr(element, name2, enabledValue);
  } else {
    element.removeAttribute(name2);
  }
};
var resetFileInput = (input) => {
  if (!input || input.value === "") {
    return;
  }
  try {
    input.value = "";
  } catch (err) {
  }
  if (input.value) {
    const form = createElement$1("form");
    const parentNode = input.parentNode;
    const ref = input.nextSibling;
    form.appendChild(input);
    form.reset();
    if (ref) {
      parentNode.insertBefore(input, ref);
    } else {
      parentNode.appendChild(input);
    }
  }
};
var create$a = ({ root: root2, props }) => {
  root2.element.id = `filepond--browser-${props.id}`;
  attr(root2.element, "name", root2.query("GET_NAME"));
  attr(root2.element, "aria-controls", `filepond--assistant-${props.id}`);
  attr(root2.element, "aria-labelledby", `filepond--drop-label-${props.id}`);
  setAcceptedFileTypes({ root: root2, action: { value: root2.query("GET_ACCEPTED_FILE_TYPES") } });
  toggleAllowMultiple({ root: root2, action: { value: root2.query("GET_ALLOW_MULTIPLE") } });
  toggleDirectoryFilter({ root: root2, action: { value: root2.query("GET_ALLOW_DIRECTORIES_ONLY") } });
  toggleDisabled({ root: root2 });
  toggleRequired({ root: root2, action: { value: root2.query("GET_REQUIRED") } });
  setCaptureMethod({ root: root2, action: { value: root2.query("GET_CAPTURE_METHOD") } });
  root2.ref.handleChange = (e) => {
    if (!root2.element.value) {
      return;
    }
    const files = Array.from(root2.element.files).map((file2) => {
      file2._relativePath = file2.webkitRelativePath;
      return file2;
    });
    setTimeout(() => {
      props.onload(files);
      resetFileInput(root2.element);
    }, 250);
  };
  root2.element.addEventListener("change", root2.ref.handleChange);
};
var setAcceptedFileTypes = ({ root: root2, action }) => {
  if (!root2.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE"))
    return;
  attrToggle(root2.element, "accept", !!action.value, action.value ? action.value.join(",") : "");
};
var toggleAllowMultiple = ({ root: root2, action }) => {
  attrToggle(root2.element, "multiple", action.value);
};
var toggleDirectoryFilter = ({ root: root2, action }) => {
  attrToggle(root2.element, "webkitdirectory", action.value);
};
var toggleDisabled = ({ root: root2 }) => {
  const isDisabled = root2.query("GET_DISABLED");
  const doesAllowBrowse = root2.query("GET_ALLOW_BROWSE");
  const disableField = isDisabled || !doesAllowBrowse;
  attrToggle(root2.element, "disabled", disableField);
};
var toggleRequired = ({ root: root2, action }) => {
  if (!action.value) {
    attrToggle(root2.element, "required", false);
  } else if (root2.query("GET_TOTAL_ITEMS") === 0) {
    attrToggle(root2.element, "required", true);
  }
};
var setCaptureMethod = ({ root: root2, action }) => {
  attrToggle(root2.element, "capture", !!action.value, action.value === true ? "" : action.value);
};
var updateRequiredStatus = ({ root: root2 }) => {
  const { element } = root2;
  if (root2.query("GET_TOTAL_ITEMS") > 0) {
    attrToggle(element, "required", false);
    attrToggle(element, "name", false);
  } else {
    attrToggle(element, "name", true, root2.query("GET_NAME"));
    const shouldCheckValidity = root2.query("GET_CHECK_VALIDITY");
    if (shouldCheckValidity) {
      element.setCustomValidity("");
    }
    if (root2.query("GET_REQUIRED")) {
      attrToggle(element, "required", true);
    }
  }
};
var updateFieldValidityStatus = ({ root: root2 }) => {
  const shouldCheckValidity = root2.query("GET_CHECK_VALIDITY");
  if (!shouldCheckValidity)
    return;
  root2.element.setCustomValidity(root2.query("GET_LABEL_INVALID_FIELD"));
};
var browser = createView({
  tag: "input",
  name: "browser",
  ignoreRect: true,
  ignoreRectUpdate: true,
  attributes: {
    type: "file"
  },
  create: create$a,
  destroy: ({ root: root2 }) => {
    root2.element.removeEventListener("change", root2.ref.handleChange);
  },
  write: createRoute({
    DID_LOAD_ITEM: updateRequiredStatus,
    DID_REMOVE_ITEM: updateRequiredStatus,
    DID_THROW_ITEM_INVALID: updateFieldValidityStatus,
    DID_SET_DISABLED: toggleDisabled,
    DID_SET_ALLOW_BROWSE: toggleDisabled,
    DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,
    DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,
    DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,
    DID_SET_CAPTURE_METHOD: setCaptureMethod,
    DID_SET_REQUIRED: toggleRequired
  })
});
var Key = {
  ENTER: 13,
  SPACE: 32
};
var create$b = ({ root: root2, props }) => {
  const label = createElement$1("label");
  attr(label, "for", `filepond--browser-${props.id}`);
  attr(label, "id", `filepond--drop-label-${props.id}`);
  attr(label, "aria-hidden", "true");
  root2.ref.handleKeyDown = (e) => {
    const isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;
    if (!isActivationKey)
      return;
    e.preventDefault();
    root2.ref.label.click();
  };
  root2.ref.handleClick = (e) => {
    const isLabelClick = e.target === label || label.contains(e.target);
    if (isLabelClick)
      return;
    root2.ref.label.click();
  };
  label.addEventListener("keydown", root2.ref.handleKeyDown);
  root2.element.addEventListener("click", root2.ref.handleClick);
  updateLabelValue(label, props.caption);
  root2.appendChild(label);
  root2.ref.label = label;
};
var updateLabelValue = (label, value) => {
  label.innerHTML = value;
  const clickable = label.querySelector(".filepond--label-action");
  if (clickable) {
    attr(clickable, "tabindex", "0");
  }
  return value;
};
var dropLabel = createView({
  name: "drop-label",
  ignoreRect: true,
  create: create$b,
  destroy: ({ root: root2 }) => {
    root2.ref.label.addEventListener("keydown", root2.ref.handleKeyDown);
    root2.element.removeEventListener("click", root2.ref.handleClick);
  },
  write: createRoute({
    DID_SET_LABEL_IDLE: ({ root: root2, action }) => {
      updateLabelValue(root2.ref.label, action.value);
    }
  }),
  mixins: {
    styles: ["opacity", "translateX", "translateY"],
    animations: {
      opacity: { type: "tween", duration: 150 },
      translateX: "spring",
      translateY: "spring"
    }
  }
});
var blob = createView({
  name: "drip-blob",
  ignoreRect: true,
  mixins: {
    styles: ["translateX", "translateY", "scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: "spring",
      scaleY: "spring",
      translateX: "spring",
      translateY: "spring",
      opacity: { type: "tween", duration: 250 }
    }
  }
});
var addBlob = ({ root: root2 }) => {
  const centerX = root2.rect.element.width * 0.5;
  const centerY = root2.rect.element.height * 0.5;
  root2.ref.blob = root2.appendChildView(
    root2.createChildView(blob, {
      opacity: 0,
      scaleX: 2.5,
      scaleY: 2.5,
      translateX: centerX,
      translateY: centerY
    })
  );
};
var moveBlob = ({ root: root2, action }) => {
  if (!root2.ref.blob) {
    addBlob({ root: root2 });
    return;
  }
  root2.ref.blob.translateX = action.position.scopeLeft;
  root2.ref.blob.translateY = action.position.scopeTop;
  root2.ref.blob.scaleX = 1;
  root2.ref.blob.scaleY = 1;
  root2.ref.blob.opacity = 1;
};
var hideBlob = ({ root: root2 }) => {
  if (!root2.ref.blob) {
    return;
  }
  root2.ref.blob.opacity = 0;
};
var explodeBlob = ({ root: root2 }) => {
  if (!root2.ref.blob) {
    return;
  }
  root2.ref.blob.scaleX = 2.5;
  root2.ref.blob.scaleY = 2.5;
  root2.ref.blob.opacity = 0;
};
var write$7 = ({ root: root2, props, actions: actions2 }) => {
  route$4({ root: root2, props, actions: actions2 });
  const { blob: blob2 } = root2.ref;
  if (actions2.length === 0 && blob2 && blob2.opacity === 0) {
    root2.removeChildView(blob2);
    root2.ref.blob = null;
  }
};
var route$4 = createRoute({
  DID_DRAG: moveBlob,
  DID_DROP: explodeBlob,
  DID_END_DRAG: hideBlob
});
var drip = createView({
  ignoreRect: true,
  ignoreRectUpdate: true,
  name: "drip",
  write: write$7
});
var setInputFiles = (element, files) => {
  try {
    const dataTransfer = new DataTransfer();
    files.forEach((file2) => {
      if (file2 instanceof File) {
        dataTransfer.items.add(file2);
      } else {
        dataTransfer.items.add(
          new File([file2], file2.name, {
            type: file2.type
          })
        );
      }
    });
    element.files = dataTransfer.files;
  } catch (err) {
    return false;
  }
  return true;
};
var create$c = ({ root: root2 }) => root2.ref.fields = {};
var getField = (root2, id) => root2.ref.fields[id];
var syncFieldPositionsWithItems = (root2) => {
  root2.query("GET_ACTIVE_ITEMS").forEach((item2) => {
    if (!root2.ref.fields[item2.id])
      return;
    root2.element.appendChild(root2.ref.fields[item2.id]);
  });
};
var didReorderItems = ({ root: root2 }) => syncFieldPositionsWithItems(root2);
var didAddItem = ({ root: root2, action }) => {
  const fileItem = root2.query("GET_ITEM", action.id);
  const isLocalFile = fileItem.origin === FileOrigin.LOCAL;
  const shouldUseFileInput = !isLocalFile && root2.query("SHOULD_UPDATE_FILE_INPUT");
  const dataContainer = createElement$1("input");
  dataContainer.type = shouldUseFileInput ? "file" : "hidden";
  dataContainer.name = root2.query("GET_NAME");
  dataContainer.disabled = root2.query("GET_DISABLED");
  root2.ref.fields[action.id] = dataContainer;
  syncFieldPositionsWithItems(root2);
};
var didLoadItem$1 = ({ root: root2, action }) => {
  const field = getField(root2, action.id);
  if (!field)
    return;
  if (action.serverFileReference !== null)
    field.value = action.serverFileReference;
  if (!root2.query("SHOULD_UPDATE_FILE_INPUT"))
    return;
  const fileItem = root2.query("GET_ITEM", action.id);
  setInputFiles(field, [fileItem.file]);
};
var didPrepareOutput = ({ root: root2, action }) => {
  if (!root2.query("SHOULD_UPDATE_FILE_INPUT"))
    return;
  setTimeout(() => {
    const field = getField(root2, action.id);
    if (!field)
      return;
    setInputFiles(field, [action.file]);
  }, 0);
};
var didSetDisabled = ({ root: root2 }) => {
  root2.element.disabled = root2.query("GET_DISABLED");
};
var didRemoveItem = ({ root: root2, action }) => {
  const field = getField(root2, action.id);
  if (!field)
    return;
  if (field.parentNode)
    field.parentNode.removeChild(field);
  delete root2.ref.fields[action.id];
};
var didDefineValue = ({ root: root2, action }) => {
  const field = getField(root2, action.id);
  if (!field)
    return;
  if (action.value === null) {
    field.removeAttribute("value");
  } else {
    field.value = action.value;
  }
  syncFieldPositionsWithItems(root2);
};
var write$8 = createRoute({
  DID_SET_DISABLED: didSetDisabled,
  DID_ADD_ITEM: didAddItem,
  DID_LOAD_ITEM: didLoadItem$1,
  DID_REMOVE_ITEM: didRemoveItem,
  DID_DEFINE_VALUE: didDefineValue,
  DID_PREPARE_OUTPUT: didPrepareOutput,
  DID_REORDER_ITEMS: didReorderItems,
  DID_SORT_ITEMS: didReorderItems
});
var data2 = createView({
  tag: "fieldset",
  name: "data",
  create: create$c,
  write: write$8,
  ignoreRect: true
});
var getRootNode = (element) => "getRootNode" in element ? element.getRootNode() : document;
var images = ["jpg", "jpeg", "png", "gif", "bmp", "webp", "svg", "tiff"];
var text$1 = ["css", "csv", "html", "txt"];
var map = {
  zip: "zip|compressed",
  epub: "application/epub+zip"
};
var guesstimateMimeType = (extension = "") => {
  extension = extension.toLowerCase();
  if (images.includes(extension)) {
    return "image/" + (extension === "jpg" ? "jpeg" : extension === "svg" ? "svg+xml" : extension);
  }
  if (text$1.includes(extension)) {
    return "text/" + extension;
  }
  return map[extension] || "";
};
var requestDataTransferItems = (dataTransfer) => new Promise((resolve, reject) => {
  const links = getLinks(dataTransfer);
  if (links.length && !hasFiles(dataTransfer)) {
    return resolve(links);
  }
  getFiles(dataTransfer).then(resolve);
});
var hasFiles = (dataTransfer) => {
  if (dataTransfer.files)
    return dataTransfer.files.length > 0;
  return false;
};
var getFiles = (dataTransfer) => new Promise((resolve, reject) => {
  const promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : []).filter((item2) => isFileSystemItem(item2)).map((item2) => getFilesFromItem(item2));
  if (!promisedFiles.length) {
    resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);
    return;
  }
  Promise.all(promisedFiles).then((returnedFileGroups) => {
    const files = [];
    returnedFileGroups.forEach((group) => {
      files.push.apply(files, group);
    });
    resolve(
      files.filter((file2) => file2).map((file2) => {
        if (!file2._relativePath)
          file2._relativePath = file2.webkitRelativePath;
        return file2;
      })
    );
  }).catch(console.error);
});
var isFileSystemItem = (item2) => {
  if (isEntry(item2)) {
    const entry = getAsEntry(item2);
    if (entry) {
      return entry.isFile || entry.isDirectory;
    }
  }
  return item2.kind === "file";
};
var getFilesFromItem = (item2) => new Promise((resolve, reject) => {
  if (isDirectoryEntry(item2)) {
    getFilesInDirectory(getAsEntry(item2)).then(resolve).catch(reject);
    return;
  }
  resolve([item2.getAsFile()]);
});
var getFilesInDirectory = (entry) => new Promise((resolve, reject) => {
  const files = [];
  let dirCounter = 0;
  let fileCounter = 0;
  const resolveIfDone = () => {
    if (fileCounter === 0 && dirCounter === 0) {
      resolve(files);
    }
  };
  const readEntries = (dirEntry) => {
    dirCounter++;
    const directoryReader = dirEntry.createReader();
    const readBatch = () => {
      directoryReader.readEntries((entries) => {
        if (entries.length === 0) {
          dirCounter--;
          resolveIfDone();
          return;
        }
        entries.forEach((entry2) => {
          if (entry2.isDirectory) {
            readEntries(entry2);
          } else {
            fileCounter++;
            entry2.file((file2) => {
              const correctedFile = correctMissingFileType(file2);
              if (entry2.fullPath)
                correctedFile._relativePath = entry2.fullPath;
              files.push(correctedFile);
              fileCounter--;
              resolveIfDone();
            });
          }
        });
        readBatch();
      }, reject);
    };
    readBatch();
  };
  readEntries(entry);
});
var correctMissingFileType = (file2) => {
  if (file2.type.length)
    return file2;
  const date = file2.lastModifiedDate;
  const name2 = file2.name;
  const type = guesstimateMimeType(getExtensionFromFilename(file2.name));
  if (!type.length)
    return file2;
  file2 = file2.slice(0, file2.size, type);
  file2.name = name2;
  file2.lastModifiedDate = date;
  return file2;
};
var isDirectoryEntry = (item2) => isEntry(item2) && (getAsEntry(item2) || {}).isDirectory;
var isEntry = (item2) => "webkitGetAsEntry" in item2;
var getAsEntry = (item2) => item2.webkitGetAsEntry();
var getLinks = (dataTransfer) => {
  let links = [];
  try {
    links = getLinksFromTransferMetaData(dataTransfer);
    if (links.length) {
      return links;
    }
    links = getLinksFromTransferURLData(dataTransfer);
  } catch (e) {
  }
  return links;
};
var getLinksFromTransferURLData = (dataTransfer) => {
  let data3 = dataTransfer.getData("url");
  if (typeof data3 === "string" && data3.length) {
    return [data3];
  }
  return [];
};
var getLinksFromTransferMetaData = (dataTransfer) => {
  let data3 = dataTransfer.getData("text/html");
  if (typeof data3 === "string" && data3.length) {
    const matches = data3.match(/src\s*=\s*"(.+?)"/);
    if (matches) {
      return [matches[1]];
    }
  }
  return [];
};
var dragNDropObservers = [];
var eventPosition = (e) => ({
  pageLeft: e.pageX,
  pageTop: e.pageY,
  scopeLeft: e.offsetX || e.layerX,
  scopeTop: e.offsetY || e.layerY
});
var createDragNDropClient = (element, scopeToObserve, filterElement) => {
  const observer = getDragNDropObserver(scopeToObserve);
  const client = {
    element,
    filterElement,
    state: null,
    ondrop: () => {
    },
    onenter: () => {
    },
    ondrag: () => {
    },
    onexit: () => {
    },
    onload: () => {
    },
    allowdrop: () => {
    }
  };
  client.destroy = observer.addListener(client);
  return client;
};
var getDragNDropObserver = (element) => {
  const observer = dragNDropObservers.find((item2) => item2.element === element);
  if (observer) {
    return observer;
  }
  const newObserver = createDragNDropObserver(element);
  dragNDropObservers.push(newObserver);
  return newObserver;
};
var createDragNDropObserver = (element) => {
  const clients = [];
  const routes = {
    dragenter,
    dragover,
    dragleave,
    drop
  };
  const handlers2 = {};
  forin(routes, (event, createHandler) => {
    handlers2[event] = createHandler(element, clients);
    element.addEventListener(event, handlers2[event], false);
  });
  const observer = {
    element,
    addListener: (client) => {
      clients.push(client);
      return () => {
        clients.splice(clients.indexOf(client), 1);
        if (clients.length === 0) {
          dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);
          forin(routes, (event) => {
            element.removeEventListener(event, handlers2[event], false);
          });
        }
      };
    }
  };
  return observer;
};
var elementFromPoint = (root2, point) => {
  if (!("elementFromPoint" in root2)) {
    root2 = document;
  }
  return root2.elementFromPoint(point.x, point.y);
};
var isEventTarget = (e, target) => {
  const root2 = getRootNode(target);
  const elementAtPosition = elementFromPoint(root2, {
    x: e.pageX - window.pageXOffset,
    y: e.pageY - window.pageYOffset
  });
  return elementAtPosition === target || target.contains(elementAtPosition);
};
var initialTarget = null;
var setDropEffect = (dataTransfer, effect) => {
  try {
    dataTransfer.dropEffect = effect;
  } catch (e) {
  }
};
var dragenter = (root2, clients) => (e) => {
  e.preventDefault();
  initialTarget = e.target;
  clients.forEach((client) => {
    const { element, onenter } = client;
    if (isEventTarget(e, element)) {
      client.state = "enter";
      onenter(eventPosition(e));
    }
  });
};
var dragover = (root2, clients) => (e) => {
  e.preventDefault();
  const dataTransfer = e.dataTransfer;
  requestDataTransferItems(dataTransfer).then((items) => {
    let overDropTarget = false;
    clients.some((client) => {
      const { filterElement, element, onenter, onexit, ondrag, allowdrop } = client;
      setDropEffect(dataTransfer, "copy");
      const allowsTransfer = allowdrop(items);
      if (!allowsTransfer) {
        setDropEffect(dataTransfer, "none");
        return;
      }
      if (isEventTarget(e, element)) {
        overDropTarget = true;
        if (client.state === null) {
          client.state = "enter";
          onenter(eventPosition(e));
          return;
        }
        client.state = "over";
        if (filterElement && !allowsTransfer) {
          setDropEffect(dataTransfer, "none");
          return;
        }
        ondrag(eventPosition(e));
      } else {
        if (filterElement && !overDropTarget) {
          setDropEffect(dataTransfer, "none");
        }
        if (client.state) {
          client.state = null;
          onexit(eventPosition(e));
        }
      }
    });
  });
};
var drop = (root2, clients) => (e) => {
  e.preventDefault();
  const dataTransfer = e.dataTransfer;
  requestDataTransferItems(dataTransfer).then((items) => {
    clients.forEach((client) => {
      const { filterElement, element, ondrop, onexit, allowdrop } = client;
      client.state = null;
      if (filterElement && !isEventTarget(e, element))
        return;
      if (!allowdrop(items))
        return onexit(eventPosition(e));
      ondrop(eventPosition(e), items);
    });
  });
};
var dragleave = (root2, clients) => (e) => {
  if (initialTarget !== e.target) {
    return;
  }
  clients.forEach((client) => {
    const { onexit } = client;
    client.state = null;
    onexit(eventPosition(e));
  });
};
var createHopper = (scope, validateItems, options) => {
  scope.classList.add("filepond--hopper");
  const { catchesDropsOnPage, requiresDropOnElement, filterItems = (items) => items } = options;
  const client = createDragNDropClient(
    scope,
    catchesDropsOnPage ? document.documentElement : scope,
    requiresDropOnElement
  );
  let lastState = "";
  let currentState = "";
  client.allowdrop = (items) => {
    return validateItems(filterItems(items));
  };
  client.ondrop = (position, items) => {
    const filteredItems = filterItems(items);
    if (!validateItems(filteredItems)) {
      api.ondragend(position);
      return;
    }
    currentState = "drag-drop";
    api.onload(filteredItems, position);
  };
  client.ondrag = (position) => {
    api.ondrag(position);
  };
  client.onenter = (position) => {
    currentState = "drag-over";
    api.ondragstart(position);
  };
  client.onexit = (position) => {
    currentState = "drag-exit";
    api.ondragend(position);
  };
  const api = {
    updateHopperState: () => {
      if (lastState !== currentState) {
        scope.dataset.hopperState = currentState;
        lastState = currentState;
      }
    },
    onload: () => {
    },
    ondragstart: () => {
    },
    ondrag: () => {
    },
    ondragend: () => {
    },
    destroy: () => {
      client.destroy();
    }
  };
  return api;
};
var listening = false;
var listeners$1 = [];
var handlePaste = (e) => {
  const activeEl = document.activeElement;
  if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {
    let inScope = false;
    let element = activeEl;
    while (element !== document.body) {
      if (element.classList.contains("filepond--root")) {
        inScope = true;
        break;
      }
      element = element.parentNode;
    }
    if (!inScope)
      return;
  }
  requestDataTransferItems(e.clipboardData).then((files) => {
    if (!files.length) {
      return;
    }
    listeners$1.forEach((listener) => listener(files));
  });
};
var listen = (cb) => {
  if (listeners$1.includes(cb)) {
    return;
  }
  listeners$1.push(cb);
  if (listening) {
    return;
  }
  listening = true;
  document.addEventListener("paste", handlePaste);
};
var unlisten = (listener) => {
  arrayRemove(listeners$1, listeners$1.indexOf(listener));
  if (listeners$1.length === 0) {
    document.removeEventListener("paste", handlePaste);
    listening = false;
  }
};
var createPaster = () => {
  const cb = (files) => {
    api.onload(files);
  };
  const api = {
    destroy: () => {
      unlisten(cb);
    },
    onload: () => {
    }
  };
  listen(cb);
  return api;
};
var create$d = ({ root: root2, props }) => {
  root2.element.id = `filepond--assistant-${props.id}`;
  attr(root2.element, "role", "status");
  attr(root2.element, "aria-live", "polite");
  attr(root2.element, "aria-relevant", "additions");
};
var addFilesNotificationTimeout = null;
var notificationClearTimeout = null;
var filenames = [];
var assist = (root2, message) => {
  root2.element.textContent = message;
};
var clear$1 = (root2) => {
  root2.element.textContent = "";
};
var listModified = (root2, filename, label) => {
  const total = root2.query("GET_TOTAL_ITEMS");
  assist(
    root2,
    `${label} ${filename}, ${total} ${total === 1 ? root2.query("GET_LABEL_FILE_COUNT_SINGULAR") : root2.query("GET_LABEL_FILE_COUNT_PLURAL")}`
  );
  clearTimeout(notificationClearTimeout);
  notificationClearTimeout = setTimeout(() => {
    clear$1(root2);
  }, 1500);
};
var isUsingFilePond = (root2) => root2.element.parentNode.contains(document.activeElement);
var itemAdded = ({ root: root2, action }) => {
  if (!isUsingFilePond(root2)) {
    return;
  }
  root2.element.textContent = "";
  const item2 = root2.query("GET_ITEM", action.id);
  filenames.push(item2.filename);
  clearTimeout(addFilesNotificationTimeout);
  addFilesNotificationTimeout = setTimeout(() => {
    listModified(root2, filenames.join(", "), root2.query("GET_LABEL_FILE_ADDED"));
    filenames.length = 0;
  }, 750);
};
var itemRemoved = ({ root: root2, action }) => {
  if (!isUsingFilePond(root2)) {
    return;
  }
  const item2 = action.item;
  listModified(root2, item2.filename, root2.query("GET_LABEL_FILE_REMOVED"));
};
var itemProcessed = ({ root: root2, action }) => {
  const item2 = root2.query("GET_ITEM", action.id);
  const filename = item2.filename;
  const label = root2.query("GET_LABEL_FILE_PROCESSING_COMPLETE");
  assist(root2, `${filename} ${label}`);
};
var itemProcessedUndo = ({ root: root2, action }) => {
  const item2 = root2.query("GET_ITEM", action.id);
  const filename = item2.filename;
  const label = root2.query("GET_LABEL_FILE_PROCESSING_ABORTED");
  assist(root2, `${filename} ${label}`);
};
var itemError = ({ root: root2, action }) => {
  const item2 = root2.query("GET_ITEM", action.id);
  const filename = item2.filename;
  assist(root2, `${action.status.main} ${filename} ${action.status.sub}`);
};
var assistant = createView({
  create: create$d,
  ignoreRect: true,
  ignoreRectUpdate: true,
  write: createRoute({
    DID_LOAD_ITEM: itemAdded,
    DID_REMOVE_ITEM: itemRemoved,
    DID_COMPLETE_ITEM_PROCESSING: itemProcessed,
    DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,
    DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,
    DID_THROW_ITEM_REMOVE_ERROR: itemError,
    DID_THROW_ITEM_LOAD_ERROR: itemError,
    DID_THROW_ITEM_INVALID: itemError,
    DID_THROW_ITEM_PROCESSING_ERROR: itemError
  }),
  tag: "span",
  name: "assistant"
});
var toCamels = (string, separator = "-") => string.replace(new RegExp(`${separator}.`, "g"), (sub) => sub.charAt(1).toUpperCase());
var debounce = (func, interval = 16, immidiateOnly = true) => {
  let last = Date.now();
  let timeout = null;
  return (...args) => {
    clearTimeout(timeout);
    const dist = Date.now() - last;
    const fn2 = () => {
      last = Date.now();
      func(...args);
    };
    if (dist < interval) {
      if (!immidiateOnly) {
        timeout = setTimeout(fn2, interval - dist);
      }
    } else {
      fn2();
    }
  };
};
var MAX_FILES_LIMIT = 1e6;
var prevent = (e) => e.preventDefault();
var create$e = ({ root: root2, props }) => {
  const id = root2.query("GET_ID");
  if (id) {
    root2.element.id = id;
  }
  const className = root2.query("GET_CLASS_NAME");
  if (className) {
    className.split(" ").filter((name2) => name2.length).forEach((name2) => {
      root2.element.classList.add(name2);
    });
  }
  root2.ref.label = root2.appendChildView(
    root2.createChildView(dropLabel, {
      ...props,
      translateY: null,
      caption: root2.query("GET_LABEL_IDLE")
    })
  );
  root2.ref.list = root2.appendChildView(root2.createChildView(listScroller, { translateY: null }));
  root2.ref.panel = root2.appendChildView(root2.createChildView(panel, { name: "panel-root" }));
  root2.ref.assistant = root2.appendChildView(root2.createChildView(assistant, { ...props }));
  root2.ref.data = root2.appendChildView(root2.createChildView(data2, { ...props }));
  root2.ref.measure = createElement$1("div");
  root2.ref.measure.style.height = "100%";
  root2.element.appendChild(root2.ref.measure);
  root2.ref.bounds = null;
  root2.query("GET_STYLES").filter((style) => !isEmpty(style.value)).map(({ name: name2, value }) => {
    root2.element.dataset[name2] = value;
  });
  root2.ref.widthPrevious = null;
  root2.ref.widthUpdated = debounce(() => {
    root2.ref.updateHistory = [];
    root2.dispatch("DID_RESIZE_ROOT");
  }, 250);
  root2.ref.previousAspectRatio = null;
  root2.ref.updateHistory = [];
  const canHover = window.matchMedia("(pointer: fine) and (hover: hover)").matches;
  const hasPointerEvents = "PointerEvent" in window;
  if (root2.query("GET_ALLOW_REORDER") && hasPointerEvents && !canHover) {
    root2.element.addEventListener("touchmove", prevent, { passive: false });
    root2.element.addEventListener("gesturestart", prevent);
  }
  const credits = root2.query("GET_CREDITS");
  const hasCredits = credits.length === 2;
  if (hasCredits) {
    const frag = document.createElement("a");
    frag.className = "filepond--credits";
    frag.setAttribute("aria-hidden", "true");
    frag.href = credits[0];
    frag.tabindex = -1;
    frag.target = "_blank";
    frag.rel = "noopener noreferrer";
    frag.textContent = credits[1];
    root2.element.appendChild(frag);
    root2.ref.credits = frag;
  }
};
var write$9 = ({ root: root2, props, actions: actions2 }) => {
  route$5({ root: root2, props, actions: actions2 });
  actions2.filter((action) => /^DID_SET_STYLE_/.test(action.type)).filter((action) => !isEmpty(action.data.value)).map(({ type, data: data3 }) => {
    const name2 = toCamels(type.substring(8).toLowerCase(), "_");
    root2.element.dataset[name2] = data3.value;
    root2.invalidateLayout();
  });
  if (root2.rect.element.hidden)
    return;
  if (root2.rect.element.width !== root2.ref.widthPrevious) {
    root2.ref.widthPrevious = root2.rect.element.width;
    root2.ref.widthUpdated();
  }
  let bounds = root2.ref.bounds;
  if (!bounds) {
    bounds = root2.ref.bounds = calculateRootBoundingBoxHeight(root2);
    root2.element.removeChild(root2.ref.measure);
    root2.ref.measure = null;
  }
  const { hopper, label, list: list2, panel: panel2 } = root2.ref;
  if (hopper) {
    hopper.updateHopperState();
  }
  const aspectRatio = root2.query("GET_PANEL_ASPECT_RATIO");
  const isMultiItem = root2.query("GET_ALLOW_MULTIPLE");
  const totalItems = root2.query("GET_TOTAL_ITEMS");
  const maxItems = isMultiItem ? root2.query("GET_MAX_FILES") || MAX_FILES_LIMIT : 1;
  const atMaxCapacity = totalItems === maxItems;
  const addAction = actions2.find((action) => action.type === "DID_ADD_ITEM");
  if (atMaxCapacity && addAction) {
    const interactionMethod = addAction.data.interactionMethod;
    label.opacity = 0;
    if (isMultiItem) {
      label.translateY = -40;
    } else {
      if (interactionMethod === InteractionMethod.API) {
        label.translateX = 40;
      } else if (interactionMethod === InteractionMethod.BROWSE) {
        label.translateY = 40;
      } else {
        label.translateY = 30;
      }
    }
  } else if (!atMaxCapacity) {
    label.opacity = 1;
    label.translateX = 0;
    label.translateY = 0;
  }
  const listItemMargin = calculateListItemMargin(root2);
  const listHeight = calculateListHeight(root2);
  const labelHeight = label.rect.element.height;
  const currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;
  const listMarginTop = atMaxCapacity ? list2.rect.element.marginTop : 0;
  const listMarginBottom = totalItems === 0 ? 0 : list2.rect.element.marginBottom;
  const visualHeight = currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;
  const boundsHeight = currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;
  list2.translateY = Math.max(0, currentLabelHeight - list2.rect.element.marginTop) - listItemMargin.top;
  if (aspectRatio) {
    const width = root2.rect.element.width;
    const height = width * aspectRatio;
    if (aspectRatio !== root2.ref.previousAspectRatio) {
      root2.ref.previousAspectRatio = aspectRatio;
      root2.ref.updateHistory = [];
    }
    const history = root2.ref.updateHistory;
    history.push(width);
    const MAX_BOUNCES = 2;
    if (history.length > MAX_BOUNCES * 2) {
      const l = history.length;
      const bottom = l - 10;
      let bounces = 0;
      for (let i = l; i >= bottom; i--) {
        if (history[i] === history[i - 2]) {
          bounces++;
        }
        if (bounces >= MAX_BOUNCES) {
          return;
        }
      }
    }
    panel2.scalable = false;
    panel2.height = height;
    const listAvailableHeight = (
      // the height of the panel minus the label height
      height - currentLabelHeight - // the room we leave open between the end of the list and the panel bottom
      (listMarginBottom - listItemMargin.bottom) - // if we're full we need to leave some room between the top of the panel and the list
      (atMaxCapacity ? listMarginTop : 0)
    );
    if (listHeight.visual > listAvailableHeight) {
      list2.overflow = listAvailableHeight;
    } else {
      list2.overflow = null;
    }
    root2.height = height;
  } else if (bounds.fixedHeight) {
    panel2.scalable = false;
    const listAvailableHeight = (
      // the height of the panel minus the label height
      bounds.fixedHeight - currentLabelHeight - // the room we leave open between the end of the list and the panel bottom
      (listMarginBottom - listItemMargin.bottom) - // if we're full we need to leave some room between the top of the panel and the list
      (atMaxCapacity ? listMarginTop : 0)
    );
    if (listHeight.visual > listAvailableHeight) {
      list2.overflow = listAvailableHeight;
    } else {
      list2.overflow = null;
    }
  } else if (bounds.cappedHeight) {
    const isCappedHeight = visualHeight >= bounds.cappedHeight;
    const panelHeight = Math.min(bounds.cappedHeight, visualHeight);
    panel2.scalable = true;
    panel2.height = isCappedHeight ? panelHeight : panelHeight - listItemMargin.top - listItemMargin.bottom;
    const listAvailableHeight = (
      // the height of the panel minus the label height
      panelHeight - currentLabelHeight - // the room we leave open between the end of the list and the panel bottom
      (listMarginBottom - listItemMargin.bottom) - // if we're full we need to leave some room between the top of the panel and the list
      (atMaxCapacity ? listMarginTop : 0)
    );
    if (visualHeight > bounds.cappedHeight && listHeight.visual > listAvailableHeight) {
      list2.overflow = listAvailableHeight;
    } else {
      list2.overflow = null;
    }
    root2.height = Math.min(
      bounds.cappedHeight,
      boundsHeight - listItemMargin.top - listItemMargin.bottom
    );
  } else {
    const itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;
    panel2.scalable = true;
    panel2.height = Math.max(labelHeight, visualHeight - itemMargin);
    root2.height = Math.max(labelHeight, boundsHeight - itemMargin);
  }
  if (root2.ref.credits && panel2.heightCurrent)
    root2.ref.credits.style.transform = `translateY(${panel2.heightCurrent}px)`;
};
var calculateListItemMargin = (root2) => {
  const item2 = root2.ref.list.childViews[0].childViews[0];
  return item2 ? {
    top: item2.rect.element.marginTop,
    bottom: item2.rect.element.marginBottom
  } : {
    top: 0,
    bottom: 0
  };
};
var calculateListHeight = (root2) => {
  let visual = 0;
  let bounds = 0;
  const scrollList = root2.ref.list;
  const itemList = scrollList.childViews[0];
  const visibleChildren = itemList.childViews.filter((child) => child.rect.element.height);
  const children = root2.query("GET_ACTIVE_ITEMS").map((item2) => visibleChildren.find((child) => child.id === item2.id)).filter((item2) => item2);
  if (children.length === 0)
    return { visual, bounds };
  const horizontalSpace = itemList.rect.element.width;
  const dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);
  const childRect = children[0].rect.element;
  const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;
  const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;
  const itemWidth = childRect.width + itemHorizontalMargin;
  const itemHeight = childRect.height + itemVerticalMargin;
  const newItem = typeof dragIndex !== "undefined" && dragIndex >= 0 ? 1 : 0;
  const removedItem = children.find((child) => child.markedForRemoval && child.opacity < 0.45) ? -1 : 0;
  const verticalItemCount = children.length + newItem + removedItem;
  const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);
  if (itemsPerRow === 1) {
    children.forEach((item2) => {
      const height = item2.rect.element.height + itemVerticalMargin;
      bounds += height;
      visual += height * item2.opacity;
    });
  } else {
    bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;
    visual = bounds;
  }
  return { visual, bounds };
};
var calculateRootBoundingBoxHeight = (root2) => {
  const height = root2.ref.measureHeight || null;
  const cappedHeight = parseInt(root2.style.maxHeight, 10) || null;
  const fixedHeight = height === 0 ? null : height;
  return {
    cappedHeight,
    fixedHeight
  };
};
var exceedsMaxFiles = (root2, items) => {
  const allowReplace = root2.query("GET_ALLOW_REPLACE");
  const allowMultiple = root2.query("GET_ALLOW_MULTIPLE");
  const totalItems = root2.query("GET_TOTAL_ITEMS");
  let maxItems = root2.query("GET_MAX_FILES");
  const totalBrowseItems = items.length;
  if (!allowMultiple && totalBrowseItems > 1) {
    root2.dispatch("DID_THROW_MAX_FILES", {
      source: items,
      error: createResponse("warning", 0, "Max files")
    });
    return true;
  }
  maxItems = allowMultiple ? maxItems : 1;
  if (!allowMultiple && allowReplace) {
    return false;
  }
  const hasMaxItems = isInt(maxItems);
  if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {
    root2.dispatch("DID_THROW_MAX_FILES", {
      source: items,
      error: createResponse("warning", 0, "Max files")
    });
    return true;
  }
  return false;
};
var getDragIndex = (list2, children, position) => {
  const itemList = list2.childViews[0];
  return getItemIndexByPosition(itemList, children, {
    left: position.scopeLeft - itemList.rect.element.left,
    top: position.scopeTop - (list2.rect.outer.top + list2.rect.element.marginTop + list2.rect.element.scrollTop)
  });
};
var toggleDrop = (root2) => {
  const isAllowed = root2.query("GET_ALLOW_DROP");
  const isDisabled = root2.query("GET_DISABLED");
  const enabled = isAllowed && !isDisabled;
  if (enabled && !root2.ref.hopper) {
    const hopper = createHopper(
      root2.element,
      (items) => {
        const beforeDropFile = root2.query("GET_BEFORE_DROP_FILE") || (() => true);
        const dropValidation = root2.query("GET_DROP_VALIDATION");
        return dropValidation ? items.every(
          (item2) => applyFilters("ALLOW_HOPPER_ITEM", item2, {
            query: root2.query
          }).every((result) => result === true) && beforeDropFile(item2)
        ) : true;
      },
      {
        filterItems: (items) => {
          const ignoredFiles = root2.query("GET_IGNORED_FILES");
          return items.filter((item2) => {
            if (isFile(item2)) {
              return !ignoredFiles.includes(item2.name.toLowerCase());
            }
            return true;
          });
        },
        catchesDropsOnPage: root2.query("GET_DROP_ON_PAGE"),
        requiresDropOnElement: root2.query("GET_DROP_ON_ELEMENT")
      }
    );
    hopper.onload = (items, position) => {
      const list2 = root2.ref.list.childViews[0];
      const visibleChildren = list2.childViews.filter((child) => child.rect.element.height);
      const children = root2.query("GET_ACTIVE_ITEMS").map((item2) => visibleChildren.find((child) => child.id === item2.id)).filter((item2) => item2);
      applyFilterChain("ADD_ITEMS", items, { dispatch: root2.dispatch }).then((queue) => {
        if (exceedsMaxFiles(root2, queue))
          return false;
        root2.dispatch("ADD_ITEMS", {
          items: queue,
          index: getDragIndex(root2.ref.list, children, position),
          interactionMethod: InteractionMethod.DROP
        });
      });
      root2.dispatch("DID_DROP", { position });
      root2.dispatch("DID_END_DRAG", { position });
    };
    hopper.ondragstart = (position) => {
      root2.dispatch("DID_START_DRAG", { position });
    };
    hopper.ondrag = debounce((position) => {
      root2.dispatch("DID_DRAG", { position });
    });
    hopper.ondragend = (position) => {
      root2.dispatch("DID_END_DRAG", { position });
    };
    root2.ref.hopper = hopper;
    root2.ref.drip = root2.appendChildView(root2.createChildView(drip));
  } else if (!enabled && root2.ref.hopper) {
    root2.ref.hopper.destroy();
    root2.ref.hopper = null;
    root2.removeChildView(root2.ref.drip);
  }
};
var toggleBrowse = (root2, props) => {
  const isAllowed = root2.query("GET_ALLOW_BROWSE");
  const isDisabled = root2.query("GET_DISABLED");
  const enabled = isAllowed && !isDisabled;
  if (enabled && !root2.ref.browser) {
    root2.ref.browser = root2.appendChildView(
      root2.createChildView(browser, {
        ...props,
        onload: (items) => {
          applyFilterChain("ADD_ITEMS", items, {
            dispatch: root2.dispatch
          }).then((queue) => {
            if (exceedsMaxFiles(root2, queue))
              return false;
            root2.dispatch("ADD_ITEMS", {
              items: queue,
              index: -1,
              interactionMethod: InteractionMethod.BROWSE
            });
          });
        }
      }),
      0
    );
  } else if (!enabled && root2.ref.browser) {
    root2.removeChildView(root2.ref.browser);
    root2.ref.browser = null;
  }
};
var togglePaste = (root2) => {
  const isAllowed = root2.query("GET_ALLOW_PASTE");
  const isDisabled = root2.query("GET_DISABLED");
  const enabled = isAllowed && !isDisabled;
  if (enabled && !root2.ref.paster) {
    root2.ref.paster = createPaster();
    root2.ref.paster.onload = (items) => {
      applyFilterChain("ADD_ITEMS", items, { dispatch: root2.dispatch }).then((queue) => {
        if (exceedsMaxFiles(root2, queue))
          return false;
        root2.dispatch("ADD_ITEMS", {
          items: queue,
          index: -1,
          interactionMethod: InteractionMethod.PASTE
        });
      });
    };
  } else if (!enabled && root2.ref.paster) {
    root2.ref.paster.destroy();
    root2.ref.paster = null;
  }
};
var route$5 = createRoute({
  DID_SET_ALLOW_BROWSE: ({ root: root2, props }) => {
    toggleBrowse(root2, props);
  },
  DID_SET_ALLOW_DROP: ({ root: root2 }) => {
    toggleDrop(root2);
  },
  DID_SET_ALLOW_PASTE: ({ root: root2 }) => {
    togglePaste(root2);
  },
  DID_SET_DISABLED: ({ root: root2, props }) => {
    toggleDrop(root2);
    togglePaste(root2);
    toggleBrowse(root2, props);
    const isDisabled = root2.query("GET_DISABLED");
    if (isDisabled) {
      root2.element.dataset.disabled = "disabled";
    } else {
      root2.element.removeAttribute("data-disabled");
    }
  }
});
var root = createView({
  name: "root",
  read: ({ root: root2 }) => {
    if (root2.ref.measure) {
      root2.ref.measureHeight = root2.ref.measure.offsetHeight;
    }
  },
  create: create$e,
  write: write$9,
  destroy: ({ root: root2 }) => {
    if (root2.ref.paster) {
      root2.ref.paster.destroy();
    }
    if (root2.ref.hopper) {
      root2.ref.hopper.destroy();
    }
    root2.element.removeEventListener("touchmove", prevent);
    root2.element.removeEventListener("gesturestart", prevent);
  },
  mixins: {
    styles: ["height"]
  }
});
var createApp = (initialOptions = {}) => {
  let originalElement = null;
  const defaultOptions2 = getOptions();
  const store = createStore(
    // initial state (should be serializable)
    createInitialState(defaultOptions2),
    // queries
    [queries, createOptionQueries(defaultOptions2)],
    // action handlers
    [actions, createOptionActions(defaultOptions2)]
  );
  store.dispatch("SET_OPTIONS", { options: initialOptions });
  const visibilityHandler = () => {
    if (document.hidden)
      return;
    store.dispatch("KICK");
  };
  document.addEventListener("visibilitychange", visibilityHandler);
  let resizeDoneTimer = null;
  let isResizing = false;
  let isResizingHorizontally = false;
  let initialWindowWidth = null;
  let currentWindowWidth = null;
  const resizeHandler = () => {
    if (!isResizing) {
      isResizing = true;
    }
    clearTimeout(resizeDoneTimer);
    resizeDoneTimer = setTimeout(() => {
      isResizing = false;
      initialWindowWidth = null;
      currentWindowWidth = null;
      if (isResizingHorizontally) {
        isResizingHorizontally = false;
        store.dispatch("DID_STOP_RESIZE");
      }
    }, 500);
  };
  window.addEventListener("resize", resizeHandler);
  const view = root(store, { id: getUniqueId() });
  let isResting = false;
  let isHidden = false;
  const readWriteApi = {
    // necessary for update loop
    /**
     * Reads from dom (never call manually)
     * @private
     */
    _read: () => {
      if (isResizing) {
        currentWindowWidth = window.innerWidth;
        if (!initialWindowWidth) {
          initialWindowWidth = currentWindowWidth;
        }
        if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {
          store.dispatch("DID_START_RESIZE");
          isResizingHorizontally = true;
        }
      }
      if (isHidden && isResting) {
        isResting = view.element.offsetParent === null;
      }
      if (isResting)
        return;
      view._read();
      isHidden = view.rect.element.hidden;
    },
    /**
     * Writes to dom (never call manually)
     * @private
     */
    _write: (ts) => {
      const actions2 = store.processActionQueue().filter((action) => !/^SET_/.test(action.type));
      if (isResting && !actions2.length)
        return;
      routeActionsToEvents(actions2);
      isResting = view._write(ts, actions2, isResizingHorizontally);
      removeReleasedItems(store.query("GET_ITEMS"));
      if (isResting) {
        store.processDispatchQueue();
      }
    }
  };
  const createEvent = (name2) => (data3) => {
    const event = {
      type: name2
    };
    if (!data3) {
      return event;
    }
    if (data3.hasOwnProperty("error")) {
      event.error = data3.error ? { ...data3.error } : null;
    }
    if (data3.status) {
      event.status = { ...data3.status };
    }
    if (data3.file) {
      event.output = data3.file;
    }
    if (data3.source) {
      event.file = data3.source;
    } else if (data3.item || data3.id) {
      const item2 = data3.item ? data3.item : store.query("GET_ITEM", data3.id);
      event.file = item2 ? createItemAPI(item2) : null;
    }
    if (data3.items) {
      event.items = data3.items.map(createItemAPI);
    }
    if (/progress/.test(name2)) {
      event.progress = data3.progress;
    }
    if (data3.hasOwnProperty("origin") && data3.hasOwnProperty("target")) {
      event.origin = data3.origin;
      event.target = data3.target;
    }
    return event;
  };
  const eventRoutes = {
    DID_DESTROY: createEvent("destroy"),
    DID_INIT: createEvent("init"),
    DID_THROW_MAX_FILES: createEvent("warning"),
    DID_INIT_ITEM: createEvent("initfile"),
    DID_START_ITEM_LOAD: createEvent("addfilestart"),
    DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent("addfileprogress"),
    DID_LOAD_ITEM: createEvent("addfile"),
    DID_THROW_ITEM_INVALID: [createEvent("error"), createEvent("addfile")],
    DID_THROW_ITEM_LOAD_ERROR: [createEvent("error"), createEvent("addfile")],
    DID_THROW_ITEM_REMOVE_ERROR: [createEvent("error"), createEvent("removefile")],
    DID_PREPARE_OUTPUT: createEvent("preparefile"),
    DID_START_ITEM_PROCESSING: createEvent("processfilestart"),
    DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent("processfileprogress"),
    DID_ABORT_ITEM_PROCESSING: createEvent("processfileabort"),
    DID_COMPLETE_ITEM_PROCESSING: createEvent("processfile"),
    DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent("processfiles"),
    DID_REVERT_ITEM_PROCESSING: createEvent("processfilerevert"),
    DID_THROW_ITEM_PROCESSING_ERROR: [createEvent("error"), createEvent("processfile")],
    DID_REMOVE_ITEM: createEvent("removefile"),
    DID_UPDATE_ITEMS: createEvent("updatefiles"),
    DID_ACTIVATE_ITEM: createEvent("activatefile"),
    DID_REORDER_ITEMS: createEvent("reorderfiles")
  };
  const exposeEvent = (event) => {
    const detail = { pond: exports, ...event };
    delete detail.type;
    view.element.dispatchEvent(
      new CustomEvent(`FilePond:${event.type}`, {
        // event info
        detail,
        // event behaviour
        bubbles: true,
        cancelable: true,
        composed: true
        // triggers listeners outside of shadow root
      })
    );
    const params = [];
    if (event.hasOwnProperty("error")) {
      params.push(event.error);
    }
    if (event.hasOwnProperty("file")) {
      params.push(event.file);
    }
    const filtered = ["type", "error", "file"];
    Object.keys(event).filter((key) => !filtered.includes(key)).forEach((key) => params.push(event[key]));
    exports.fire(event.type, ...params);
    const handler = store.query(`GET_ON${event.type.toUpperCase()}`);
    if (handler) {
      handler(...params);
    }
  };
  const routeActionsToEvents = (actions2) => {
    if (!actions2.length)
      return;
    actions2.filter((action) => eventRoutes[action.type]).forEach((action) => {
      const routes = eventRoutes[action.type];
      (Array.isArray(routes) ? routes : [routes]).forEach((route2) => {
        if (action.type === "DID_INIT_ITEM") {
          exposeEvent(route2(action.data));
        } else {
          setTimeout(() => {
            exposeEvent(route2(action.data));
          }, 0);
        }
      });
    });
  };
  const setOptions2 = (options) => store.dispatch("SET_OPTIONS", { options });
  const getFile = (query) => store.query("GET_ACTIVE_ITEM", query);
  const prepareFile = (query) => new Promise((resolve, reject) => {
    store.dispatch("REQUEST_ITEM_PREPARE", {
      query,
      success: (item2) => {
        resolve(item2);
      },
      failure: (error2) => {
        reject(error2);
      }
    });
  });
  const addFile = (source, options = {}) => new Promise((resolve, reject) => {
    addFiles([{ source, options }], { index: options.index }).then((items) => resolve(items && items[0])).catch(reject);
  });
  const isFilePondFile = (obj) => obj.file && obj.id;
  const removeFile = (query, options) => {
    if (typeof query === "object" && !isFilePondFile(query) && !options) {
      options = query;
      query = void 0;
    }
    store.dispatch("REMOVE_ITEM", { ...options, query });
    return store.query("GET_ACTIVE_ITEM", query) === null;
  };
  const addFiles = (...args) => new Promise((resolve, reject) => {
    const sources = [];
    const options = {};
    if (isArray(args[0])) {
      sources.push.apply(sources, args[0]);
      Object.assign(options, args[1] || {});
    } else {
      const lastArgument = args[args.length - 1];
      if (typeof lastArgument === "object" && !(lastArgument instanceof Blob)) {
        Object.assign(options, args.pop());
      }
      sources.push(...args);
    }
    store.dispatch("ADD_ITEMS", {
      items: sources,
      index: options.index,
      interactionMethod: InteractionMethod.API,
      success: resolve,
      failure: reject
    });
  });
  const getFiles2 = () => store.query("GET_ACTIVE_ITEMS");
  const processFile = (query) => new Promise((resolve, reject) => {
    store.dispatch("REQUEST_ITEM_PROCESSING", {
      query,
      success: (item2) => {
        resolve(item2);
      },
      failure: (error2) => {
        reject(error2);
      }
    });
  });
  const prepareFiles = (...args) => {
    const queries2 = Array.isArray(args[0]) ? args[0] : args;
    const items = queries2.length ? queries2 : getFiles2();
    return Promise.all(items.map(prepareFile));
  };
  const processFiles = (...args) => {
    const queries2 = Array.isArray(args[0]) ? args[0] : args;
    if (!queries2.length) {
      const files = getFiles2().filter(
        (item2) => !(item2.status === ItemStatus.IDLE && item2.origin === FileOrigin.LOCAL) && item2.status !== ItemStatus.PROCESSING && item2.status !== ItemStatus.PROCESSING_COMPLETE && item2.status !== ItemStatus.PROCESSING_REVERT_ERROR
      );
      return Promise.all(files.map(processFile));
    }
    return Promise.all(queries2.map(processFile));
  };
  const removeFiles = (...args) => {
    const queries2 = Array.isArray(args[0]) ? args[0] : args;
    let options;
    if (typeof queries2[queries2.length - 1] === "object") {
      options = queries2.pop();
    } else if (Array.isArray(args[0])) {
      options = args[1];
    }
    const files = getFiles2();
    if (!queries2.length)
      return Promise.all(files.map((file2) => removeFile(file2, options)));
    const mappedQueries = queries2.map((query) => isNumber(query) ? files[query] ? files[query].id : null : query).filter((query) => query);
    return mappedQueries.map((q) => removeFile(q, options));
  };
  const exports = {
    // supports events
    ...on(),
    // inject private api methods
    ...readWriteApi,
    // inject all getters and setters
    ...createOptionAPI(store, defaultOptions2),
    /**
     * Override options defined in options object
     * @param options
     */
    setOptions: setOptions2,
    /**
     * Load the given file
     * @param source - the source of the file (either a File, base64 data uri or url)
     * @param options - object, { index: 0 }
     */
    addFile,
    /**
     * Load the given files
     * @param sources - the sources of the files to load
     * @param options - object, { index: 0 }
     */
    addFiles,
    /**
     * Returns the file objects matching the given query
     * @param query { string, number, null }
     */
    getFile,
    /**
     * Upload file with given name
     * @param query { string, number, null  }
     */
    processFile,
    /**
     * Request prepare output for file with given name
     * @param query { string, number, null  }
     */
    prepareFile,
    /**
     * Removes a file by its name
     * @param query { string, number, null  }
     */
    removeFile,
    /**
     * Moves a file to a new location in the files list
     */
    moveFile: (query, index) => store.dispatch("MOVE_ITEM", { query, index }),
    /**
     * Returns all files (wrapped in public api)
     */
    getFiles: getFiles2,
    /**
     * Starts uploading all files
     */
    processFiles,
    /**
     * Clears all files from the files list
     */
    removeFiles,
    /**
     * Starts preparing output of all files
     */
    prepareFiles,
    /**
     * Sort list of files
     */
    sort: (compare) => store.dispatch("SORT", { compare }),
    /**
     * Browse the file system for a file
     */
    browse: () => {
      var input = view.element.querySelector("input[type=file]");
      if (input) {
        input.click();
      }
    },
    /**
     * Destroys the app
     */
    destroy: () => {
      exports.fire("destroy", view.element);
      store.dispatch("ABORT_ALL");
      view._destroy();
      window.removeEventListener("resize", resizeHandler);
      document.removeEventListener("visibilitychange", visibilityHandler);
      store.dispatch("DID_DESTROY");
    },
    /**
     * Inserts the plugin before the target element
     */
    insertBefore: (element) => insertBefore(view.element, element),
    /**
     * Inserts the plugin after the target element
     */
    insertAfter: (element) => insertAfter(view.element, element),
    /**
     * Appends the plugin to the target element
     */
    appendTo: (element) => element.appendChild(view.element),
    /**
     * Replaces an element with the app
     */
    replaceElement: (element) => {
      insertBefore(view.element, element);
      element.parentNode.removeChild(element);
      originalElement = element;
    },
    /**
     * Restores the original element
     */
    restoreElement: () => {
      if (!originalElement) {
        return;
      }
      insertAfter(originalElement, view.element);
      view.element.parentNode.removeChild(view.element);
      originalElement = null;
    },
    /**
     * Returns true if the app root is attached to given element
     * @param element
     */
    isAttachedTo: (element) => view.element === element || originalElement === element,
    /**
     * Returns the root element
     */
    element: {
      get: () => view.element
    },
    /**
     * Returns the current pond status
     */
    status: {
      get: () => store.query("GET_STATUS")
    }
  };
  store.dispatch("DID_INIT");
  return createObject(exports);
};
var createAppObject = (customOptions = {}) => {
  const defaultOptions2 = {};
  forin(getOptions(), (key, value) => {
    defaultOptions2[key] = value[0];
  });
  const app = createApp({
    // default options
    ...defaultOptions2,
    // custom options
    ...customOptions
  });
  return app;
};
var lowerCaseFirstLetter = (string) => string.charAt(0).toLowerCase() + string.slice(1);
var attributeNameToPropertyName = (attributeName) => toCamels(attributeName.replace(/^data-/, ""));
var mapObject = (object, propertyMap) => {
  forin(propertyMap, (selector, mapping) => {
    forin(object, (property, value) => {
      const selectorRegExp = new RegExp(selector);
      const matches = selectorRegExp.test(property);
      if (!matches) {
        return;
      }
      delete object[property];
      if (mapping === false) {
        return;
      }
      if (isString(mapping)) {
        object[mapping] = value;
        return;
      }
      const group = mapping.group;
      if (isObject(mapping) && !object[group]) {
        object[group] = {};
      }
      object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ""))] = value;
    });
    if (mapping.mapping) {
      mapObject(object[mapping.group], mapping.mapping);
    }
  });
};
var getAttributesAsObject = (node, attributeMapping = {}) => {
  const attributes = [];
  forin(node.attributes, (index) => {
    attributes.push(node.attributes[index]);
  });
  const output2 = attributes.filter((attribute) => attribute.name).reduce((obj, attribute) => {
    const value = attr(node, attribute.name);
    obj[attributeNameToPropertyName(attribute.name)] = value === attribute.name ? true : value;
    return obj;
  }, {});
  mapObject(output2, attributeMapping);
  return output2;
};
var createAppAtElement = (element, options = {}) => {
  const attributeMapping = {
    // translate to other name
    "^class$": "className",
    "^multiple$": "allowMultiple",
    "^capture$": "captureMethod",
    "^webkitdirectory$": "allowDirectoriesOnly",
    // group under single property
    "^server": {
      group: "server",
      mapping: {
        "^process": {
          group: "process"
        },
        "^revert": {
          group: "revert"
        },
        "^fetch": {
          group: "fetch"
        },
        "^restore": {
          group: "restore"
        },
        "^load": {
          group: "load"
        }
      }
    },
    // don't include in object
    "^type$": false,
    "^files$": false
  };
  applyFilters("SET_ATTRIBUTE_TO_OPTION_MAP", attributeMapping);
  const mergedOptions = {
    ...options
  };
  const attributeOptions = getAttributesAsObject(
    element.nodeName === "FIELDSET" ? element.querySelector("input[type=file]") : element,
    attributeMapping
  );
  Object.keys(attributeOptions).forEach((key) => {
    if (isObject(attributeOptions[key])) {
      if (!isObject(mergedOptions[key])) {
        mergedOptions[key] = {};
      }
      Object.assign(mergedOptions[key], attributeOptions[key]);
    } else {
      mergedOptions[key] = attributeOptions[key];
    }
  });
  mergedOptions.files = (options.files || []).concat(
    Array.from(element.querySelectorAll("input:not([type=file])")).map((input) => ({
      source: input.value,
      options: {
        type: input.dataset.type
      }
    }))
  );
  const app = createAppObject(mergedOptions);
  if (element.files) {
    Array.from(element.files).forEach((file2) => {
      app.addFile(file2);
    });
  }
  app.replaceElement(element);
  return app;
};
var createApp$1 = (...args) => isNode(args[0]) ? createAppAtElement(...args) : createAppObject(...args);
var PRIVATE_METHODS = ["fire", "_read", "_write"];
var createAppAPI = (app) => {
  const api = {};
  copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);
  return api;
};
var replaceInString = (string, replacements) => string.replace(/(?:{([a-zA-Z]+)})/g, (match, group) => replacements[group]);
var createWorker = (fn2) => {
  const workerBlob = new Blob(["(", fn2.toString(), ")()"], {
    type: "application/javascript"
  });
  const workerURL = URL.createObjectURL(workerBlob);
  const worker = new Worker(workerURL);
  return {
    transfer: (message, cb) => {
    },
    post: (message, cb, transferList) => {
      const id = getUniqueId();
      worker.onmessage = (e) => {
        if (e.data.id === id) {
          cb(e.data.message);
        }
      };
      worker.postMessage(
        {
          id,
          message
        },
        transferList
      );
    },
    terminate: () => {
      worker.terminate();
      URL.revokeObjectURL(workerURL);
    }
  };
};
var loadImage = (url) => new Promise((resolve, reject) => {
  const img = new Image();
  img.onload = () => {
    resolve(img);
  };
  img.onerror = (e) => {
    reject(e);
  };
  img.src = url;
});
var renameFile = (file2, name2) => {
  const renamedFile = file2.slice(0, file2.size, file2.type);
  renamedFile.lastModifiedDate = file2.lastModifiedDate;
  renamedFile.name = name2;
  return renamedFile;
};
var copyFile = (file2) => renameFile(file2, file2.name);
var registeredPlugins = [];
var createAppPlugin = (plugin10) => {
  if (registeredPlugins.includes(plugin10)) {
    return;
  }
  registeredPlugins.push(plugin10);
  const pluginOutline = plugin10({
    addFilter,
    utils: {
      Type,
      forin,
      isString,
      isFile,
      toNaturalFileSize,
      replaceInString,
      getExtensionFromFilename,
      getFilenameWithoutExtension,
      guesstimateMimeType,
      getFileFromBlob,
      getFilenameFromURL,
      createRoute,
      createWorker,
      createView,
      createItemAPI,
      loadImage,
      copyFile,
      renameFile,
      createBlob,
      applyFilterChain,
      text,
      getNumericAspectRatioFromString
    },
    views: {
      fileActionButton
    }
  });
  extendDefaultOptions(pluginOutline.options);
};
var isOperaMini = () => Object.prototype.toString.call(window.operamini) === "[object OperaMini]";
var hasPromises = () => "Promise" in window;
var hasBlobSlice = () => "slice" in Blob.prototype;
var hasCreateObjectURL = () => "URL" in window && "createObjectURL" in window.URL;
var hasVisibility = () => "visibilityState" in document;
var hasTiming = () => "performance" in window;
var hasCSSSupports = () => "supports" in (window.CSS || {});
var isIE11 = () => /MSIE|Trident/.test(window.navigator.userAgent);
var supported = (() => {
  const isSupported = (
    // Has to be a browser
    isBrowser() && // Can't run on Opera Mini due to lack of everything
    !isOperaMini() && // Require these APIs to feature detect a modern browser
    hasVisibility() && hasPromises() && hasBlobSlice() && hasCreateObjectURL() && hasTiming() && // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)
    (hasCSSSupports() || isIE11())
  );
  return () => isSupported;
})();
var state = {
  // active app instances, used to redraw the apps and to find the later
  apps: []
};
var name = "filepond";
var fn = () => {
};
var Status$1 = {};
var FileStatus = {};
var FileOrigin$1 = {};
var OptionTypes = {};
var create$f = fn;
var destroy = fn;
var parse = fn;
var find = fn;
var registerPlugin = fn;
var getOptions$1 = fn;
var setOptions$1 = fn;
if (supported()) {
  createPainter(
    () => {
      state.apps.forEach((app) => app._read());
    },
    (ts) => {
      state.apps.forEach((app) => app._write(ts));
    }
  );
  const dispatch = () => {
    document.dispatchEvent(
      new CustomEvent("FilePond:loaded", {
        detail: {
          supported,
          create: create$f,
          destroy,
          parse,
          find,
          registerPlugin,
          setOptions: setOptions$1
        }
      })
    );
    document.removeEventListener("DOMContentLoaded", dispatch);
  };
  if (document.readyState !== "loading") {
    setTimeout(() => dispatch(), 0);
  } else {
    document.addEventListener("DOMContentLoaded", dispatch);
  }
  const updateOptionTypes = () => forin(getOptions(), (key, value) => {
    OptionTypes[key] = value[1];
  });
  Status$1 = { ...Status };
  FileOrigin$1 = { ...FileOrigin };
  FileStatus = { ...ItemStatus };
  OptionTypes = {};
  updateOptionTypes();
  create$f = (...args) => {
    const app = createApp$1(...args);
    app.on("destroy", destroy);
    state.apps.push(app);
    return createAppAPI(app);
  };
  destroy = (hook) => {
    const indexToRemove = state.apps.findIndex((app) => app.isAttachedTo(hook));
    if (indexToRemove >= 0) {
      const app = state.apps.splice(indexToRemove, 1)[0];
      app.restoreElement();
      return true;
    }
    return false;
  };
  parse = (context) => {
    const matchedHooks = Array.from(context.querySelectorAll(`.${name}`));
    const newHooks = matchedHooks.filter(
      (newHook) => !state.apps.find((app) => app.isAttachedTo(newHook))
    );
    return newHooks.map((hook) => create$f(hook));
  };
  find = (hook) => {
    const app = state.apps.find((app2) => app2.isAttachedTo(hook));
    if (!app) {
      return null;
    }
    return createAppAPI(app);
  };
  registerPlugin = (...plugins) => {
    plugins.forEach(createAppPlugin);
    updateOptionTypes();
  };
  getOptions$1 = () => {
    const opts = {};
    forin(getOptions(), (key, value) => {
      opts[key] = value[0];
    });
    return opts;
  };
  setOptions$1 = (opts) => {
    if (isObject(opts)) {
      state.apps.forEach((app) => {
        app.setOptions(opts);
      });
      setOptions(opts);
    }
    return getOptions$1();
  };
}

// node_modules/cropperjs/dist/cropper.esm.js
function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function(r2) {
      return Object.getOwnPropertyDescriptor(e, r2).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread2(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), true).forEach(function(r2) {
      _defineProperty(e, r2, t[r2]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r2) {
      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));
    });
  }
  return e;
}
function _typeof(o) {
  "@babel/helpers - typeof";
  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
    return typeof o2;
  } : function(o2) {
    return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
  }, _typeof(o);
}
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor)
      descriptor.writable = true;
    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps)
    _defineProperties(Constructor.prototype, protoProps);
  if (staticProps)
    _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}
function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr))
    return _arrayLikeToArray(arr);
}
function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
    return Array.from(iter);
}
function _unsupportedIterableToArray(o, minLen) {
  if (!o)
    return;
  if (typeof o === "string")
    return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor)
    n = o.constructor.name;
  if (n === "Map" || n === "Set")
    return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
    return _arrayLikeToArray(o, minLen);
}
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length)
    len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++)
    arr2[i] = arr[i];
  return arr2;
}
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toPrimitive(input, hint) {
  if (typeof input !== "object" || input === null)
    return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== void 0) {
    var res2 = prim.call(input, hint || "default");
    if (typeof res2 !== "object")
      return res2;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
function _toPropertyKey(arg) {
  var key = _toPrimitive(arg, "string");
  return typeof key === "symbol" ? key : String(key);
}
var IS_BROWSER2 = typeof window !== "undefined" && typeof window.document !== "undefined";
var WINDOW = IS_BROWSER2 ? window : {};
var IS_TOUCH_DEVICE = IS_BROWSER2 && WINDOW.document.documentElement ? "ontouchstart" in WINDOW.document.documentElement : false;
var HAS_POINTER_EVENT = IS_BROWSER2 ? "PointerEvent" in WINDOW : false;
var NAMESPACE = "cropper";
var ACTION_ALL = "all";
var ACTION_CROP = "crop";
var ACTION_MOVE = "move";
var ACTION_ZOOM = "zoom";
var ACTION_EAST = "e";
var ACTION_WEST = "w";
var ACTION_SOUTH = "s";
var ACTION_NORTH = "n";
var ACTION_NORTH_EAST = "ne";
var ACTION_NORTH_WEST = "nw";
var ACTION_SOUTH_EAST = "se";
var ACTION_SOUTH_WEST = "sw";
var CLASS_CROP = "".concat(NAMESPACE, "-crop");
var CLASS_DISABLED = "".concat(NAMESPACE, "-disabled");
var CLASS_HIDDEN = "".concat(NAMESPACE, "-hidden");
var CLASS_HIDE = "".concat(NAMESPACE, "-hide");
var CLASS_INVISIBLE = "".concat(NAMESPACE, "-invisible");
var CLASS_MODAL = "".concat(NAMESPACE, "-modal");
var CLASS_MOVE = "".concat(NAMESPACE, "-move");
var DATA_ACTION = "".concat(NAMESPACE, "Action");
var DATA_PREVIEW = "".concat(NAMESPACE, "Preview");
var DRAG_MODE_CROP = "crop";
var DRAG_MODE_MOVE = "move";
var DRAG_MODE_NONE = "none";
var EVENT_CROP = "crop";
var EVENT_CROP_END = "cropend";
var EVENT_CROP_MOVE = "cropmove";
var EVENT_CROP_START = "cropstart";
var EVENT_DBLCLICK = "dblclick";
var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? "touchstart" : "mousedown";
var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? "touchmove" : "mousemove";
var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? "touchend touchcancel" : "mouseup";
var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? "pointerdown" : EVENT_TOUCH_START;
var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? "pointermove" : EVENT_TOUCH_MOVE;
var EVENT_POINTER_UP = HAS_POINTER_EVENT ? "pointerup pointercancel" : EVENT_TOUCH_END;
var EVENT_READY = "ready";
var EVENT_RESIZE = "resize";
var EVENT_WHEEL = "wheel";
var EVENT_ZOOM = "zoom";
var MIME_TYPE_JPEG = "image/jpeg";
var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;
var REGEXP_DATA_URL = /^data:/;
var REGEXP_DATA_URL_JPEG = /^data:image\/jpeg;base64,/;
var REGEXP_TAG_NAME = /^img|canvas$/i;
var MIN_CONTAINER_WIDTH = 200;
var MIN_CONTAINER_HEIGHT = 100;
var DEFAULTS = {
  // Define the view mode of the cropper
  viewMode: 0,
  // 0, 1, 2, 3
  // Define the dragging mode of the cropper
  dragMode: DRAG_MODE_CROP,
  // 'crop', 'move' or 'none'
  // Define the initial aspect ratio of the crop box
  initialAspectRatio: NaN,
  // Define the aspect ratio of the crop box
  aspectRatio: NaN,
  // An object with the previous cropping result data
  data: null,
  // A selector for adding extra containers to preview
  preview: "",
  // Re-render the cropper when resize the window
  responsive: true,
  // Restore the cropped area after resize the window
  restore: true,
  // Check if the current image is a cross-origin image
  checkCrossOrigin: true,
  // Check the current image's Exif Orientation information
  checkOrientation: true,
  // Show the black modal
  modal: true,
  // Show the dashed lines for guiding
  guides: true,
  // Show the center indicator for guiding
  center: true,
  // Show the white modal to highlight the crop box
  highlight: true,
  // Show the grid background
  background: true,
  // Enable to crop the image automatically when initialize
  autoCrop: true,
  // Define the percentage of automatic cropping area when initializes
  autoCropArea: 0.8,
  // Enable to move the image
  movable: true,
  // Enable to rotate the image
  rotatable: true,
  // Enable to scale the image
  scalable: true,
  // Enable to zoom the image
  zoomable: true,
  // Enable to zoom the image by dragging touch
  zoomOnTouch: true,
  // Enable to zoom the image by wheeling mouse
  zoomOnWheel: true,
  // Define zoom ratio when zoom the image by wheeling mouse
  wheelZoomRatio: 0.1,
  // Enable to move the crop box
  cropBoxMovable: true,
  // Enable to resize the crop box
  cropBoxResizable: true,
  // Toggle drag mode between "crop" and "move" when click twice on the cropper
  toggleDragModeOnDblclick: true,
  // Size limitation
  minCanvasWidth: 0,
  minCanvasHeight: 0,
  minCropBoxWidth: 0,
  minCropBoxHeight: 0,
  minContainerWidth: MIN_CONTAINER_WIDTH,
  minContainerHeight: MIN_CONTAINER_HEIGHT,
  // Shortcuts of events
  ready: null,
  cropstart: null,
  cropmove: null,
  cropend: null,
  crop: null,
  zoom: null
};
var TEMPLATE = '<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';
var isNaN = Number.isNaN || WINDOW.isNaN;
function isNumber2(value) {
  return typeof value === "number" && !isNaN(value);
}
var isPositiveNumber = function isPositiveNumber2(value) {
  return value > 0 && value < Infinity;
};
function isUndefined(value) {
  return typeof value === "undefined";
}
function isObject2(value) {
  return _typeof(value) === "object" && value !== null;
}
var hasOwnProperty = Object.prototype.hasOwnProperty;
function isPlainObject(value) {
  if (!isObject2(value)) {
    return false;
  }
  try {
    var _constructor = value.constructor;
    var prototype = _constructor.prototype;
    return _constructor && prototype && hasOwnProperty.call(prototype, "isPrototypeOf");
  } catch (error2) {
    return false;
  }
}
function isFunction2(value) {
  return typeof value === "function";
}
var slice = Array.prototype.slice;
function toArray2(value) {
  return Array.from ? Array.from(value) : slice.call(value);
}
function forEach(data3, callback) {
  if (data3 && isFunction2(callback)) {
    if (Array.isArray(data3) || isNumber2(data3.length)) {
      toArray2(data3).forEach(function(value, key) {
        callback.call(data3, value, key, data3);
      });
    } else if (isObject2(data3)) {
      Object.keys(data3).forEach(function(key) {
        callback.call(data3, data3[key], key, data3);
      });
    }
  }
  return data3;
}
var assign = Object.assign || function assign2(target) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }
  if (isObject2(target) && args.length > 0) {
    args.forEach(function(arg) {
      if (isObject2(arg)) {
        Object.keys(arg).forEach(function(key) {
          target[key] = arg[key];
        });
      }
    });
  }
  return target;
};
var REGEXP_DECIMALS = /\.\d*(?:0|9){12}\d*$/;
function normalizeDecimalNumber(value) {
  var times = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e11;
  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;
}
var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;
function setStyle(element, styles2) {
  var style = element.style;
  forEach(styles2, function(value, property) {
    if (REGEXP_SUFFIX.test(property) && isNumber2(value)) {
      value = "".concat(value, "px");
    }
    style[property] = value;
  });
}
function hasClass(element, value) {
  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;
}
function addClass(element, value) {
  if (!value) {
    return;
  }
  if (isNumber2(element.length)) {
    forEach(element, function(elem) {
      addClass(elem, value);
    });
    return;
  }
  if (element.classList) {
    element.classList.add(value);
    return;
  }
  var className = element.className.trim();
  if (!className) {
    element.className = value;
  } else if (className.indexOf(value) < 0) {
    element.className = "".concat(className, " ").concat(value);
  }
}
function removeClass(element, value) {
  if (!value) {
    return;
  }
  if (isNumber2(element.length)) {
    forEach(element, function(elem) {
      removeClass(elem, value);
    });
    return;
  }
  if (element.classList) {
    element.classList.remove(value);
    return;
  }
  if (element.className.indexOf(value) >= 0) {
    element.className = element.className.replace(value, "");
  }
}
function toggleClass(element, value, added) {
  if (!value) {
    return;
  }
  if (isNumber2(element.length)) {
    forEach(element, function(elem) {
      toggleClass(elem, value, added);
    });
    return;
  }
  if (added) {
    addClass(element, value);
  } else {
    removeClass(element, value);
  }
}
var REGEXP_CAMEL_CASE = /([a-z\d])([A-Z])/g;
function toParamCase(value) {
  return value.replace(REGEXP_CAMEL_CASE, "$1-$2").toLowerCase();
}
function getData(element, name2) {
  if (isObject2(element[name2])) {
    return element[name2];
  }
  if (element.dataset) {
    return element.dataset[name2];
  }
  return element.getAttribute("data-".concat(toParamCase(name2)));
}
function setData(element, name2, data3) {
  if (isObject2(data3)) {
    element[name2] = data3;
  } else if (element.dataset) {
    element.dataset[name2] = data3;
  } else {
    element.setAttribute("data-".concat(toParamCase(name2)), data3);
  }
}
function removeData(element, name2) {
  if (isObject2(element[name2])) {
    try {
      delete element[name2];
    } catch (error2) {
      element[name2] = void 0;
    }
  } else if (element.dataset) {
    try {
      delete element.dataset[name2];
    } catch (error2) {
      element.dataset[name2] = void 0;
    }
  } else {
    element.removeAttribute("data-".concat(toParamCase(name2)));
  }
}
var REGEXP_SPACES = /\s\s*/;
var onceSupported = function() {
  var supported2 = false;
  if (IS_BROWSER2) {
    var once = false;
    var listener = function listener2() {
    };
    var options = Object.defineProperty({}, "once", {
      get: function get() {
        supported2 = true;
        return once;
      },
      /**
       * This setter can fix a `TypeError` in strict mode
       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}
       * @param {boolean} value - The value to set
       */
      set: function set(value) {
        once = value;
      }
    });
    WINDOW.addEventListener("test", listener, options);
    WINDOW.removeEventListener("test", listener, options);
  }
  return supported2;
}();
function removeListener(element, type, listener) {
  var options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
  var handler = listener;
  type.trim().split(REGEXP_SPACES).forEach(function(event) {
    if (!onceSupported) {
      var listeners2 = element.listeners;
      if (listeners2 && listeners2[event] && listeners2[event][listener]) {
        handler = listeners2[event][listener];
        delete listeners2[event][listener];
        if (Object.keys(listeners2[event]).length === 0) {
          delete listeners2[event];
        }
        if (Object.keys(listeners2).length === 0) {
          delete element.listeners;
        }
      }
    }
    element.removeEventListener(event, handler, options);
  });
}
function addListener(element, type, listener) {
  var options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
  var _handler = listener;
  type.trim().split(REGEXP_SPACES).forEach(function(event) {
    if (options.once && !onceSupported) {
      var _element$listeners = element.listeners, listeners2 = _element$listeners === void 0 ? {} : _element$listeners;
      _handler = function handler() {
        delete listeners2[event][listener];
        element.removeEventListener(event, _handler, options);
        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }
        listener.apply(element, args);
      };
      if (!listeners2[event]) {
        listeners2[event] = {};
      }
      if (listeners2[event][listener]) {
        element.removeEventListener(event, listeners2[event][listener], options);
      }
      listeners2[event][listener] = _handler;
      element.listeners = listeners2;
    }
    element.addEventListener(event, _handler, options);
  });
}
function dispatchEvent(element, type, data3) {
  var event;
  if (isFunction2(Event) && isFunction2(CustomEvent)) {
    event = new CustomEvent(type, {
      detail: data3,
      bubbles: true,
      cancelable: true
    });
  } else {
    event = document.createEvent("CustomEvent");
    event.initCustomEvent(type, true, true, data3);
  }
  return element.dispatchEvent(event);
}
function getOffset(element) {
  var box = element.getBoundingClientRect();
  return {
    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),
    top: box.top + (window.pageYOffset - document.documentElement.clientTop)
  };
}
var location2 = WINDOW.location;
var REGEXP_ORIGINS = /^(\w+:)\/\/([^:/?#]*):?(\d*)/i;
function isCrossOriginURL(url) {
  var parts = url.match(REGEXP_ORIGINS);
  return parts !== null && (parts[1] !== location2.protocol || parts[2] !== location2.hostname || parts[3] !== location2.port);
}
function addTimestamp(url) {
  var timestamp = "timestamp=".concat((/* @__PURE__ */ new Date()).getTime());
  return url + (url.indexOf("?") === -1 ? "?" : "&") + timestamp;
}
function getTransforms(_ref) {
  var rotate2 = _ref.rotate, scaleX2 = _ref.scaleX, scaleY2 = _ref.scaleY, translateX = _ref.translateX, translateY = _ref.translateY;
  var values = [];
  if (isNumber2(translateX) && translateX !== 0) {
    values.push("translateX(".concat(translateX, "px)"));
  }
  if (isNumber2(translateY) && translateY !== 0) {
    values.push("translateY(".concat(translateY, "px)"));
  }
  if (isNumber2(rotate2) && rotate2 !== 0) {
    values.push("rotate(".concat(rotate2, "deg)"));
  }
  if (isNumber2(scaleX2) && scaleX2 !== 1) {
    values.push("scaleX(".concat(scaleX2, ")"));
  }
  if (isNumber2(scaleY2) && scaleY2 !== 1) {
    values.push("scaleY(".concat(scaleY2, ")"));
  }
  var transform = values.length ? values.join(" ") : "none";
  return {
    WebkitTransform: transform,
    msTransform: transform,
    transform
  };
}
function getMaxZoomRatio(pointers) {
  var pointers2 = _objectSpread2({}, pointers);
  var maxRatio = 0;
  forEach(pointers, function(pointer, pointerId) {
    delete pointers2[pointerId];
    forEach(pointers2, function(pointer2) {
      var x1 = Math.abs(pointer.startX - pointer2.startX);
      var y1 = Math.abs(pointer.startY - pointer2.startY);
      var x2 = Math.abs(pointer.endX - pointer2.endX);
      var y2 = Math.abs(pointer.endY - pointer2.endY);
      var z1 = Math.sqrt(x1 * x1 + y1 * y1);
      var z2 = Math.sqrt(x2 * x2 + y2 * y2);
      var ratio = (z2 - z1) / z1;
      if (Math.abs(ratio) > Math.abs(maxRatio)) {
        maxRatio = ratio;
      }
    });
  });
  return maxRatio;
}
function getPointer(_ref2, endOnly) {
  var pageX = _ref2.pageX, pageY = _ref2.pageY;
  var end = {
    endX: pageX,
    endY: pageY
  };
  return endOnly ? end : _objectSpread2({
    startX: pageX,
    startY: pageY
  }, end);
}
function getPointersCenter(pointers) {
  var pageX = 0;
  var pageY = 0;
  var count = 0;
  forEach(pointers, function(_ref3) {
    var startX = _ref3.startX, startY = _ref3.startY;
    pageX += startX;
    pageY += startY;
    count += 1;
  });
  pageX /= count;
  pageY /= count;
  return {
    pageX,
    pageY
  };
}
function getAdjustedSizes(_ref4) {
  var aspectRatio = _ref4.aspectRatio, height = _ref4.height, width = _ref4.width;
  var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "contain";
  var isValidWidth = isPositiveNumber(width);
  var isValidHeight = isPositiveNumber(height);
  if (isValidWidth && isValidHeight) {
    var adjustedWidth = height * aspectRatio;
    if (type === "contain" && adjustedWidth > width || type === "cover" && adjustedWidth < width) {
      height = width / aspectRatio;
    } else {
      width = height * aspectRatio;
    }
  } else if (isValidWidth) {
    height = width / aspectRatio;
  } else if (isValidHeight) {
    width = height * aspectRatio;
  }
  return {
    width,
    height
  };
}
function getRotatedSizes(_ref5) {
  var width = _ref5.width, height = _ref5.height, degree = _ref5.degree;
  degree = Math.abs(degree) % 180;
  if (degree === 90) {
    return {
      width: height,
      height: width
    };
  }
  var arc = degree % 90 * Math.PI / 180;
  var sinArc = Math.sin(arc);
  var cosArc = Math.cos(arc);
  var newWidth = width * cosArc + height * sinArc;
  var newHeight = width * sinArc + height * cosArc;
  return degree > 90 ? {
    width: newHeight,
    height: newWidth
  } : {
    width: newWidth,
    height: newHeight
  };
}
function getSourceCanvas(image, _ref6, _ref7, _ref8) {
  var imageAspectRatio = _ref6.aspectRatio, imageNaturalWidth = _ref6.naturalWidth, imageNaturalHeight = _ref6.naturalHeight, _ref6$rotate = _ref6.rotate, rotate2 = _ref6$rotate === void 0 ? 0 : _ref6$rotate, _ref6$scaleX = _ref6.scaleX, scaleX2 = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX, _ref6$scaleY = _ref6.scaleY, scaleY2 = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;
  var aspectRatio = _ref7.aspectRatio, naturalWidth = _ref7.naturalWidth, naturalHeight = _ref7.naturalHeight;
  var _ref8$fillColor = _ref8.fillColor, fillColor = _ref8$fillColor === void 0 ? "transparent" : _ref8$fillColor, _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled, imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE, _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality, imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? "low" : _ref8$imageSmoothingQ, _ref8$maxWidth = _ref8.maxWidth, maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth, _ref8$maxHeight = _ref8.maxHeight, maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight, _ref8$minWidth = _ref8.minWidth, minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth, _ref8$minHeight = _ref8.minHeight, minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;
  var canvas = document.createElement("canvas");
  var context = canvas.getContext("2d");
  var maxSizes = getAdjustedSizes({
    aspectRatio,
    width: maxWidth,
    height: maxHeight
  });
  var minSizes = getAdjustedSizes({
    aspectRatio,
    width: minWidth,
    height: minHeight
  }, "cover");
  var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));
  var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));
  var destMaxSizes = getAdjustedSizes({
    aspectRatio: imageAspectRatio,
    width: maxWidth,
    height: maxHeight
  });
  var destMinSizes = getAdjustedSizes({
    aspectRatio: imageAspectRatio,
    width: minWidth,
    height: minHeight
  }, "cover");
  var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));
  var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));
  var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];
  canvas.width = normalizeDecimalNumber(width);
  canvas.height = normalizeDecimalNumber(height);
  context.fillStyle = fillColor;
  context.fillRect(0, 0, width, height);
  context.save();
  context.translate(width / 2, height / 2);
  context.rotate(rotate2 * Math.PI / 180);
  context.scale(scaleX2, scaleY2);
  context.imageSmoothingEnabled = imageSmoothingEnabled;
  context.imageSmoothingQuality = imageSmoothingQuality;
  context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function(param) {
    return Math.floor(normalizeDecimalNumber(param));
  }))));
  context.restore();
  return canvas;
}
var fromCharCode = String.fromCharCode;
function getStringFromCharCode(dataView, start, length) {
  var str = "";
  length += start;
  for (var i = start; i < length; i += 1) {
    str += fromCharCode(dataView.getUint8(i));
  }
  return str;
}
var REGEXP_DATA_URL_HEAD = /^data:.*,/;
function dataURLToArrayBuffer(dataURL) {
  var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, "");
  var binary = atob(base64);
  var arrayBuffer = new ArrayBuffer(binary.length);
  var uint8 = new Uint8Array(arrayBuffer);
  forEach(uint8, function(value, i) {
    uint8[i] = binary.charCodeAt(i);
  });
  return arrayBuffer;
}
function arrayBufferToDataURL(arrayBuffer, mimeType) {
  var chunks = [];
  var chunkSize = 8192;
  var uint8 = new Uint8Array(arrayBuffer);
  while (uint8.length > 0) {
    chunks.push(fromCharCode.apply(null, toArray2(uint8.subarray(0, chunkSize))));
    uint8 = uint8.subarray(chunkSize);
  }
  return "data:".concat(mimeType, ";base64,").concat(btoa(chunks.join("")));
}
function resetAndGetOrientation(arrayBuffer) {
  var dataView = new DataView(arrayBuffer);
  var orientation;
  try {
    var littleEndian;
    var app1Start;
    var ifdStart;
    if (dataView.getUint8(0) === 255 && dataView.getUint8(1) === 216) {
      var length = dataView.byteLength;
      var offset = 2;
      while (offset + 1 < length) {
        if (dataView.getUint8(offset) === 255 && dataView.getUint8(offset + 1) === 225) {
          app1Start = offset;
          break;
        }
        offset += 1;
      }
    }
    if (app1Start) {
      var exifIDCode = app1Start + 4;
      var tiffOffset = app1Start + 10;
      if (getStringFromCharCode(dataView, exifIDCode, 4) === "Exif") {
        var endianness = dataView.getUint16(tiffOffset);
        littleEndian = endianness === 18761;
        if (littleEndian || endianness === 19789) {
          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 42) {
            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);
            if (firstIFDOffset >= 8) {
              ifdStart = tiffOffset + firstIFDOffset;
            }
          }
        }
      }
    }
    if (ifdStart) {
      var _length = dataView.getUint16(ifdStart, littleEndian);
      var _offset;
      var i;
      for (i = 0; i < _length; i += 1) {
        _offset = ifdStart + i * 12 + 2;
        if (dataView.getUint16(_offset, littleEndian) === 274) {
          _offset += 8;
          orientation = dataView.getUint16(_offset, littleEndian);
          dataView.setUint16(_offset, 1, littleEndian);
          break;
        }
      }
    }
  } catch (error2) {
    orientation = 1;
  }
  return orientation;
}
function parseOrientation(orientation) {
  var rotate2 = 0;
  var scaleX2 = 1;
  var scaleY2 = 1;
  switch (orientation) {
    case 2:
      scaleX2 = -1;
      break;
    case 3:
      rotate2 = -180;
      break;
    case 4:
      scaleY2 = -1;
      break;
    case 5:
      rotate2 = 90;
      scaleY2 = -1;
      break;
    case 6:
      rotate2 = 90;
      break;
    case 7:
      rotate2 = 90;
      scaleX2 = -1;
      break;
    case 8:
      rotate2 = -90;
      break;
  }
  return {
    rotate: rotate2,
    scaleX: scaleX2,
    scaleY: scaleY2
  };
}
var render = {
  render: function render2() {
    this.initContainer();
    this.initCanvas();
    this.initCropBox();
    this.renderCanvas();
    if (this.cropped) {
      this.renderCropBox();
    }
  },
  initContainer: function initContainer() {
    var element = this.element, options = this.options, container = this.container, cropper = this.cropper;
    var minWidth = Number(options.minContainerWidth);
    var minHeight = Number(options.minContainerHeight);
    addClass(cropper, CLASS_HIDDEN);
    removeClass(element, CLASS_HIDDEN);
    var containerData = {
      width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),
      height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)
    };
    this.containerData = containerData;
    setStyle(cropper, {
      width: containerData.width,
      height: containerData.height
    });
    addClass(element, CLASS_HIDDEN);
    removeClass(cropper, CLASS_HIDDEN);
  },
  // Canvas (image wrapper)
  initCanvas: function initCanvas() {
    var containerData = this.containerData, imageData = this.imageData;
    var viewMode = this.options.viewMode;
    var rotated = Math.abs(imageData.rotate) % 180 === 90;
    var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;
    var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;
    var aspectRatio = naturalWidth / naturalHeight;
    var canvasWidth = containerData.width;
    var canvasHeight = containerData.height;
    if (containerData.height * aspectRatio > containerData.width) {
      if (viewMode === 3) {
        canvasWidth = containerData.height * aspectRatio;
      } else {
        canvasHeight = containerData.width / aspectRatio;
      }
    } else if (viewMode === 3) {
      canvasHeight = containerData.width / aspectRatio;
    } else {
      canvasWidth = containerData.height * aspectRatio;
    }
    var canvasData = {
      aspectRatio,
      naturalWidth,
      naturalHeight,
      width: canvasWidth,
      height: canvasHeight
    };
    this.canvasData = canvasData;
    this.limited = viewMode === 1 || viewMode === 2;
    this.limitCanvas(true, true);
    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);
    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);
    canvasData.left = (containerData.width - canvasData.width) / 2;
    canvasData.top = (containerData.height - canvasData.height) / 2;
    canvasData.oldLeft = canvasData.left;
    canvasData.oldTop = canvasData.top;
    this.initialCanvasData = assign({}, canvasData);
  },
  limitCanvas: function limitCanvas(sizeLimited, positionLimited) {
    var options = this.options, containerData = this.containerData, canvasData = this.canvasData, cropBoxData = this.cropBoxData;
    var viewMode = options.viewMode;
    var aspectRatio = canvasData.aspectRatio;
    var cropped = this.cropped && cropBoxData;
    if (sizeLimited) {
      var minCanvasWidth = Number(options.minCanvasWidth) || 0;
      var minCanvasHeight = Number(options.minCanvasHeight) || 0;
      if (viewMode > 1) {
        minCanvasWidth = Math.max(minCanvasWidth, containerData.width);
        minCanvasHeight = Math.max(minCanvasHeight, containerData.height);
        if (viewMode === 3) {
          if (minCanvasHeight * aspectRatio > minCanvasWidth) {
            minCanvasWidth = minCanvasHeight * aspectRatio;
          } else {
            minCanvasHeight = minCanvasWidth / aspectRatio;
          }
        }
      } else if (viewMode > 0) {
        if (minCanvasWidth) {
          minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);
        } else if (minCanvasHeight) {
          minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);
        } else if (cropped) {
          minCanvasWidth = cropBoxData.width;
          minCanvasHeight = cropBoxData.height;
          if (minCanvasHeight * aspectRatio > minCanvasWidth) {
            minCanvasWidth = minCanvasHeight * aspectRatio;
          } else {
            minCanvasHeight = minCanvasWidth / aspectRatio;
          }
        }
      }
      var _getAdjustedSizes = getAdjustedSizes({
        aspectRatio,
        width: minCanvasWidth,
        height: minCanvasHeight
      });
      minCanvasWidth = _getAdjustedSizes.width;
      minCanvasHeight = _getAdjustedSizes.height;
      canvasData.minWidth = minCanvasWidth;
      canvasData.minHeight = minCanvasHeight;
      canvasData.maxWidth = Infinity;
      canvasData.maxHeight = Infinity;
    }
    if (positionLimited) {
      if (viewMode > (cropped ? 0 : 1)) {
        var newCanvasLeft = containerData.width - canvasData.width;
        var newCanvasTop = containerData.height - canvasData.height;
        canvasData.minLeft = Math.min(0, newCanvasLeft);
        canvasData.minTop = Math.min(0, newCanvasTop);
        canvasData.maxLeft = Math.max(0, newCanvasLeft);
        canvasData.maxTop = Math.max(0, newCanvasTop);
        if (cropped && this.limited) {
          canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));
          canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));
          canvasData.maxLeft = cropBoxData.left;
          canvasData.maxTop = cropBoxData.top;
          if (viewMode === 2) {
            if (canvasData.width >= containerData.width) {
              canvasData.minLeft = Math.min(0, newCanvasLeft);
              canvasData.maxLeft = Math.max(0, newCanvasLeft);
            }
            if (canvasData.height >= containerData.height) {
              canvasData.minTop = Math.min(0, newCanvasTop);
              canvasData.maxTop = Math.max(0, newCanvasTop);
            }
          }
        }
      } else {
        canvasData.minLeft = -canvasData.width;
        canvasData.minTop = -canvasData.height;
        canvasData.maxLeft = containerData.width;
        canvasData.maxTop = containerData.height;
      }
    }
  },
  renderCanvas: function renderCanvas(changed, transformed) {
    var canvasData = this.canvasData, imageData = this.imageData;
    if (transformed) {
      var _getRotatedSizes = getRotatedSizes({
        width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),
        height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),
        degree: imageData.rotate || 0
      }), naturalWidth = _getRotatedSizes.width, naturalHeight = _getRotatedSizes.height;
      var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);
      var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);
      canvasData.left -= (width - canvasData.width) / 2;
      canvasData.top -= (height - canvasData.height) / 2;
      canvasData.width = width;
      canvasData.height = height;
      canvasData.aspectRatio = naturalWidth / naturalHeight;
      canvasData.naturalWidth = naturalWidth;
      canvasData.naturalHeight = naturalHeight;
      this.limitCanvas(true, false);
    }
    if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {
      canvasData.left = canvasData.oldLeft;
    }
    if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {
      canvasData.top = canvasData.oldTop;
    }
    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);
    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);
    this.limitCanvas(false, true);
    canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);
    canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);
    canvasData.oldLeft = canvasData.left;
    canvasData.oldTop = canvasData.top;
    setStyle(this.canvas, assign({
      width: canvasData.width,
      height: canvasData.height
    }, getTransforms({
      translateX: canvasData.left,
      translateY: canvasData.top
    })));
    this.renderImage(changed);
    if (this.cropped && this.limited) {
      this.limitCropBox(true, true);
    }
  },
  renderImage: function renderImage(changed) {
    var canvasData = this.canvasData, imageData = this.imageData;
    var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);
    var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);
    assign(imageData, {
      width,
      height,
      left: (canvasData.width - width) / 2,
      top: (canvasData.height - height) / 2
    });
    setStyle(this.image, assign({
      width: imageData.width,
      height: imageData.height
    }, getTransforms(assign({
      translateX: imageData.left,
      translateY: imageData.top
    }, imageData))));
    if (changed) {
      this.output();
    }
  },
  initCropBox: function initCropBox() {
    var options = this.options, canvasData = this.canvasData;
    var aspectRatio = options.aspectRatio || options.initialAspectRatio;
    var autoCropArea = Number(options.autoCropArea) || 0.8;
    var cropBoxData = {
      width: canvasData.width,
      height: canvasData.height
    };
    if (aspectRatio) {
      if (canvasData.height * aspectRatio > canvasData.width) {
        cropBoxData.height = cropBoxData.width / aspectRatio;
      } else {
        cropBoxData.width = cropBoxData.height * aspectRatio;
      }
    }
    this.cropBoxData = cropBoxData;
    this.limitCropBox(true, true);
    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);
    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);
    cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);
    cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);
    cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;
    cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;
    cropBoxData.oldLeft = cropBoxData.left;
    cropBoxData.oldTop = cropBoxData.top;
    this.initialCropBoxData = assign({}, cropBoxData);
  },
  limitCropBox: function limitCropBox(sizeLimited, positionLimited) {
    var options = this.options, containerData = this.containerData, canvasData = this.canvasData, cropBoxData = this.cropBoxData, limited = this.limited;
    var aspectRatio = options.aspectRatio;
    if (sizeLimited) {
      var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;
      var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;
      var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;
      var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height;
      minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);
      minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);
      if (aspectRatio) {
        if (minCropBoxWidth && minCropBoxHeight) {
          if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {
            minCropBoxHeight = minCropBoxWidth / aspectRatio;
          } else {
            minCropBoxWidth = minCropBoxHeight * aspectRatio;
          }
        } else if (minCropBoxWidth) {
          minCropBoxHeight = minCropBoxWidth / aspectRatio;
        } else if (minCropBoxHeight) {
          minCropBoxWidth = minCropBoxHeight * aspectRatio;
        }
        if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {
          maxCropBoxHeight = maxCropBoxWidth / aspectRatio;
        } else {
          maxCropBoxWidth = maxCropBoxHeight * aspectRatio;
        }
      }
      cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);
      cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);
      cropBoxData.maxWidth = maxCropBoxWidth;
      cropBoxData.maxHeight = maxCropBoxHeight;
    }
    if (positionLimited) {
      if (limited) {
        cropBoxData.minLeft = Math.max(0, canvasData.left);
        cropBoxData.minTop = Math.max(0, canvasData.top);
        cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;
        cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;
      } else {
        cropBoxData.minLeft = 0;
        cropBoxData.minTop = 0;
        cropBoxData.maxLeft = containerData.width - cropBoxData.width;
        cropBoxData.maxTop = containerData.height - cropBoxData.height;
      }
    }
  },
  renderCropBox: function renderCropBox() {
    var options = this.options, containerData = this.containerData, cropBoxData = this.cropBoxData;
    if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {
      cropBoxData.left = cropBoxData.oldLeft;
    }
    if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {
      cropBoxData.top = cropBoxData.oldTop;
    }
    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);
    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);
    this.limitCropBox(false, true);
    cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);
    cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);
    cropBoxData.oldLeft = cropBoxData.left;
    cropBoxData.oldTop = cropBoxData.top;
    if (options.movable && options.cropBoxMovable) {
      setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);
    }
    setStyle(this.cropBox, assign({
      width: cropBoxData.width,
      height: cropBoxData.height
    }, getTransforms({
      translateX: cropBoxData.left,
      translateY: cropBoxData.top
    })));
    if (this.cropped && this.limited) {
      this.limitCanvas(true, true);
    }
    if (!this.disabled) {
      this.output();
    }
  },
  output: function output() {
    this.preview();
    dispatchEvent(this.element, EVENT_CROP, this.getData());
  }
};
var preview = {
  initPreview: function initPreview() {
    var element = this.element, crossOrigin = this.crossOrigin;
    var preview3 = this.options.preview;
    var url = crossOrigin ? this.crossOriginUrl : this.url;
    var alt = element.alt || "The image to preview";
    var image = document.createElement("img");
    if (crossOrigin) {
      image.crossOrigin = crossOrigin;
    }
    image.src = url;
    image.alt = alt;
    this.viewBox.appendChild(image);
    this.viewBoxImage = image;
    if (!preview3) {
      return;
    }
    var previews = preview3;
    if (typeof preview3 === "string") {
      previews = element.ownerDocument.querySelectorAll(preview3);
    } else if (preview3.querySelector) {
      previews = [preview3];
    }
    this.previews = previews;
    forEach(previews, function(el) {
      var img = document.createElement("img");
      setData(el, DATA_PREVIEW, {
        width: el.offsetWidth,
        height: el.offsetHeight,
        html: el.innerHTML
      });
      if (crossOrigin) {
        img.crossOrigin = crossOrigin;
      }
      img.src = url;
      img.alt = alt;
      img.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"';
      el.innerHTML = "";
      el.appendChild(img);
    });
  },
  resetPreview: function resetPreview() {
    forEach(this.previews, function(element) {
      var data3 = getData(element, DATA_PREVIEW);
      setStyle(element, {
        width: data3.width,
        height: data3.height
      });
      element.innerHTML = data3.html;
      removeData(element, DATA_PREVIEW);
    });
  },
  preview: function preview2() {
    var imageData = this.imageData, canvasData = this.canvasData, cropBoxData = this.cropBoxData;
    var cropBoxWidth = cropBoxData.width, cropBoxHeight = cropBoxData.height;
    var width = imageData.width, height = imageData.height;
    var left = cropBoxData.left - canvasData.left - imageData.left;
    var top = cropBoxData.top - canvasData.top - imageData.top;
    if (!this.cropped || this.disabled) {
      return;
    }
    setStyle(this.viewBoxImage, assign({
      width,
      height
    }, getTransforms(assign({
      translateX: -left,
      translateY: -top
    }, imageData))));
    forEach(this.previews, function(element) {
      var data3 = getData(element, DATA_PREVIEW);
      var originalWidth = data3.width;
      var originalHeight = data3.height;
      var newWidth = originalWidth;
      var newHeight = originalHeight;
      var ratio = 1;
      if (cropBoxWidth) {
        ratio = originalWidth / cropBoxWidth;
        newHeight = cropBoxHeight * ratio;
      }
      if (cropBoxHeight && newHeight > originalHeight) {
        ratio = originalHeight / cropBoxHeight;
        newWidth = cropBoxWidth * ratio;
        newHeight = originalHeight;
      }
      setStyle(element, {
        width: newWidth,
        height: newHeight
      });
      setStyle(element.getElementsByTagName("img")[0], assign({
        width: width * ratio,
        height: height * ratio
      }, getTransforms(assign({
        translateX: -left * ratio,
        translateY: -top * ratio
      }, imageData))));
    });
  }
};
var events = {
  bind: function bind() {
    var element = this.element, options = this.options, cropper = this.cropper;
    if (isFunction2(options.cropstart)) {
      addListener(element, EVENT_CROP_START, options.cropstart);
    }
    if (isFunction2(options.cropmove)) {
      addListener(element, EVENT_CROP_MOVE, options.cropmove);
    }
    if (isFunction2(options.cropend)) {
      addListener(element, EVENT_CROP_END, options.cropend);
    }
    if (isFunction2(options.crop)) {
      addListener(element, EVENT_CROP, options.crop);
    }
    if (isFunction2(options.zoom)) {
      addListener(element, EVENT_ZOOM, options.zoom);
    }
    addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));
    if (options.zoomable && options.zoomOnWheel) {
      addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {
        passive: false,
        capture: true
      });
    }
    if (options.toggleDragModeOnDblclick) {
      addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));
    }
    addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));
    addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));
    if (options.responsive) {
      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));
    }
  },
  unbind: function unbind() {
    var element = this.element, options = this.options, cropper = this.cropper;
    if (isFunction2(options.cropstart)) {
      removeListener(element, EVENT_CROP_START, options.cropstart);
    }
    if (isFunction2(options.cropmove)) {
      removeListener(element, EVENT_CROP_MOVE, options.cropmove);
    }
    if (isFunction2(options.cropend)) {
      removeListener(element, EVENT_CROP_END, options.cropend);
    }
    if (isFunction2(options.crop)) {
      removeListener(element, EVENT_CROP, options.crop);
    }
    if (isFunction2(options.zoom)) {
      removeListener(element, EVENT_ZOOM, options.zoom);
    }
    removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);
    if (options.zoomable && options.zoomOnWheel) {
      removeListener(cropper, EVENT_WHEEL, this.onWheel, {
        passive: false,
        capture: true
      });
    }
    if (options.toggleDragModeOnDblclick) {
      removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);
    }
    removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);
    removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);
    if (options.responsive) {
      removeListener(window, EVENT_RESIZE, this.onResize);
    }
  }
};
var handlers = {
  resize: function resize() {
    if (this.disabled) {
      return;
    }
    var options = this.options, container = this.container, containerData = this.containerData;
    var ratioX = container.offsetWidth / containerData.width;
    var ratioY = container.offsetHeight / containerData.height;
    var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY;
    if (ratio !== 1) {
      var canvasData;
      var cropBoxData;
      if (options.restore) {
        canvasData = this.getCanvasData();
        cropBoxData = this.getCropBoxData();
      }
      this.render();
      if (options.restore) {
        this.setCanvasData(forEach(canvasData, function(n, i) {
          canvasData[i] = n * ratio;
        }));
        this.setCropBoxData(forEach(cropBoxData, function(n, i) {
          cropBoxData[i] = n * ratio;
        }));
      }
    }
  },
  dblclick: function dblclick() {
    if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {
      return;
    }
    this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);
  },
  wheel: function wheel(event) {
    var _this = this;
    var ratio = Number(this.options.wheelZoomRatio) || 0.1;
    var delta = 1;
    if (this.disabled) {
      return;
    }
    event.preventDefault();
    if (this.wheeling) {
      return;
    }
    this.wheeling = true;
    setTimeout(function() {
      _this.wheeling = false;
    }, 50);
    if (event.deltaY) {
      delta = event.deltaY > 0 ? 1 : -1;
    } else if (event.wheelDelta) {
      delta = -event.wheelDelta / 120;
    } else if (event.detail) {
      delta = event.detail > 0 ? 1 : -1;
    }
    this.zoom(-delta * ratio, event);
  },
  cropStart: function cropStart(event) {
    var buttons = event.buttons, button = event.button;
    if (this.disabled || (event.type === "mousedown" || event.type === "pointerdown" && event.pointerType === "mouse") && // No primary button (Usually the left button)
    (isNumber2(buttons) && buttons !== 1 || isNumber2(button) && button !== 0 || event.ctrlKey)) {
      return;
    }
    var options = this.options, pointers = this.pointers;
    var action;
    if (event.changedTouches) {
      forEach(event.changedTouches, function(touch) {
        pointers[touch.identifier] = getPointer(touch);
      });
    } else {
      pointers[event.pointerId || 0] = getPointer(event);
    }
    if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {
      action = ACTION_ZOOM;
    } else {
      action = getData(event.target, DATA_ACTION);
    }
    if (!REGEXP_ACTIONS.test(action)) {
      return;
    }
    if (dispatchEvent(this.element, EVENT_CROP_START, {
      originalEvent: event,
      action
    }) === false) {
      return;
    }
    event.preventDefault();
    this.action = action;
    this.cropping = false;
    if (action === ACTION_CROP) {
      this.cropping = true;
      addClass(this.dragBox, CLASS_MODAL);
    }
  },
  cropMove: function cropMove(event) {
    var action = this.action;
    if (this.disabled || !action) {
      return;
    }
    var pointers = this.pointers;
    event.preventDefault();
    if (dispatchEvent(this.element, EVENT_CROP_MOVE, {
      originalEvent: event,
      action
    }) === false) {
      return;
    }
    if (event.changedTouches) {
      forEach(event.changedTouches, function(touch) {
        assign(pointers[touch.identifier] || {}, getPointer(touch, true));
      });
    } else {
      assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));
    }
    this.change(event);
  },
  cropEnd: function cropEnd(event) {
    if (this.disabled) {
      return;
    }
    var action = this.action, pointers = this.pointers;
    if (event.changedTouches) {
      forEach(event.changedTouches, function(touch) {
        delete pointers[touch.identifier];
      });
    } else {
      delete pointers[event.pointerId || 0];
    }
    if (!action) {
      return;
    }
    event.preventDefault();
    if (!Object.keys(pointers).length) {
      this.action = "";
    }
    if (this.cropping) {
      this.cropping = false;
      toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);
    }
    dispatchEvent(this.element, EVENT_CROP_END, {
      originalEvent: event,
      action
    });
  }
};
var change = {
  change: function change2(event) {
    var options = this.options, canvasData = this.canvasData, containerData = this.containerData, cropBoxData = this.cropBoxData, pointers = this.pointers;
    var action = this.action;
    var aspectRatio = options.aspectRatio;
    var left = cropBoxData.left, top = cropBoxData.top, width = cropBoxData.width, height = cropBoxData.height;
    var right = left + width;
    var bottom = top + height;
    var minLeft = 0;
    var minTop = 0;
    var maxWidth = containerData.width;
    var maxHeight = containerData.height;
    var renderable = true;
    var offset;
    if (!aspectRatio && event.shiftKey) {
      aspectRatio = width && height ? width / height : 1;
    }
    if (this.limited) {
      minLeft = cropBoxData.minLeft;
      minTop = cropBoxData.minTop;
      maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);
      maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);
    }
    var pointer = pointers[Object.keys(pointers)[0]];
    var range = {
      x: pointer.endX - pointer.startX,
      y: pointer.endY - pointer.startY
    };
    var check = function check2(side) {
      switch (side) {
        case ACTION_EAST:
          if (right + range.x > maxWidth) {
            range.x = maxWidth - right;
          }
          break;
        case ACTION_WEST:
          if (left + range.x < minLeft) {
            range.x = minLeft - left;
          }
          break;
        case ACTION_NORTH:
          if (top + range.y < minTop) {
            range.y = minTop - top;
          }
          break;
        case ACTION_SOUTH:
          if (bottom + range.y > maxHeight) {
            range.y = maxHeight - bottom;
          }
          break;
      }
    };
    switch (action) {
      case ACTION_ALL:
        left += range.x;
        top += range.y;
        break;
      case ACTION_EAST:
        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
          renderable = false;
          break;
        }
        check(ACTION_EAST);
        width += range.x;
        if (width < 0) {
          action = ACTION_WEST;
          width = -width;
          left -= width;
        }
        if (aspectRatio) {
          height = width / aspectRatio;
          top += (cropBoxData.height - height) / 2;
        }
        break;
      case ACTION_NORTH:
        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {
          renderable = false;
          break;
        }
        check(ACTION_NORTH);
        height -= range.y;
        top += range.y;
        if (height < 0) {
          action = ACTION_SOUTH;
          height = -height;
          top -= height;
        }
        if (aspectRatio) {
          width = height * aspectRatio;
          left += (cropBoxData.width - width) / 2;
        }
        break;
      case ACTION_WEST:
        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
          renderable = false;
          break;
        }
        check(ACTION_WEST);
        width -= range.x;
        left += range.x;
        if (width < 0) {
          action = ACTION_EAST;
          width = -width;
          left -= width;
        }
        if (aspectRatio) {
          height = width / aspectRatio;
          top += (cropBoxData.height - height) / 2;
        }
        break;
      case ACTION_SOUTH:
        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {
          renderable = false;
          break;
        }
        check(ACTION_SOUTH);
        height += range.y;
        if (height < 0) {
          action = ACTION_NORTH;
          height = -height;
          top -= height;
        }
        if (aspectRatio) {
          width = height * aspectRatio;
          left += (cropBoxData.width - width) / 2;
        }
        break;
      case ACTION_NORTH_EAST:
        if (aspectRatio) {
          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {
            renderable = false;
            break;
          }
          check(ACTION_NORTH);
          height -= range.y;
          top += range.y;
          width = height * aspectRatio;
        } else {
          check(ACTION_NORTH);
          check(ACTION_EAST);
          if (range.x >= 0) {
            if (right < maxWidth) {
              width += range.x;
            } else if (range.y <= 0 && top <= minTop) {
              renderable = false;
            }
          } else {
            width += range.x;
          }
          if (range.y <= 0) {
            if (top > minTop) {
              height -= range.y;
              top += range.y;
            }
          } else {
            height -= range.y;
            top += range.y;
          }
        }
        if (width < 0 && height < 0) {
          action = ACTION_SOUTH_WEST;
          height = -height;
          width = -width;
          top -= height;
          left -= width;
        } else if (width < 0) {
          action = ACTION_NORTH_WEST;
          width = -width;
          left -= width;
        } else if (height < 0) {
          action = ACTION_SOUTH_EAST;
          height = -height;
          top -= height;
        }
        break;
      case ACTION_NORTH_WEST:
        if (aspectRatio) {
          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {
            renderable = false;
            break;
          }
          check(ACTION_NORTH);
          height -= range.y;
          top += range.y;
          width = height * aspectRatio;
          left += cropBoxData.width - width;
        } else {
          check(ACTION_NORTH);
          check(ACTION_WEST);
          if (range.x <= 0) {
            if (left > minLeft) {
              width -= range.x;
              left += range.x;
            } else if (range.y <= 0 && top <= minTop) {
              renderable = false;
            }
          } else {
            width -= range.x;
            left += range.x;
          }
          if (range.y <= 0) {
            if (top > minTop) {
              height -= range.y;
              top += range.y;
            }
          } else {
            height -= range.y;
            top += range.y;
          }
        }
        if (width < 0 && height < 0) {
          action = ACTION_SOUTH_EAST;
          height = -height;
          width = -width;
          top -= height;
          left -= width;
        } else if (width < 0) {
          action = ACTION_NORTH_EAST;
          width = -width;
          left -= width;
        } else if (height < 0) {
          action = ACTION_SOUTH_WEST;
          height = -height;
          top -= height;
        }
        break;
      case ACTION_SOUTH_WEST:
        if (aspectRatio) {
          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {
            renderable = false;
            break;
          }
          check(ACTION_WEST);
          width -= range.x;
          left += range.x;
          height = width / aspectRatio;
        } else {
          check(ACTION_SOUTH);
          check(ACTION_WEST);
          if (range.x <= 0) {
            if (left > minLeft) {
              width -= range.x;
              left += range.x;
            } else if (range.y >= 0 && bottom >= maxHeight) {
              renderable = false;
            }
          } else {
            width -= range.x;
            left += range.x;
          }
          if (range.y >= 0) {
            if (bottom < maxHeight) {
              height += range.y;
            }
          } else {
            height += range.y;
          }
        }
        if (width < 0 && height < 0) {
          action = ACTION_NORTH_EAST;
          height = -height;
          width = -width;
          top -= height;
          left -= width;
        } else if (width < 0) {
          action = ACTION_SOUTH_EAST;
          width = -width;
          left -= width;
        } else if (height < 0) {
          action = ACTION_NORTH_WEST;
          height = -height;
          top -= height;
        }
        break;
      case ACTION_SOUTH_EAST:
        if (aspectRatio) {
          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {
            renderable = false;
            break;
          }
          check(ACTION_EAST);
          width += range.x;
          height = width / aspectRatio;
        } else {
          check(ACTION_SOUTH);
          check(ACTION_EAST);
          if (range.x >= 0) {
            if (right < maxWidth) {
              width += range.x;
            } else if (range.y >= 0 && bottom >= maxHeight) {
              renderable = false;
            }
          } else {
            width += range.x;
          }
          if (range.y >= 0) {
            if (bottom < maxHeight) {
              height += range.y;
            }
          } else {
            height += range.y;
          }
        }
        if (width < 0 && height < 0) {
          action = ACTION_NORTH_WEST;
          height = -height;
          width = -width;
          top -= height;
          left -= width;
        } else if (width < 0) {
          action = ACTION_SOUTH_WEST;
          width = -width;
          left -= width;
        } else if (height < 0) {
          action = ACTION_NORTH_EAST;
          height = -height;
          top -= height;
        }
        break;
      case ACTION_MOVE:
        this.move(range.x, range.y);
        renderable = false;
        break;
      case ACTION_ZOOM:
        this.zoom(getMaxZoomRatio(pointers), event);
        renderable = false;
        break;
      case ACTION_CROP:
        if (!range.x || !range.y) {
          renderable = false;
          break;
        }
        offset = getOffset(this.cropper);
        left = pointer.startX - offset.left;
        top = pointer.startY - offset.top;
        width = cropBoxData.minWidth;
        height = cropBoxData.minHeight;
        if (range.x > 0) {
          action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;
        } else if (range.x < 0) {
          left -= width;
          action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;
        }
        if (range.y < 0) {
          top -= height;
        }
        if (!this.cropped) {
          removeClass(this.cropBox, CLASS_HIDDEN);
          this.cropped = true;
          if (this.limited) {
            this.limitCropBox(true, true);
          }
        }
        break;
    }
    if (renderable) {
      cropBoxData.width = width;
      cropBoxData.height = height;
      cropBoxData.left = left;
      cropBoxData.top = top;
      this.action = action;
      this.renderCropBox();
    }
    forEach(pointers, function(p) {
      p.startX = p.endX;
      p.startY = p.endY;
    });
  }
};
var methods2 = {
  // Show the crop box manually
  crop: function crop() {
    if (this.ready && !this.cropped && !this.disabled) {
      this.cropped = true;
      this.limitCropBox(true, true);
      if (this.options.modal) {
        addClass(this.dragBox, CLASS_MODAL);
      }
      removeClass(this.cropBox, CLASS_HIDDEN);
      this.setCropBoxData(this.initialCropBoxData);
    }
    return this;
  },
  // Reset the image and crop box to their initial states
  reset: function reset() {
    if (this.ready && !this.disabled) {
      this.imageData = assign({}, this.initialImageData);
      this.canvasData = assign({}, this.initialCanvasData);
      this.cropBoxData = assign({}, this.initialCropBoxData);
      this.renderCanvas();
      if (this.cropped) {
        this.renderCropBox();
      }
    }
    return this;
  },
  // Clear the crop box
  clear: function clear2() {
    if (this.cropped && !this.disabled) {
      assign(this.cropBoxData, {
        left: 0,
        top: 0,
        width: 0,
        height: 0
      });
      this.cropped = false;
      this.renderCropBox();
      this.limitCanvas(true, true);
      this.renderCanvas();
      removeClass(this.dragBox, CLASS_MODAL);
      addClass(this.cropBox, CLASS_HIDDEN);
    }
    return this;
  },
  /**
   * Replace the image's src and rebuild the cropper
   * @param {string} url - The new URL.
   * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.
   * @returns {Cropper} this
   */
  replace: function replace(url) {
    var hasSameSize = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    if (!this.disabled && url) {
      if (this.isImg) {
        this.element.src = url;
      }
      if (hasSameSize) {
        this.url = url;
        this.image.src = url;
        if (this.ready) {
          this.viewBoxImage.src = url;
          forEach(this.previews, function(element) {
            element.getElementsByTagName("img")[0].src = url;
          });
        }
      } else {
        if (this.isImg) {
          this.replaced = true;
        }
        this.options.data = null;
        this.uncreate();
        this.load(url);
      }
    }
    return this;
  },
  // Enable (unfreeze) the cropper
  enable: function enable() {
    if (this.ready && this.disabled) {
      this.disabled = false;
      removeClass(this.cropper, CLASS_DISABLED);
    }
    return this;
  },
  // Disable (freeze) the cropper
  disable: function disable() {
    if (this.ready && !this.disabled) {
      this.disabled = true;
      addClass(this.cropper, CLASS_DISABLED);
    }
    return this;
  },
  /**
   * Destroy the cropper and remove the instance from the image
   * @returns {Cropper} this
   */
  destroy: function destroy2() {
    var element = this.element;
    if (!element[NAMESPACE]) {
      return this;
    }
    element[NAMESPACE] = void 0;
    if (this.isImg && this.replaced) {
      element.src = this.originalUrl;
    }
    this.uncreate();
    return this;
  },
  /**
   * Move the canvas with relative offsets
   * @param {number} offsetX - The relative offset distance on the x-axis.
   * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.
   * @returns {Cropper} this
   */
  move: function move(offsetX) {
    var offsetY = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : offsetX;
    var _this$canvasData = this.canvasData, left = _this$canvasData.left, top = _this$canvasData.top;
    return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));
  },
  /**
   * Move the canvas to an absolute point
   * @param {number} x - The x-axis coordinate.
   * @param {number} [y=x] - The y-axis coordinate.
   * @returns {Cropper} this
   */
  moveTo: function moveTo(x) {
    var y = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : x;
    var canvasData = this.canvasData;
    var changed = false;
    x = Number(x);
    y = Number(y);
    if (this.ready && !this.disabled && this.options.movable) {
      if (isNumber2(x)) {
        canvasData.left = x;
        changed = true;
      }
      if (isNumber2(y)) {
        canvasData.top = y;
        changed = true;
      }
      if (changed) {
        this.renderCanvas(true);
      }
    }
    return this;
  },
  /**
   * Zoom the canvas with a relative ratio
   * @param {number} ratio - The target ratio.
   * @param {Event} _originalEvent - The original event if any.
   * @returns {Cropper} this
   */
  zoom: function zoom(ratio, _originalEvent) {
    var canvasData = this.canvasData;
    ratio = Number(ratio);
    if (ratio < 0) {
      ratio = 1 / (1 - ratio);
    } else {
      ratio = 1 + ratio;
    }
    return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);
  },
  /**
   * Zoom the canvas to an absolute ratio
   * @param {number} ratio - The target ratio.
   * @param {Object} pivot - The zoom pivot point coordinate.
   * @param {Event} _originalEvent - The original event if any.
   * @returns {Cropper} this
   */
  zoomTo: function zoomTo(ratio, pivot, _originalEvent) {
    var options = this.options, canvasData = this.canvasData;
    var width = canvasData.width, height = canvasData.height, naturalWidth = canvasData.naturalWidth, naturalHeight = canvasData.naturalHeight;
    ratio = Number(ratio);
    if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {
      var newWidth = naturalWidth * ratio;
      var newHeight = naturalHeight * ratio;
      if (dispatchEvent(this.element, EVENT_ZOOM, {
        ratio,
        oldRatio: width / naturalWidth,
        originalEvent: _originalEvent
      }) === false) {
        return this;
      }
      if (_originalEvent) {
        var pointers = this.pointers;
        var offset = getOffset(this.cropper);
        var center2 = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {
          pageX: _originalEvent.pageX,
          pageY: _originalEvent.pageY
        };
        canvasData.left -= (newWidth - width) * ((center2.pageX - offset.left - canvasData.left) / width);
        canvasData.top -= (newHeight - height) * ((center2.pageY - offset.top - canvasData.top) / height);
      } else if (isPlainObject(pivot) && isNumber2(pivot.x) && isNumber2(pivot.y)) {
        canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);
        canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);
      } else {
        canvasData.left -= (newWidth - width) / 2;
        canvasData.top -= (newHeight - height) / 2;
      }
      canvasData.width = newWidth;
      canvasData.height = newHeight;
      this.renderCanvas(true);
    }
    return this;
  },
  /**
   * Rotate the canvas with a relative degree
   * @param {number} degree - The rotate degree.
   * @returns {Cropper} this
   */
  rotate: function rotate(degree) {
    return this.rotateTo((this.imageData.rotate || 0) + Number(degree));
  },
  /**
   * Rotate the canvas to an absolute degree
   * @param {number} degree - The rotate degree.
   * @returns {Cropper} this
   */
  rotateTo: function rotateTo(degree) {
    degree = Number(degree);
    if (isNumber2(degree) && this.ready && !this.disabled && this.options.rotatable) {
      this.imageData.rotate = degree % 360;
      this.renderCanvas(true, true);
    }
    return this;
  },
  /**
   * Scale the image on the x-axis.
   * @param {number} scaleX - The scale ratio on the x-axis.
   * @returns {Cropper} this
   */
  scaleX: function scaleX(_scaleX) {
    var scaleY2 = this.imageData.scaleY;
    return this.scale(_scaleX, isNumber2(scaleY2) ? scaleY2 : 1);
  },
  /**
   * Scale the image on the y-axis.
   * @param {number} scaleY - The scale ratio on the y-axis.
   * @returns {Cropper} this
   */
  scaleY: function scaleY(_scaleY) {
    var scaleX2 = this.imageData.scaleX;
    return this.scale(isNumber2(scaleX2) ? scaleX2 : 1, _scaleY);
  },
  /**
   * Scale the image
   * @param {number} scaleX - The scale ratio on the x-axis.
   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.
   * @returns {Cropper} this
   */
  scale: function scale(scaleX2) {
    var scaleY2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : scaleX2;
    var imageData = this.imageData;
    var transformed = false;
    scaleX2 = Number(scaleX2);
    scaleY2 = Number(scaleY2);
    if (this.ready && !this.disabled && this.options.scalable) {
      if (isNumber2(scaleX2)) {
        imageData.scaleX = scaleX2;
        transformed = true;
      }
      if (isNumber2(scaleY2)) {
        imageData.scaleY = scaleY2;
        transformed = true;
      }
      if (transformed) {
        this.renderCanvas(true, true);
      }
    }
    return this;
  },
  /**
   * Get the cropped area position and size data (base on the original image)
   * @param {boolean} [rounded=false] - Indicate if round the data values or not.
   * @returns {Object} The result cropped data.
   */
  getData: function getData2() {
    var rounded = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
    var options = this.options, imageData = this.imageData, canvasData = this.canvasData, cropBoxData = this.cropBoxData;
    var data3;
    if (this.ready && this.cropped) {
      data3 = {
        x: cropBoxData.left - canvasData.left,
        y: cropBoxData.top - canvasData.top,
        width: cropBoxData.width,
        height: cropBoxData.height
      };
      var ratio = imageData.width / imageData.naturalWidth;
      forEach(data3, function(n, i) {
        data3[i] = n / ratio;
      });
      if (rounded) {
        var bottom = Math.round(data3.y + data3.height);
        var right = Math.round(data3.x + data3.width);
        data3.x = Math.round(data3.x);
        data3.y = Math.round(data3.y);
        data3.width = right - data3.x;
        data3.height = bottom - data3.y;
      }
    } else {
      data3 = {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      };
    }
    if (options.rotatable) {
      data3.rotate = imageData.rotate || 0;
    }
    if (options.scalable) {
      data3.scaleX = imageData.scaleX || 1;
      data3.scaleY = imageData.scaleY || 1;
    }
    return data3;
  },
  /**
   * Set the cropped area position and size with new data
   * @param {Object} data - The new data.
   * @returns {Cropper} this
   */
  setData: function setData2(data3) {
    var options = this.options, imageData = this.imageData, canvasData = this.canvasData;
    var cropBoxData = {};
    if (this.ready && !this.disabled && isPlainObject(data3)) {
      var transformed = false;
      if (options.rotatable) {
        if (isNumber2(data3.rotate) && data3.rotate !== imageData.rotate) {
          imageData.rotate = data3.rotate;
          transformed = true;
        }
      }
      if (options.scalable) {
        if (isNumber2(data3.scaleX) && data3.scaleX !== imageData.scaleX) {
          imageData.scaleX = data3.scaleX;
          transformed = true;
        }
        if (isNumber2(data3.scaleY) && data3.scaleY !== imageData.scaleY) {
          imageData.scaleY = data3.scaleY;
          transformed = true;
        }
      }
      if (transformed) {
        this.renderCanvas(true, true);
      }
      var ratio = imageData.width / imageData.naturalWidth;
      if (isNumber2(data3.x)) {
        cropBoxData.left = data3.x * ratio + canvasData.left;
      }
      if (isNumber2(data3.y)) {
        cropBoxData.top = data3.y * ratio + canvasData.top;
      }
      if (isNumber2(data3.width)) {
        cropBoxData.width = data3.width * ratio;
      }
      if (isNumber2(data3.height)) {
        cropBoxData.height = data3.height * ratio;
      }
      this.setCropBoxData(cropBoxData);
    }
    return this;
  },
  /**
   * Get the container size data.
   * @returns {Object} The result container data.
   */
  getContainerData: function getContainerData() {
    return this.ready ? assign({}, this.containerData) : {};
  },
  /**
   * Get the image position and size data.
   * @returns {Object} The result image data.
   */
  getImageData: function getImageData() {
    return this.sized ? assign({}, this.imageData) : {};
  },
  /**
   * Get the canvas position and size data.
   * @returns {Object} The result canvas data.
   */
  getCanvasData: function getCanvasData() {
    var canvasData = this.canvasData;
    var data3 = {};
    if (this.ready) {
      forEach(["left", "top", "width", "height", "naturalWidth", "naturalHeight"], function(n) {
        data3[n] = canvasData[n];
      });
    }
    return data3;
  },
  /**
   * Set the canvas position and size with new data.
   * @param {Object} data - The new canvas data.
   * @returns {Cropper} this
   */
  setCanvasData: function setCanvasData(data3) {
    var canvasData = this.canvasData;
    var aspectRatio = canvasData.aspectRatio;
    if (this.ready && !this.disabled && isPlainObject(data3)) {
      if (isNumber2(data3.left)) {
        canvasData.left = data3.left;
      }
      if (isNumber2(data3.top)) {
        canvasData.top = data3.top;
      }
      if (isNumber2(data3.width)) {
        canvasData.width = data3.width;
        canvasData.height = data3.width / aspectRatio;
      } else if (isNumber2(data3.height)) {
        canvasData.height = data3.height;
        canvasData.width = data3.height * aspectRatio;
      }
      this.renderCanvas(true);
    }
    return this;
  },
  /**
   * Get the crop box position and size data.
   * @returns {Object} The result crop box data.
   */
  getCropBoxData: function getCropBoxData() {
    var cropBoxData = this.cropBoxData;
    var data3;
    if (this.ready && this.cropped) {
      data3 = {
        left: cropBoxData.left,
        top: cropBoxData.top,
        width: cropBoxData.width,
        height: cropBoxData.height
      };
    }
    return data3 || {};
  },
  /**
   * Set the crop box position and size with new data.
   * @param {Object} data - The new crop box data.
   * @returns {Cropper} this
   */
  setCropBoxData: function setCropBoxData(data3) {
    var cropBoxData = this.cropBoxData;
    var aspectRatio = this.options.aspectRatio;
    var widthChanged;
    var heightChanged;
    if (this.ready && this.cropped && !this.disabled && isPlainObject(data3)) {
      if (isNumber2(data3.left)) {
        cropBoxData.left = data3.left;
      }
      if (isNumber2(data3.top)) {
        cropBoxData.top = data3.top;
      }
      if (isNumber2(data3.width) && data3.width !== cropBoxData.width) {
        widthChanged = true;
        cropBoxData.width = data3.width;
      }
      if (isNumber2(data3.height) && data3.height !== cropBoxData.height) {
        heightChanged = true;
        cropBoxData.height = data3.height;
      }
      if (aspectRatio) {
        if (widthChanged) {
          cropBoxData.height = cropBoxData.width / aspectRatio;
        } else if (heightChanged) {
          cropBoxData.width = cropBoxData.height * aspectRatio;
        }
      }
      this.renderCropBox();
    }
    return this;
  },
  /**
   * Get a canvas drawn the cropped image.
   * @param {Object} [options={}] - The config options.
   * @returns {HTMLCanvasElement} - The result canvas.
   */
  getCroppedCanvas: function getCroppedCanvas() {
    var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    if (!this.ready || !window.HTMLCanvasElement) {
      return null;
    }
    var canvasData = this.canvasData;
    var source = getSourceCanvas(this.image, this.imageData, canvasData, options);
    if (!this.cropped) {
      return source;
    }
    var _this$getData = this.getData(options.rounded), initialX = _this$getData.x, initialY = _this$getData.y, initialWidth = _this$getData.width, initialHeight = _this$getData.height;
    var ratio = source.width / Math.floor(canvasData.naturalWidth);
    if (ratio !== 1) {
      initialX *= ratio;
      initialY *= ratio;
      initialWidth *= ratio;
      initialHeight *= ratio;
    }
    var aspectRatio = initialWidth / initialHeight;
    var maxSizes = getAdjustedSizes({
      aspectRatio,
      width: options.maxWidth || Infinity,
      height: options.maxHeight || Infinity
    });
    var minSizes = getAdjustedSizes({
      aspectRatio,
      width: options.minWidth || 0,
      height: options.minHeight || 0
    }, "cover");
    var _getAdjustedSizes = getAdjustedSizes({
      aspectRatio,
      width: options.width || (ratio !== 1 ? source.width : initialWidth),
      height: options.height || (ratio !== 1 ? source.height : initialHeight)
    }), width = _getAdjustedSizes.width, height = _getAdjustedSizes.height;
    width = Math.min(maxSizes.width, Math.max(minSizes.width, width));
    height = Math.min(maxSizes.height, Math.max(minSizes.height, height));
    var canvas = document.createElement("canvas");
    var context = canvas.getContext("2d");
    canvas.width = normalizeDecimalNumber(width);
    canvas.height = normalizeDecimalNumber(height);
    context.fillStyle = options.fillColor || "transparent";
    context.fillRect(0, 0, width, height);
    var _options$imageSmoothi = options.imageSmoothingEnabled, imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi, imageSmoothingQuality = options.imageSmoothingQuality;
    context.imageSmoothingEnabled = imageSmoothingEnabled;
    if (imageSmoothingQuality) {
      context.imageSmoothingQuality = imageSmoothingQuality;
    }
    var sourceWidth = source.width;
    var sourceHeight = source.height;
    var srcX = initialX;
    var srcY = initialY;
    var srcWidth;
    var srcHeight;
    var dstX;
    var dstY;
    var dstWidth;
    var dstHeight;
    if (srcX <= -initialWidth || srcX > sourceWidth) {
      srcX = 0;
      srcWidth = 0;
      dstX = 0;
      dstWidth = 0;
    } else if (srcX <= 0) {
      dstX = -srcX;
      srcX = 0;
      srcWidth = Math.min(sourceWidth, initialWidth + srcX);
      dstWidth = srcWidth;
    } else if (srcX <= sourceWidth) {
      dstX = 0;
      srcWidth = Math.min(initialWidth, sourceWidth - srcX);
      dstWidth = srcWidth;
    }
    if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {
      srcY = 0;
      srcHeight = 0;
      dstY = 0;
      dstHeight = 0;
    } else if (srcY <= 0) {
      dstY = -srcY;
      srcY = 0;
      srcHeight = Math.min(sourceHeight, initialHeight + srcY);
      dstHeight = srcHeight;
    } else if (srcY <= sourceHeight) {
      dstY = 0;
      srcHeight = Math.min(initialHeight, sourceHeight - srcY);
      dstHeight = srcHeight;
    }
    var params = [srcX, srcY, srcWidth, srcHeight];
    if (dstWidth > 0 && dstHeight > 0) {
      var scale2 = width / initialWidth;
      params.push(dstX * scale2, dstY * scale2, dstWidth * scale2, dstHeight * scale2);
    }
    context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function(param) {
      return Math.floor(normalizeDecimalNumber(param));
    }))));
    return canvas;
  },
  /**
   * Change the aspect ratio of the crop box.
   * @param {number} aspectRatio - The new aspect ratio.
   * @returns {Cropper} this
   */
  setAspectRatio: function setAspectRatio(aspectRatio) {
    var options = this.options;
    if (!this.disabled && !isUndefined(aspectRatio)) {
      options.aspectRatio = Math.max(0, aspectRatio) || NaN;
      if (this.ready) {
        this.initCropBox();
        if (this.cropped) {
          this.renderCropBox();
        }
      }
    }
    return this;
  },
  /**
   * Change the drag mode.
   * @param {string} mode - The new drag mode.
   * @returns {Cropper} this
   */
  setDragMode: function setDragMode(mode) {
    var options = this.options, dragBox = this.dragBox, face = this.face;
    if (this.ready && !this.disabled) {
      var croppable = mode === DRAG_MODE_CROP;
      var movable = options.movable && mode === DRAG_MODE_MOVE;
      mode = croppable || movable ? mode : DRAG_MODE_NONE;
      options.dragMode = mode;
      setData(dragBox, DATA_ACTION, mode);
      toggleClass(dragBox, CLASS_CROP, croppable);
      toggleClass(dragBox, CLASS_MOVE, movable);
      if (!options.cropBoxMovable) {
        setData(face, DATA_ACTION, mode);
        toggleClass(face, CLASS_CROP, croppable);
        toggleClass(face, CLASS_MOVE, movable);
      }
    }
    return this;
  }
};
var AnotherCropper = WINDOW.Cropper;
var Cropper = /* @__PURE__ */ function() {
  function Cropper2(element) {
    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    _classCallCheck(this, Cropper2);
    if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {
      throw new Error("The first argument is required and must be an <img> or <canvas> element.");
    }
    this.element = element;
    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);
    this.cropped = false;
    this.disabled = false;
    this.pointers = {};
    this.ready = false;
    this.reloading = false;
    this.replaced = false;
    this.sized = false;
    this.sizing = false;
    this.init();
  }
  _createClass(Cropper2, [{
    key: "init",
    value: function init() {
      var element = this.element;
      var tagName = element.tagName.toLowerCase();
      var url;
      if (element[NAMESPACE]) {
        return;
      }
      element[NAMESPACE] = this;
      if (tagName === "img") {
        this.isImg = true;
        url = element.getAttribute("src") || "";
        this.originalUrl = url;
        if (!url) {
          return;
        }
        url = element.src;
      } else if (tagName === "canvas" && window.HTMLCanvasElement) {
        url = element.toDataURL();
      }
      this.load(url);
    }
  }, {
    key: "load",
    value: function load(url) {
      var _this = this;
      if (!url) {
        return;
      }
      this.url = url;
      this.imageData = {};
      var element = this.element, options = this.options;
      if (!options.rotatable && !options.scalable) {
        options.checkOrientation = false;
      }
      if (!options.checkOrientation || !window.ArrayBuffer) {
        this.clone();
        return;
      }
      if (REGEXP_DATA_URL.test(url)) {
        if (REGEXP_DATA_URL_JPEG.test(url)) {
          this.read(dataURLToArrayBuffer(url));
        } else {
          this.clone();
        }
        return;
      }
      var xhr = new XMLHttpRequest();
      var clone = this.clone.bind(this);
      this.reloading = true;
      this.xhr = xhr;
      xhr.onabort = clone;
      xhr.onerror = clone;
      xhr.ontimeout = clone;
      xhr.onprogress = function() {
        if (xhr.getResponseHeader("content-type") !== MIME_TYPE_JPEG) {
          xhr.abort();
        }
      };
      xhr.onload = function() {
        _this.read(xhr.response);
      };
      xhr.onloadend = function() {
        _this.reloading = false;
        _this.xhr = null;
      };
      if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {
        url = addTimestamp(url);
      }
      xhr.open("GET", url, true);
      xhr.responseType = "arraybuffer";
      xhr.withCredentials = element.crossOrigin === "use-credentials";
      xhr.send();
    }
  }, {
    key: "read",
    value: function read(arrayBuffer) {
      var options = this.options, imageData = this.imageData;
      var orientation = resetAndGetOrientation(arrayBuffer);
      var rotate2 = 0;
      var scaleX2 = 1;
      var scaleY2 = 1;
      if (orientation > 1) {
        this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);
        var _parseOrientation = parseOrientation(orientation);
        rotate2 = _parseOrientation.rotate;
        scaleX2 = _parseOrientation.scaleX;
        scaleY2 = _parseOrientation.scaleY;
      }
      if (options.rotatable) {
        imageData.rotate = rotate2;
      }
      if (options.scalable) {
        imageData.scaleX = scaleX2;
        imageData.scaleY = scaleY2;
      }
      this.clone();
    }
  }, {
    key: "clone",
    value: function clone() {
      var element = this.element, url = this.url;
      var crossOrigin = element.crossOrigin;
      var crossOriginUrl = url;
      if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {
        if (!crossOrigin) {
          crossOrigin = "anonymous";
        }
        crossOriginUrl = addTimestamp(url);
      }
      this.crossOrigin = crossOrigin;
      this.crossOriginUrl = crossOriginUrl;
      var image = document.createElement("img");
      if (crossOrigin) {
        image.crossOrigin = crossOrigin;
      }
      image.src = crossOriginUrl || url;
      image.alt = element.alt || "The image to crop";
      this.image = image;
      image.onload = this.start.bind(this);
      image.onerror = this.stop.bind(this);
      addClass(image, CLASS_HIDE);
      element.parentNode.insertBefore(image, element.nextSibling);
    }
  }, {
    key: "start",
    value: function start() {
      var _this2 = this;
      var image = this.image;
      image.onload = null;
      image.onerror = null;
      this.sizing = true;
      var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);
      var done = function done2(naturalWidth, naturalHeight) {
        assign(_this2.imageData, {
          naturalWidth,
          naturalHeight,
          aspectRatio: naturalWidth / naturalHeight
        });
        _this2.initialImageData = assign({}, _this2.imageData);
        _this2.sizing = false;
        _this2.sized = true;
        _this2.build();
      };
      if (image.naturalWidth && !isIOSWebKit) {
        done(image.naturalWidth, image.naturalHeight);
        return;
      }
      var sizingImage = document.createElement("img");
      var body = document.body || document.documentElement;
      this.sizingImage = sizingImage;
      sizingImage.onload = function() {
        done(sizingImage.width, sizingImage.height);
        if (!isIOSWebKit) {
          body.removeChild(sizingImage);
        }
      };
      sizingImage.src = image.src;
      if (!isIOSWebKit) {
        sizingImage.style.cssText = "left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;";
        body.appendChild(sizingImage);
      }
    }
  }, {
    key: "stop",
    value: function stop() {
      var image = this.image;
      image.onload = null;
      image.onerror = null;
      image.parentNode.removeChild(image);
      this.image = null;
    }
  }, {
    key: "build",
    value: function build() {
      if (!this.sized || this.ready) {
        return;
      }
      var element = this.element, options = this.options, image = this.image;
      var container = element.parentNode;
      var template = document.createElement("div");
      template.innerHTML = TEMPLATE;
      var cropper = template.querySelector(".".concat(NAMESPACE, "-container"));
      var canvas = cropper.querySelector(".".concat(NAMESPACE, "-canvas"));
      var dragBox = cropper.querySelector(".".concat(NAMESPACE, "-drag-box"));
      var cropBox = cropper.querySelector(".".concat(NAMESPACE, "-crop-box"));
      var face = cropBox.querySelector(".".concat(NAMESPACE, "-face"));
      this.container = container;
      this.cropper = cropper;
      this.canvas = canvas;
      this.dragBox = dragBox;
      this.cropBox = cropBox;
      this.viewBox = cropper.querySelector(".".concat(NAMESPACE, "-view-box"));
      this.face = face;
      canvas.appendChild(image);
      addClass(element, CLASS_HIDDEN);
      container.insertBefore(cropper, element.nextSibling);
      removeClass(image, CLASS_HIDE);
      this.initPreview();
      this.bind();
      options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;
      options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;
      options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;
      addClass(cropBox, CLASS_HIDDEN);
      if (!options.guides) {
        addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-dashed")), CLASS_HIDDEN);
      }
      if (!options.center) {
        addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-center")), CLASS_HIDDEN);
      }
      if (options.background) {
        addClass(cropper, "".concat(NAMESPACE, "-bg"));
      }
      if (!options.highlight) {
        addClass(face, CLASS_INVISIBLE);
      }
      if (options.cropBoxMovable) {
        addClass(face, CLASS_MOVE);
        setData(face, DATA_ACTION, ACTION_ALL);
      }
      if (!options.cropBoxResizable) {
        addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-line")), CLASS_HIDDEN);
        addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-point")), CLASS_HIDDEN);
      }
      this.render();
      this.ready = true;
      this.setDragMode(options.dragMode);
      if (options.autoCrop) {
        this.crop();
      }
      this.setData(options.data);
      if (isFunction2(options.ready)) {
        addListener(element, EVENT_READY, options.ready, {
          once: true
        });
      }
      dispatchEvent(element, EVENT_READY);
    }
  }, {
    key: "unbuild",
    value: function unbuild() {
      if (!this.ready) {
        return;
      }
      this.ready = false;
      this.unbind();
      this.resetPreview();
      var parentNode = this.cropper.parentNode;
      if (parentNode) {
        parentNode.removeChild(this.cropper);
      }
      removeClass(this.element, CLASS_HIDDEN);
    }
  }, {
    key: "uncreate",
    value: function uncreate() {
      if (this.ready) {
        this.unbuild();
        this.ready = false;
        this.cropped = false;
      } else if (this.sizing) {
        this.sizingImage.onload = null;
        this.sizing = false;
        this.sized = false;
      } else if (this.reloading) {
        this.xhr.onabort = null;
        this.xhr.abort();
      } else if (this.image) {
        this.stop();
      }
    }
    /**
     * Get the no conflict cropper class.
     * @returns {Cropper} The cropper class.
     */
  }], [{
    key: "noConflict",
    value: function noConflict() {
      window.Cropper = AnotherCropper;
      return Cropper2;
    }
    /**
     * Change the default options.
     * @param {Object} options - The new default options.
     */
  }, {
    key: "setDefaults",
    value: function setDefaults(options) {
      assign(DEFAULTS, isPlainObject(options) && options);
    }
  }]);
  return Cropper2;
}();
assign(Cropper.prototype, render, preview, events, handlers, change, methods2);

// node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.esm.js
var plugin = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, replaceInString: replaceInString2, toNaturalFileSize: toNaturalFileSize2 } = utils;
  addFilter2("ALLOW_HOPPER_ITEM", (file2, { query }) => {
    if (!query("GET_ALLOW_FILE_SIZE_VALIDATION")) {
      return true;
    }
    const sizeMax = query("GET_MAX_FILE_SIZE");
    if (sizeMax !== null && file2.size > sizeMax) {
      return false;
    }
    const sizeMin = query("GET_MIN_FILE_SIZE");
    if (sizeMin !== null && file2.size < sizeMin) {
      return false;
    }
    return true;
  });
  addFilter2(
    "LOAD_FILE",
    (file2, { query }) => new Promise((resolve, reject) => {
      if (!query("GET_ALLOW_FILE_SIZE_VALIDATION")) {
        return resolve(file2);
      }
      const fileFilter = query("GET_FILE_VALIDATE_SIZE_FILTER");
      if (fileFilter && !fileFilter(file2)) {
        return resolve(file2);
      }
      const sizeMax = query("GET_MAX_FILE_SIZE");
      if (sizeMax !== null && file2.size > sizeMax) {
        reject({
          status: {
            main: query("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),
            sub: replaceInString2(query("GET_LABEL_MAX_FILE_SIZE"), {
              filesize: toNaturalFileSize2(
                sizeMax,
                ".",
                query("GET_FILE_SIZE_BASE"),
                query("GET_FILE_SIZE_LABELS", query)
              )
            })
          }
        });
        return;
      }
      const sizeMin = query("GET_MIN_FILE_SIZE");
      if (sizeMin !== null && file2.size < sizeMin) {
        reject({
          status: {
            main: query("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),
            sub: replaceInString2(query("GET_LABEL_MIN_FILE_SIZE"), {
              filesize: toNaturalFileSize2(
                sizeMin,
                ".",
                query("GET_FILE_SIZE_BASE"),
                query("GET_FILE_SIZE_LABELS", query)
              )
            })
          }
        });
        return;
      }
      const totalSizeMax = query("GET_MAX_TOTAL_FILE_SIZE");
      if (totalSizeMax !== null) {
        const currentTotalSize = query("GET_ACTIVE_ITEMS").reduce((total, item2) => {
          return total + item2.fileSize;
        }, 0);
        if (currentTotalSize > totalSizeMax) {
          reject({
            status: {
              main: query("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),
              sub: replaceInString2(query("GET_LABEL_MAX_TOTAL_FILE_SIZE"), {
                filesize: toNaturalFileSize2(
                  totalSizeMax,
                  ".",
                  query("GET_FILE_SIZE_BASE"),
                  query("GET_FILE_SIZE_LABELS", query)
                )
              })
            }
          });
          return;
        }
      }
      resolve(file2);
    })
  );
  return {
    options: {
      // Enable or disable file type validation
      allowFileSizeValidation: [true, Type2.BOOLEAN],
      // Max individual file size in bytes
      maxFileSize: [null, Type2.INT],
      // Min individual file size in bytes
      minFileSize: [null, Type2.INT],
      // Max total file size in bytes
      maxTotalFileSize: [null, Type2.INT],
      // Filter the files that need to be validated for size
      fileValidateSizeFilter: [null, Type2.FUNCTION],
      // error labels
      labelMinFileSizeExceeded: ["File is too small", Type2.STRING],
      labelMinFileSize: ["Minimum file size is {filesize}", Type2.STRING],
      labelMaxFileSizeExceeded: ["File is too large", Type2.STRING],
      labelMaxFileSize: ["Maximum file size is {filesize}", Type2.STRING],
      labelMaxTotalFileSizeExceeded: ["Maximum total size exceeded", Type2.STRING],
      labelMaxTotalFileSize: ["Maximum total file size is {filesize}", Type2.STRING]
    }
  };
};
var isBrowser2 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser2) {
  document.dispatchEvent(new CustomEvent("FilePond:pluginloaded", { detail: plugin }));
}
var filepond_plugin_file_validate_size_esm_default = plugin;

// node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js
var plugin2 = ({ addFilter: addFilter2, utils }) => {
  const {
    Type: Type2,
    isString: isString2,
    replaceInString: replaceInString2,
    guesstimateMimeType: guesstimateMimeType2,
    getExtensionFromFilename: getExtensionFromFilename2,
    getFilenameFromURL: getFilenameFromURL2
  } = utils;
  const mimeTypeMatchesWildCard = (mimeType, wildcard) => {
    const mimeTypeGroup = (/^[^/]+/.exec(mimeType) || []).pop();
    const wildcardGroup = wildcard.slice(0, -2);
    return mimeTypeGroup === wildcardGroup;
  };
  const isValidMimeType = (acceptedTypes, userInputType) => acceptedTypes.some((acceptedType) => {
    if (/\*$/.test(acceptedType)) {
      return mimeTypeMatchesWildCard(userInputType, acceptedType);
    }
    return acceptedType === userInputType;
  });
  const getItemType = (item2) => {
    let type = "";
    if (isString2(item2)) {
      const filename = getFilenameFromURL2(item2);
      const extension = getExtensionFromFilename2(filename);
      if (extension) {
        type = guesstimateMimeType2(extension);
      }
    } else {
      type = item2.type;
    }
    return type;
  };
  const validateFile = (item2, acceptedFileTypes, typeDetector) => {
    if (acceptedFileTypes.length === 0) {
      return true;
    }
    const type = getItemType(item2);
    if (!typeDetector) {
      return isValidMimeType(acceptedFileTypes, type);
    }
    return new Promise((resolve, reject) => {
      typeDetector(item2, type).then((detectedType) => {
        if (isValidMimeType(acceptedFileTypes, detectedType)) {
          resolve();
        } else {
          reject();
        }
      }).catch(reject);
    });
  };
  const applyMimeTypeMap = (map2) => (acceptedFileType) => map2[acceptedFileType] === null ? false : map2[acceptedFileType] || acceptedFileType;
  addFilter2(
    "SET_ATTRIBUTE_TO_OPTION_MAP",
    (map2) => Object.assign(map2, {
      accept: "acceptedFileTypes"
    })
  );
  addFilter2("ALLOW_HOPPER_ITEM", (file2, { query }) => {
    if (!query("GET_ALLOW_FILE_TYPE_VALIDATION")) {
      return true;
    }
    return validateFile(file2, query("GET_ACCEPTED_FILE_TYPES"));
  });
  addFilter2(
    "LOAD_FILE",
    (file2, { query }) => new Promise((resolve, reject) => {
      if (!query("GET_ALLOW_FILE_TYPE_VALIDATION")) {
        resolve(file2);
        return;
      }
      const acceptedFileTypes = query("GET_ACCEPTED_FILE_TYPES");
      const typeDetector = query("GET_FILE_VALIDATE_TYPE_DETECT_TYPE");
      const validationResult = validateFile(
        file2,
        acceptedFileTypes,
        typeDetector
      );
      const handleRejection = () => {
        const acceptedFileTypesMapped = acceptedFileTypes.map(
          applyMimeTypeMap(
            query("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP")
          )
        ).filter((label) => label !== false);
        const acceptedFileTypesMapped_unique = acceptedFileTypesMapped.filter(
          function(item2, index) {
            return acceptedFileTypesMapped.indexOf(item2) === index;
          }
        );
        reject({
          status: {
            main: query("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),
            sub: replaceInString2(
              query("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),
              {
                allTypes: acceptedFileTypesMapped_unique.join(", "),
                allButLastType: acceptedFileTypesMapped_unique.slice(0, -1).join(", "),
                lastType: acceptedFileTypesMapped_unique[acceptedFileTypesMapped.length - 1]
              }
            )
          }
        });
      };
      if (typeof validationResult === "boolean") {
        if (!validationResult) {
          return handleRejection();
        }
        return resolve(file2);
      }
      validationResult.then(() => {
        resolve(file2);
      }).catch(handleRejection);
    })
  );
  return {
    // default options
    options: {
      // Enable or disable file type validation
      allowFileTypeValidation: [true, Type2.BOOLEAN],
      // What file types to accept
      acceptedFileTypes: [[], Type2.ARRAY],
      // - must be comma separated
      // - mime types: image/png, image/jpeg, image/gif
      // - extensions: .png, .jpg, .jpeg ( not enabled yet )
      // - wildcards: image/*
      // label to show when a type is not allowed
      labelFileTypeNotAllowed: ["File is of invalid type", Type2.STRING],
      // nicer label
      fileValidateTypeLabelExpectedTypes: [
        "Expects {allButLastType} or {lastType}",
        Type2.STRING
      ],
      // map mime types to extensions
      fileValidateTypeLabelExpectedTypesMap: [{}, Type2.OBJECT],
      // Custom function to detect type of file
      fileValidateTypeDetectType: [null, Type2.FUNCTION]
    }
  };
};
var isBrowser3 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser3) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin2 })
  );
}
var filepond_plugin_file_validate_type_esm_default = plugin2;

// node_modules/filepond-plugin-image-crop/dist/filepond-plugin-image-crop.esm.js
var isImage = (file2) => /^image/.test(file2.type);
var plugin3 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, isFile: isFile2, getNumericAspectRatioFromString: getNumericAspectRatioFromString2 } = utils;
  const allowCrop = (item2, query) => !(!isImage(item2.file) || !query("GET_ALLOW_IMAGE_CROP"));
  const isObject3 = (value) => typeof value === "object";
  const isNumber3 = (value) => typeof value === "number";
  const updateCrop = (item2, obj) => item2.setMetadata("crop", Object.assign({}, item2.getMetadata("crop"), obj));
  addFilter2("DID_CREATE_ITEM", (item2, { query }) => {
    item2.extend("setImageCrop", (crop2) => {
      if (!allowCrop(item2, query) || !isObject3(center))
        return;
      item2.setMetadata("crop", crop2);
      return crop2;
    });
    item2.extend("setImageCropCenter", (center2) => {
      if (!allowCrop(item2, query) || !isObject3(center2))
        return;
      return updateCrop(item2, { center: center2 });
    });
    item2.extend("setImageCropZoom", (zoom2) => {
      if (!allowCrop(item2, query) || !isNumber3(zoom2))
        return;
      return updateCrop(item2, { zoom: Math.max(1, zoom2) });
    });
    item2.extend("setImageCropRotation", (rotation) => {
      if (!allowCrop(item2, query) || !isNumber3(rotation))
        return;
      return updateCrop(item2, { rotation });
    });
    item2.extend("setImageCropFlip", (flip) => {
      if (!allowCrop(item2, query) || !isObject3(flip))
        return;
      return updateCrop(item2, { flip });
    });
    item2.extend("setImageCropAspectRatio", (newAspectRatio) => {
      if (!allowCrop(item2, query) || typeof newAspectRatio === "undefined")
        return;
      const currentCrop = item2.getMetadata("crop");
      const aspectRatio = getNumericAspectRatioFromString2(newAspectRatio);
      const newCrop = {
        center: {
          x: 0.5,
          y: 0.5
        },
        flip: currentCrop ? Object.assign({}, currentCrop.flip) : {
          horizontal: false,
          vertical: false
        },
        rotation: 0,
        zoom: 1,
        aspectRatio
      };
      item2.setMetadata("crop", newCrop);
      return newCrop;
    });
  });
  addFilter2(
    "DID_LOAD_ITEM",
    (item2, { query }) => new Promise((resolve, reject) => {
      const file2 = item2.file;
      if (!isFile2(file2) || !isImage(file2) || !query("GET_ALLOW_IMAGE_CROP")) {
        return resolve(item2);
      }
      const crop2 = item2.getMetadata("crop");
      if (crop2) {
        return resolve(item2);
      }
      const humanAspectRatio = query("GET_IMAGE_CROP_ASPECT_RATIO");
      item2.setMetadata("crop", {
        center: {
          x: 0.5,
          y: 0.5
        },
        flip: {
          horizontal: false,
          vertical: false
        },
        rotation: 0,
        zoom: 1,
        aspectRatio: humanAspectRatio ? getNumericAspectRatioFromString2(humanAspectRatio) : null
      });
      resolve(item2);
    })
  );
  return {
    options: {
      // enable or disable image cropping
      allowImageCrop: [true, Type2.BOOLEAN],
      // the aspect ratio of the crop ('1:1', '16:9', etc)
      imageCropAspectRatio: [null, Type2.STRING]
    }
  };
};
var isBrowser4 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser4) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin3 })
  );
}
var filepond_plugin_image_crop_esm_default = plugin3;

// node_modules/filepond-plugin-image-edit/dist/filepond-plugin-image-edit.esm.js
var isPreviewableImage = (file2) => /^image/.test(file2.type);
var plugin4 = (_) => {
  const { addFilter: addFilter2, utils, views } = _;
  const { Type: Type2, createRoute: createRoute2, createItemAPI: createItemAPI2 = (item2) => item2 } = utils;
  const { fileActionButton: fileActionButton2 } = views;
  addFilter2(
    "SHOULD_REMOVE_ON_REVERT",
    (shouldRemove, { item: item2, query }) => new Promise((resolve) => {
      const { file: file2 } = item2;
      const canEdit = query("GET_ALLOW_IMAGE_EDIT") && query("GET_IMAGE_EDIT_ALLOW_EDIT") && isPreviewableImage(file2);
      resolve(!canEdit);
    })
  );
  addFilter2(
    "DID_LOAD_ITEM",
    (item2, { query, dispatch }) => new Promise((resolve, reject) => {
      if (item2.origin > 1) {
        resolve(item2);
        return;
      }
      const { file: file2 } = item2;
      if (!query("GET_ALLOW_IMAGE_EDIT") || !query("GET_IMAGE_EDIT_INSTANT_EDIT")) {
        resolve(item2);
        return;
      }
      if (!isPreviewableImage(file2)) {
        resolve(item2);
        return;
      }
      const createEditorResponseHandler = (item3, resolve2, reject2) => (userDidConfirm) => {
        editRequestQueue.shift();
        if (userDidConfirm) {
          resolve2(item3);
        } else {
          reject2(item3);
        }
        dispatch("KICK");
        requestEdit();
      };
      const requestEdit = () => {
        if (!editRequestQueue.length)
          return;
        const { item: item3, resolve: resolve2, reject: reject2 } = editRequestQueue[0];
        dispatch("EDIT_ITEM", {
          id: item3.id,
          handleEditorResponse: createEditorResponseHandler(
            item3,
            resolve2,
            reject2
          )
        });
      };
      queueEditRequest({ item: item2, resolve, reject });
      if (editRequestQueue.length === 1) {
        requestEdit();
      }
    })
  );
  addFilter2("DID_CREATE_ITEM", (item2, { query, dispatch }) => {
    item2.extend("edit", () => {
      dispatch("EDIT_ITEM", { id: item2.id });
    });
  });
  const editRequestQueue = [];
  const queueEditRequest = (editRequest) => {
    editRequestQueue.push(editRequest);
    return editRequest;
  };
  addFilter2("CREATE_VIEW", (viewAPI) => {
    const { is, view, query } = viewAPI;
    if (!query("GET_ALLOW_IMAGE_EDIT"))
      return;
    const canShowImagePreview = query("GET_ALLOW_IMAGE_PREVIEW");
    const shouldExtendView = is("file-info") && !canShowImagePreview || is("file") && canShowImagePreview;
    if (!shouldExtendView)
      return;
    const editor = query("GET_IMAGE_EDIT_EDITOR");
    if (!editor)
      return;
    if (!editor.filepondCallbackBridge) {
      editor.outputData = true;
      editor.outputFile = false;
      editor.filepondCallbackBridge = {
        onconfirm: editor.onconfirm || (() => {
        }),
        oncancel: editor.oncancel || (() => {
        })
      };
    }
    const openEditor = ({ root: root2, props, action }) => {
      const { id } = props;
      const { handleEditorResponse } = action;
      editor.cropAspectRatio = root2.query("GET_IMAGE_CROP_ASPECT_RATIO") || editor.cropAspectRatio;
      editor.outputCanvasBackgroundColor = root2.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR") || editor.outputCanvasBackgroundColor;
      const item2 = root2.query("GET_ITEM", id);
      if (!item2)
        return;
      const file2 = item2.file;
      const crop2 = item2.getMetadata("crop");
      const cropDefault = {
        center: {
          x: 0.5,
          y: 0.5
        },
        flip: {
          horizontal: false,
          vertical: false
        },
        zoom: 1,
        rotation: 0,
        aspectRatio: null
      };
      const resize2 = item2.getMetadata("resize");
      const filter = item2.getMetadata("filter") || null;
      const filters2 = item2.getMetadata("filters") || null;
      const colors = item2.getMetadata("colors") || null;
      const markup = item2.getMetadata("markup") || null;
      const imageParameters = {
        crop: crop2 || cropDefault,
        size: resize2 ? {
          upscale: resize2.upscale,
          mode: resize2.mode,
          width: resize2.size.width,
          height: resize2.size.height
        } : null,
        filter: filters2 ? filters2.id || filters2.matrix : root2.query("GET_ALLOW_IMAGE_FILTER") && root2.query("GET_IMAGE_FILTER_COLOR_MATRIX") && !colors ? filter : null,
        color: colors,
        markup
      };
      editor.onconfirm = ({ data: data3 }) => {
        const { crop: crop3, size, filter: filter2, color, colorMatrix, markup: markup2 } = data3;
        const metadata = {};
        if (crop3) {
          metadata.crop = crop3;
        }
        if (size) {
          const initialSize = (item2.getMetadata("resize") || {}).size;
          const targetSize = {
            width: size.width,
            height: size.height
          };
          if (!(targetSize.width && targetSize.height) && initialSize) {
            targetSize.width = initialSize.width;
            targetSize.height = initialSize.height;
          }
          if (targetSize.width || targetSize.height) {
            metadata.resize = {
              upscale: size.upscale,
              mode: size.mode,
              size: targetSize
            };
          }
        }
        if (markup2) {
          metadata.markup = markup2;
        }
        metadata.colors = color;
        metadata.filters = filter2;
        metadata.filter = colorMatrix;
        item2.setMetadata(metadata);
        editor.filepondCallbackBridge.onconfirm(data3, createItemAPI2(item2));
        if (!handleEditorResponse)
          return;
        editor.onclose = () => {
          handleEditorResponse(true);
          editor.onclose = null;
        };
      };
      editor.oncancel = () => {
        editor.filepondCallbackBridge.oncancel(createItemAPI2(item2));
        if (!handleEditorResponse)
          return;
        editor.onclose = () => {
          handleEditorResponse(false);
          editor.onclose = null;
        };
      };
      editor.open(file2, imageParameters);
    };
    const didLoadItem2 = ({ root: root2, props }) => {
      if (!query("GET_IMAGE_EDIT_ALLOW_EDIT"))
        return;
      const { id } = props;
      const item2 = query("GET_ITEM", id);
      if (!item2)
        return;
      const file2 = item2.file;
      if (!isPreviewableImage(file2))
        return;
      root2.ref.handleEdit = (e) => {
        e.stopPropagation();
        root2.dispatch("EDIT_ITEM", { id });
      };
      if (canShowImagePreview) {
        const buttonView = view.createChildView(fileActionButton2, {
          label: "edit",
          icon: query("GET_IMAGE_EDIT_ICON_EDIT"),
          opacity: 0
        });
        buttonView.element.classList.add("filepond--action-edit-item");
        buttonView.element.dataset.align = query(
          "GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"
        );
        buttonView.on("click", root2.ref.handleEdit);
        root2.ref.buttonEditItem = view.appendChildView(buttonView);
      } else {
        const filenameElement = view.element.querySelector(
          ".filepond--file-info-main"
        );
        const editButton = document.createElement("button");
        editButton.className = "filepond--action-edit-item-alt";
        editButton.innerHTML = query("GET_IMAGE_EDIT_ICON_EDIT") + "<span>edit</span>";
        editButton.addEventListener("click", root2.ref.handleEdit);
        filenameElement.appendChild(editButton);
        root2.ref.editButton = editButton;
      }
    };
    view.registerDestroyer(({ root: root2 }) => {
      if (root2.ref.buttonEditItem) {
        root2.ref.buttonEditItem.off("click", root2.ref.handleEdit);
      }
      if (root2.ref.editButton) {
        root2.ref.editButton.removeEventListener("click", root2.ref.handleEdit);
      }
    });
    const routes = {
      EDIT_ITEM: openEditor,
      DID_LOAD_ITEM: didLoadItem2
    };
    if (canShowImagePreview) {
      const didPreviewUpdate = ({ root: root2 }) => {
        if (!root2.ref.buttonEditItem)
          return;
        root2.ref.buttonEditItem.opacity = 1;
      };
      routes.DID_IMAGE_PREVIEW_SHOW = didPreviewUpdate;
    } else {
    }
    view.registerWriter(createRoute2(routes));
  });
  return {
    options: {
      // enable or disable image editing
      allowImageEdit: [true, Type2.BOOLEAN],
      // location of processing button
      styleImageEditButtonEditItemPosition: ["bottom center", Type2.STRING],
      // open editor when image is dropped
      imageEditInstantEdit: [false, Type2.BOOLEAN],
      // allow editing
      imageEditAllowEdit: [true, Type2.BOOLEAN],
      // the icon to use for the edit button
      imageEditIconEdit: [
        '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',
        Type2.STRING
      ],
      // editor object
      imageEditEditor: [null, Type2.OBJECT]
    }
  };
};
var isBrowser5 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser5) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin4 })
  );
}
var filepond_plugin_image_edit_esm_default = plugin4;

// node_modules/filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.esm.js
var isJPEG = (file2) => /^image\/jpeg/.test(file2.type);
var Marker = {
  JPEG: 65496,
  APP1: 65505,
  EXIF: 1165519206,
  TIFF: 18761,
  Orientation: 274,
  Unknown: 65280
};
var getUint16 = (view, offset, little = false) => view.getUint16(offset, little);
var getUint32 = (view, offset, little = false) => view.getUint32(offset, little);
var getImageOrientation = (file2) => new Promise((resolve, reject) => {
  const reader = new FileReader();
  reader.onload = function(e) {
    const view = new DataView(e.target.result);
    if (getUint16(view, 0) !== Marker.JPEG) {
      resolve(-1);
      return;
    }
    const length = view.byteLength;
    let offset = 2;
    while (offset < length) {
      const marker = getUint16(view, offset);
      offset += 2;
      if (marker === Marker.APP1) {
        if (getUint32(view, offset += 2) !== Marker.EXIF) {
          break;
        }
        const little = getUint16(view, offset += 6) === Marker.TIFF;
        offset += getUint32(view, offset + 4, little);
        const tags = getUint16(view, offset, little);
        offset += 2;
        for (let i = 0; i < tags; i++) {
          if (getUint16(view, offset + i * 12, little) === Marker.Orientation) {
            resolve(getUint16(view, offset + i * 12 + 8, little));
            return;
          }
        }
      } else if ((marker & Marker.Unknown) !== Marker.Unknown) {
        break;
      } else {
        offset += getUint16(view, offset);
      }
    }
    resolve(-1);
  };
  reader.readAsArrayBuffer(file2.slice(0, 64 * 1024));
});
var IS_BROWSER3 = (() => typeof window !== "undefined" && typeof window.document !== "undefined")();
var isBrowser6 = () => IS_BROWSER3;
var testSrc = "data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";
var shouldCorrect = void 0;
var testImage = isBrowser6() ? new Image() : {};
testImage.onload = () => shouldCorrect = testImage.naturalWidth > testImage.naturalHeight;
testImage.src = testSrc;
var shouldCorrectImageExifOrientation = () => shouldCorrect;
var plugin5 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, isFile: isFile2 } = utils;
  addFilter2(
    "DID_LOAD_ITEM",
    (item2, { query }) => new Promise((resolve, reject) => {
      const file2 = item2.file;
      if (!isFile2(file2) || !isJPEG(file2) || !query("GET_ALLOW_IMAGE_EXIF_ORIENTATION") || !shouldCorrectImageExifOrientation()) {
        return resolve(item2);
      }
      getImageOrientation(file2).then((orientation) => {
        item2.setMetadata("exif", { orientation });
        resolve(item2);
      });
    })
  );
  return {
    options: {
      // Enable or disable image orientation reading
      allowImageExifOrientation: [true, Type2.BOOLEAN]
    }
  };
};
var isBrowser$1 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser$1) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin5 })
  );
}
var filepond_plugin_image_exif_orientation_esm_default = plugin5;

// node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js
var isPreviewableImage2 = (file2) => /^image/.test(file2.type);
var vectorMultiply = (v, amount) => createVector(v.x * amount, v.y * amount);
var vectorAdd = (a, b) => createVector(a.x + b.x, a.y + b.y);
var vectorNormalize = (v) => {
  const l = Math.sqrt(v.x * v.x + v.y * v.y);
  if (l === 0) {
    return {
      x: 0,
      y: 0
    };
  }
  return createVector(v.x / l, v.y / l);
};
var vectorRotate = (v, radians, origin) => {
  const cos = Math.cos(radians);
  const sin = Math.sin(radians);
  const t = createVector(v.x - origin.x, v.y - origin.y);
  return createVector(
    origin.x + cos * t.x - sin * t.y,
    origin.y + sin * t.x + cos * t.y
  );
};
var createVector = (x = 0, y = 0) => ({ x, y });
var getMarkupValue = (value, size, scalar = 1, axis) => {
  if (typeof value === "string") {
    return parseFloat(value) * scalar;
  }
  if (typeof value === "number") {
    return value * (axis ? size[axis] : Math.min(size.width, size.height));
  }
  return;
};
var getMarkupStyles = (markup, size, scale2) => {
  const lineStyle = markup.borderStyle || markup.lineStyle || "solid";
  const fill = markup.backgroundColor || markup.fontColor || "transparent";
  const stroke = markup.borderColor || markup.lineColor || "transparent";
  const strokeWidth = getMarkupValue(
    markup.borderWidth || markup.lineWidth,
    size,
    scale2
  );
  const lineCap = markup.lineCap || "round";
  const lineJoin = markup.lineJoin || "round";
  const dashes = typeof lineStyle === "string" ? "" : lineStyle.map((v) => getMarkupValue(v, size, scale2)).join(",");
  const opacity = markup.opacity || 1;
  return {
    "stroke-linecap": lineCap,
    "stroke-linejoin": lineJoin,
    "stroke-width": strokeWidth || 0,
    "stroke-dasharray": dashes,
    stroke,
    fill,
    opacity
  };
};
var isDefined2 = (value) => value != null;
var getMarkupRect = (rect, size, scalar = 1) => {
  let left = getMarkupValue(rect.x, size, scalar, "width") || getMarkupValue(rect.left, size, scalar, "width");
  let top = getMarkupValue(rect.y, size, scalar, "height") || getMarkupValue(rect.top, size, scalar, "height");
  let width = getMarkupValue(rect.width, size, scalar, "width");
  let height = getMarkupValue(rect.height, size, scalar, "height");
  let right = getMarkupValue(rect.right, size, scalar, "width");
  let bottom = getMarkupValue(rect.bottom, size, scalar, "height");
  if (!isDefined2(top)) {
    if (isDefined2(height) && isDefined2(bottom)) {
      top = size.height - height - bottom;
    } else {
      top = bottom;
    }
  }
  if (!isDefined2(left)) {
    if (isDefined2(width) && isDefined2(right)) {
      left = size.width - width - right;
    } else {
      left = right;
    }
  }
  if (!isDefined2(width)) {
    if (isDefined2(left) && isDefined2(right)) {
      width = size.width - left - right;
    } else {
      width = 0;
    }
  }
  if (!isDefined2(height)) {
    if (isDefined2(top) && isDefined2(bottom)) {
      height = size.height - top - bottom;
    } else {
      height = 0;
    }
  }
  return {
    x: left || 0,
    y: top || 0,
    width: width || 0,
    height: height || 0
  };
};
var pointsToPathShape = (points) => points.map((point, index) => `${index === 0 ? "M" : "L"} ${point.x} ${point.y}`).join(" ");
var setAttributes = (element, attr2) => Object.keys(attr2).forEach((key) => element.setAttribute(key, attr2[key]));
var ns2 = "http://www.w3.org/2000/svg";
var svg = (tag, attr2) => {
  const element = document.createElementNS(ns2, tag);
  if (attr2) {
    setAttributes(element, attr2);
  }
  return element;
};
var updateRect2 = (element) => setAttributes(element, {
  ...element.rect,
  ...element.styles
});
var updateEllipse = (element) => {
  const cx = element.rect.x + element.rect.width * 0.5;
  const cy = element.rect.y + element.rect.height * 0.5;
  const rx = element.rect.width * 0.5;
  const ry = element.rect.height * 0.5;
  return setAttributes(element, {
    cx,
    cy,
    rx,
    ry,
    ...element.styles
  });
};
var IMAGE_FIT_STYLE = {
  contain: "xMidYMid meet",
  cover: "xMidYMid slice"
};
var updateImage = (element, markup) => {
  setAttributes(element, {
    ...element.rect,
    ...element.styles,
    preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || "none"
  });
};
var TEXT_ANCHOR = {
  left: "start",
  center: "middle",
  right: "end"
};
var updateText = (element, markup, size, scale2) => {
  const fontSize = getMarkupValue(markup.fontSize, size, scale2);
  const fontFamily = markup.fontFamily || "sans-serif";
  const fontWeight = markup.fontWeight || "normal";
  const textAlign = TEXT_ANCHOR[markup.textAlign] || "start";
  setAttributes(element, {
    ...element.rect,
    ...element.styles,
    "stroke-width": 0,
    "font-weight": fontWeight,
    "font-size": fontSize,
    "font-family": fontFamily,
    "text-anchor": textAlign
  });
  if (element.text !== markup.text) {
    element.text = markup.text;
    element.textContent = markup.text.length ? markup.text : " ";
  }
};
var updateLine = (element, markup, size, scale2) => {
  setAttributes(element, {
    ...element.rect,
    ...element.styles,
    fill: "none"
  });
  const line = element.childNodes[0];
  const begin = element.childNodes[1];
  const end = element.childNodes[2];
  const origin = element.rect;
  const target = {
    x: element.rect.x + element.rect.width,
    y: element.rect.y + element.rect.height
  };
  setAttributes(line, {
    x1: origin.x,
    y1: origin.y,
    x2: target.x,
    y2: target.y
  });
  if (!markup.lineDecoration)
    return;
  begin.style.display = "none";
  end.style.display = "none";
  const v = vectorNormalize({
    x: target.x - origin.x,
    y: target.y - origin.y
  });
  const l = getMarkupValue(0.05, size, scale2);
  if (markup.lineDecoration.indexOf("arrow-begin") !== -1) {
    const arrowBeginRotationPoint = vectorMultiply(v, l);
    const arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);
    const arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);
    const arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);
    setAttributes(begin, {
      style: "display:block;",
      d: `M${arrowBeginA.x},${arrowBeginA.y} L${origin.x},${origin.y} L${arrowBeginB.x},${arrowBeginB.y}`
    });
  }
  if (markup.lineDecoration.indexOf("arrow-end") !== -1) {
    const arrowEndRotationPoint = vectorMultiply(v, -l);
    const arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);
    const arrowEndA = vectorRotate(target, 2, arrowEndCenter);
    const arrowEndB = vectorRotate(target, -2, arrowEndCenter);
    setAttributes(end, {
      style: "display:block;",
      d: `M${arrowEndA.x},${arrowEndA.y} L${target.x},${target.y} L${arrowEndB.x},${arrowEndB.y}`
    });
  }
};
var updatePath = (element, markup, size, scale2) => {
  setAttributes(element, {
    ...element.styles,
    fill: "none",
    d: pointsToPathShape(
      markup.points.map((point) => ({
        x: getMarkupValue(point.x, size, scale2, "width"),
        y: getMarkupValue(point.y, size, scale2, "height")
      }))
    )
  });
};
var createShape = (node) => (markup) => svg(node, { id: markup.id });
var createImage = (markup) => {
  const shape = svg("image", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    opacity: "0"
  });
  shape.onload = () => {
    shape.setAttribute("opacity", markup.opacity || 1);
  };
  shape.setAttributeNS(
    "http://www.w3.org/1999/xlink",
    "xlink:href",
    markup.src
  );
  return shape;
};
var createLine = (markup) => {
  const shape = svg("g", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round"
  });
  const line = svg("line");
  shape.appendChild(line);
  const begin = svg("path");
  shape.appendChild(begin);
  const end = svg("path");
  shape.appendChild(end);
  return shape;
};
var CREATE_TYPE_ROUTES = {
  image: createImage,
  rect: createShape("rect"),
  ellipse: createShape("ellipse"),
  text: createShape("text"),
  path: createShape("path"),
  line: createLine
};
var UPDATE_TYPE_ROUTES = {
  rect: updateRect2,
  ellipse: updateEllipse,
  image: updateImage,
  text: updateText,
  path: updatePath,
  line: updateLine
};
var createMarkupByType = (type, markup) => CREATE_TYPE_ROUTES[type](markup);
var updateMarkupByType = (element, type, markup, size, scale2) => {
  if (type !== "path") {
    element.rect = getMarkupRect(markup, size, scale2);
  }
  element.styles = getMarkupStyles(markup, size, scale2);
  UPDATE_TYPE_ROUTES[type](element, markup, size, scale2);
};
var MARKUP_RECT = [
  "x",
  "y",
  "left",
  "top",
  "right",
  "bottom",
  "width",
  "height"
];
var toOptionalFraction = (value) => typeof value === "string" && /%/.test(value) ? parseFloat(value) / 100 : value;
var prepareMarkup = (markup) => {
  const [type, props] = markup;
  const rect = props.points ? {} : MARKUP_RECT.reduce((prev, curr) => {
    prev[curr] = toOptionalFraction(props[curr]);
    return prev;
  }, {});
  return [
    type,
    {
      zIndex: 0,
      ...props,
      ...rect
    }
  ];
};
var sortMarkupByZIndex = (a, b) => {
  if (a[1].zIndex > b[1].zIndex) {
    return 1;
  }
  if (a[1].zIndex < b[1].zIndex) {
    return -1;
  }
  return 0;
};
var createMarkupView = (_) => _.utils.createView({
  name: "image-preview-markup",
  tag: "svg",
  ignoreRect: true,
  mixins: {
    apis: ["width", "height", "crop", "markup", "resize", "dirty"]
  },
  write: ({ root: root2, props }) => {
    if (!props.dirty)
      return;
    const { crop: crop2, resize: resize2, markup } = props;
    const viewWidth = props.width;
    const viewHeight = props.height;
    let cropWidth = crop2.width;
    let cropHeight = crop2.height;
    if (resize2) {
      const { size: size2 } = resize2;
      let outputWidth = size2 && size2.width;
      let outputHeight = size2 && size2.height;
      const outputFit = resize2.mode;
      const outputUpscale = resize2.upscale;
      if (outputWidth && !outputHeight)
        outputHeight = outputWidth;
      if (outputHeight && !outputWidth)
        outputWidth = outputHeight;
      const shouldUpscale = cropWidth < outputWidth && cropHeight < outputHeight;
      if (!shouldUpscale || shouldUpscale && outputUpscale) {
        let scalarWidth = outputWidth / cropWidth;
        let scalarHeight = outputHeight / cropHeight;
        if (outputFit === "force") {
          cropWidth = outputWidth;
          cropHeight = outputHeight;
        } else {
          let scalar;
          if (outputFit === "cover") {
            scalar = Math.max(scalarWidth, scalarHeight);
          } else if (outputFit === "contain") {
            scalar = Math.min(scalarWidth, scalarHeight);
          }
          cropWidth = cropWidth * scalar;
          cropHeight = cropHeight * scalar;
        }
      }
    }
    const size = {
      width: viewWidth,
      height: viewHeight
    };
    root2.element.setAttribute("width", size.width);
    root2.element.setAttribute("height", size.height);
    const scale2 = Math.min(viewWidth / cropWidth, viewHeight / cropHeight);
    root2.element.innerHTML = "";
    const markupFilter = root2.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");
    markup.filter(markupFilter).map(prepareMarkup).sort(sortMarkupByZIndex).forEach((markup2) => {
      const [type, settings] = markup2;
      const element = createMarkupByType(type, settings);
      updateMarkupByType(element, type, settings, size, scale2);
      root2.element.appendChild(element);
    });
  }
});
var createVector$1 = (x, y) => ({ x, y });
var vectorDot = (a, b) => a.x * b.x + a.y * b.y;
var vectorSubtract = (a, b) => createVector$1(a.x - b.x, a.y - b.y);
var vectorDistanceSquared = (a, b) => vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));
var vectorDistance = (a, b) => Math.sqrt(vectorDistanceSquared(a, b));
var getOffsetPointOnEdge = (length, rotation) => {
  const a = length;
  const A = 1.5707963267948966;
  const B = rotation;
  const C = 1.5707963267948966 - rotation;
  const sinA = Math.sin(A);
  const sinB = Math.sin(B);
  const sinC = Math.sin(C);
  const cosC = Math.cos(C);
  const ratio = a / sinA;
  const b = ratio * sinB;
  const c = ratio * sinC;
  return createVector$1(cosC * b, cosC * c);
};
var getRotatedRectSize = (rect, rotation) => {
  const w = rect.width;
  const h = rect.height;
  const hor = getOffsetPointOnEdge(w, rotation);
  const ver = getOffsetPointOnEdge(h, rotation);
  const tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));
  const tr = createVector$1(
    rect.x + rect.width + Math.abs(ver.y),
    rect.y + Math.abs(ver.x)
  );
  const bl = createVector$1(
    rect.x - Math.abs(ver.y),
    rect.y + rect.height - Math.abs(ver.x)
  );
  return {
    width: vectorDistance(tl, tr),
    height: vectorDistance(tl, bl)
  };
};
var calculateCanvasSize = (image, canvasAspectRatio, zoom2 = 1) => {
  const imageAspectRatio = image.height / image.width;
  let canvasWidth = 1;
  let canvasHeight = canvasAspectRatio;
  let imgWidth = 1;
  let imgHeight = imageAspectRatio;
  if (imgHeight > canvasHeight) {
    imgHeight = canvasHeight;
    imgWidth = imgHeight / imageAspectRatio;
  }
  const scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);
  const width = image.width / (zoom2 * scalar * imgWidth);
  const height = width * canvasAspectRatio;
  return {
    width,
    height
  };
};
var getImageRectZoomFactor = (imageRect, cropRect, rotation, center2) => {
  const cx = center2.x > 0.5 ? 1 - center2.x : center2.x;
  const cy = center2.y > 0.5 ? 1 - center2.y : center2.y;
  const imageWidth = cx * 2 * imageRect.width;
  const imageHeight = cy * 2 * imageRect.height;
  const rotatedCropSize = getRotatedRectSize(cropRect, rotation);
  return Math.max(
    rotatedCropSize.width / imageWidth,
    rotatedCropSize.height / imageHeight
  );
};
var getCenteredCropRect = (container, aspectRatio) => {
  let width = container.width;
  let height = width * aspectRatio;
  if (height > container.height) {
    height = container.height;
    width = height / aspectRatio;
  }
  const x = (container.width - width) * 0.5;
  const y = (container.height - height) * 0.5;
  return {
    x,
    y,
    width,
    height
  };
};
var getCurrentCropSize = (imageSize, crop2 = {}) => {
  let { zoom: zoom2, rotation, center: center2, aspectRatio } = crop2;
  if (!aspectRatio)
    aspectRatio = imageSize.height / imageSize.width;
  const canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom2);
  const canvasCenter = {
    x: canvasSize.width * 0.5,
    y: canvasSize.height * 0.5
  };
  const stage = {
    x: 0,
    y: 0,
    width: canvasSize.width,
    height: canvasSize.height,
    center: canvasCenter
  };
  const shouldLimit = typeof crop2.scaleToFit === "undefined" || crop2.scaleToFit;
  const stageZoomFactor = getImageRectZoomFactor(
    imageSize,
    getCenteredCropRect(stage, aspectRatio),
    rotation,
    shouldLimit ? center2 : { x: 0.5, y: 0.5 }
  );
  const scale2 = zoom2 * stageZoomFactor;
  return {
    widthFloat: canvasSize.width / scale2,
    heightFloat: canvasSize.height / scale2,
    width: Math.round(canvasSize.width / scale2),
    height: Math.round(canvasSize.height / scale2)
  };
};
var IMAGE_SCALE_SPRING_PROPS = {
  type: "spring",
  stiffness: 0.5,
  damping: 0.45,
  mass: 10
};
var createBitmapView = (_) => _.utils.createView({
  name: "image-bitmap",
  ignoreRect: true,
  mixins: { styles: ["scaleX", "scaleY"] },
  create: ({ root: root2, props }) => {
    root2.appendChild(props.image);
  }
});
var createImageCanvasWrapper = (_) => _.utils.createView({
  name: "image-canvas-wrapper",
  tag: "div",
  ignoreRect: true,
  mixins: {
    apis: ["crop", "width", "height"],
    styles: [
      "originX",
      "originY",
      "translateX",
      "translateY",
      "scaleX",
      "scaleY",
      "rotateZ"
    ],
    animations: {
      originX: IMAGE_SCALE_SPRING_PROPS,
      originY: IMAGE_SCALE_SPRING_PROPS,
      scaleX: IMAGE_SCALE_SPRING_PROPS,
      scaleY: IMAGE_SCALE_SPRING_PROPS,
      translateX: IMAGE_SCALE_SPRING_PROPS,
      translateY: IMAGE_SCALE_SPRING_PROPS,
      rotateZ: IMAGE_SCALE_SPRING_PROPS
    }
  },
  create: ({ root: root2, props }) => {
    props.width = props.image.width;
    props.height = props.image.height;
    root2.ref.bitmap = root2.appendChildView(
      root2.createChildView(createBitmapView(_), { image: props.image })
    );
  },
  write: ({ root: root2, props }) => {
    const { flip } = props.crop;
    const { bitmap } = root2.ref;
    bitmap.scaleX = flip.horizontal ? -1 : 1;
    bitmap.scaleY = flip.vertical ? -1 : 1;
  }
});
var createClipView = (_) => _.utils.createView({
  name: "image-clip",
  tag: "div",
  ignoreRect: true,
  mixins: {
    apis: [
      "crop",
      "markup",
      "resize",
      "width",
      "height",
      "dirty",
      "background"
    ],
    styles: ["width", "height", "opacity"],
    animations: {
      opacity: { type: "tween", duration: 250 }
    }
  },
  didWriteView: function({ root: root2, props }) {
    if (!props.background)
      return;
    root2.element.style.backgroundColor = props.background;
  },
  create: ({ root: root2, props }) => {
    root2.ref.image = root2.appendChildView(
      root2.createChildView(
        createImageCanvasWrapper(_),
        Object.assign({}, props)
      )
    );
    root2.ref.createMarkup = () => {
      if (root2.ref.markup)
        return;
      root2.ref.markup = root2.appendChildView(
        root2.createChildView(createMarkupView(_), Object.assign({}, props))
      );
    };
    root2.ref.destroyMarkup = () => {
      if (!root2.ref.markup)
        return;
      root2.removeChildView(root2.ref.markup);
      root2.ref.markup = null;
    };
    const transparencyIndicator = root2.query(
      "GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR"
    );
    if (transparencyIndicator === null)
      return;
    if (transparencyIndicator === "grid") {
      root2.element.dataset.transparencyIndicator = transparencyIndicator;
    } else {
      root2.element.dataset.transparencyIndicator = "color";
    }
  },
  write: ({ root: root2, props, shouldOptimize }) => {
    const { crop: crop2, markup, resize: resize2, dirty, width, height } = props;
    root2.ref.image.crop = crop2;
    const stage = {
      x: 0,
      y: 0,
      width,
      height,
      center: {
        x: width * 0.5,
        y: height * 0.5
      }
    };
    const image = {
      width: root2.ref.image.width,
      height: root2.ref.image.height
    };
    const origin = {
      x: crop2.center.x * image.width,
      y: crop2.center.y * image.height
    };
    const translation = {
      x: stage.center.x - image.width * crop2.center.x,
      y: stage.center.y - image.height * crop2.center.y
    };
    const rotation = Math.PI * 2 + crop2.rotation % (Math.PI * 2);
    const cropAspectRatio = crop2.aspectRatio || image.height / image.width;
    const shouldLimit = typeof crop2.scaleToFit === "undefined" || crop2.scaleToFit;
    const stageZoomFactor = getImageRectZoomFactor(
      image,
      getCenteredCropRect(stage, cropAspectRatio),
      rotation,
      shouldLimit ? crop2.center : { x: 0.5, y: 0.5 }
    );
    const scale2 = crop2.zoom * stageZoomFactor;
    if (markup && markup.length) {
      root2.ref.createMarkup();
      root2.ref.markup.width = width;
      root2.ref.markup.height = height;
      root2.ref.markup.resize = resize2;
      root2.ref.markup.dirty = dirty;
      root2.ref.markup.markup = markup;
      root2.ref.markup.crop = getCurrentCropSize(image, crop2);
    } else if (root2.ref.markup) {
      root2.ref.destroyMarkup();
    }
    const imageView = root2.ref.image;
    if (shouldOptimize) {
      imageView.originX = null;
      imageView.originY = null;
      imageView.translateX = null;
      imageView.translateY = null;
      imageView.rotateZ = null;
      imageView.scaleX = null;
      imageView.scaleY = null;
      return;
    }
    imageView.originX = origin.x;
    imageView.originY = origin.y;
    imageView.translateX = translation.x;
    imageView.translateY = translation.y;
    imageView.rotateZ = rotation;
    imageView.scaleX = scale2;
    imageView.scaleY = scale2;
  }
});
var createImageView = (_) => _.utils.createView({
  name: "image-preview",
  tag: "div",
  ignoreRect: true,
  mixins: {
    apis: ["image", "crop", "markup", "resize", "dirty", "background"],
    styles: ["translateY", "scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: IMAGE_SCALE_SPRING_PROPS,
      scaleY: IMAGE_SCALE_SPRING_PROPS,
      translateY: IMAGE_SCALE_SPRING_PROPS,
      opacity: { type: "tween", duration: 400 }
    }
  },
  create: ({ root: root2, props }) => {
    root2.ref.clip = root2.appendChildView(
      root2.createChildView(createClipView(_), {
        id: props.id,
        image: props.image,
        crop: props.crop,
        markup: props.markup,
        resize: props.resize,
        dirty: props.dirty,
        background: props.background
      })
    );
  },
  write: ({ root: root2, props, shouldOptimize }) => {
    const { clip } = root2.ref;
    const { image, crop: crop2, markup, resize: resize2, dirty } = props;
    clip.crop = crop2;
    clip.markup = markup;
    clip.resize = resize2;
    clip.dirty = dirty;
    clip.opacity = shouldOptimize ? 0 : 1;
    if (shouldOptimize || root2.rect.element.hidden)
      return;
    const imageAspectRatio = image.height / image.width;
    let aspectRatio = crop2.aspectRatio || imageAspectRatio;
    const containerWidth = root2.rect.inner.width;
    const containerHeight = root2.rect.inner.height;
    let fixedPreviewHeight = root2.query("GET_IMAGE_PREVIEW_HEIGHT");
    const minPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");
    const maxPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");
    const panelAspectRatio = root2.query("GET_PANEL_ASPECT_RATIO");
    const allowMultiple = root2.query("GET_ALLOW_MULTIPLE");
    if (panelAspectRatio && !allowMultiple) {
      fixedPreviewHeight = containerWidth * panelAspectRatio;
      aspectRatio = panelAspectRatio;
    }
    let clipHeight = fixedPreviewHeight !== null ? fixedPreviewHeight : Math.max(
      minPreviewHeight,
      Math.min(containerWidth * aspectRatio, maxPreviewHeight)
    );
    let clipWidth = clipHeight / aspectRatio;
    if (clipWidth > containerWidth) {
      clipWidth = containerWidth;
      clipHeight = clipWidth * aspectRatio;
    }
    if (clipHeight > containerHeight) {
      clipHeight = containerHeight;
      clipWidth = containerHeight / aspectRatio;
    }
    clip.width = clipWidth;
    clip.height = clipHeight;
  }
});
var SVG_MASK = `<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`;
var SVGMaskUniqueId = 0;
var createImageOverlayView = (fpAPI) => fpAPI.utils.createView({
  name: "image-preview-overlay",
  tag: "div",
  ignoreRect: true,
  create: ({ root: root2, props }) => {
    let mask = SVG_MASK;
    if (document.querySelector("base")) {
      const url = new URL(
        window.location.href.replace(window.location.hash, "")
      ).href;
      mask = mask.replace(/url\(\#/g, "url(" + url + "#");
    }
    SVGMaskUniqueId++;
    root2.element.classList.add(
      `filepond--image-preview-overlay-${props.status}`
    );
    root2.element.innerHTML = mask.replace(/__UID__/g, SVGMaskUniqueId);
  },
  mixins: {
    styles: ["opacity"],
    animations: {
      opacity: { type: "spring", mass: 25 }
    }
  }
});
var BitmapWorker = function() {
  self.onmessage = (e) => {
    createImageBitmap(e.data.message.file).then((bitmap) => {
      self.postMessage({ id: e.data.id, message: bitmap }, [bitmap]);
    });
  };
};
var ColorMatrixWorker = function() {
  self.onmessage = (e) => {
    const imageData = e.data.message.imageData;
    const matrix = e.data.message.colorMatrix;
    const data3 = imageData.data;
    const l = data3.length;
    const m11 = matrix[0];
    const m12 = matrix[1];
    const m13 = matrix[2];
    const m14 = matrix[3];
    const m15 = matrix[4];
    const m21 = matrix[5];
    const m22 = matrix[6];
    const m23 = matrix[7];
    const m24 = matrix[8];
    const m25 = matrix[9];
    const m31 = matrix[10];
    const m32 = matrix[11];
    const m33 = matrix[12];
    const m34 = matrix[13];
    const m35 = matrix[14];
    const m41 = matrix[15];
    const m42 = matrix[16];
    const m43 = matrix[17];
    const m44 = matrix[18];
    const m45 = matrix[19];
    let index = 0, r = 0, g = 0, b = 0, a = 0;
    for (; index < l; index += 4) {
      r = data3[index] / 255;
      g = data3[index + 1] / 255;
      b = data3[index + 2] / 255;
      a = data3[index + 3] / 255;
      data3[index] = Math.max(
        0,
        Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255)
      );
      data3[index + 1] = Math.max(
        0,
        Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255)
      );
      data3[index + 2] = Math.max(
        0,
        Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255)
      );
      data3[index + 3] = Math.max(
        0,
        Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255)
      );
    }
    self.postMessage({ id: e.data.id, message: imageData }, [
      imageData.data.buffer
    ]);
  };
};
var getImageSize = (url, cb) => {
  let image = new Image();
  image.onload = () => {
    const width = image.naturalWidth;
    const height = image.naturalHeight;
    image = null;
    cb(width, height);
  };
  image.src = url;
};
var transforms = {
  1: () => [1, 0, 0, 1, 0, 0],
  2: (width) => [-1, 0, 0, 1, width, 0],
  3: (width, height) => [-1, 0, 0, -1, width, height],
  4: (width, height) => [1, 0, 0, -1, 0, height],
  5: () => [0, 1, 1, 0, 0, 0],
  6: (width, height) => [0, 1, -1, 0, height, 0],
  7: (width, height) => [0, -1, -1, 0, height, width],
  8: (width) => [0, -1, 1, 0, 0, width]
};
var fixImageOrientation = (ctx, width, height, orientation) => {
  if (orientation === -1) {
    return;
  }
  ctx.transform.apply(ctx, transforms[orientation](width, height));
};
var createPreviewImage = (data3, width, height, orientation) => {
  width = Math.round(width);
  height = Math.round(height);
  const canvas = document.createElement("canvas");
  canvas.width = width;
  canvas.height = height;
  const ctx = canvas.getContext("2d");
  if (orientation >= 5 && orientation <= 8) {
    [width, height] = [height, width];
  }
  fixImageOrientation(ctx, width, height, orientation);
  ctx.drawImage(data3, 0, 0, width, height);
  return canvas;
};
var isBitmap = (file2) => /^image/.test(file2.type) && !/svg/.test(file2.type);
var MAX_WIDTH = 10;
var MAX_HEIGHT = 10;
var calculateAverageColor = (image) => {
  const scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");
  const width = canvas.width = Math.ceil(image.width * scalar);
  const height = canvas.height = Math.ceil(image.height * scalar);
  ctx.drawImage(image, 0, 0, width, height);
  let data3 = null;
  try {
    data3 = ctx.getImageData(0, 0, width, height).data;
  } catch (e) {
    return null;
  }
  const l = data3.length;
  let r = 0;
  let g = 0;
  let b = 0;
  let i = 0;
  for (; i < l; i += 4) {
    r += data3[i] * data3[i];
    g += data3[i + 1] * data3[i + 1];
    b += data3[i + 2] * data3[i + 2];
  }
  r = averageColor(r, l);
  g = averageColor(g, l);
  b = averageColor(b, l);
  return { r, g, b };
};
var averageColor = (c, l) => Math.floor(Math.sqrt(c / (l / 4)));
var cloneCanvas = (origin, target) => {
  target = target || document.createElement("canvas");
  target.width = origin.width;
  target.height = origin.height;
  const ctx = target.getContext("2d");
  ctx.drawImage(origin, 0, 0);
  return target;
};
var cloneImageData = (imageData) => {
  let id;
  try {
    id = new ImageData(imageData.width, imageData.height);
  } catch (e) {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    id = ctx.createImageData(imageData.width, imageData.height);
  }
  id.data.set(new Uint8ClampedArray(imageData.data));
  return id;
};
var loadImage2 = (url) => new Promise((resolve, reject) => {
  const img = new Image();
  img.crossOrigin = "Anonymous";
  img.onload = () => {
    resolve(img);
  };
  img.onerror = (e) => {
    reject(e);
  };
  img.src = url;
});
var createImageWrapperView = (_) => {
  const OverlayView = createImageOverlayView(_);
  const ImageView = createImageView(_);
  const { createWorker: createWorker3 } = _.utils;
  const applyFilter = (root2, filter, target) => new Promise((resolve) => {
    if (!root2.ref.imageData) {
      root2.ref.imageData = target.getContext("2d").getImageData(0, 0, target.width, target.height);
    }
    const imageData = cloneImageData(root2.ref.imageData);
    if (!filter || filter.length !== 20) {
      target.getContext("2d").putImageData(imageData, 0, 0);
      return resolve();
    }
    const worker = createWorker3(ColorMatrixWorker);
    worker.post(
      {
        imageData,
        colorMatrix: filter
      },
      (response) => {
        target.getContext("2d").putImageData(response, 0, 0);
        worker.terminate();
        resolve();
      },
      [imageData.data.buffer]
    );
  });
  const removeImageView = (root2, imageView) => {
    root2.removeChildView(imageView);
    imageView.image.width = 1;
    imageView.image.height = 1;
    imageView._destroy();
  };
  const shiftImage = ({ root: root2 }) => {
    const imageView = root2.ref.images.shift();
    imageView.opacity = 0;
    imageView.translateY = -15;
    root2.ref.imageViewBin.push(imageView);
    return imageView;
  };
  const pushImage = ({ root: root2, props, image }) => {
    const id = props.id;
    const item2 = root2.query("GET_ITEM", { id });
    if (!item2)
      return;
    const crop2 = item2.getMetadata("crop") || {
      center: {
        x: 0.5,
        y: 0.5
      },
      flip: {
        horizontal: false,
        vertical: false
      },
      zoom: 1,
      rotation: 0,
      aspectRatio: null
    };
    const background = root2.query(
      "GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"
    );
    let markup;
    let resize2;
    let dirty = false;
    if (root2.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")) {
      markup = item2.getMetadata("markup") || [];
      resize2 = item2.getMetadata("resize");
      dirty = true;
    }
    const imageView = root2.appendChildView(
      root2.createChildView(ImageView, {
        id,
        image,
        crop: crop2,
        resize: resize2,
        markup,
        dirty,
        background,
        opacity: 0,
        scaleX: 1.15,
        scaleY: 1.15,
        translateY: 15
      }),
      root2.childViews.length
    );
    root2.ref.images.push(imageView);
    imageView.opacity = 1;
    imageView.scaleX = 1;
    imageView.scaleY = 1;
    imageView.translateY = 0;
    setTimeout(() => {
      root2.dispatch("DID_IMAGE_PREVIEW_SHOW", { id });
    }, 250);
  };
  const updateImage3 = ({ root: root2, props }) => {
    const item2 = root2.query("GET_ITEM", { id: props.id });
    if (!item2)
      return;
    const imageView = root2.ref.images[root2.ref.images.length - 1];
    imageView.crop = item2.getMetadata("crop");
    imageView.background = root2.query(
      "GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"
    );
    if (root2.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")) {
      imageView.dirty = true;
      imageView.resize = item2.getMetadata("resize");
      imageView.markup = item2.getMetadata("markup");
    }
  };
  const didUpdateItemMetadata = ({ root: root2, props, action }) => {
    if (!/crop|filter|markup|resize/.test(action.change.key))
      return;
    if (!root2.ref.images.length)
      return;
    const item2 = root2.query("GET_ITEM", { id: props.id });
    if (!item2)
      return;
    if (/filter/.test(action.change.key)) {
      const imageView = root2.ref.images[root2.ref.images.length - 1];
      applyFilter(root2, action.change.value, imageView.image);
      return;
    }
    if (/crop|markup|resize/.test(action.change.key)) {
      const crop2 = item2.getMetadata("crop");
      const image = root2.ref.images[root2.ref.images.length - 1];
      if (crop2 && crop2.aspectRatio && image.crop && image.crop.aspectRatio && Math.abs(crop2.aspectRatio - image.crop.aspectRatio) > 1e-5) {
        const imageView = shiftImage({ root: root2 });
        pushImage({ root: root2, props, image: cloneCanvas(imageView.image) });
      } else {
        updateImage3({ root: root2, props });
      }
    }
  };
  const canCreateImageBitmap = (file2) => {
    const userAgent = window.navigator.userAgent;
    const isFirefox = userAgent.match(/Firefox\/([0-9]+)\./);
    const firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;
    if (firefoxVersion <= 58)
      return false;
    return "createImageBitmap" in window && isBitmap(file2);
  };
  const didCreatePreviewContainer = ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", id);
    if (!item2)
      return;
    const fileURL = URL.createObjectURL(item2.file);
    getImageSize(fileURL, (width, height) => {
      root2.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE", {
        id,
        width,
        height
      });
    });
  };
  const drawPreview = ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", id);
    if (!item2)
      return;
    const fileURL = URL.createObjectURL(item2.file);
    const loadPreviewFallback = () => {
      loadImage2(fileURL).then(previewImageLoaded);
    };
    const previewImageLoaded = (imageData) => {
      URL.revokeObjectURL(fileURL);
      const exif = item2.getMetadata("exif") || {};
      const orientation = exif.orientation || -1;
      let { width, height } = imageData;
      if (!width || !height)
        return;
      if (orientation >= 5 && orientation <= 8) {
        [width, height] = [height, width];
      }
      const pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75);
      const zoomFactor = root2.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR");
      const scaleFactor = zoomFactor * pixelDensityFactor;
      const previewImageRatio = height / width;
      const previewContainerWidth = root2.rect.element.width;
      const previewContainerHeight = root2.rect.element.height;
      let imageWidth = previewContainerWidth;
      let imageHeight = imageWidth * previewImageRatio;
      if (previewImageRatio > 1) {
        imageWidth = Math.min(width, previewContainerWidth * scaleFactor);
        imageHeight = imageWidth * previewImageRatio;
      } else {
        imageHeight = Math.min(height, previewContainerHeight * scaleFactor);
        imageWidth = imageHeight / previewImageRatio;
      }
      const previewImage = createPreviewImage(
        imageData,
        imageWidth,
        imageHeight,
        orientation
      );
      const done = () => {
        const averageColor2 = root2.query(
          "GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR"
        ) ? calculateAverageColor(data) : null;
        item2.setMetadata("color", averageColor2, true);
        if ("close" in imageData) {
          imageData.close();
        }
        root2.ref.overlayShadow.opacity = 1;
        pushImage({ root: root2, props, image: previewImage });
      };
      const filter = item2.getMetadata("filter");
      if (filter) {
        applyFilter(root2, filter, previewImage).then(done);
      } else {
        done();
      }
    };
    if (canCreateImageBitmap(item2.file)) {
      const worker = createWorker3(BitmapWorker);
      worker.post(
        {
          file: item2.file
        },
        (imageBitmap) => {
          worker.terminate();
          if (!imageBitmap) {
            loadPreviewFallback();
            return;
          }
          previewImageLoaded(imageBitmap);
        }
      );
    } else {
      loadPreviewFallback();
    }
  };
  const didDrawPreview = ({ root: root2 }) => {
    const image = root2.ref.images[root2.ref.images.length - 1];
    image.translateY = 0;
    image.scaleX = 1;
    image.scaleY = 1;
    image.opacity = 1;
  };
  const restoreOverlay = ({ root: root2 }) => {
    root2.ref.overlayShadow.opacity = 1;
    root2.ref.overlayError.opacity = 0;
    root2.ref.overlaySuccess.opacity = 0;
  };
  const didThrowError = ({ root: root2 }) => {
    root2.ref.overlayShadow.opacity = 0.25;
    root2.ref.overlayError.opacity = 1;
  };
  const didCompleteProcessing = ({ root: root2 }) => {
    root2.ref.overlayShadow.opacity = 0.25;
    root2.ref.overlaySuccess.opacity = 1;
  };
  const create2 = ({ root: root2 }) => {
    root2.ref.images = [];
    root2.ref.imageData = null;
    root2.ref.imageViewBin = [];
    root2.ref.overlayShadow = root2.appendChildView(
      root2.createChildView(OverlayView, {
        opacity: 0,
        status: "idle"
      })
    );
    root2.ref.overlaySuccess = root2.appendChildView(
      root2.createChildView(OverlayView, {
        opacity: 0,
        status: "success"
      })
    );
    root2.ref.overlayError = root2.appendChildView(
      root2.createChildView(OverlayView, {
        opacity: 0,
        status: "failure"
      })
    );
  };
  return _.utils.createView({
    name: "image-preview-wrapper",
    create: create2,
    styles: ["height"],
    apis: ["height"],
    destroy: ({ root: root2 }) => {
      root2.ref.images.forEach((imageView) => {
        imageView.image.width = 1;
        imageView.image.height = 1;
      });
    },
    didWriteView: ({ root: root2 }) => {
      root2.ref.images.forEach((imageView) => {
        imageView.dirty = false;
      });
    },
    write: _.utils.createRoute(
      {
        // image preview stated
        DID_IMAGE_PREVIEW_DRAW: didDrawPreview,
        DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,
        DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,
        DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,
        // file states
        DID_THROW_ITEM_LOAD_ERROR: didThrowError,
        DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,
        DID_THROW_ITEM_INVALID: didThrowError,
        DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,
        DID_START_ITEM_PROCESSING: restoreOverlay,
        DID_REVERT_ITEM_PROCESSING: restoreOverlay
      },
      ({ root: root2 }) => {
        const viewsToRemove = root2.ref.imageViewBin.filter(
          (imageView) => imageView.opacity === 0
        );
        root2.ref.imageViewBin = root2.ref.imageViewBin.filter(
          (imageView) => imageView.opacity > 0
        );
        viewsToRemove.forEach((imageView) => removeImageView(root2, imageView));
        viewsToRemove.length = 0;
      }
    )
  });
};
var plugin6 = (fpAPI) => {
  const { addFilter: addFilter2, utils } = fpAPI;
  const { Type: Type2, createRoute: createRoute2, isFile: isFile2 } = utils;
  const imagePreviewView = createImageWrapperView(fpAPI);
  addFilter2("CREATE_VIEW", (viewAPI) => {
    const { is, view, query } = viewAPI;
    if (!is("file") || !query("GET_ALLOW_IMAGE_PREVIEW"))
      return;
    const didLoadItem2 = ({ root: root2, props }) => {
      const { id } = props;
      const item2 = query("GET_ITEM", id);
      if (!item2 || !isFile2(item2.file) || item2.archived)
        return;
      const file2 = item2.file;
      if (!isPreviewableImage2(file2))
        return;
      if (!query("GET_IMAGE_PREVIEW_FILTER_ITEM")(item2))
        return;
      const supportsCreateImageBitmap = "createImageBitmap" in (window || {});
      const maxPreviewFileSize = query("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");
      if (!supportsCreateImageBitmap && (maxPreviewFileSize && file2.size > maxPreviewFileSize))
        return;
      root2.ref.imagePreview = view.appendChildView(
        view.createChildView(imagePreviewView, { id })
      );
      const fixedPreviewHeight = root2.query("GET_IMAGE_PREVIEW_HEIGHT");
      if (fixedPreviewHeight) {
        root2.dispatch("DID_UPDATE_PANEL_HEIGHT", {
          id: item2.id,
          height: fixedPreviewHeight
        });
      }
      const queue = !supportsCreateImageBitmap && file2.size > query("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");
      root2.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE", { id }, queue);
    };
    const rescaleItem = (root2, props) => {
      if (!root2.ref.imagePreview)
        return;
      let { id } = props;
      const item2 = root2.query("GET_ITEM", { id });
      if (!item2)
        return;
      const panelAspectRatio = root2.query("GET_PANEL_ASPECT_RATIO");
      const itemPanelAspectRatio = root2.query("GET_ITEM_PANEL_ASPECT_RATIO");
      const fixedHeight = root2.query("GET_IMAGE_PREVIEW_HEIGHT");
      if (panelAspectRatio || itemPanelAspectRatio || fixedHeight)
        return;
      let { imageWidth, imageHeight } = root2.ref;
      if (!imageWidth || !imageHeight)
        return;
      const minPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");
      const maxPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");
      const exif = item2.getMetadata("exif") || {};
      const orientation = exif.orientation || -1;
      if (orientation >= 5 && orientation <= 8)
        [imageWidth, imageHeight] = [imageHeight, imageWidth];
      if (!isBitmap(item2.file) || root2.query("GET_IMAGE_PREVIEW_UPSCALE")) {
        const scalar = 2048 / imageWidth;
        imageWidth *= scalar;
        imageHeight *= scalar;
      }
      const imageAspectRatio = imageHeight / imageWidth;
      const previewAspectRatio = (item2.getMetadata("crop") || {}).aspectRatio || imageAspectRatio;
      let previewHeightMax = Math.max(
        minPreviewHeight,
        Math.min(imageHeight, maxPreviewHeight)
      );
      const itemWidth = root2.rect.element.width;
      const previewHeight = Math.min(
        itemWidth * previewAspectRatio,
        previewHeightMax
      );
      root2.dispatch("DID_UPDATE_PANEL_HEIGHT", {
        id: item2.id,
        height: previewHeight
      });
    };
    const didResizeView = ({ root: root2 }) => {
      root2.ref.shouldRescale = true;
    };
    const didUpdateItemMetadata = ({ root: root2, action }) => {
      if (action.change.key !== "crop")
        return;
      root2.ref.shouldRescale = true;
    };
    const didCalculatePreviewSize = ({ root: root2, action }) => {
      root2.ref.imageWidth = action.width;
      root2.ref.imageHeight = action.height;
      root2.ref.shouldRescale = true;
      root2.ref.shouldDrawPreview = true;
      root2.dispatch("KICK");
    };
    view.registerWriter(
      createRoute2(
        {
          DID_RESIZE_ROOT: didResizeView,
          DID_STOP_RESIZE: didResizeView,
          DID_LOAD_ITEM: didLoadItem2,
          DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,
          DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata
        },
        ({ root: root2, props }) => {
          if (!root2.ref.imagePreview)
            return;
          if (root2.rect.element.hidden)
            return;
          if (root2.ref.shouldRescale) {
            rescaleItem(root2, props);
            root2.ref.shouldRescale = false;
          }
          if (root2.ref.shouldDrawPreview) {
            requestAnimationFrame(() => {
              requestAnimationFrame(() => {
                root2.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE", {
                  id: props.id
                });
              });
            });
            root2.ref.shouldDrawPreview = false;
          }
        }
      )
    );
  });
  return {
    options: {
      // Enable or disable image preview
      allowImagePreview: [true, Type2.BOOLEAN],
      // filters file items to determine which are shown as preview
      imagePreviewFilterItem: [() => true, Type2.FUNCTION],
      // Fixed preview height
      imagePreviewHeight: [null, Type2.INT],
      // Min image height
      imagePreviewMinHeight: [44, Type2.INT],
      // Max image height
      imagePreviewMaxHeight: [256, Type2.INT],
      // Max size of preview file for when createImageBitmap is not supported
      imagePreviewMaxFileSize: [null, Type2.INT],
      // The amount of extra pixels added to the image preview to allow comfortable zooming
      imagePreviewZoomFactor: [2, Type2.INT],
      // Should we upscale small images to fit the max bounding box of the preview area
      imagePreviewUpscale: [false, Type2.BOOLEAN],
      // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading
      imagePreviewMaxInstantPreviewFileSize: [1e6, Type2.INT],
      // Style of the transparancy indicator used behind images
      imagePreviewTransparencyIndicator: [null, Type2.STRING],
      // Enables or disables reading average image color
      imagePreviewCalculateAverageImageColor: [false, Type2.BOOLEAN],
      // Enables or disables the previewing of markup
      imagePreviewMarkupShow: [true, Type2.BOOLEAN],
      // Allows filtering of markup to only show certain shapes
      imagePreviewMarkupFilter: [() => true, Type2.FUNCTION]
    }
  };
};
var isBrowser7 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser7) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin6 })
  );
}
var filepond_plugin_image_preview_esm_default = plugin6;

// node_modules/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.esm.js
var isImage2 = (file2) => /^image/.test(file2.type);
var getImageSize2 = (url, cb) => {
  let image = new Image();
  image.onload = () => {
    const width = image.naturalWidth;
    const height = image.naturalHeight;
    image = null;
    cb({ width, height });
  };
  image.onerror = () => cb(null);
  image.src = url;
};
var plugin7 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2 } = utils;
  addFilter2(
    "DID_LOAD_ITEM",
    (item2, { query }) => new Promise((resolve, reject) => {
      const file2 = item2.file;
      if (!isImage2(file2) || !query("GET_ALLOW_IMAGE_RESIZE")) {
        return resolve(item2);
      }
      const mode = query("GET_IMAGE_RESIZE_MODE");
      const width = query("GET_IMAGE_RESIZE_TARGET_WIDTH");
      const height = query("GET_IMAGE_RESIZE_TARGET_HEIGHT");
      const upscale = query("GET_IMAGE_RESIZE_UPSCALE");
      if (width === null && height === null)
        return resolve(item2);
      const targetWidth = width === null ? height : width;
      const targetHeight = height === null ? targetWidth : height;
      const fileURL = URL.createObjectURL(file2);
      getImageSize2(fileURL, (size) => {
        URL.revokeObjectURL(fileURL);
        if (!size)
          return resolve(item2);
        let { width: imageWidth, height: imageHeight } = size;
        const orientation = (item2.getMetadata("exif") || {}).orientation || -1;
        if (orientation >= 5 && orientation <= 8) {
          [imageWidth, imageHeight] = [imageHeight, imageWidth];
        }
        if (imageWidth === targetWidth && imageHeight === targetHeight)
          return resolve(item2);
        if (!upscale) {
          if (mode === "cover") {
            if (imageWidth <= targetWidth || imageHeight <= targetHeight)
              return resolve(item2);
          } else if (imageWidth <= targetWidth && imageHeight <= targetWidth) {
            return resolve(item2);
          }
        }
        item2.setMetadata("resize", {
          mode,
          upscale,
          size: {
            width: targetWidth,
            height: targetHeight
          }
        });
        resolve(item2);
      });
    })
  );
  return {
    options: {
      // Enable or disable image resizing
      allowImageResize: [true, Type2.BOOLEAN],
      // the method of rescaling
      // - force => force set size
      // - cover => pick biggest dimension
      // - contain => pick smaller dimension
      imageResizeMode: ["cover", Type2.STRING],
      // set to false to disable upscaling of image smaller than the target width / height
      imageResizeUpscale: [true, Type2.BOOLEAN],
      // target width
      imageResizeTargetWidth: [null, Type2.INT],
      // target height
      imageResizeTargetHeight: [null, Type2.INT]
    }
  };
};
var isBrowser8 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser8) {
  document.dispatchEvent(new CustomEvent("FilePond:pluginloaded", { detail: plugin7 }));
}
var filepond_plugin_image_resize_esm_default = plugin7;

// node_modules/filepond-plugin-image-transform/dist/filepond-plugin-image-transform.esm.js
var isImage3 = (file2) => /^image/.test(file2.type);
var getFilenameWithoutExtension2 = (name2) => name2.substr(0, name2.lastIndexOf(".")) || name2;
var ExtensionMap = {
  jpeg: "jpg",
  "svg+xml": "svg"
};
var renameFileToMatchMimeType = (filename, mimeType) => {
  const name2 = getFilenameWithoutExtension2(filename);
  const type = mimeType.split("/")[1];
  const extension = ExtensionMap[type] || type;
  return `${name2}.${extension}`;
};
var getValidOutputMimeType = (type) => /jpeg|png|svg\+xml/.test(type) ? type : "image/jpeg";
var isImage$1 = (file2) => /^image/.test(file2.type);
var MATRICES = {
  1: () => [1, 0, 0, 1, 0, 0],
  2: (width) => [-1, 0, 0, 1, width, 0],
  3: (width, height) => [-1, 0, 0, -1, width, height],
  4: (width, height) => [1, 0, 0, -1, 0, height],
  5: () => [0, 1, 1, 0, 0, 0],
  6: (width, height) => [0, 1, -1, 0, height, 0],
  7: (width, height) => [0, -1, -1, 0, height, width],
  8: (width) => [0, -1, 1, 0, 0, width]
};
var getImageOrientationMatrix = (width, height, orientation) => {
  if (orientation === -1) {
    orientation = 1;
  }
  return MATRICES[orientation](width, height);
};
var createVector2 = (x, y) => ({ x, y });
var vectorDot2 = (a, b) => a.x * b.x + a.y * b.y;
var vectorSubtract2 = (a, b) => createVector2(a.x - b.x, a.y - b.y);
var vectorDistanceSquared2 = (a, b) => vectorDot2(vectorSubtract2(a, b), vectorSubtract2(a, b));
var vectorDistance2 = (a, b) => Math.sqrt(vectorDistanceSquared2(a, b));
var getOffsetPointOnEdge2 = (length, rotation) => {
  const a = length;
  const A = 1.5707963267948966;
  const B = rotation;
  const C = 1.5707963267948966 - rotation;
  const sinA = Math.sin(A);
  const sinB = Math.sin(B);
  const sinC = Math.sin(C);
  const cosC = Math.cos(C);
  const ratio = a / sinA;
  const b = ratio * sinB;
  const c = ratio * sinC;
  return createVector2(cosC * b, cosC * c);
};
var getRotatedRectSize2 = (rect, rotation) => {
  const w = rect.width;
  const h = rect.height;
  const hor = getOffsetPointOnEdge2(w, rotation);
  const ver = getOffsetPointOnEdge2(h, rotation);
  const tl = createVector2(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));
  const tr = createVector2(rect.x + rect.width + Math.abs(ver.y), rect.y + Math.abs(ver.x));
  const bl = createVector2(rect.x - Math.abs(ver.y), rect.y + rect.height - Math.abs(ver.x));
  return {
    width: vectorDistance2(tl, tr),
    height: vectorDistance2(tl, bl)
  };
};
var getImageRectZoomFactor2 = (imageRect, cropRect, rotation = 0, center2 = { x: 0.5, y: 0.5 }) => {
  const cx = center2.x > 0.5 ? 1 - center2.x : center2.x;
  const cy = center2.y > 0.5 ? 1 - center2.y : center2.y;
  const imageWidth = cx * 2 * imageRect.width;
  const imageHeight = cy * 2 * imageRect.height;
  const rotatedCropSize = getRotatedRectSize2(cropRect, rotation);
  return Math.max(rotatedCropSize.width / imageWidth, rotatedCropSize.height / imageHeight);
};
var getCenteredCropRect2 = (container, aspectRatio) => {
  let width = container.width;
  let height = width * aspectRatio;
  if (height > container.height) {
    height = container.height;
    width = height / aspectRatio;
  }
  const x = (container.width - width) * 0.5;
  const y = (container.height - height) * 0.5;
  return {
    x,
    y,
    width,
    height
  };
};
var calculateCanvasSize2 = (image, canvasAspectRatio, zoom2 = 1) => {
  const imageAspectRatio = image.height / image.width;
  let canvasWidth = 1;
  let canvasHeight = canvasAspectRatio;
  let imgWidth = 1;
  let imgHeight = imageAspectRatio;
  if (imgHeight > canvasHeight) {
    imgHeight = canvasHeight;
    imgWidth = imgHeight / imageAspectRatio;
  }
  const scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);
  const width = image.width / (zoom2 * scalar * imgWidth);
  const height = width * canvasAspectRatio;
  return {
    width,
    height
  };
};
var canvasRelease = (canvas) => {
  canvas.width = 1;
  canvas.height = 1;
  const ctx = canvas.getContext("2d");
  ctx.clearRect(0, 0, 1, 1);
};
var isFlipped = (flip) => flip && (flip.horizontal || flip.vertical);
var getBitmap = (image, orientation, flip) => {
  if (orientation <= 1 && !isFlipped(flip)) {
    image.width = image.naturalWidth;
    image.height = image.naturalHeight;
    return image;
  }
  const canvas = document.createElement("canvas");
  const width = image.naturalWidth;
  const height = image.naturalHeight;
  const swapped = orientation >= 5 && orientation <= 8;
  if (swapped) {
    canvas.width = height;
    canvas.height = width;
  } else {
    canvas.width = width;
    canvas.height = height;
  }
  const ctx = canvas.getContext("2d");
  if (orientation) {
    ctx.transform.apply(ctx, getImageOrientationMatrix(width, height, orientation));
  }
  if (isFlipped(flip)) {
    const matrix = [1, 0, 0, 1, 0, 0];
    if (!swapped && flip.horizontal || swapped & flip.vertical) {
      matrix[0] = -1;
      matrix[4] = width;
    }
    if (!swapped && flip.vertical || swapped && flip.horizontal) {
      matrix[3] = -1;
      matrix[5] = height;
    }
    ctx.transform(...matrix);
  }
  ctx.drawImage(image, 0, 0, width, height);
  return canvas;
};
var imageToImageData = (imageElement, orientation, crop2 = {}, options = {}) => {
  const { canvasMemoryLimit, background = null } = options;
  const zoom2 = crop2.zoom || 1;
  const bitmap = getBitmap(imageElement, orientation, crop2.flip);
  const imageSize = {
    width: bitmap.width,
    height: bitmap.height
  };
  const aspectRatio = crop2.aspectRatio || imageSize.height / imageSize.width;
  let canvasSize = calculateCanvasSize2(imageSize, aspectRatio, zoom2);
  if (canvasMemoryLimit) {
    const requiredMemory = canvasSize.width * canvasSize.height;
    if (requiredMemory > canvasMemoryLimit) {
      const scalar = Math.sqrt(canvasMemoryLimit) / Math.sqrt(requiredMemory);
      imageSize.width = Math.floor(imageSize.width * scalar);
      imageSize.height = Math.floor(imageSize.height * scalar);
      canvasSize = calculateCanvasSize2(imageSize, aspectRatio, zoom2);
    }
  }
  const canvas = document.createElement("canvas");
  const canvasCenter = {
    x: canvasSize.width * 0.5,
    y: canvasSize.height * 0.5
  };
  const stage = {
    x: 0,
    y: 0,
    width: canvasSize.width,
    height: canvasSize.height,
    center: canvasCenter
  };
  const shouldLimit = typeof crop2.scaleToFit === "undefined" || crop2.scaleToFit;
  const scale2 = zoom2 * getImageRectZoomFactor2(
    imageSize,
    getCenteredCropRect2(stage, aspectRatio),
    crop2.rotation,
    shouldLimit ? crop2.center : { x: 0.5, y: 0.5 }
  );
  canvas.width = Math.round(canvasSize.width / scale2);
  canvas.height = Math.round(canvasSize.height / scale2);
  canvasCenter.x /= scale2;
  canvasCenter.y /= scale2;
  const imageOffset = {
    x: canvasCenter.x - imageSize.width * (crop2.center ? crop2.center.x : 0.5),
    y: canvasCenter.y - imageSize.height * (crop2.center ? crop2.center.y : 0.5)
  };
  const ctx = canvas.getContext("2d");
  if (background) {
    ctx.fillStyle = background;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  }
  ctx.translate(canvasCenter.x, canvasCenter.y);
  ctx.rotate(crop2.rotation || 0);
  ctx.drawImage(
    bitmap,
    imageOffset.x - canvasCenter.x,
    imageOffset.y - canvasCenter.y,
    imageSize.width,
    imageSize.height
  );
  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
  canvasRelease(canvas);
  return imageData;
};
var IS_BROWSER4 = (() => typeof window !== "undefined" && typeof window.document !== "undefined")();
if (IS_BROWSER4) {
  if (!HTMLCanvasElement.prototype.toBlob) {
    Object.defineProperty(HTMLCanvasElement.prototype, "toBlob", {
      value: function(callback, type, quality) {
        var dataURL = this.toDataURL(type, quality).split(",")[1];
        setTimeout(function() {
          var binStr = atob(dataURL);
          var len = binStr.length;
          var arr = new Uint8Array(len);
          for (var i = 0; i < len; i++) {
            arr[i] = binStr.charCodeAt(i);
          }
          callback(new Blob([arr], { type: type || "image/png" }));
        });
      }
    });
  }
}
var canvasToBlob = (canvas, options, beforeCreateBlob = null) => new Promise((resolve) => {
  const promisedImage = beforeCreateBlob ? beforeCreateBlob(canvas) : canvas;
  Promise.resolve(promisedImage).then((canvas2) => {
    canvas2.toBlob(resolve, options.type, options.quality);
  });
});
var vectorMultiply2 = (v, amount) => createVector$12(v.x * amount, v.y * amount);
var vectorAdd2 = (a, b) => createVector$12(a.x + b.x, a.y + b.y);
var vectorNormalize2 = (v) => {
  const l = Math.sqrt(v.x * v.x + v.y * v.y);
  if (l === 0) {
    return {
      x: 0,
      y: 0
    };
  }
  return createVector$12(v.x / l, v.y / l);
};
var vectorRotate2 = (v, radians, origin) => {
  const cos = Math.cos(radians);
  const sin = Math.sin(radians);
  const t = createVector$12(v.x - origin.x, v.y - origin.y);
  return createVector$12(origin.x + cos * t.x - sin * t.y, origin.y + sin * t.x + cos * t.y);
};
var createVector$12 = (x = 0, y = 0) => ({ x, y });
var getMarkupValue2 = (value, size, scalar = 1, axis) => {
  if (typeof value === "string") {
    return parseFloat(value) * scalar;
  }
  if (typeof value === "number") {
    return value * (axis ? size[axis] : Math.min(size.width, size.height));
  }
  return;
};
var getMarkupStyles2 = (markup, size, scale2) => {
  const lineStyle = markup.borderStyle || markup.lineStyle || "solid";
  const fill = markup.backgroundColor || markup.fontColor || "transparent";
  const stroke = markup.borderColor || markup.lineColor || "transparent";
  const strokeWidth = getMarkupValue2(markup.borderWidth || markup.lineWidth, size, scale2);
  const lineCap = markup.lineCap || "round";
  const lineJoin = markup.lineJoin || "round";
  const dashes = typeof lineStyle === "string" ? "" : lineStyle.map((v) => getMarkupValue2(v, size, scale2)).join(",");
  const opacity = markup.opacity || 1;
  return {
    "stroke-linecap": lineCap,
    "stroke-linejoin": lineJoin,
    "stroke-width": strokeWidth || 0,
    "stroke-dasharray": dashes,
    stroke,
    fill,
    opacity
  };
};
var isDefined3 = (value) => value != null;
var getMarkupRect2 = (rect, size, scalar = 1) => {
  let left = getMarkupValue2(rect.x, size, scalar, "width") || getMarkupValue2(rect.left, size, scalar, "width");
  let top = getMarkupValue2(rect.y, size, scalar, "height") || getMarkupValue2(rect.top, size, scalar, "height");
  let width = getMarkupValue2(rect.width, size, scalar, "width");
  let height = getMarkupValue2(rect.height, size, scalar, "height");
  let right = getMarkupValue2(rect.right, size, scalar, "width");
  let bottom = getMarkupValue2(rect.bottom, size, scalar, "height");
  if (!isDefined3(top)) {
    if (isDefined3(height) && isDefined3(bottom)) {
      top = size.height - height - bottom;
    } else {
      top = bottom;
    }
  }
  if (!isDefined3(left)) {
    if (isDefined3(width) && isDefined3(right)) {
      left = size.width - width - right;
    } else {
      left = right;
    }
  }
  if (!isDefined3(width)) {
    if (isDefined3(left) && isDefined3(right)) {
      width = size.width - left - right;
    } else {
      width = 0;
    }
  }
  if (!isDefined3(height)) {
    if (isDefined3(top) && isDefined3(bottom)) {
      height = size.height - top - bottom;
    } else {
      height = 0;
    }
  }
  return {
    x: left || 0,
    y: top || 0,
    width: width || 0,
    height: height || 0
  };
};
var pointsToPathShape2 = (points) => points.map((point, index) => `${index === 0 ? "M" : "L"} ${point.x} ${point.y}`).join(" ");
var setAttributes2 = (element, attr2) => Object.keys(attr2).forEach((key) => element.setAttribute(key, attr2[key]));
var ns3 = "http://www.w3.org/2000/svg";
var svg2 = (tag, attr2) => {
  const element = document.createElementNS(ns3, tag);
  if (attr2) {
    setAttributes2(element, attr2);
  }
  return element;
};
var updateRect3 = (element) => setAttributes2(element, {
  ...element.rect,
  ...element.styles
});
var updateEllipse2 = (element) => {
  const cx = element.rect.x + element.rect.width * 0.5;
  const cy = element.rect.y + element.rect.height * 0.5;
  const rx = element.rect.width * 0.5;
  const ry = element.rect.height * 0.5;
  return setAttributes2(element, {
    cx,
    cy,
    rx,
    ry,
    ...element.styles
  });
};
var IMAGE_FIT_STYLE2 = {
  contain: "xMidYMid meet",
  cover: "xMidYMid slice"
};
var updateImage2 = (element, markup) => {
  setAttributes2(element, {
    ...element.rect,
    ...element.styles,
    preserveAspectRatio: IMAGE_FIT_STYLE2[markup.fit] || "none"
  });
};
var TEXT_ANCHOR2 = {
  left: "start",
  center: "middle",
  right: "end"
};
var updateText2 = (element, markup, size, scale2) => {
  const fontSize = getMarkupValue2(markup.fontSize, size, scale2);
  const fontFamily = markup.fontFamily || "sans-serif";
  const fontWeight = markup.fontWeight || "normal";
  const textAlign = TEXT_ANCHOR2[markup.textAlign] || "start";
  setAttributes2(element, {
    ...element.rect,
    ...element.styles,
    "stroke-width": 0,
    "font-weight": fontWeight,
    "font-size": fontSize,
    "font-family": fontFamily,
    "text-anchor": textAlign
  });
  if (element.text !== markup.text) {
    element.text = markup.text;
    element.textContent = markup.text.length ? markup.text : " ";
  }
};
var updateLine2 = (element, markup, size, scale2) => {
  setAttributes2(element, {
    ...element.rect,
    ...element.styles,
    fill: "none"
  });
  const line = element.childNodes[0];
  const begin = element.childNodes[1];
  const end = element.childNodes[2];
  const origin = element.rect;
  const target = {
    x: element.rect.x + element.rect.width,
    y: element.rect.y + element.rect.height
  };
  setAttributes2(line, {
    x1: origin.x,
    y1: origin.y,
    x2: target.x,
    y2: target.y
  });
  if (!markup.lineDecoration)
    return;
  begin.style.display = "none";
  end.style.display = "none";
  const v = vectorNormalize2({
    x: target.x - origin.x,
    y: target.y - origin.y
  });
  const l = getMarkupValue2(0.05, size, scale2);
  if (markup.lineDecoration.indexOf("arrow-begin") !== -1) {
    const arrowBeginRotationPoint = vectorMultiply2(v, l);
    const arrowBeginCenter = vectorAdd2(origin, arrowBeginRotationPoint);
    const arrowBeginA = vectorRotate2(origin, 2, arrowBeginCenter);
    const arrowBeginB = vectorRotate2(origin, -2, arrowBeginCenter);
    setAttributes2(begin, {
      style: "display:block;",
      d: `M${arrowBeginA.x},${arrowBeginA.y} L${origin.x},${origin.y} L${arrowBeginB.x},${arrowBeginB.y}`
    });
  }
  if (markup.lineDecoration.indexOf("arrow-end") !== -1) {
    const arrowEndRotationPoint = vectorMultiply2(v, -l);
    const arrowEndCenter = vectorAdd2(target, arrowEndRotationPoint);
    const arrowEndA = vectorRotate2(target, 2, arrowEndCenter);
    const arrowEndB = vectorRotate2(target, -2, arrowEndCenter);
    setAttributes2(end, {
      style: "display:block;",
      d: `M${arrowEndA.x},${arrowEndA.y} L${target.x},${target.y} L${arrowEndB.x},${arrowEndB.y}`
    });
  }
};
var updatePath2 = (element, markup, size, scale2) => {
  setAttributes2(element, {
    ...element.styles,
    fill: "none",
    d: pointsToPathShape2(
      markup.points.map((point) => ({
        x: getMarkupValue2(point.x, size, scale2, "width"),
        y: getMarkupValue2(point.y, size, scale2, "height")
      }))
    )
  });
};
var createShape2 = (node) => (markup) => svg2(node, { id: markup.id });
var createImage2 = (markup) => {
  const shape = svg2("image", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    opacity: "0"
  });
  shape.onload = () => {
    shape.setAttribute("opacity", markup.opacity || 1);
  };
  shape.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", markup.src);
  return shape;
};
var createLine2 = (markup) => {
  const shape = svg2("g", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round"
  });
  const line = svg2("line");
  shape.appendChild(line);
  const begin = svg2("path");
  shape.appendChild(begin);
  const end = svg2("path");
  shape.appendChild(end);
  return shape;
};
var CREATE_TYPE_ROUTES2 = {
  image: createImage2,
  rect: createShape2("rect"),
  ellipse: createShape2("ellipse"),
  text: createShape2("text"),
  path: createShape2("path"),
  line: createLine2
};
var UPDATE_TYPE_ROUTES2 = {
  rect: updateRect3,
  ellipse: updateEllipse2,
  image: updateImage2,
  text: updateText2,
  path: updatePath2,
  line: updateLine2
};
var createMarkupByType2 = (type, markup) => CREATE_TYPE_ROUTES2[type](markup);
var updateMarkupByType2 = (element, type, markup, size, scale2) => {
  if (type !== "path") {
    element.rect = getMarkupRect2(markup, size, scale2);
  }
  element.styles = getMarkupStyles2(markup, size, scale2);
  UPDATE_TYPE_ROUTES2[type](element, markup, size, scale2);
};
var sortMarkupByZIndex2 = (a, b) => {
  if (a[1].zIndex > b[1].zIndex) {
    return 1;
  }
  if (a[1].zIndex < b[1].zIndex) {
    return -1;
  }
  return 0;
};
var cropSVG = (blob2, crop2 = {}, markup, options) => new Promise((resolve) => {
  const { background = null } = options;
  const fr = new FileReader();
  fr.onloadend = () => {
    const text2 = fr.result;
    const original = document.createElement("div");
    original.style.cssText = `position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;`;
    original.innerHTML = text2;
    const originalNode = original.querySelector("svg");
    document.body.appendChild(original);
    const bBox = originalNode.getBBox();
    original.parentNode.removeChild(original);
    const titleNode = original.querySelector("title");
    const viewBoxAttribute = originalNode.getAttribute("viewBox") || "";
    const widthAttribute = originalNode.getAttribute("width") || "";
    const heightAttribute = originalNode.getAttribute("height") || "";
    let width = parseFloat(widthAttribute) || null;
    let height = parseFloat(heightAttribute) || null;
    const widthUnits = (widthAttribute.match(/[a-z]+/) || [])[0] || "";
    const heightUnits = (heightAttribute.match(/[a-z]+/) || [])[0] || "";
    const viewBoxList = viewBoxAttribute.split(" ").map(parseFloat);
    const viewBox = viewBoxList.length ? {
      x: viewBoxList[0],
      y: viewBoxList[1],
      width: viewBoxList[2],
      height: viewBoxList[3]
    } : bBox;
    let imageWidth = width != null ? width : viewBox.width;
    let imageHeight = height != null ? height : viewBox.height;
    originalNode.style.overflow = "visible";
    originalNode.setAttribute("width", imageWidth);
    originalNode.setAttribute("height", imageHeight);
    let markupSVG = "";
    if (markup && markup.length) {
      const size = {
        width: imageWidth,
        height: imageHeight
      };
      markupSVG = markup.sort(sortMarkupByZIndex2).reduce((prev, shape) => {
        const el = createMarkupByType2(shape[0], shape[1]);
        updateMarkupByType2(el, shape[0], shape[1], size);
        el.removeAttribute("id");
        if (el.getAttribute("opacity") === 1) {
          el.removeAttribute("opacity");
        }
        return prev + "\n" + el.outerHTML + "\n";
      }, "");
      markupSVG = `

<g>${markupSVG.replace(/&nbsp;/g, " ")}</g>

`;
    }
    const aspectRatio = crop2.aspectRatio || imageHeight / imageWidth;
    const canvasWidth = imageWidth;
    const canvasHeight = canvasWidth * aspectRatio;
    const shouldLimit = typeof crop2.scaleToFit === "undefined" || crop2.scaleToFit;
    const cropCenterX = crop2.center ? crop2.center.x : 0.5;
    const cropCenterY = crop2.center ? crop2.center.y : 0.5;
    const canvasZoomFactor = getImageRectZoomFactor2(
      {
        width: imageWidth,
        height: imageHeight
      },
      getCenteredCropRect2(
        {
          width: canvasWidth,
          height: canvasHeight
        },
        aspectRatio
      ),
      crop2.rotation,
      shouldLimit ? { x: cropCenterX, y: cropCenterY } : {
        x: 0.5,
        y: 0.5
      }
    );
    const scale2 = crop2.zoom * canvasZoomFactor;
    const rotation = crop2.rotation * (180 / Math.PI);
    const canvasCenter = {
      x: canvasWidth * 0.5,
      y: canvasHeight * 0.5
    };
    const imageOffset = {
      x: canvasCenter.x - imageWidth * cropCenterX,
      y: canvasCenter.y - imageHeight * cropCenterY
    };
    const cropTransforms = [
      // rotate
      `rotate(${rotation} ${canvasCenter.x} ${canvasCenter.y})`,
      // scale
      `translate(${canvasCenter.x} ${canvasCenter.y})`,
      `scale(${scale2})`,
      `translate(${-canvasCenter.x} ${-canvasCenter.y})`,
      // offset
      `translate(${imageOffset.x} ${imageOffset.y})`
    ];
    const cropFlipHorizontal = crop2.flip && crop2.flip.horizontal;
    const cropFlipVertical = crop2.flip && crop2.flip.vertical;
    const flipTransforms = [
      `scale(${cropFlipHorizontal ? -1 : 1} ${cropFlipVertical ? -1 : 1})`,
      `translate(${cropFlipHorizontal ? -imageWidth : 0} ${cropFlipVertical ? -imageHeight : 0})`
    ];
    const transformed = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="${canvasWidth}${widthUnits}" height="${canvasHeight}${heightUnits}" 
viewBox="0 0 ${canvasWidth} ${canvasHeight}" ${background ? 'style="background:' + background + '" ' : ""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${titleNode ? titleNode.textContent : ""}</title>
<g transform="${cropTransforms.join(" ")}">
<g transform="${flipTransforms.join(" ")}">
${originalNode.outerHTML}${markupSVG}
</g>
</g>
</svg>`;
    resolve(transformed);
  };
  fr.readAsText(blob2);
});
var objectToImageData = (obj) => {
  let imageData;
  try {
    imageData = new ImageData(obj.width, obj.height);
  } catch (e) {
    const canvas = document.createElement("canvas");
    imageData = canvas.getContext("2d").createImageData(obj.width, obj.height);
  }
  imageData.data.set(obj.data);
  return imageData;
};
var TransformWorker = () => {
  const TRANSFORMS = { resize: resize2, filter };
  const applyTransforms = (transforms2, imageData) => {
    transforms2.forEach((transform2) => {
      imageData = TRANSFORMS[transform2.type](imageData, transform2.data);
    });
    return imageData;
  };
  const transform = (data3, cb) => {
    let transforms2 = data3.transforms;
    let filterTransform = null;
    transforms2.forEach((transform2) => {
      if (transform2.type === "filter") {
        filterTransform = transform2;
      }
    });
    if (filterTransform) {
      let resizeTransform = null;
      transforms2.forEach((transform2) => {
        if (transform2.type === "resize") {
          resizeTransform = transform2;
        }
      });
      if (resizeTransform) {
        resizeTransform.data.matrix = filterTransform.data;
        transforms2 = transforms2.filter((transform2) => transform2.type !== "filter");
      }
    }
    cb(applyTransforms(transforms2, data3.imageData));
  };
  self.onmessage = (e) => {
    transform(e.data.message, (response) => {
      self.postMessage({ id: e.data.id, message: response }, [response.data.buffer]);
    });
  };
  const br = 1;
  const bg = 1;
  const bb = 1;
  function applyFilterMatrix(index, data3, m) {
    const ir = data3[index] / 255;
    const ig = data3[index + 1] / 255;
    const ib = data3[index + 2] / 255;
    const ia = data3[index + 3] / 255;
    const mr = ir * m[0] + ig * m[1] + ib * m[2] + ia * m[3] + m[4];
    const mg = ir * m[5] + ig * m[6] + ib * m[7] + ia * m[8] + m[9];
    const mb = ir * m[10] + ig * m[11] + ib * m[12] + ia * m[13] + m[14];
    const ma = ir * m[15] + ig * m[16] + ib * m[17] + ia * m[18] + m[19];
    const or = Math.max(0, mr * ma) + br * (1 - ma);
    const og = Math.max(0, mg * ma) + bg * (1 - ma);
    const ob = Math.max(0, mb * ma) + bb * (1 - ma);
    data3[index] = Math.max(0, Math.min(1, or)) * 255;
    data3[index + 1] = Math.max(0, Math.min(1, og)) * 255;
    data3[index + 2] = Math.max(0, Math.min(1, ob)) * 255;
  }
  const identityMatrix = self.JSON.stringify([
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0
  ]);
  function isIdentityMatrix(filter2) {
    return self.JSON.stringify(filter2 || []) === identityMatrix;
  }
  function filter(imageData, matrix) {
    if (!matrix || isIdentityMatrix(matrix))
      return imageData;
    const data3 = imageData.data;
    const l = data3.length;
    const m11 = matrix[0];
    const m12 = matrix[1];
    const m13 = matrix[2];
    const m14 = matrix[3];
    const m15 = matrix[4];
    const m21 = matrix[5];
    const m22 = matrix[6];
    const m23 = matrix[7];
    const m24 = matrix[8];
    const m25 = matrix[9];
    const m31 = matrix[10];
    const m32 = matrix[11];
    const m33 = matrix[12];
    const m34 = matrix[13];
    const m35 = matrix[14];
    const m41 = matrix[15];
    const m42 = matrix[16];
    const m43 = matrix[17];
    const m44 = matrix[18];
    const m45 = matrix[19];
    let index = 0, r = 0, g = 0, b = 0, a = 0, mr = 0, mg = 0, mb = 0, ma = 0, or = 0, og = 0, ob = 0;
    for (; index < l; index += 4) {
      r = data3[index] / 255;
      g = data3[index + 1] / 255;
      b = data3[index + 2] / 255;
      a = data3[index + 3] / 255;
      mr = r * m11 + g * m12 + b * m13 + a * m14 + m15;
      mg = r * m21 + g * m22 + b * m23 + a * m24 + m25;
      mb = r * m31 + g * m32 + b * m33 + a * m34 + m35;
      ma = r * m41 + g * m42 + b * m43 + a * m44 + m45;
      or = Math.max(0, mr * ma) + br * (1 - ma);
      og = Math.max(0, mg * ma) + bg * (1 - ma);
      ob = Math.max(0, mb * ma) + bb * (1 - ma);
      data3[index] = Math.max(0, Math.min(1, or)) * 255;
      data3[index + 1] = Math.max(0, Math.min(1, og)) * 255;
      data3[index + 2] = Math.max(0, Math.min(1, ob)) * 255;
    }
    return imageData;
  }
  function resize2(imageData, data3) {
    let { mode = "contain", upscale = false, width, height, matrix } = data3;
    matrix = !matrix || isIdentityMatrix(matrix) ? null : matrix;
    if (!width && !height) {
      return filter(imageData, matrix);
    }
    if (width === null) {
      width = height;
    } else if (height === null) {
      height = width;
    }
    if (mode !== "force") {
      let scalarWidth = width / imageData.width;
      let scalarHeight = height / imageData.height;
      let scalar = 1;
      if (mode === "cover") {
        scalar = Math.max(scalarWidth, scalarHeight);
      } else if (mode === "contain") {
        scalar = Math.min(scalarWidth, scalarHeight);
      }
      if (scalar > 1 && upscale === false) {
        return filter(imageData, matrix);
      }
      width = imageData.width * scalar;
      height = imageData.height * scalar;
    }
    const originWidth = imageData.width;
    const originHeight = imageData.height;
    const targetWidth = Math.round(width);
    const targetHeight = Math.round(height);
    const inputData = imageData.data;
    const outputData = new Uint8ClampedArray(targetWidth * targetHeight * 4);
    const ratioWidth = originWidth / targetWidth;
    const ratioHeight = originHeight / targetHeight;
    const ratioWidthHalf = Math.ceil(ratioWidth * 0.5);
    const ratioHeightHalf = Math.ceil(ratioHeight * 0.5);
    for (let j = 0; j < targetHeight; j++) {
      for (let i = 0; i < targetWidth; i++) {
        let x2 = (i + j * targetWidth) * 4;
        let weight = 0;
        let weights = 0;
        let weightsAlpha = 0;
        let r = 0;
        let g = 0;
        let b = 0;
        let a = 0;
        let centerY = (j + 0.5) * ratioHeight;
        for (let yy = Math.floor(j * ratioHeight); yy < (j + 1) * ratioHeight; yy++) {
          let dy = Math.abs(centerY - (yy + 0.5)) / ratioHeightHalf;
          let centerX = (i + 0.5) * ratioWidth;
          let w0 = dy * dy;
          for (let xx = Math.floor(i * ratioWidth); xx < (i + 1) * ratioWidth; xx++) {
            let dx = Math.abs(centerX - (xx + 0.5)) / ratioWidthHalf;
            let w = Math.sqrt(w0 + dx * dx);
            if (w >= -1 && w <= 1) {
              weight = 2 * w * w * w - 3 * w * w + 1;
              if (weight > 0) {
                dx = 4 * (xx + yy * originWidth);
                let ref = inputData[dx + 3];
                a += weight * ref;
                weightsAlpha += weight;
                if (ref < 255) {
                  weight = weight * ref / 250;
                }
                r += weight * inputData[dx];
                g += weight * inputData[dx + 1];
                b += weight * inputData[dx + 2];
                weights += weight;
              }
            }
          }
        }
        outputData[x2] = r / weights;
        outputData[x2 + 1] = g / weights;
        outputData[x2 + 2] = b / weights;
        outputData[x2 + 3] = a / weightsAlpha;
        matrix && applyFilterMatrix(x2, outputData, matrix);
      }
    }
    return {
      data: outputData,
      width: targetWidth,
      height: targetHeight
    };
  }
};
var correctOrientation = (view, offset) => {
  if (view.getUint32(offset + 4, false) !== 1165519206)
    return;
  offset += 4;
  const intelByteAligned = view.getUint16(offset += 6, false) === 18761;
  offset += view.getUint32(offset + 4, intelByteAligned);
  const tags = view.getUint16(offset, intelByteAligned);
  offset += 2;
  for (let i = 0; i < tags; i++) {
    if (view.getUint16(offset + i * 12, intelByteAligned) === 274) {
      view.setUint16(offset + i * 12 + 8, 1, intelByteAligned);
      return true;
    }
  }
  return false;
};
var readData = (data3) => {
  const view = new DataView(data3);
  if (view.getUint16(0) !== 65496)
    return null;
  let offset = 2;
  let marker;
  let markerLength;
  let orientationCorrected = false;
  while (offset < view.byteLength) {
    marker = view.getUint16(offset, false);
    markerLength = view.getUint16(offset + 2, false) + 2;
    const isData = marker >= 65504 && marker <= 65519 || marker === 65534;
    if (!isData) {
      break;
    }
    if (!orientationCorrected) {
      orientationCorrected = correctOrientation(view, offset, markerLength);
    }
    if (offset + markerLength > view.byteLength) {
      break;
    }
    offset += markerLength;
  }
  return data3.slice(0, offset);
};
var getImageHead = (file2) => new Promise((resolve) => {
  const reader = new FileReader();
  reader.onload = () => resolve(readData(reader.result) || null);
  reader.readAsArrayBuffer(file2.slice(0, 256 * 1024));
});
var getBlobBuilder2 = () => {
  return window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;
};
var createBlob2 = (arrayBuffer, mimeType) => {
  const BB = getBlobBuilder2();
  if (BB) {
    const bb = new BB();
    bb.append(arrayBuffer);
    return bb.getBlob(mimeType);
  }
  return new Blob([arrayBuffer], {
    type: mimeType
  });
};
var getUniqueId2 = () => Math.random().toString(36).substr(2, 9);
var createWorker2 = (fn2) => {
  const workerBlob = new Blob(["(", fn2.toString(), ")()"], { type: "application/javascript" });
  const workerURL = URL.createObjectURL(workerBlob);
  const worker = new Worker(workerURL);
  const trips = [];
  return {
    transfer: () => {
    },
    // (message, cb) => {}
    post: (message, cb, transferList) => {
      const id = getUniqueId2();
      trips[id] = cb;
      worker.onmessage = (e) => {
        const cb2 = trips[e.data.id];
        if (!cb2)
          return;
        cb2(e.data.message);
        delete trips[e.data.id];
      };
      worker.postMessage(
        {
          id,
          message
        },
        transferList
      );
    },
    terminate: () => {
      worker.terminate();
      URL.revokeObjectURL(workerURL);
    }
  };
};
var loadImage3 = (url) => new Promise((resolve, reject) => {
  const img = new Image();
  img.onload = () => {
    resolve(img);
  };
  img.onerror = (e) => {
    reject(e);
  };
  img.src = url;
});
var chain = (funcs) => funcs.reduce(
  (promise, func) => promise.then((result) => func().then(Array.prototype.concat.bind(result))),
  Promise.resolve([])
);
var canvasApplyMarkup = (canvas, markup) => new Promise((resolve) => {
  const size = {
    width: canvas.width,
    height: canvas.height
  };
  const ctx = canvas.getContext("2d");
  const drawers = markup.sort(sortMarkupByZIndex2).map(
    (item2) => () => new Promise((resolve2) => {
      const result = TYPE_DRAW_ROUTES[item2[0]](ctx, size, item2[1], resolve2);
      if (result)
        resolve2();
    })
  );
  chain(drawers).then(() => resolve(canvas));
});
var applyMarkupStyles = (ctx, styles2) => {
  ctx.beginPath();
  ctx.lineCap = styles2["stroke-linecap"];
  ctx.lineJoin = styles2["stroke-linejoin"];
  ctx.lineWidth = styles2["stroke-width"];
  if (styles2["stroke-dasharray"].length) {
    ctx.setLineDash(styles2["stroke-dasharray"].split(","));
  }
  ctx.fillStyle = styles2["fill"];
  ctx.strokeStyle = styles2["stroke"];
  ctx.globalAlpha = styles2.opacity || 1;
};
var drawMarkupStyles = (ctx) => {
  ctx.fill();
  ctx.stroke();
  ctx.globalAlpha = 1;
};
var drawRect = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  ctx.rect(rect.x, rect.y, rect.width, rect.height);
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawEllipse = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  const x = rect.x, y = rect.y, w = rect.width, h = rect.height, kappa = 0.5522848, ox = w / 2 * kappa, oy = h / 2 * kappa, xe = x + w, ye = y + h, xm = x + w / 2, ym = y + h / 2;
  ctx.moveTo(x, ym);
  ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
  ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
  ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
  ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawImage = (ctx, size, markup, done) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  const image = new Image();
  const isCrossOriginImage = new URL(markup.src, window.location.href).origin !== window.location.origin;
  if (isCrossOriginImage)
    image.crossOrigin = "";
  image.onload = () => {
    if (markup.fit === "cover") {
      const ar = rect.width / rect.height;
      const width = ar > 1 ? image.width : image.height * ar;
      const height = ar > 1 ? image.width / ar : image.height;
      const x = image.width * 0.5 - width * 0.5;
      const y = image.height * 0.5 - height * 0.5;
      ctx.drawImage(image, x, y, width, height, rect.x, rect.y, rect.width, rect.height);
    } else if (markup.fit === "contain") {
      const scalar = Math.min(rect.width / image.width, rect.height / image.height);
      const width = scalar * image.width;
      const height = scalar * image.height;
      const x = rect.x + rect.width * 0.5 - width * 0.5;
      const y = rect.y + rect.height * 0.5 - height * 0.5;
      ctx.drawImage(image, 0, 0, image.width, image.height, x, y, width, height);
    } else {
      ctx.drawImage(
        image,
        0,
        0,
        image.width,
        image.height,
        rect.x,
        rect.y,
        rect.width,
        rect.height
      );
    }
    drawMarkupStyles(ctx, styles2);
    done();
  };
  image.src = markup.src;
};
var drawText = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  const fontSize = getMarkupValue2(markup.fontSize, size);
  const fontFamily = markup.fontFamily || "sans-serif";
  const fontWeight = markup.fontWeight || "normal";
  const textAlign = markup.textAlign || "left";
  ctx.font = `${fontWeight} ${fontSize}px ${fontFamily}`;
  ctx.textAlign = textAlign;
  ctx.fillText(markup.text, rect.x, rect.y);
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawPath = (ctx, size, markup) => {
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  ctx.beginPath();
  const points = markup.points.map((point) => ({
    x: getMarkupValue2(point.x, size, 1, "width"),
    y: getMarkupValue2(point.y, size, 1, "height")
  }));
  ctx.moveTo(points[0].x, points[0].y);
  const l = points.length;
  for (let i = 1; i < l; i++) {
    ctx.lineTo(points[i].x, points[i].y);
  }
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawLine = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  ctx.beginPath();
  const origin = {
    x: rect.x,
    y: rect.y
  };
  const target = {
    x: rect.x + rect.width,
    y: rect.y + rect.height
  };
  ctx.moveTo(origin.x, origin.y);
  ctx.lineTo(target.x, target.y);
  const v = vectorNormalize2({
    x: target.x - origin.x,
    y: target.y - origin.y
  });
  const l = 0.04 * Math.min(size.width, size.height);
  if (markup.lineDecoration.indexOf("arrow-begin") !== -1) {
    const arrowBeginRotationPoint = vectorMultiply2(v, l);
    const arrowBeginCenter = vectorAdd2(origin, arrowBeginRotationPoint);
    const arrowBeginA = vectorRotate2(origin, 2, arrowBeginCenter);
    const arrowBeginB = vectorRotate2(origin, -2, arrowBeginCenter);
    ctx.moveTo(arrowBeginA.x, arrowBeginA.y);
    ctx.lineTo(origin.x, origin.y);
    ctx.lineTo(arrowBeginB.x, arrowBeginB.y);
  }
  if (markup.lineDecoration.indexOf("arrow-end") !== -1) {
    const arrowEndRotationPoint = vectorMultiply2(v, -l);
    const arrowEndCenter = vectorAdd2(target, arrowEndRotationPoint);
    const arrowEndA = vectorRotate2(target, 2, arrowEndCenter);
    const arrowEndB = vectorRotate2(target, -2, arrowEndCenter);
    ctx.moveTo(arrowEndA.x, arrowEndA.y);
    ctx.lineTo(target.x, target.y);
    ctx.lineTo(arrowEndB.x, arrowEndB.y);
  }
  drawMarkupStyles(ctx, styles2);
  return true;
};
var TYPE_DRAW_ROUTES = {
  rect: drawRect,
  ellipse: drawEllipse,
  image: drawImage,
  text: drawText,
  line: drawLine,
  path: drawPath
};
var imageDataToCanvas = (imageData) => {
  const image = document.createElement("canvas");
  image.width = imageData.width;
  image.height = imageData.height;
  const ctx = image.getContext("2d");
  ctx.putImageData(imageData, 0, 0);
  return image;
};
var transformImage = (file2, instructions, options = {}) => new Promise((resolve, reject) => {
  if (!file2 || !isImage$1(file2))
    return reject({ status: "not an image file", file: file2 });
  const { stripImageHead, beforeCreateBlob, afterCreateBlob, canvasMemoryLimit } = options;
  const { crop: crop2, size, filter, markup, output: output2 } = instructions;
  const orientation = instructions.image && instructions.image.orientation ? Math.max(1, Math.min(8, instructions.image.orientation)) : null;
  const qualityAsPercentage = output2 && output2.quality;
  const quality = qualityAsPercentage === null ? null : qualityAsPercentage / 100;
  const type = output2 && output2.type || null;
  const background = output2 && output2.background || null;
  const transforms2 = [];
  if (size && (typeof size.width === "number" || typeof size.height === "number")) {
    transforms2.push({ type: "resize", data: size });
  }
  if (filter && filter.length === 20) {
    transforms2.push({ type: "filter", data: filter });
  }
  const resolveWithBlob = (blob2) => {
    const promisedBlob = afterCreateBlob ? afterCreateBlob(blob2) : blob2;
    Promise.resolve(promisedBlob).then(resolve);
  };
  const toBlob = (imageData, options2) => {
    const canvas = imageDataToCanvas(imageData);
    const promisedCanvas = markup.length ? canvasApplyMarkup(canvas, markup) : canvas;
    Promise.resolve(promisedCanvas).then((canvas2) => {
      canvasToBlob(canvas2, options2, beforeCreateBlob).then((blob2) => {
        canvasRelease(canvas2);
        if (stripImageHead)
          return resolveWithBlob(blob2);
        getImageHead(file2).then((imageHead) => {
          if (imageHead !== null) {
            blob2 = new Blob([imageHead, blob2.slice(20)], { type: blob2.type });
          }
          resolveWithBlob(blob2);
        });
      }).catch(reject);
    });
  };
  if (/svg/.test(file2.type) && type === null) {
    return cropSVG(file2, crop2, markup, { background }).then((text2) => {
      resolve(createBlob2(text2, "image/svg+xml"));
    });
  }
  const url = URL.createObjectURL(file2);
  loadImage3(url).then((image) => {
    URL.revokeObjectURL(url);
    const imageData = imageToImageData(image, orientation, crop2, {
      canvasMemoryLimit,
      background
    });
    const outputFormat = {
      quality,
      type: type || file2.type
    };
    if (!transforms2.length) {
      return toBlob(imageData, outputFormat);
    }
    const worker = createWorker2(TransformWorker);
    worker.post(
      {
        transforms: transforms2,
        imageData
      },
      (response) => {
        toBlob(objectToImageData(response), outputFormat);
        worker.terminate();
      },
      [imageData.data.buffer]
    );
  }).catch(reject);
});
var MARKUP_RECT2 = ["x", "y", "left", "top", "right", "bottom", "width", "height"];
var toOptionalFraction2 = (value) => typeof value === "string" && /%/.test(value) ? parseFloat(value) / 100 : value;
var prepareMarkup2 = (markup) => {
  const [type, props] = markup;
  const rect = props.points ? {} : MARKUP_RECT2.reduce((prev, curr) => {
    prev[curr] = toOptionalFraction2(props[curr]);
    return prev;
  }, {});
  return [
    type,
    {
      zIndex: 0,
      ...props,
      ...rect
    }
  ];
};
var getImageSize3 = (file2) => new Promise((resolve, reject) => {
  const imageElement = new Image();
  imageElement.src = URL.createObjectURL(file2);
  const measure = () => {
    const width = imageElement.naturalWidth;
    const height = imageElement.naturalHeight;
    const hasSize = width && height;
    if (!hasSize)
      return;
    URL.revokeObjectURL(imageElement.src);
    clearInterval(intervalId);
    resolve({ width, height });
  };
  imageElement.onerror = (err) => {
    URL.revokeObjectURL(imageElement.src);
    clearInterval(intervalId);
    reject(err);
  };
  const intervalId = setInterval(measure, 1);
  measure();
});
if (typeof window !== "undefined" && typeof window.document !== "undefined") {
  if (!HTMLCanvasElement.prototype.toBlob) {
    Object.defineProperty(HTMLCanvasElement.prototype, "toBlob", {
      value: function(cb, type, quality) {
        const canvas = this;
        setTimeout(() => {
          const dataURL = canvas.toDataURL(type, quality).split(",")[1];
          const binStr = atob(dataURL);
          let index = binStr.length;
          const data3 = new Uint8Array(index);
          while (index--) {
            data3[index] = binStr.charCodeAt(index);
          }
          cb(new Blob([data3], { type: type || "image/png" }));
        });
      }
    });
  }
}
var isBrowser9 = typeof window !== "undefined" && typeof window.document !== "undefined";
var isIOS = isBrowser9 && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
var plugin8 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, forin: forin2, getFileFromBlob: getFileFromBlob2, isFile: isFile2 } = utils;
  const TRANSFORM_LIST = ["crop", "resize", "filter", "markup", "output"];
  const createVariantCreator = (updateMetadata) => (transform, file2, metadata) => transform(file2, updateMetadata ? updateMetadata(metadata) : metadata);
  const isDefaultCrop = (crop2) => crop2.aspectRatio === null && crop2.rotation === 0 && crop2.zoom === 1 && crop2.center && crop2.center.x === 0.5 && crop2.center.y === 0.5 && crop2.flip && crop2.flip.horizontal === false && crop2.flip.vertical === false;
  addFilter2(
    "SHOULD_PREPARE_OUTPUT",
    (shouldPrepareOutput, { query }) => new Promise((resolve) => {
      resolve(!query("IS_ASYNC"));
    })
  );
  const shouldTransformFile = (query, file2, item2) => new Promise((resolve) => {
    if (!query("GET_ALLOW_IMAGE_TRANSFORM") || item2.archived || !isFile2(file2) || !isImage3(file2)) {
      return resolve(false);
    }
    getImageSize3(file2).then(() => {
      const fn2 = query("GET_IMAGE_TRANSFORM_IMAGE_FILTER");
      if (fn2) {
        const filterResult = fn2(file2);
        if (filterResult == null) {
          return handleRevert(true);
        }
        if (typeof filterResult === "boolean") {
          return resolve(filterResult);
        }
        if (typeof filterResult.then === "function") {
          return filterResult.then(resolve);
        }
      }
      resolve(true);
    }).catch((err) => {
      resolve(false);
    });
  });
  addFilter2("DID_CREATE_ITEM", (item2, { query, dispatch }) => {
    if (!query("GET_ALLOW_IMAGE_TRANSFORM"))
      return;
    item2.extend(
      "requestPrepare",
      () => new Promise((resolve, reject) => {
        dispatch(
          "REQUEST_PREPARE_OUTPUT",
          {
            query: item2.id,
            item: item2,
            success: resolve,
            failure: reject
          },
          true
        );
      })
    );
  });
  addFilter2(
    "PREPARE_OUTPUT",
    (file2, { query, item: item2 }) => new Promise((resolve) => {
      shouldTransformFile(query, file2, item2).then((shouldTransform) => {
        if (!shouldTransform)
          return resolve(file2);
        const variants = [];
        if (query("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")) {
          variants.push(
            () => new Promise((resolve2) => {
              resolve2({
                name: query("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),
                file: file2
              });
            })
          );
        }
        if (query("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")) {
          variants.push(
            (transform2, file3, metadata) => new Promise((resolve2) => {
              transform2(file3, metadata).then(
                (file4) => resolve2({
                  name: query(
                    "GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"
                  ),
                  file: file4
                })
              );
            })
          );
        }
        const variantsDefinition = query("GET_IMAGE_TRANSFORM_VARIANTS") || {};
        forin2(variantsDefinition, (key, fn2) => {
          const createVariant = createVariantCreator(fn2);
          variants.push(
            (transform2, file3, metadata) => new Promise((resolve2) => {
              createVariant(transform2, file3, metadata).then(
                (file4) => resolve2({ name: key, file: file4 })
              );
            })
          );
        });
        const qualityAsPercentage = query("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY");
        const qualityMode = query("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE");
        const quality = qualityAsPercentage === null ? null : qualityAsPercentage / 100;
        const type = query("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE");
        const clientTransforms = query("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS") || TRANSFORM_LIST;
        item2.setMetadata(
          "output",
          {
            type,
            quality,
            client: clientTransforms
          },
          true
        );
        const transform = (file3, metadata) => new Promise((resolve2, reject) => {
          const filteredMetadata = { ...metadata };
          Object.keys(filteredMetadata).filter((instruction) => instruction !== "exif").forEach((instruction) => {
            if (clientTransforms.indexOf(instruction) === -1) {
              delete filteredMetadata[instruction];
            }
          });
          const { resize: resize2, exif, output: output2, crop: crop2, filter, markup } = filteredMetadata;
          const instructions = {
            image: {
              orientation: exif ? exif.orientation : null
            },
            output: output2 && (output2.type || typeof output2.quality === "number" || output2.background) ? {
              type: output2.type,
              quality: typeof output2.quality === "number" ? output2.quality * 100 : null,
              background: output2.background || query(
                "GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"
              ) || null
            } : void 0,
            size: resize2 && (resize2.size.width || resize2.size.height) ? {
              mode: resize2.mode,
              upscale: resize2.upscale,
              ...resize2.size
            } : void 0,
            crop: crop2 && !isDefaultCrop(crop2) ? {
              ...crop2
            } : void 0,
            markup: markup && markup.length ? markup.map(prepareMarkup2) : [],
            filter
          };
          if (instructions.output) {
            const willChangeType = output2.type ? (
              // type set
              output2.type !== file3.type
            ) : (
              // type not set
              false
            );
            const canChangeQuality = /\/jpe?g$/.test(file3.type);
            const willChangeQuality = output2.quality !== null ? (
              // quality set
              canChangeQuality && qualityMode === "always"
            ) : (
              // quality not set
              false
            );
            const willModifyImageData = !!(instructions.size || instructions.crop || instructions.filter || willChangeType || willChangeQuality);
            if (!willModifyImageData)
              return resolve2(file3);
          }
          const options = {
            beforeCreateBlob: query("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),
            afterCreateBlob: query("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),
            canvasMemoryLimit: query("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),
            stripImageHead: query(
              "GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD"
            )
          };
          transformImage(file3, instructions, options).then((blob2) => {
            const out = getFileFromBlob2(
              blob2,
              // rename the original filename to match the mime type of the output image
              renameFileToMatchMimeType(
                file3.name,
                getValidOutputMimeType(blob2.type)
              )
            );
            resolve2(out);
          }).catch(reject);
        });
        const variantPromises = variants.map(
          (create2) => create2(transform, file2, item2.getMetadata())
        );
        Promise.all(variantPromises).then((files) => {
          resolve(
            files.length === 1 && files[0].name === null ? (
              // return the File object
              files[0].file
            ) : (
              // return an array of files { name:'name', file:File }
              files
            )
          );
        });
      });
    })
  );
  return {
    options: {
      allowImageTransform: [true, Type2.BOOLEAN],
      // filter images to transform
      imageTransformImageFilter: [null, Type2.FUNCTION],
      // null, 'image/jpeg', 'image/png'
      imageTransformOutputMimeType: [null, Type2.STRING],
      // null, 0 - 100
      imageTransformOutputQuality: [null, Type2.INT],
      // set to false to copy image exif data to output
      imageTransformOutputStripImageHead: [true, Type2.BOOLEAN],
      // only apply transforms in this list
      imageTransformClientTransforms: [null, Type2.ARRAY],
      // only apply output quality when a transform is required
      imageTransformOutputQualityMode: ["always", Type2.STRING],
      // 'always'
      // 'optional'
      // 'mismatch' (future feature, only applied if quality differs from input)
      // get image transform variants
      imageTransformVariants: [null, Type2.OBJECT],
      // should we post the default transformed file
      imageTransformVariantsIncludeDefault: [true, Type2.BOOLEAN],
      // which name to prefix the default transformed file with
      imageTransformVariantsDefaultName: [null, Type2.STRING],
      // should we post the original file
      imageTransformVariantsIncludeOriginal: [false, Type2.BOOLEAN],
      // which name to prefix the original file with
      imageTransformVariantsOriginalName: ["original_", Type2.STRING],
      // called before creating the blob, receives canvas, expects promise resolve with canvas
      imageTransformBeforeCreateBlob: [null, Type2.FUNCTION],
      // expects promise resolved with blob
      imageTransformAfterCreateBlob: [null, Type2.FUNCTION],
      // canvas memory limit
      imageTransformCanvasMemoryLimit: [isBrowser9 && isIOS ? 4096 * 4096 : null, Type2.INT],
      // background image of the output canvas
      imageTransformCanvasBackgroundColor: [null, Type2.STRING]
    }
  };
};
if (isBrowser9) {
  document.dispatchEvent(new CustomEvent("FilePond:pluginloaded", { detail: plugin8 }));
}
var filepond_plugin_image_transform_esm_default = plugin8;

// node_modules/filepond-plugin-media-preview/dist/filepond-plugin-media-preview.esm.js
var isPreviewableVideo = (file2) => /^video/.test(file2.type);
var isPreviewableAudio = (file2) => /^audio/.test(file2.type);
var AudioPlayer = class {
  constructor(mediaEl, audioElems) {
    this.mediaEl = mediaEl;
    this.audioElems = audioElems;
    this.onplayhead = false;
    this.duration = 0;
    this.timelineWidth = this.audioElems.timeline.offsetWidth - this.audioElems.playhead.offsetWidth;
    this.moveplayheadFn = this.moveplayhead.bind(this);
    this.registerListeners();
  }
  registerListeners() {
    this.mediaEl.addEventListener(
      "timeupdate",
      this.timeUpdate.bind(this),
      false
    );
    this.mediaEl.addEventListener(
      "canplaythrough",
      () => this.duration = this.mediaEl.duration,
      false
    );
    this.audioElems.timeline.addEventListener(
      "click",
      this.timelineClicked.bind(this),
      false
    );
    this.audioElems.button.addEventListener("click", this.play.bind(this));
    this.audioElems.playhead.addEventListener(
      "mousedown",
      this.mouseDown.bind(this),
      false
    );
    window.addEventListener("mouseup", this.mouseUp.bind(this), false);
  }
  play() {
    if (this.mediaEl.paused) {
      this.mediaEl.play();
    } else {
      this.mediaEl.pause();
    }
    this.audioElems.button.classList.toggle("play");
    this.audioElems.button.classList.toggle("pause");
  }
  timeUpdate() {
    let playPercent = this.mediaEl.currentTime / this.duration * 100;
    this.audioElems.playhead.style.marginLeft = playPercent + "%";
    if (this.mediaEl.currentTime === this.duration) {
      this.audioElems.button.classList.toggle("play");
      this.audioElems.button.classList.toggle("pause");
    }
  }
  moveplayhead(event) {
    let newMargLeft = event.clientX - this.getPosition(this.audioElems.timeline);
    if (newMargLeft >= 0 && newMargLeft <= this.timelineWidth) {
      this.audioElems.playhead.style.marginLeft = newMargLeft + "px";
    }
    if (newMargLeft < 0) {
      this.audioElems.playhead.style.marginLeft = "0px";
    }
    if (newMargLeft > this.timelineWidth) {
      this.audioElems.playhead.style.marginLeft = this.timelineWidth - 4 + "px";
    }
  }
  timelineClicked(event) {
    this.moveplayhead(event);
    this.mediaEl.currentTime = this.duration * this.clickPercent(event);
  }
  mouseDown() {
    this.onplayhead = true;
    window.addEventListener("mousemove", this.moveplayheadFn, true);
    this.mediaEl.removeEventListener(
      "timeupdate",
      this.timeUpdate.bind(this),
      false
    );
  }
  mouseUp(event) {
    window.removeEventListener("mousemove", this.moveplayheadFn, true);
    if (this.onplayhead == true) {
      this.moveplayhead(event);
      this.mediaEl.currentTime = this.duration * this.clickPercent(event);
      this.mediaEl.addEventListener(
        "timeupdate",
        this.timeUpdate.bind(this),
        false
      );
    }
    this.onplayhead = false;
  }
  clickPercent(event) {
    return (event.clientX - this.getPosition(this.audioElems.timeline)) / this.timelineWidth;
  }
  getPosition(el) {
    return el.getBoundingClientRect().left;
  }
};
var createMediaView = (_) => _.utils.createView({
  name: "media-preview",
  tag: "div",
  ignoreRect: true,
  create: ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", { id: props.id });
    let tagName = isPreviewableAudio(item2.file) ? "audio" : "video";
    root2.ref.media = document.createElement(tagName);
    root2.ref.media.setAttribute("controls", true);
    root2.element.appendChild(root2.ref.media);
    if (isPreviewableAudio(item2.file)) {
      let docfrag = document.createDocumentFragment();
      root2.ref.audio = [];
      root2.ref.audio.container = document.createElement("div"), root2.ref.audio.button = document.createElement("span"), root2.ref.audio.timeline = document.createElement("div"), root2.ref.audio.playhead = document.createElement("div");
      root2.ref.audio.container.className = "audioplayer";
      root2.ref.audio.button.className = "playpausebtn play";
      root2.ref.audio.timeline.className = "timeline";
      root2.ref.audio.playhead.className = "playhead";
      root2.ref.audio.timeline.appendChild(root2.ref.audio.playhead);
      root2.ref.audio.container.appendChild(root2.ref.audio.button);
      root2.ref.audio.container.appendChild(root2.ref.audio.timeline);
      docfrag.appendChild(root2.ref.audio.container);
      root2.element.appendChild(docfrag);
    }
  },
  write: _.utils.createRoute({
    DID_MEDIA_PREVIEW_LOAD: ({ root: root2, props }) => {
      const { id } = props;
      const item2 = root2.query("GET_ITEM", { id: props.id });
      if (!item2)
        return;
      let URL2 = window.URL || window.webkitURL;
      let blob2 = new Blob([item2.file], { type: item2.file.type });
      root2.ref.media.type = item2.file.type;
      root2.ref.media.src = item2.file.mock && item2.file.url || URL2.createObjectURL(blob2);
      if (isPreviewableAudio(item2.file)) {
        new AudioPlayer(root2.ref.media, root2.ref.audio);
      }
      root2.ref.media.addEventListener(
        "loadeddata",
        () => {
          let height = 75;
          if (isPreviewableVideo(item2.file)) {
            let containerWidth = root2.ref.media.offsetWidth;
            let factor = root2.ref.media.videoWidth / containerWidth;
            height = root2.ref.media.videoHeight / factor;
          }
          root2.dispatch("DID_UPDATE_PANEL_HEIGHT", {
            id: props.id,
            height
          });
        },
        false
      );
    }
  })
});
var createMediaWrapperView = (_) => {
  const didCreatePreviewContainer = ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", id);
    if (!item2)
      return;
    root2.dispatch("DID_MEDIA_PREVIEW_LOAD", {
      id
    });
  };
  const create2 = ({ root: root2, props }) => {
    const media = createMediaView(_);
    root2.ref.media = root2.appendChildView(
      root2.createChildView(media, {
        id: props.id
      })
    );
  };
  return _.utils.createView({
    name: "media-preview-wrapper",
    create: create2,
    write: _.utils.createRoute({
      // media preview stated
      DID_MEDIA_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer
    })
  });
};
var plugin9 = (fpAPI) => {
  const { addFilter: addFilter2, utils } = fpAPI;
  const { Type: Type2, createRoute: createRoute2 } = utils;
  const mediaWrapperView = createMediaWrapperView(fpAPI);
  addFilter2("CREATE_VIEW", (viewAPI) => {
    const { is, view, query } = viewAPI;
    if (!is("file")) {
      return;
    }
    const didLoadItem2 = ({ root: root2, props }) => {
      const { id } = props;
      const item2 = query("GET_ITEM", id);
      const allowVideoPreview = query("GET_ALLOW_VIDEO_PREVIEW");
      const allowAudioPreview = query("GET_ALLOW_AUDIO_PREVIEW");
      if (!item2 || item2.archived || (!isPreviewableVideo(item2.file) || !allowVideoPreview) && (!isPreviewableAudio(item2.file) || !allowAudioPreview)) {
        return;
      }
      root2.ref.mediaPreview = view.appendChildView(
        view.createChildView(mediaWrapperView, { id })
      );
      root2.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE", { id });
    };
    view.registerWriter(
      createRoute2(
        {
          DID_LOAD_ITEM: didLoadItem2
        },
        ({ root: root2, props }) => {
          const { id } = props;
          const item2 = query("GET_ITEM", id);
          const allowVideoPreview = root2.query("GET_ALLOW_VIDEO_PREVIEW");
          const allowAudioPreview = root2.query("GET_ALLOW_AUDIO_PREVIEW");
          if (!item2 || (!isPreviewableVideo(item2.file) || !allowVideoPreview) && (!isPreviewableAudio(item2.file) || !allowAudioPreview) || root2.rect.element.hidden)
            return;
        }
      )
    );
  });
  return {
    options: {
      allowVideoPreview: [true, Type2.BOOLEAN],
      allowAudioPreview: [true, Type2.BOOLEAN]
    }
  };
};
var isBrowser10 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser10) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin9 })
  );
}

// node_modules/filepond/locale/ar-ar.js
var ar_ar_default = {
  labelIdle: '\u0627\u0633\u062D\u0628 \u0648 \u0627\u062F\u0631\u062C \u0645\u0644\u0641\u0627\u062A\u0643 \u0623\u0648 <span class="filepond--label-action"> \u062A\u0635\u0641\u062D </span>',
  labelInvalidField: "\u0627\u0644\u062D\u0642\u0644 \u064A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0645\u0644\u0641\u0627\u062A \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629",
  labelFileWaitingForSize: "\u0628\u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062D\u062C\u0645",
  labelFileSizeNotAvailable: "\u0627\u0644\u062D\u062C\u0645 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D",
  labelFileLoading: "\u0628\u0627\u0644\u0625\u0646\u062A\u0638\u0627\u0631",
  labelFileLoadError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644",
  labelFileProcessing: "\u064A\u062A\u0645 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingComplete: "\u062A\u0645 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingAborted: "\u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingRevertError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u0631\u0627\u062C\u0639",
  labelFileRemoveError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641",
  labelTapToCancel: "\u0627\u0646\u0642\u0631 \u0644\u0644\u0625\u0644\u063A\u0627\u0621",
  labelTapToRetry: "\u0627\u0646\u0642\u0631 \u0644\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629",
  labelTapToUndo: "\u0627\u0646\u0642\u0631 \u0644\u0644\u062A\u0631\u0627\u062C\u0639",
  labelButtonRemoveItem: "\u0645\u0633\u062D",
  labelButtonAbortItemLoad: "\u0625\u0644\u063A\u0627\u0621",
  labelButtonRetryItemLoad: "\u0625\u0639\u0627\u062F\u0629",
  labelButtonAbortItemProcessing: "\u0625\u0644\u063A\u0627\u0621",
  labelButtonUndoItemProcessing: "\u062A\u0631\u0627\u062C\u0639",
  labelButtonRetryItemProcessing: "\u0625\u0639\u0627\u062F\u0629",
  labelButtonProcessItem: "\u0631\u0641\u0639",
  labelMaxFileSizeExceeded: "\u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627",
  labelMaxFileSize: "\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0623\u0642\u0635\u0649: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u062D\u062C\u0645 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A",
  labelMaxTotalFileSize: "\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641: {filesize}",
  labelFileTypeNotAllowed: "\u0645\u0644\u0641 \u0645\u0646 \u0646\u0648\u0639 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D",
  fileValidateTypeLabelExpectedTypes: "\u062A\u062A\u0648\u0642\u0639 {allButLastType} \u0645\u0646 {lastType}",
  imageValidateSizeLabelFormatError: "\u0646\u0648\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645",
  imageValidateSizeLabelImageSizeTooSmall: "\u0627\u0644\u0635\u0648\u0631\u0629 \u0635\u063A\u064A\u0631 \u062C\u062F\u0627",
  imageValidateSizeLabelImageSizeTooBig: "\u0627\u0644\u0635\u0648\u0631\u0629 \u0643\u0628\u064A\u0631\u0629 \u062C\u062F\u0627",
  imageValidateSizeLabelExpectedMinSize: "\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0623\u0628\u0639\u0627\u062F \u0647\u0648: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0623\u0628\u0639\u0627\u062F \u0647\u0648: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0627\u0644\u062F\u0642\u0629 \u0636\u0639\u064A\u0641\u0629 \u062C\u062F\u0627",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0627\u0644\u062F\u0642\u0629 \u0645\u0631\u062A\u0641\u0639\u0629 \u062C\u062F\u0627",
  imageValidateSizeLabelExpectedMinResolution: "\u0623\u0642\u0644 \u062F\u0642\u0629: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u0623\u0642\u0635\u0649 \u062F\u0642\u0629: {maxResolution}"
};

// node_modules/filepond/locale/cs-cz.js
var cs_cz_default = {
  labelIdle: 'P\u0159et\xE1hn\u011Bte soubor sem (drag&drop) nebo <span class="filepond--label-action"> Vyhledat </span>',
  labelInvalidField: "Pole obsahuje chybn\xE9 soubory",
  labelFileWaitingForSize: "Zji\u0161\u0165uje se velikost",
  labelFileSizeNotAvailable: "Velikost nen\xED zn\xE1m\xE1",
  labelFileLoading: "P\u0159en\xE1\u0161\xED se",
  labelFileLoadError: "Chyba p\u0159i p\u0159enosu",
  labelFileProcessing: "Prob\xEDh\xE1 upload",
  labelFileProcessingComplete: "Upload dokon\u010Den",
  labelFileProcessingAborted: "Upload stornov\xE1n",
  labelFileProcessingError: "Chyba p\u0159i uploadu",
  labelFileProcessingRevertError: "Chyba p\u0159i obnov\u011B",
  labelFileRemoveError: "Chyba p\u0159i odstran\u011Bn\xED",
  labelTapToCancel: "klepn\u011Bte pro storno",
  labelTapToRetry: "klepn\u011Bte pro opakov\xE1n\xED",
  labelTapToUndo: "klepn\u011Bte pro vr\xE1cen\xED",
  labelButtonRemoveItem: "Odstranit",
  labelButtonAbortItemLoad: "Storno",
  labelButtonRetryItemLoad: "Opakovat",
  labelButtonAbortItemProcessing: "Zp\u011Bt",
  labelButtonUndoItemProcessing: "Vr\xE1tit",
  labelButtonRetryItemProcessing: "Opakovat",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Soubor je p\u0159\xEDli\u0161 velk\xFD",
  labelMaxFileSize: "Nejv\u011Bt\u0161\xED velikost souboru je {filesize}",
  labelMaxTotalFileSizeExceeded: "P\u0159ekro\u010Dena maxim\xE1ln\xED celkov\xE1 velikost souboru",
  labelMaxTotalFileSize: "Maxim\xE1ln\xED celkov\xE1 velikost souboru je {filesize}",
  labelFileTypeNotAllowed: "Soubor je nespr\xE1vn\xE9ho typu",
  fileValidateTypeLabelExpectedTypes: "O\u010Dek\xE1v\xE1 se {allButLastType} nebo {lastType}",
  imageValidateSizeLabelFormatError: "Obr\xE1zek tohoto typu nen\xED podporov\xE1n",
  imageValidateSizeLabelImageSizeTooSmall: "Obr\xE1zek je p\u0159\xEDli\u0161 mal\xFD",
  imageValidateSizeLabelImageSizeTooBig: "Obr\xE1zek je p\u0159\xEDli\u0161 velk\xFD",
  imageValidateSizeLabelExpectedMinSize: "Minim\xE1ln\xED rozm\u011Br je {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maxim\xE1ln\xED rozm\u011Br je {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Rozli\u0161en\xED je p\u0159\xEDli\u0161 mal\xE9",
  imageValidateSizeLabelImageResolutionTooHigh: "Rozli\u0161en\xED je p\u0159\xEDli\u0161 velk\xE9",
  imageValidateSizeLabelExpectedMinResolution: "Minim\xE1ln\xED rozli\u0161en\xED je {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maxim\xE1ln\xED rozli\u0161en\xED je {maxResolution}"
};

// node_modules/filepond/locale/da-dk.js
var da_dk_default = {
  labelIdle: 'Tr\xE6k & slip filer eller <span class = "filepond - label-action"> Gennemse </span>',
  labelInvalidField: "Felt indeholder ugyldige filer",
  labelFileWaitingForSize: "Venter p\xE5 st\xF8rrelse",
  labelFileSizeNotAvailable: "St\xF8rrelse ikke tilg\xE6ngelig",
  labelFileLoading: "Loader",
  labelFileLoadError: "Load fejlede",
  labelFileProcessing: "Uploader",
  labelFileProcessingComplete: "Upload f\xE6rdig",
  labelFileProcessingAborted: "Upload annulleret",
  labelFileProcessingError: "Upload fejlede",
  labelFileProcessingRevertError: "Fortryd fejlede",
  labelFileRemoveError: "Fjern fejlede",
  labelTapToCancel: "tryk for at annullere",
  labelTapToRetry: "tryk for at pr\xF8ve igen",
  labelTapToUndo: "tryk for at fortryde",
  labelButtonRemoveItem: "Fjern",
  labelButtonAbortItemLoad: "Annuller",
  labelButtonRetryItemLoad: "Fors\xF8g igen",
  labelButtonAbortItemProcessing: "Annuller",
  labelButtonUndoItemProcessing: "Fortryd",
  labelButtonRetryItemProcessing: "Pr\xF8v igen",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Filen er for stor",
  labelMaxFileSize: "Maksimal filst\xF8rrelse er {filesize}",
  labelMaxTotalFileSizeExceeded: "Maksimal totalst\xF8rrelse overskredet",
  labelMaxTotalFileSize: "Maksimal total filst\xF8rrelse er {filesize}",
  labelFileTypeNotAllowed: "Ugyldig filtype",
  fileValidateTypeLabelExpectedTypes: "Forventer {allButLastType} eller {lastType}",
  imageValidateSizeLabelFormatError: "Ugyldigt format",
  imageValidateSizeLabelImageSizeTooSmall: "Billedet er for lille",
  imageValidateSizeLabelImageSizeTooBig: "Billedet er for stort",
  imageValidateSizeLabelExpectedMinSize: "Minimum st\xF8rrelse er {minBredde} \xD7 {minH\xF8jde}",
  imageValidateSizeLabelExpectedMaxSize: "Maksimal st\xF8rrelse er {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "For lav opl\xF8sning",
  imageValidateSizeLabelImageResolutionTooHigh: "For h\xF8j opl\xF8sning",
  imageValidateSizeLabelExpectedMinResolution: "Minimum opl\xF8sning er {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maksimal opl\xF8sning er {maxResolution}"
};

// node_modules/filepond/locale/de-de.js
var de_de_default = {
  labelIdle: 'Dateien ablegen oder <span class="filepond--label-action"> ausw\xE4hlen </span>',
  labelInvalidField: "Feld beinhaltet ung\xFCltige Dateien",
  labelFileWaitingForSize: "Dateigr\xF6\xDFe berechnen",
  labelFileSizeNotAvailable: "Dateigr\xF6\xDFe nicht verf\xFCgbar",
  labelFileLoading: "Laden",
  labelFileLoadError: "Fehler beim Laden",
  labelFileProcessing: "Upload l\xE4uft",
  labelFileProcessingComplete: "Upload abgeschlossen",
  labelFileProcessingAborted: "Upload abgebrochen",
  labelFileProcessingError: "Fehler beim Upload",
  labelFileProcessingRevertError: "Fehler beim Wiederherstellen",
  labelFileRemoveError: "Fehler beim L\xF6schen",
  labelTapToCancel: "abbrechen",
  labelTapToRetry: "erneut versuchen",
  labelTapToUndo: "r\xFCckg\xE4ngig",
  labelButtonRemoveItem: "Entfernen",
  labelButtonAbortItemLoad: "Verwerfen",
  labelButtonRetryItemLoad: "Erneut versuchen",
  labelButtonAbortItemProcessing: "Abbrechen",
  labelButtonUndoItemProcessing: "R\xFCckg\xE4ngig",
  labelButtonRetryItemProcessing: "Erneut versuchen",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Datei ist zu gro\xDF",
  labelMaxFileSize: "Maximale Dateigr\xF6\xDFe: {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximale gesamte Dateigr\xF6\xDFe \xFCberschritten",
  labelMaxTotalFileSize: "Maximale gesamte Dateigr\xF6\xDFe: {filesize}",
  labelFileTypeNotAllowed: "Dateityp ung\xFCltig",
  fileValidateTypeLabelExpectedTypes: "Erwartet {allButLastType} oder {lastType}",
  imageValidateSizeLabelFormatError: "Bildtyp nicht unterst\xFCtzt",
  imageValidateSizeLabelImageSizeTooSmall: "Bild ist zu klein",
  imageValidateSizeLabelImageSizeTooBig: "Bild ist zu gro\xDF",
  imageValidateSizeLabelExpectedMinSize: "Mindestgr\xF6\xDFe: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximale Gr\xF6\xDFe: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Aufl\xF6sung ist zu niedrig",
  imageValidateSizeLabelImageResolutionTooHigh: "Aufl\xF6sung ist zu hoch",
  imageValidateSizeLabelExpectedMinResolution: "Mindestaufl\xF6sung: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximale Aufl\xF6sung: {maxResolution}"
};

// node_modules/filepond/locale/en-en.js
var en_en_default = {
  labelIdle: 'Drag & Drop your files or <span class="filepond--label-action"> Browse </span>',
  labelInvalidField: "Field contains invalid files",
  labelFileWaitingForSize: "Waiting for size",
  labelFileSizeNotAvailable: "Size not available",
  labelFileLoading: "Loading",
  labelFileLoadError: "Error during load",
  labelFileProcessing: "Uploading",
  labelFileProcessingComplete: "Upload complete",
  labelFileProcessingAborted: "Upload cancelled",
  labelFileProcessingError: "Error during upload",
  labelFileProcessingRevertError: "Error during revert",
  labelFileRemoveError: "Error during remove",
  labelTapToCancel: "tap to cancel",
  labelTapToRetry: "tap to retry",
  labelTapToUndo: "tap to undo",
  labelButtonRemoveItem: "Remove",
  labelButtonAbortItemLoad: "Abort",
  labelButtonRetryItemLoad: "Retry",
  labelButtonAbortItemProcessing: "Cancel",
  labelButtonUndoItemProcessing: "Undo",
  labelButtonRetryItemProcessing: "Retry",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "File is too large",
  labelMaxFileSize: "Maximum file size is {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximum total size exceeded",
  labelMaxTotalFileSize: "Maximum total file size is {filesize}",
  labelFileTypeNotAllowed: "File of invalid type",
  fileValidateTypeLabelExpectedTypes: "Expects {allButLastType} or {lastType}",
  imageValidateSizeLabelFormatError: "Image type not supported",
  imageValidateSizeLabelImageSizeTooSmall: "Image is too small",
  imageValidateSizeLabelImageSizeTooBig: "Image is too big",
  imageValidateSizeLabelExpectedMinSize: "Minimum size is {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximum size is {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolution is too low",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolution is too high",
  imageValidateSizeLabelExpectedMinResolution: "Minimum resolution is {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximum resolution is {maxResolution}"
};

// node_modules/filepond/locale/es-es.js
var es_es_default = {
  labelIdle: 'Arrastra y suelta tus archivos o <span class = "filepond--label-action"> Examinar <span>',
  labelInvalidField: "El campo contiene archivos inv\xE1lidos",
  labelFileWaitingForSize: "Esperando tama\xF1o",
  labelFileSizeNotAvailable: "Tama\xF1o no disponible",
  labelFileLoading: "Cargando",
  labelFileLoadError: "Error durante la carga",
  labelFileProcessing: "Cargando",
  labelFileProcessingComplete: "Carga completa",
  labelFileProcessingAborted: "Carga cancelada",
  labelFileProcessingError: "Error durante la carga",
  labelFileProcessingRevertError: "Error durante la reversi\xF3n",
  labelFileRemoveError: "Error durante la eliminaci\xF3n",
  labelTapToCancel: "toca para cancelar",
  labelTapToRetry: "tocar para volver a intentar",
  labelTapToUndo: "tocar para deshacer",
  labelButtonRemoveItem: "Eliminar",
  labelButtonAbortItemLoad: "Abortar",
  labelButtonRetryItemLoad: "Reintentar",
  labelButtonAbortItemProcessing: "Cancelar",
  labelButtonUndoItemProcessing: "Deshacer",
  labelButtonRetryItemProcessing: "Reintentar",
  labelButtonProcessItem: "Cargar",
  labelMaxFileSizeExceeded: "El archivo es demasiado grande",
  labelMaxFileSize: "El tama\xF1o m\xE1ximo del archivo es {filesize}",
  labelMaxTotalFileSizeExceeded: "Tama\xF1o total m\xE1ximo excedido",
  labelMaxTotalFileSize: "El tama\xF1o total m\xE1ximo del archivo es {filesize}",
  labelFileTypeNotAllowed: "Archivo de tipo no v\xE1lido",
  fileValidateTypeLabelExpectedTypes: "Espera {allButLastType} o {lastType}",
  imageValidateSizeLabelFormatError: "Tipo de imagen no compatible",
  imageValidateSizeLabelImageSizeTooSmall: "La imagen es demasiado peque\xF1a",
  imageValidateSizeLabelImageSizeTooBig: "La imagen es demasiado grande",
  imageValidateSizeLabelExpectedMinSize: "El tama\xF1o m\xEDnimo es {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "El tama\xF1o m\xE1ximo es {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "La resoluci\xF3n es demasiado baja",
  imageValidateSizeLabelImageResolutionTooHigh: "La resoluci\xF3n es demasiado alta",
  imageValidateSizeLabelExpectedMinResolution: "La resoluci\xF3n m\xEDnima es {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "La resoluci\xF3n m\xE1xima es {maxResolution}"
};

// node_modules/filepond/locale/fa_ir.js
var fa_ir_default = {
  labelIdle: '\u0641\u0627\u06CC\u0644 \u0631\u0627 \u0627\u06CC\u0646\u062C\u0627 \u0628\u06A9\u0634\u06CC\u062F \u0648 \u0631\u0647\u0627 \u06A9\u0646\u06CC\u062F\u060C \u06CC\u0627 <span class="filepond--label-action"> \u062C\u0633\u062A\u062C\u0648 \u06A9\u0646\u06CC\u062F </span>',
  labelInvalidField: "\u0641\u06CC\u0644\u062F \u062F\u0627\u0631\u0627\u06CC \u0641\u0627\u06CC\u0644 \u0647\u0627\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A",
  labelFileWaitingForSize: "Waiting for size",
  labelFileSizeNotAvailable: "\u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 \u0645\u062C\u0627\u0632 \u0646\u06CC\u0633\u062A",
  labelFileLoading: "\u062F\u0631\u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelFileLoadError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u0627\u062C\u0631\u0627",
  labelFileProcessing: "\u062F\u0631\u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelFileProcessingComplete: "\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u06A9\u0627\u0645\u0644 \u0634\u062F",
  labelFileProcessingAborted: "\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0644\u063A\u0648 \u0634\u062F",
  labelFileProcessingError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelFileProcessingRevertError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u062D\u0630\u0641",
  labelFileRemoveError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u062D\u0630\u0641",
  labelTapToCancel: "\u0628\u0631\u0627\u06CC \u0644\u063A\u0648 \u0636\u0631\u0628\u0647 \u0628\u0632\u0646\u06CC\u062F",
  labelTapToRetry: "\u0628\u0631\u0627\u06CC \u062A\u06A9\u0631\u0627\u0631 \u06A9\u0644\u06CC\u06A9 \u06A9\u0646\u06CC\u062F",
  labelTapToUndo: "\u0628\u0631\u0627\u06CC \u0628\u0631\u06AF\u0634\u062A \u06A9\u0644\u06CC\u06A9 \u06A9\u0646\u06CC\u062F",
  labelButtonRemoveItem: "\u062D\u0630\u0641",
  labelButtonAbortItemLoad: "\u0644\u063A\u0648",
  labelButtonRetryItemLoad: "\u062A\u06A9\u0631\u0627\u0631",
  labelButtonAbortItemProcessing: "\u0644\u063A\u0648",
  labelButtonUndoItemProcessing: "\u0628\u0631\u06AF\u0634\u062A",
  labelButtonRetryItemProcessing: "\u062A\u06A9\u0631\u0627\u0631",
  labelButtonProcessItem: "\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelMaxFileSizeExceeded: "\u0641\u0627\u06CC\u0644 \u0628\u0633\u06CC\u0627\u0631 \u062D\u062C\u06CC\u0645 \u0627\u0633\u062A",
  labelMaxFileSize: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u0645\u062C\u0627\u0632 \u0641\u0627\u06CC\u0644 {filesize} \u0627\u0633\u062A",
  labelMaxTotalFileSizeExceeded: "\u0627\u0632 \u062D\u062F\u0627\u06A9\u062B\u0631 \u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 \u0628\u06CC\u0634\u062A\u0631 \u0634\u062F",
  labelMaxTotalFileSize: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 {filesize} \u0627\u0633\u062A",
  labelFileTypeNotAllowed: "\u0646\u0648\u0639 \u0641\u0627\u06CC\u0644 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A",
  fileValidateTypeLabelExpectedTypes: "\u062F\u0631 \u0627\u0646\u062A\u0638\u0627\u0631 {allButLastType} \u06CC\u0627 {lastType}",
  imageValidateSizeLabelFormatError: "\u0641\u0631\u0645\u062A \u062A\u0635\u0648\u06CC\u0631 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0646\u0645\u06CC \u0634\u0648\u062F",
  imageValidateSizeLabelImageSizeTooSmall: "\u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u06A9\u0648\u0686\u06A9 \u0627\u0633\u062A",
  imageValidateSizeLabelImageSizeTooBig: "\u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u0628\u0632\u0631\u06AF \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMinSize: "\u062D\u062F\u0627\u0642\u0644 \u0627\u0646\u062F\u0627\u0632\u0647 {minWidth} \xD7 {minHeight} \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMaxSize: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u0627\u0646\u062F\u0627\u0632\u0647 {maxWidth} \xD7 {maxHeight} \u0627\u0633\u062A",
  imageValidateSizeLabelImageResolutionTooLow: "\u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u06A9\u0645 \u0627\u0633\u062A",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0648\u0636\u0648\u0639 \u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u0632\u06CC\u0627\u062F \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMinResolution: "\u062D\u062F\u0627\u0642\u0644 \u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 {minResolution} \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMaxResolution: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 {maxResolution} \u0627\u0633\u062A"
};

// node_modules/filepond/locale/fi-fi.js
var fi_fi_default = {
  labelIdle: 'Ved\xE4 ja pudota tiedostoja tai <span class="filepond--label-action"> Selaa </span>',
  labelInvalidField: "Kent\xE4ss\xE4 on virheellisi\xE4 tiedostoja",
  labelFileWaitingForSize: "Odotetaan kokoa",
  labelFileSizeNotAvailable: "Kokoa ei saatavilla",
  labelFileLoading: "Ladataan",
  labelFileLoadError: "Virhe latauksessa",
  labelFileProcessing: "L\xE4hetet\xE4\xE4n",
  labelFileProcessingComplete: "L\xE4hetys valmis",
  labelFileProcessingAborted: "L\xE4hetys peruttu",
  labelFileProcessingError: "Virhe l\xE4hetyksess\xE4",
  labelFileProcessingRevertError: "Virhe palautuksessa",
  labelFileRemoveError: "Virhe poistamisessa",
  labelTapToCancel: "peruuta napauttamalla",
  labelTapToRetry: "yrit\xE4 uudelleen napauttamalla",
  labelTapToUndo: "kumoa napauttamalla",
  labelButtonRemoveItem: "Poista",
  labelButtonAbortItemLoad: "Keskeyt\xE4",
  labelButtonRetryItemLoad: "Yrit\xE4 uudelleen",
  labelButtonAbortItemProcessing: "Peruuta",
  labelButtonUndoItemProcessing: "Kumoa",
  labelButtonRetryItemProcessing: "Yrit\xE4 uudelleen",
  labelButtonProcessItem: "L\xE4het\xE4",
  labelMaxFileSizeExceeded: "Tiedoston koko on liian suuri",
  labelMaxFileSize: "Tiedoston maksimikoko on {filesize}",
  labelMaxTotalFileSizeExceeded: "Tiedostojen yhdistetty maksimikoko ylitetty",
  labelMaxTotalFileSize: "Tiedostojen yhdistetty maksimikoko on {filesize}",
  labelFileTypeNotAllowed: "Tiedostotyyppi\xE4 ei sallita",
  fileValidateTypeLabelExpectedTypes: "Sallitaan {allButLastType} tai {lastType}",
  imageValidateSizeLabelFormatError: "Kuvatyyppi\xE4 ei tueta",
  imageValidateSizeLabelImageSizeTooSmall: "Kuva on liian pieni",
  imageValidateSizeLabelImageSizeTooBig: "Kuva on liian suuri",
  imageValidateSizeLabelExpectedMinSize: "Minimikoko on {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maksimikoko on {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resoluutio on liian pieni",
  imageValidateSizeLabelImageResolutionTooHigh: "Resoluutio on liian suuri",
  imageValidateSizeLabelExpectedMinResolution: "Minimiresoluutio on {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maksimiresoluutio on {maxResolution}"
};

// node_modules/filepond/locale/fr-fr.js
var fr_fr_default = {
  labelIdle: 'Faites glisser vos fichiers ou <span class = "filepond--label-action"> Parcourir <span>',
  labelInvalidField: "Le champ contient des fichiers invalides",
  labelFileWaitingForSize: "En attente de taille",
  labelFileSizeNotAvailable: "Taille non disponible",
  labelFileLoading: "Chargement",
  labelFileLoadError: "Erreur durant le chargement",
  labelFileProcessing: "Traitement",
  labelFileProcessingComplete: "Traitement effectu\xE9",
  labelFileProcessingAborted: "Traitement interrompu",
  labelFileProcessingError: "Erreur durant le traitement",
  labelFileProcessingRevertError: "Erreur durant la restauration",
  labelFileRemoveError: "Erreur durant la suppression",
  labelTapToCancel: "appuyer pour annuler",
  labelTapToRetry: "appuyer pour r\xE9essayer",
  labelTapToUndo: "appuyer pour revenir en arri\xE8re",
  labelButtonRemoveItem: "Retirer",
  labelButtonAbortItemLoad: "Annuler",
  labelButtonRetryItemLoad: "Recommencer",
  labelButtonAbortItemProcessing: "Annuler",
  labelButtonUndoItemProcessing: "Revenir en arri\xE8re",
  labelButtonRetryItemProcessing: "Recommencer",
  labelButtonProcessItem: "Transf\xE9rer",
  labelMaxFileSizeExceeded: "Le fichier est trop volumineux",
  labelMaxFileSize: "La taille maximale de fichier est {filesize}",
  labelMaxTotalFileSizeExceeded: "Taille totale maximale d\xE9pass\xE9e",
  labelMaxTotalFileSize: "La taille totale maximale des fichiers est {filesize}",
  labelFileTypeNotAllowed: "Fichier non valide",
  fileValidateTypeLabelExpectedTypes: "Attendu {allButLastType} ou {lastType}",
  imageValidateSizeLabelFormatError: "Type d'image non pris en charge",
  imageValidateSizeLabelImageSizeTooSmall: "L'image est trop petite",
  imageValidateSizeLabelImageSizeTooBig: "L'image est trop grande",
  imageValidateSizeLabelExpectedMinSize: "La taille minimale est {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "La taille maximale est {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "La r\xE9solution est trop faible",
  imageValidateSizeLabelImageResolutionTooHigh: "La r\xE9solution est trop \xE9lev\xE9e",
  imageValidateSizeLabelExpectedMinResolution: "La r\xE9solution minimale est {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "La r\xE9solution maximale est {maxResolution}"
};

// node_modules/filepond/locale/hu-hu.js
var hu_hu_default = {
  labelIdle: 'Mozgasd ide a f\xE1jlt a felt\xF6lt\xE9shez, vagy <span class="filepond--label-action"> tall\xF3z\xE1s </span>',
  labelInvalidField: "A mez\u0151 \xE9rv\xE9nytelen f\xE1jlokat tartalmaz",
  labelFileWaitingForSize: "F\xE1ljm\xE9ret kisz\xE1mol\xE1sa",
  labelFileSizeNotAvailable: "A f\xE1jlm\xE9ret nem el\xE9rhet\u0151",
  labelFileLoading: "T\xF6lt\xE9s",
  labelFileLoadError: "Hiba a bet\xF6lt\xE9s sor\xE1n",
  labelFileProcessing: "Felt\xF6lt\xE9s",
  labelFileProcessingComplete: "Sikeres felt\xF6lt\xE9s",
  labelFileProcessingAborted: "A felt\xF6lt\xE9s megszak\xEDtva",
  labelFileProcessingError: "Hiba t\xF6rt\xE9nt a felt\xF6lt\xE9s sor\xE1n",
  labelFileProcessingRevertError: "Hiba a vissza\xE1ll\xEDt\xE1s sor\xE1n",
  labelFileRemoveError: "Hiba t\xF6rt\xE9nt az elt\xE1vol\xEDt\xE1s sor\xE1n",
  labelTapToCancel: "koppints a t\xF6rl\xE9shez",
  labelTapToRetry: "koppints az \xFAjrakezd\xE9shez",
  labelTapToUndo: "koppints a visszavon\xE1shoz",
  labelButtonRemoveItem: "Elt\xE1vol\xEDt\xE1s",
  labelButtonAbortItemLoad: "Megszak\xEDt\xE1s",
  labelButtonRetryItemLoad: "\xDAjrapr\xF3b\xE1lkoz\xE1s",
  labelButtonAbortItemProcessing: "Megszak\xEDt\xE1s",
  labelButtonUndoItemProcessing: "Visszavon\xE1s",
  labelButtonRetryItemProcessing: "\xDAjrapr\xF3b\xE1lkoz\xE1s",
  labelButtonProcessItem: "Felt\xF6lt\xE9s",
  labelMaxFileSizeExceeded: "A f\xE1jl t\xFAll\xE9pte a maxim\xE1lis m\xE9retet",
  labelMaxFileSize: "Maxim\xE1lis f\xE1jlm\xE9ret: {filesize}",
  labelMaxTotalFileSizeExceeded: "T\xFAll\xE9pte a maxim\xE1lis teljes m\xE9retet",
  labelMaxTotalFileSize: "A maxim\xE1is teljes f\xE1jlm\xE9ret: {filesize}",
  labelFileTypeNotAllowed: "\xC9rv\xE9nytelen t\xEDpus\xFA f\xE1jl",
  fileValidateTypeLabelExpectedTypes: "Enged\xE9lyezett t\xEDpusok {allButLastType} vagy {lastType}",
  imageValidateSizeLabelFormatError: "A k\xE9pt\xEDpus nem t\xE1mogatott",
  imageValidateSizeLabelImageSizeTooSmall: "A k\xE9p t\xFAl kicsi",
  imageValidateSizeLabelImageSizeTooBig: "A k\xE9p t\xFAl nagy",
  imageValidateSizeLabelExpectedMinSize: "Minimum m\xE9ret: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximum m\xE9ret: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "A felbont\xE1s t\xFAl alacsony",
  imageValidateSizeLabelImageResolutionTooHigh: "A felbont\xE1s t\xFAl magas",
  imageValidateSizeLabelExpectedMinResolution: "Minim\xE1is felbont\xE1s: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maxim\xE1lis felbont\xE1s: {maxResolution}"
};

// node_modules/filepond/locale/id-id.js
var id_id_default = {
  labelIdle: 'Seret dan Jatuhkan file Anda atau <span class="filepond--label-action">Jelajahi</span>',
  labelInvalidField: "Field berisi file tidak valid",
  labelFileWaitingForSize: "Menunggu ukuran",
  labelFileSizeNotAvailable: "Ukuran tidak tersedia",
  labelFileLoading: "Memuat",
  labelFileLoadError: "Kesalahan saat memuat",
  labelFileProcessing: "Mengunggah",
  labelFileProcessingComplete: "Unggahan selesai",
  labelFileProcessingAborted: "Unggahan dibatalkan",
  labelFileProcessingError: "Kesalahan saat mengunggah",
  labelFileProcessingRevertError: "Kesalahan saat pengembalian",
  labelFileRemoveError: "Kesalahan saat menghapus",
  labelTapToCancel: "ketuk untuk membatalkan",
  labelTapToRetry: "ketuk untuk mencoba lagi",
  labelTapToUndo: "ketuk untuk mengurungkan",
  labelButtonRemoveItem: "Hapus",
  labelButtonAbortItemLoad: "Batal",
  labelButtonRetryItemLoad: "Coba Kembali",
  labelButtonAbortItemProcessing: "Batal",
  labelButtonUndoItemProcessing: "Batal",
  labelButtonRetryItemProcessing: "Coba Kembali",
  labelButtonProcessItem: "Unggah",
  labelMaxFileSizeExceeded: "File terlalu besar",
  labelMaxFileSize: "Ukuran file maksimum adalah {filesize}",
  labelMaxTotalFileSizeExceeded: "Jumlah file maksimum terlampaui",
  labelMaxTotalFileSize: "Jumlah file maksimum adalah {filesize}",
  labelFileTypeNotAllowed: "Jenis file tidak valid",
  fileValidateTypeLabelExpectedTypes: "Mengharapkan {allButLastType} atau {lastType}",
  imageValidateSizeLabelFormatError: "Jenis gambar tidak didukung",
  imageValidateSizeLabelImageSizeTooSmall: "Gambar terlalu kecil",
  imageValidateSizeLabelImageSizeTooBig: "Gambar terlalu besar",
  imageValidateSizeLabelExpectedMinSize: "Ukuran minimum adalah {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Ukuran maksimum adalah {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolusi terlalu rendah",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolusi terlalu tinggi",
  imageValidateSizeLabelExpectedMinResolution: "Resolusi minimum adalah {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Resolusi maksimum adalah {maxResolution}"
};

// node_modules/filepond/locale/it-it.js
var it_it_default = {
  labelIdle: 'Trascina e rilascia i tuoi file oppure <span class = "filepond--label-action"> Carica <span>',
  labelInvalidField: "Il campo contiene dei file non validi",
  labelFileWaitingForSize: "Aspettando le dimensioni",
  labelFileSizeNotAvailable: "Dimensioni non disponibili",
  labelFileLoading: "Caricamento",
  labelFileLoadError: "Errore durante il caricamento",
  labelFileProcessing: "Caricamento",
  labelFileProcessingComplete: "Caricamento completato",
  labelFileProcessingAborted: "Caricamento cancellato",
  labelFileProcessingError: "Errore durante il caricamento",
  labelFileProcessingRevertError: "Errore durante il ripristino",
  labelFileRemoveError: "Errore durante l'eliminazione",
  labelTapToCancel: "tocca per cancellare",
  labelTapToRetry: "tocca per riprovare",
  labelTapToUndo: "tocca per ripristinare",
  labelButtonRemoveItem: "Elimina",
  labelButtonAbortItemLoad: "Cancella",
  labelButtonRetryItemLoad: "Ritenta",
  labelButtonAbortItemProcessing: "Camcella",
  labelButtonUndoItemProcessing: "Indietro",
  labelButtonRetryItemProcessing: "Ritenta",
  labelButtonProcessItem: "Carica",
  labelMaxFileSizeExceeded: "Il peso del file \xE8 eccessivo",
  labelMaxFileSize: "Il peso massimo del file \xE8 {filesize}",
  labelMaxTotalFileSizeExceeded: "Dimensione totale massima superata",
  labelMaxTotalFileSize: "La dimensione massima totale del file \xE8 {filesize}",
  labelFileTypeNotAllowed: "File non supportato",
  fileValidateTypeLabelExpectedTypes: "Aspetta {allButLastType} o {lastType}",
  imageValidateSizeLabelFormatError: "Tipo di immagine non compatibile",
  imageValidateSizeLabelImageSizeTooSmall: "L'immagine \xE8 troppo piccola",
  imageValidateSizeLabelImageSizeTooBig: "L'immagine \xE8 troppo grande",
  imageValidateSizeLabelExpectedMinSize: "La dimensione minima \xE8 {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "La dimensione massima \xE8 {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "La risoluzione \xE8 troppo bassa",
  imageValidateSizeLabelImageResolutionTooHigh: "La risoluzione \xE8 troppo alta",
  imageValidateSizeLabelExpectedMinResolution: "La risoluzione minima \xE8 {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "La risoluzione massima \xE8 {maxResolution}"
};

// node_modules/filepond/locale/nl-nl.js
var nl_nl_default = {
  labelIdle: 'Drag & Drop je bestanden of <span class="filepond--label-action"> Bladeren </span>',
  labelInvalidField: "Veld bevat ongeldige bestanden",
  labelFileWaitingForSize: "Wachten op grootte",
  labelFileSizeNotAvailable: "Grootte niet beschikbaar",
  labelFileLoading: "Laden",
  labelFileLoadError: "Fout tijdens laden",
  labelFileProcessing: "Uploaden",
  labelFileProcessingComplete: "Upload afgerond",
  labelFileProcessingAborted: "Upload geannuleerd",
  labelFileProcessingError: "Fout tijdens upload",
  labelFileProcessingRevertError: "Fout bij herstellen",
  labelFileRemoveError: "Fout bij verwijderen",
  labelTapToCancel: "tik om te annuleren",
  labelTapToRetry: "tik om opnieuw te proberen",
  labelTapToUndo: "tik om ongedaan te maken",
  labelButtonRemoveItem: "Verwijderen",
  labelButtonAbortItemLoad: "Afbreken",
  labelButtonRetryItemLoad: "Opnieuw proberen",
  labelButtonAbortItemProcessing: "Annuleren",
  labelButtonUndoItemProcessing: "Ongedaan maken",
  labelButtonRetryItemProcessing: "Opnieuw proberen",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Bestand is te groot",
  labelMaxFileSize: "Maximale bestandsgrootte is {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximale totale grootte overschreden",
  labelMaxTotalFileSize: "Maximale totale bestandsgrootte is {filesize}",
  labelFileTypeNotAllowed: "Ongeldig bestandstype",
  fileValidateTypeLabelExpectedTypes: "Verwacht {allButLastType} of {lastType}",
  imageValidateSizeLabelFormatError: "Afbeeldingstype niet ondersteund",
  imageValidateSizeLabelImageSizeTooSmall: "Afbeelding is te klein",
  imageValidateSizeLabelImageSizeTooBig: "Afbeelding is te groot",
  imageValidateSizeLabelExpectedMinSize: "Minimale afmeting is {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximale afmeting is {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolutie is te laag",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolution is too high",
  imageValidateSizeLabelExpectedMinResolution: "Minimale resolutie is {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximale resolutie is {maxResolution}"
};

// node_modules/filepond/locale/no_nb.js
var no_nb_default = {
  labelIdle: 'Dra og slipp filene dine, eller <span class="filepond--label-action"> Bla gjennom... </span>',
  labelInvalidField: "Feltet inneholder ugyldige filer",
  labelFileWaitingForSize: "Venter p\xE5 st\xF8rrelse",
  labelFileSizeNotAvailable: "St\xF8rrelse ikke tilgjengelig",
  labelFileLoading: "Laster",
  labelFileLoadError: "Feil under lasting",
  labelFileProcessing: "Laster opp",
  labelFileProcessingComplete: "Opplasting ferdig",
  labelFileProcessingAborted: "Opplasting avbrutt",
  labelFileProcessingError: "Feil under opplasting",
  labelFileProcessingRevertError: "Feil under reversering",
  labelFileRemoveError: "Feil under flytting",
  labelTapToCancel: "klikk for \xE5 avbryte",
  labelTapToRetry: "klikk for \xE5 pr\xF8ve p\xE5 nytt",
  labelTapToUndo: "klikk for \xE5 angre",
  labelButtonRemoveItem: "Fjern",
  labelButtonAbortItemLoad: "Avbryt",
  labelButtonRetryItemLoad: "Pr\xF8v p\xE5 nytt",
  labelButtonAbortItemProcessing: "Avbryt",
  labelButtonUndoItemProcessing: "Angre",
  labelButtonRetryItemProcessing: "Pr\xF8v p\xE5 nytt",
  labelButtonProcessItem: "Last opp",
  labelMaxFileSizeExceeded: "Filen er for stor",
  labelMaxFileSize: "Maksimal filst\xF8rrelse er {filesize}",
  labelMaxTotalFileSizeExceeded: "Maksimal total st\xF8rrelse oversteget",
  labelMaxTotalFileSize: "Maksimal total st\xF8rrelse er {filesize}",
  labelFileTypeNotAllowed: "Ugyldig filtype",
  fileValidateTypeLabelExpectedTypes: "Forventer {allButLastType} eller {lastType}",
  imageValidateSizeLabelFormatError: "Bildeformat ikke st\xF8ttet",
  imageValidateSizeLabelImageSizeTooSmall: "Bildet er for lite",
  imageValidateSizeLabelImageSizeTooBig: "Bildet er for stort",
  imageValidateSizeLabelExpectedMinSize: "Minimumsst\xF8rrelse er {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maksimumsst\xF8rrelse er {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Oppl\xF8sningen er for lav",
  imageValidateSizeLabelImageResolutionTooHigh: "Oppl\xF8sningen er for h\xF8y",
  imageValidateSizeLabelExpectedMinResolution: "Minimum oppl\xF8sning er {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maksimal oppl\xF8sning er {maxResolution}"
};

// node_modules/filepond/locale/pl-pl.js
var pl_pl_default = {
  labelIdle: 'Przeci\u0105gnij i upu\u015B\u0107 lub <span class="filepond--label-action">wybierz</span> pliki',
  labelInvalidField: "Nieprawid\u0142owe pliki",
  labelFileWaitingForSize: "Pobieranie rozmiaru",
  labelFileSizeNotAvailable: "Nieznany rozmiar",
  labelFileLoading: "Wczytywanie",
  labelFileLoadError: "B\u0142\u0105d wczytywania",
  labelFileProcessing: "Przesy\u0142anie",
  labelFileProcessingComplete: "Przes\u0142ano",
  labelFileProcessingAborted: "Przerwano",
  labelFileProcessingError: "Przesy\u0142anie nie powiod\u0142o si\u0119",
  labelFileProcessingRevertError: "Co\u015B posz\u0142o nie tak",
  labelFileRemoveError: "Nieudane usuni\u0119cie",
  labelTapToCancel: "Anuluj",
  labelTapToRetry: "Pon\xF3w",
  labelTapToUndo: "Cofnij",
  labelButtonRemoveItem: "Usu\u0144",
  labelButtonAbortItemLoad: "Przerwij",
  labelButtonRetryItemLoad: "Pon\xF3w",
  labelButtonAbortItemProcessing: "Anuluj",
  labelButtonUndoItemProcessing: "Cofnij",
  labelButtonRetryItemProcessing: "Pon\xF3w",
  labelButtonProcessItem: "Prze\u015Blij",
  labelMaxFileSizeExceeded: "Plik jest zbyt du\u017Cy",
  labelMaxFileSize: "Dopuszczalna wielko\u015B\u0107 pliku to {filesize}",
  labelMaxTotalFileSizeExceeded: "Przekroczono \u0142\u0105czny rozmiar plik\xF3w",
  labelMaxTotalFileSize: "\u0141\u0105czny rozmiar plik\xF3w nie mo\u017Ce przekroczy\u0107 {filesize}",
  labelFileTypeNotAllowed: "Niedozwolony rodzaj pliku",
  fileValidateTypeLabelExpectedTypes: "Oczekiwano {allButLastType} lub {lastType}",
  imageValidateSizeLabelFormatError: "Nieobs\u0142ugiwany format obrazu",
  imageValidateSizeLabelImageSizeTooSmall: "Obraz jest zbyt ma\u0142y",
  imageValidateSizeLabelImageSizeTooBig: "Obraz jest zbyt du\u017Cy",
  imageValidateSizeLabelExpectedMinSize: "Minimalne wymiary obrazu to {minWidth}\xD7{minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maksymalna wymiary obrazu to {maxWidth}\xD7{maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Rozdzielczo\u015B\u0107 jest zbyt niska",
  imageValidateSizeLabelImageResolutionTooHigh: "Rozdzielczo\u015B\u0107 jest zbyt wysoka",
  imageValidateSizeLabelExpectedMinResolution: "Minimalna rozdzielczo\u015B\u0107 to {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maksymalna rozdzielczo\u015B\u0107 to {maxResolution}"
};

// node_modules/filepond/locale/pt-br.js
var pt_br_default = {
  labelIdle: 'Arraste e solte os arquivos ou <span class="filepond--label-action"> Clique aqui </span>',
  labelInvalidField: "Arquivos inv\xE1lidos",
  labelFileWaitingForSize: "Calculando o tamanho do arquivo",
  labelFileSizeNotAvailable: "Tamanho do arquivo indispon\xEDvel",
  labelFileLoading: "Carregando",
  labelFileLoadError: "Erro durante o carregamento",
  labelFileProcessing: "Enviando",
  labelFileProcessingComplete: "Envio finalizado",
  labelFileProcessingAborted: "Envio cancelado",
  labelFileProcessingError: "Erro durante o envio",
  labelFileProcessingRevertError: "Erro ao reverter o envio",
  labelFileRemoveError: "Erro ao remover o arquivo",
  labelTapToCancel: "clique para cancelar",
  labelTapToRetry: "clique para reenviar",
  labelTapToUndo: "clique para desfazer",
  labelButtonRemoveItem: "Remover",
  labelButtonAbortItemLoad: "Abortar",
  labelButtonRetryItemLoad: "Reenviar",
  labelButtonAbortItemProcessing: "Cancelar",
  labelButtonUndoItemProcessing: "Desfazer",
  labelButtonRetryItemProcessing: "Reenviar",
  labelButtonProcessItem: "Enviar",
  labelMaxFileSizeExceeded: "Arquivo \xE9 muito grande",
  labelMaxFileSize: "O tamanho m\xE1ximo permitido: {filesize}",
  labelMaxTotalFileSizeExceeded: "Tamanho total dos arquivos excedido",
  labelMaxTotalFileSize: "Tamanho total permitido: {filesize}",
  labelFileTypeNotAllowed: "Tipo de arquivo inv\xE1lido",
  fileValidateTypeLabelExpectedTypes: "Tipos de arquivo suportados s\xE3o {allButLastType} ou {lastType}",
  imageValidateSizeLabelFormatError: "Tipo de imagem inv\xE1lida",
  imageValidateSizeLabelImageSizeTooSmall: "Imagem muito pequena",
  imageValidateSizeLabelImageSizeTooBig: "Imagem muito grande",
  imageValidateSizeLabelExpectedMinSize: "Tamanho m\xEDnimo permitida: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Tamanho m\xE1ximo permitido: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolu\xE7\xE3o muito baixa",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolu\xE7\xE3o muito alta",
  imageValidateSizeLabelExpectedMinResolution: "Resolu\xE7\xE3o m\xEDnima permitida: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Resolu\xE7\xE3o m\xE1xima permitida: {maxResolution}"
};

// node_modules/filepond/locale/ro-ro.js
var ro_ro_default = {
  labelIdle: 'Trage \u0219i plaseaz\u0103 fi\u0219iere sau <span class="filepond--label-action"> Caut\u0103-le </span>',
  labelInvalidField: "C\xE2mpul con\u021Bine fi\u0219iere care nu sunt valide",
  labelFileWaitingForSize: "\xCEn a\u0219teptarea dimensiunii",
  labelFileSizeNotAvailable: "Dimensiunea nu este diponibil\u0103",
  labelFileLoading: "Se \xEEncarc\u0103",
  labelFileLoadError: "Eroare la \xEEnc\u0103rcare",
  labelFileProcessing: "Se \xEEncarc\u0103",
  labelFileProcessingComplete: "\xCEnc\u0103rcare finalizat\u0103",
  labelFileProcessingAborted: "\xCEnc\u0103rcare anulat\u0103",
  labelFileProcessingError: "Eroare la \xEEnc\u0103rcare",
  labelFileProcessingRevertError: "Eroare la anulare",
  labelFileRemoveError: "Eroare la \u015Ftergere",
  labelTapToCancel: "apas\u0103 pentru a anula",
  labelTapToRetry: "apas\u0103 pentru a re\xEEncerca",
  labelTapToUndo: "apas\u0103 pentru a anula",
  labelButtonRemoveItem: "\u015Eterge",
  labelButtonAbortItemLoad: "Anuleaz\u0103",
  labelButtonRetryItemLoad: "Re\xEEncearc\u0103",
  labelButtonAbortItemProcessing: "Anuleaz\u0103",
  labelButtonUndoItemProcessing: "Anuleaz\u0103",
  labelButtonRetryItemProcessing: "Re\xEEncearc\u0103",
  labelButtonProcessItem: "\xCEncarc\u0103",
  labelMaxFileSizeExceeded: "Fi\u0219ierul este prea mare",
  labelMaxFileSize: "Dimensiunea maxim\u0103 a unui fi\u0219ier este de {filesize}",
  labelMaxTotalFileSizeExceeded: "Dimensiunea total\u0103 maxim\u0103 a fost dep\u0103\u0219it\u0103",
  labelMaxTotalFileSize: "Dimensiunea total\u0103 maxim\u0103 a fi\u0219ierelor este de {filesize}",
  labelFileTypeNotAllowed: "Tipul fi\u0219ierului nu este valid",
  fileValidateTypeLabelExpectedTypes: "Se a\u0219teapt\u0103 {allButLastType} sau {lastType}",
  imageValidateSizeLabelFormatError: "Formatul imaginii nu este acceptat",
  imageValidateSizeLabelImageSizeTooSmall: "Imaginea este prea mic\u0103",
  imageValidateSizeLabelImageSizeTooBig: "Imaginea este prea mare",
  imageValidateSizeLabelExpectedMinSize: "M\u0103rimea minim\u0103 este de {maxWidth} x {maxHeight}",
  imageValidateSizeLabelExpectedMaxSize: "M\u0103rimea maxim\u0103 este de {maxWidth} x {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Rezolu\u021Bia este prea mic\u0103",
  imageValidateSizeLabelImageResolutionTooHigh: "Rezolu\u021Bia este prea mare",
  imageValidateSizeLabelExpectedMinResolution: "Rezolu\u021Bia minim\u0103 este de {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Rezolu\u021Bia maxim\u0103 este de {maxResolution}"
};

// node_modules/filepond/locale/ru-ru.js
var ru_ru_default = {
  labelIdle: '\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0438\u043B\u0438 <span class="filepond--label-action"> \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 </span>',
  labelInvalidField: "\u041F\u043E\u043B\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0444\u0430\u0439\u043B\u044B",
  labelFileWaitingForSize: "\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0440\u0430\u0437\u043C\u0435\u0440",
  labelFileSizeNotAvailable: "\u0420\u0430\u0437\u043C\u0435\u0440 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F",
  labelFileLoading: "\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435",
  labelFileLoadError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438",
  labelFileProcessing: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",
  labelFileProcessingComplete: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430",
  labelFileProcessingAborted: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430",
  labelFileProcessingError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435",
  labelFileProcessingRevertError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u043E\u0437\u0432\u0440\u0430\u0442\u0435",
  labelFileRemoveError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438",
  labelTapToCancel: "\u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043E\u0442\u043C\u0435\u043D\u044B",
  labelTapToRetry: "\u043D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443",
  labelTapToUndo: "\u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043E\u0442\u043C\u0435\u043D\u044B \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0433\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F",
  labelButtonRemoveItem: "\u0423\u0434\u0430\u043B\u0438\u0442\u044C",
  labelButtonAbortItemLoad: "\u041F\u0440\u0435\u043A\u0440\u0430\u0449\u0435\u043D\u043E",
  labelButtonRetryItemLoad: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443",
  labelButtonAbortItemProcessing: "\u041E\u0442\u043C\u0435\u043D\u0430",
  labelButtonUndoItemProcessing: "\u041E\u0442\u043C\u0435\u043D\u0430 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0433\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F",
  labelButtonRetryItemProcessing: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443",
  labelButtonProcessItem: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",
  labelMaxFileSizeExceeded: "\u0424\u0430\u0439\u043B \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0439",
  labelMaxFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0444\u0430\u0439\u043B\u0430: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u041F\u0440\u0435\u0432\u044B\u0448\u0435\u043D \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440",
  labelMaxTotalFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0444\u0430\u0439\u043B\u0430: {filesize}",
  labelFileTypeNotAllowed: "\u0424\u0430\u0439\u043B \u043D\u0435\u0432\u0435\u0440\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0430",
  fileValidateTypeLabelExpectedTypes: "\u041E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F {allButLastType} \u0438\u043B\u0438 {lastType}",
  imageValidateSizeLabelFormatError: "\u0422\u0438\u043F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F",
  imageValidateSizeLabelImageSizeTooSmall: "\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435",
  imageValidateSizeLabelImageSizeTooBig: "\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435",
  imageValidateSizeLabelExpectedMinSize: "\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043D\u0438\u0437\u043A\u043E\u0435",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u044B\u0441\u043E\u043A\u043E\u0435",
  imageValidateSizeLabelExpectedMinResolution: "\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {maxResolution}"
};

// node_modules/filepond/locale/sv_se.js
var sv_se_default = {
  labelIdle: 'Drag och sl\xE4pp dina filer eller <span class="filepond--label-action"> Bl\xE4ddra </span>',
  labelInvalidField: "F\xE4ltet inneh\xE5ller felaktiga filer",
  labelFileWaitingForSize: "V\xE4ntar p\xE5 storlek",
  labelFileSizeNotAvailable: "Storleken finns inte tillg\xE4nglig",
  labelFileLoading: "Laddar",
  labelFileLoadError: "Fel under laddning",
  labelFileProcessing: "Laddar upp",
  labelFileProcessingComplete: "Uppladdning klar",
  labelFileProcessingAborted: "Uppladdning avbruten",
  labelFileProcessingError: "Fel under uppladdning",
  labelFileProcessingRevertError: "Fel under \xE5terst\xE4llning",
  labelFileRemoveError: "Fel under borttagning",
  labelTapToCancel: "tryck f\xF6r att avbryta",
  labelTapToRetry: "tryck f\xF6r att f\xF6rs\xF6ka igen",
  labelTapToUndo: "tryck f\xF6r att \xE5ngra",
  labelButtonRemoveItem: "Tabort",
  labelButtonAbortItemLoad: "Avbryt",
  labelButtonRetryItemLoad: "F\xF6rs\xF6k igen",
  labelButtonAbortItemProcessing: "Avbryt",
  labelButtonUndoItemProcessing: "\xC5ngra",
  labelButtonRetryItemProcessing: "F\xF6rs\xF6k igen",
  labelButtonProcessItem: "Ladda upp",
  labelMaxFileSizeExceeded: "Filen \xE4r f\xF6r stor",
  labelMaxFileSize: "St\xF6rsta till\xE5tna filstorlek \xE4r {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximal uppladdningsstorlek uppn\xE5d",
  labelMaxTotalFileSize: "Maximal uppladdningsstorlek \xE4r {filesize}",
  labelFileTypeNotAllowed: "Felaktig filtyp",
  fileValidateTypeLabelExpectedTypes: "Godk\xE4nda filtyper {allButLastType} eller {lastType}",
  imageValidateSizeLabelFormatError: "Bildtypen saknar st\xF6d",
  imageValidateSizeLabelImageSizeTooSmall: "Bilden \xE4r f\xF6r liten",
  imageValidateSizeLabelImageSizeTooBig: "Bilden \xE4r f\xF6r stor",
  imageValidateSizeLabelExpectedMinSize: "Minimal storlek \xE4r {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximal storlek \xE4r {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Uppl\xF6sningen \xE4r f\xF6r l\xE5g",
  imageValidateSizeLabelImageResolutionTooHigh: "Uppl\xF6sningen \xE4r f\xF6r h\xF6g",
  imageValidateSizeLabelExpectedMinResolution: "Minsta till\xE5tna uppl\xF6sning \xE4r {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "H\xF6gsta till\xE5tna uppl\xF6sning \xE4r {maxResolution}"
};

// node_modules/filepond/locale/tr-tr.js
var tr_tr_default = {
  labelIdle: 'Dosyan\u0131z\u0131 S\xFCr\xFCkleyin & B\u0131rak\u0131n ya da <span class="filepond--label-action"> Se\xE7in </span>',
  labelInvalidField: "Alan ge\xE7ersiz dosyalar i\xE7eriyor",
  labelFileWaitingForSize: "Boyut hesaplan\u0131yor",
  labelFileSizeNotAvailable: "Boyut mevcut de\u011Fil",
  labelFileLoading: "Y\xFCkleniyor",
  labelFileLoadError: "Y\xFCkleme s\u0131ras\u0131nda hata olu\u015Ftu",
  labelFileProcessing: "Y\xFCkleniyor",
  labelFileProcessingComplete: "Y\xFCkleme tamamland\u0131",
  labelFileProcessingAborted: "Y\xFCkleme iptal edildi",
  labelFileProcessingError: "Y\xFCklerken hata olu\u015Ftu",
  labelFileProcessingRevertError: "Geri \xE7ekerken hata olu\u015Ftu",
  labelFileRemoveError: "Kald\u0131r\u0131rken hata olu\u015Ftu",
  labelTapToCancel: "\u0130ptal etmek i\xE7in t\u0131klay\u0131n",
  labelTapToRetry: "Tekrar denemek i\xE7in t\u0131klay\u0131n",
  labelTapToUndo: "Geri almak i\xE7in t\u0131klay\u0131n",
  labelButtonRemoveItem: "Kald\u0131r",
  labelButtonAbortItemLoad: "\u0130ptal Et",
  labelButtonRetryItemLoad: "Tekrar dene",
  labelButtonAbortItemProcessing: "\u0130ptal et",
  labelButtonUndoItemProcessing: "Geri Al",
  labelButtonRetryItemProcessing: "Tekrar dene",
  labelButtonProcessItem: "Y\xFCkle",
  labelMaxFileSizeExceeded: "Dosya \xE7ok b\xFCy\xFCk",
  labelMaxFileSize: "En fazla dosya boyutu: {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximum boyut a\u015F\u0131ld\u0131",
  labelMaxTotalFileSize: "Maximum dosya boyutu :{filesize}",
  labelFileTypeNotAllowed: "Ge\xE7ersiz dosya tipi",
  fileValidateTypeLabelExpectedTypes: "\u015Eu {allButLastType} ya da \u015Fu dosya olmas\u0131 gerekir: {lastType}",
  imageValidateSizeLabelFormatError: "Resim tipi desteklenmiyor",
  imageValidateSizeLabelImageSizeTooSmall: "Resim \xE7ok k\xFC\xE7\xFCk",
  imageValidateSizeLabelImageSizeTooBig: "Resim \xE7ok b\xFCy\xFCk",
  imageValidateSizeLabelExpectedMinSize: "Minimum boyut {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximum boyut {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\xC7\xF6z\xFCn\xFCrl\xFCk \xE7ok d\xFC\u015F\xFCk",
  imageValidateSizeLabelImageResolutionTooHigh: "\xC7\xF6z\xFCn\xFCrl\xFCk \xE7ok y\xFCksek",
  imageValidateSizeLabelExpectedMinResolution: "Minimum \xE7\xF6z\xFCn\xFCrl\xFCk {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximum \xE7\xF6z\xFCn\xFCrl\xFCk {maxResolution}"
};

// node_modules/filepond/locale/uk-ua.js
var uk_ua_default = {
  labelIdle: '\u041F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0444\u0430\u0439\u043B\u0438 \u0430\u0431\u043E <span class="filepond--label-action"> \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044C </span>',
  labelInvalidField: "\u041F\u043E\u043B\u0435 \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0456 \u0444\u0430\u0439\u043B\u0438",
  labelFileWaitingForSize: "\u0412\u043A\u0430\u0436\u0456\u0442\u044C \u0440\u043E\u0437\u043C\u0456\u0440",
  labelFileSizeNotAvailable: "\u0420\u043E\u0437\u043C\u0456\u0440 \u043D\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0439",
  labelFileLoading: "\u041E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F",
  labelFileLoadError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u043E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u0456",
  labelFileProcessing: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F",
  labelFileProcessingComplete: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E",
  labelFileProcessingAborted: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0441\u043A\u0430\u0441\u043E\u0432\u0430\u043D\u043E",
  labelFileProcessingError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u0456",
  labelFileProcessingRevertError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0432\u0456\u0434\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u0456",
  labelFileRemoveError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u0456",
  labelTapToCancel: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",
  labelTapToRetry: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443",
  labelTapToUndo: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0432\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438 \u043E\u0441\u0442\u0430\u043D\u043D\u044E \u0434\u0456\u044E",
  labelButtonRemoveItem: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",
  labelButtonAbortItemLoad: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",
  labelButtonRetryItemLoad: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443",
  labelButtonAbortItemProcessing: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",
  labelButtonUndoItemProcessing: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438 \u043E\u0441\u0442\u0430\u043D\u043D\u044E \u0434\u0456\u044E",
  labelButtonRetryItemProcessing: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443",
  labelButtonProcessItem: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F",
  labelMaxFileSizeExceeded: "\u0424\u0430\u0439\u043B \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0438\u0439",
  labelMaxFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440 \u0444\u0430\u0439\u043B\u0443: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u041F\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043D\u043E \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440",
  labelMaxTotalFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {filesize}",
  labelFileTypeNotAllowed: "\u0424\u043E\u0440\u043C\u0430\u0442 \u0444\u0430\u0439\u043B\u0443 \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0454\u0442\u044C\u0441\u044F",
  fileValidateTypeLabelExpectedTypes: "\u041E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F {allButLastType} \u0430\u0431\u043E {lastType}",
  imageValidateSizeLabelFormatError: "\u0424\u043E\u0440\u043C\u0430\u0442 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0454\u0442\u044C\u0441\u044F",
  imageValidateSizeLabelImageSizeTooSmall: "\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0435",
  imageValidateSizeLabelImageSizeTooBig: "\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435",
  imageValidateSizeLabelExpectedMinSize: "\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0420\u043E\u0437\u043C\u0456\u0440\u0438 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0456",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0420\u043E\u0437\u043C\u0456\u0440\u0438 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0456",
  imageValidateSizeLabelExpectedMinResolution: "\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438: {maxResolution}"
};

// node_modules/filepond/locale/vi-vi.js
var vi_vi_default = {
  labelIdle: 'K\xE9o th\u1EA3 t\u1EC7p c\u1EE7a b\u1EA1n ho\u1EB7c <span class="filepond--label-action"> T\xECm ki\u1EBFm </span>',
  labelInvalidField: "Tr\u01B0\u1EDDng ch\u1EE9a c\xE1c t\u1EC7p kh\xF4ng h\u1EE3p l\u1EC7",
  labelFileWaitingForSize: "\u0110ang ch\u1EDD k\xEDch th\u01B0\u1EDBc",
  labelFileSizeNotAvailable: "K\xEDch th\u01B0\u1EDBc kh\xF4ng c\xF3 s\u1EB5n",
  labelFileLoading: "\u0110ang t\u1EA3i",
  labelFileLoadError: "L\u1ED7i khi t\u1EA3i",
  labelFileProcessing: "\u0110ang t\u1EA3i l\xEAn",
  labelFileProcessingComplete: "T\u1EA3i l\xEAn th\xE0nh c\xF4ng",
  labelFileProcessingAborted: "\u0110\xE3 hu\u1EF7 t\u1EA3i l\xEAn",
  labelFileProcessingError: "L\u1ED7i khi t\u1EA3i l\xEAn",
  labelFileProcessingRevertError: "L\u1ED7i khi ho\xE0n nguy\xEAn",
  labelFileRemoveError: "L\u1ED7i khi x\xF3a",
  labelTapToCancel: "nh\u1EA5n \u0111\u1EC3 h\u1EE7y",
  labelTapToRetry: "nh\u1EA5n \u0111\u1EC3 th\u1EED l\u1EA1i",
  labelTapToUndo: "nh\u1EA5n \u0111\u1EC3 ho\xE0n t\xE1c",
  labelButtonRemoveItem: "Xo\xE1",
  labelButtonAbortItemLoad: "Hu\u1EF7 b\u1ECF",
  labelButtonRetryItemLoad: "Th\u1EED l\u1EA1i",
  labelButtonAbortItemProcessing: "H\u1EE7y b\u1ECF",
  labelButtonUndoItemProcessing: "Ho\xE0n t\xE1c",
  labelButtonRetryItemProcessing: "Th\u1EED l\u1EA1i",
  labelButtonProcessItem: "T\u1EA3i l\xEAn",
  labelMaxFileSizeExceeded: "T\u1EADp tin qu\xE1 l\u1EDBn",
  labelMaxFileSize: "K\xEDch th\u01B0\u1EDBc t\u1EC7p t\u1ED1i \u0111a l\xE0 {filesize}",
  labelMaxTotalFileSizeExceeded: "\u0110\xE3 v\u01B0\u1EE3t qu\xE1 t\u1ED5ng k\xEDch th\u01B0\u1EDBc t\u1ED1i \u0111a",
  labelMaxTotalFileSize: "T\u1ED5ng k\xEDch th\u01B0\u1EDBc t\u1EC7p t\u1ED1i \u0111a l\xE0 {filesize}",
  labelFileTypeNotAllowed: "T\u1EC7p thu\u1ED9c lo\u1EA1i kh\xF4ng h\u1EE3p l\u1EC7",
  fileValidateTypeLabelExpectedTypes: "Ki\u1EC3u t\u1EC7p h\u1EE3p l\u1EC7 l\xE0 {allButLastType} ho\u1EB7c {lastType}",
  imageValidateSizeLabelFormatError: "Lo\u1EA1i h\xECnh \u1EA3nh kh\xF4ng \u0111\u01B0\u1EE3c h\u1ED7 tr\u1EE3",
  imageValidateSizeLabelImageSizeTooSmall: "H\xECnh \u1EA3nh qu\xE1 nh\u1ECF",
  imageValidateSizeLabelImageSizeTooBig: "H\xECnh \u1EA3nh qu\xE1 l\u1EDBn",
  imageValidateSizeLabelExpectedMinSize: "K\xEDch th\u01B0\u1EDBc t\u1ED1i thi\u1EC3u l\xE0 {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "K\xEDch th\u01B0\u1EDBc t\u1ED1i \u0111a l\xE0 {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0110\u1ED9 ph\xE2n gi\u1EA3i qu\xE1 th\u1EA5p",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0110\u1ED9 ph\xE2n gi\u1EA3i qu\xE1 cao",
  imageValidateSizeLabelExpectedMinResolution: "\u0110\u1ED9 ph\xE2n gi\u1EA3i t\u1ED1i thi\u1EC3u l\xE0 {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u0110\u1ED9 ph\xE2n gi\u1EA3i t\u1ED1i \u0111a l\xE0 {maxResolution}"
};

// node_modules/filepond/locale/zh-cn.js
var zh_cn_default = {
  labelIdle: '\u62D6\u653E\u6587\u4EF6\uFF0C\u6216\u8005 <span class="filepond--label-action"> \u6D4F\u89C8 </span>',
  labelInvalidField: "\u5B57\u6BB5\u5305\u542B\u65E0\u6548\u6587\u4EF6",
  labelFileWaitingForSize: "\u8BA1\u7B97\u6587\u4EF6\u5927\u5C0F",
  labelFileSizeNotAvailable: "\u6587\u4EF6\u5927\u5C0F\u4E0D\u53EF\u7528",
  labelFileLoading: "\u52A0\u8F7D",
  labelFileLoadError: "\u52A0\u8F7D\u9519\u8BEF",
  labelFileProcessing: "\u4E0A\u4F20",
  labelFileProcessingComplete: "\u5DF2\u4E0A\u4F20",
  labelFileProcessingAborted: "\u4E0A\u4F20\u5DF2\u53D6\u6D88",
  labelFileProcessingError: "\u4E0A\u4F20\u51FA\u9519",
  labelFileProcessingRevertError: "\u8FD8\u539F\u51FA\u9519",
  labelFileRemoveError: "\u5220\u9664\u51FA\u9519",
  labelTapToCancel: "\u70B9\u51FB\u53D6\u6D88",
  labelTapToRetry: "\u70B9\u51FB\u91CD\u8BD5",
  labelTapToUndo: "\u70B9\u51FB\u64A4\u6D88",
  labelButtonRemoveItem: "\u5220\u9664",
  labelButtonAbortItemLoad: "\u4E2D\u6B62",
  labelButtonRetryItemLoad: "\u91CD\u8BD5",
  labelButtonAbortItemProcessing: "\u53D6\u6D88",
  labelButtonUndoItemProcessing: "\u64A4\u6D88",
  labelButtonRetryItemProcessing: "\u91CD\u8BD5",
  labelButtonProcessItem: "\u4E0A\u4F20",
  labelMaxFileSizeExceeded: "\u6587\u4EF6\u592A\u5927",
  labelMaxFileSize: "\u6700\u5927\u503C: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u8D85\u8FC7\u6700\u5927\u6587\u4EF6\u5927\u5C0F",
  labelMaxTotalFileSize: "\u6700\u5927\u6587\u4EF6\u5927\u5C0F\uFF1A{filesize}",
  labelFileTypeNotAllowed: "\u6587\u4EF6\u7C7B\u578B\u65E0\u6548",
  fileValidateTypeLabelExpectedTypes: "\u5E94\u4E3A {allButLastType} \u6216 {lastType}",
  imageValidateSizeLabelFormatError: "\u4E0D\u652F\u6301\u56FE\u50CF\u7C7B\u578B",
  imageValidateSizeLabelImageSizeTooSmall: "\u56FE\u50CF\u592A\u5C0F",
  imageValidateSizeLabelImageSizeTooBig: "\u56FE\u50CF\u592A\u5927",
  imageValidateSizeLabelExpectedMinSize: "\u6700\u5C0F\u503C: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u6700\u5927\u503C: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u5206\u8FA8\u7387\u592A\u4F4E",
  imageValidateSizeLabelImageResolutionTooHigh: "\u5206\u8FA8\u7387\u592A\u9AD8",
  imageValidateSizeLabelExpectedMinResolution: "\u6700\u5C0F\u5206\u8FA8\u7387\uFF1A{minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u6700\u5927\u5206\u8FA8\u7387\uFF1A{maxResolution}"
};

// node_modules/filepond/locale/zh-tw.js
var zh_tw_default = {
  labelIdle: '\u62D6\u653E\u6A94\u6848\uFF0C\u6216\u8005 <span class="filepond--label-action"> \u700F\u89BD </span>',
  labelInvalidField: "\u4E0D\u652F\u63F4\u6B64\u6A94\u6848",
  labelFileWaitingForSize: "\u6B63\u5728\u8A08\u7B97\u6A94\u6848\u5927\u5C0F",
  labelFileSizeNotAvailable: "\u6A94\u6848\u5927\u5C0F\u4E0D\u7B26",
  labelFileLoading: "\u8B80\u53D6\u4E2D",
  labelFileLoadError: "\u8B80\u53D6\u932F\u8AA4",
  labelFileProcessing: "\u4E0A\u50B3",
  labelFileProcessingComplete: "\u5DF2\u4E0A\u50B3",
  labelFileProcessingAborted: "\u4E0A\u50B3\u5DF2\u53D6\u6D88",
  labelFileProcessingError: "\u4E0A\u50B3\u767C\u751F\u932F\u8AA4",
  labelFileProcessingRevertError: "\u9084\u539F\u932F\u8AA4",
  labelFileRemoveError: "\u522A\u9664\u932F\u8AA4",
  labelTapToCancel: "\u9EDE\u64CA\u53D6\u6D88",
  labelTapToRetry: "\u9EDE\u64CA\u91CD\u8A66",
  labelTapToUndo: "\u9EDE\u64CA\u9084\u539F",
  labelButtonRemoveItem: "\u522A\u9664",
  labelButtonAbortItemLoad: "\u505C\u6B62",
  labelButtonRetryItemLoad: "\u91CD\u8A66",
  labelButtonAbortItemProcessing: "\u53D6\u6D88",
  labelButtonUndoItemProcessing: "\u53D6\u6D88",
  labelButtonRetryItemProcessing: "\u91CD\u8A66",
  labelButtonProcessItem: "\u4E0A\u50B3",
  labelMaxFileSizeExceeded: "\u6A94\u6848\u904E\u5927",
  labelMaxFileSize: "\u6700\u5927\u503C\uFF1A{filesize}",
  labelMaxTotalFileSizeExceeded: "\u8D85\u904E\u6700\u5927\u53EF\u4E0A\u50B3\u5927\u5C0F",
  labelMaxTotalFileSize: "\u6700\u5927\u53EF\u4E0A\u50B3\u5927\u5C0F\uFF1A{filesize}",
  labelFileTypeNotAllowed: "\u4E0D\u652F\u63F4\u6B64\u985E\u578B\u6A94\u6848",
  fileValidateTypeLabelExpectedTypes: "\u61C9\u70BA {allButLastType} \u6216 {lastType}",
  imageValidateSizeLabelFormatError: "\u4E0D\u652F\u6301\u6B64\u985E\u5716\u7247\u985E\u578B",
  imageValidateSizeLabelImageSizeTooSmall: "\u5716\u7247\u904E\u5C0F",
  imageValidateSizeLabelImageSizeTooBig: "\u5716\u7247\u904E\u5927",
  imageValidateSizeLabelExpectedMinSize: "\u6700\u5C0F\u5C3A\u5BF8\uFF1A{minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u6700\u5927\u5C3A\u5BF8\uFF1A{maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u89E3\u6790\u5EA6\u904E\u4F4E",
  imageValidateSizeLabelImageResolutionTooHigh: "\u89E3\u6790\u5EA6\u904E\u9AD8",
  imageValidateSizeLabelExpectedMinResolution: "\u6700\u4F4E\u89E3\u6790\u5EA6\uFF1A{minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u6700\u9AD8\u89E3\u6790\u5EA6\uFF1A{maxResolution}"
};

// packages/forms/resources/js/components/file-upload.js
registerPlugin(filepond_plugin_file_validate_size_esm_default);
registerPlugin(filepond_plugin_file_validate_type_esm_default);
registerPlugin(filepond_plugin_image_crop_esm_default);
registerPlugin(filepond_plugin_image_edit_esm_default);
registerPlugin(filepond_plugin_image_exif_orientation_esm_default);
registerPlugin(filepond_plugin_image_preview_esm_default);
registerPlugin(filepond_plugin_image_resize_esm_default);
registerPlugin(filepond_plugin_image_transform_esm_default);
registerPlugin(plugin9);
window.FilePond = filepond_esm_exports;
function fileUploadFormComponent({
  acceptedFileTypes,
  imageEditorEmptyFillColor,
  imageEditorMode,
  imageEditorViewportHeight,
  imageEditorViewportWidth,
  deleteUploadedFileUsing,
  isDeletable,
  isDisabled,
  getUploadedFilesUsing,
  imageCropAspectRatio,
  imagePreviewHeight,
  imageResizeMode,
  imageResizeTargetHeight,
  imageResizeTargetWidth,
  imageResizeUpscale,
  isAvatar,
  hasImageEditor,
  hasCircleCropper,
  canEditSvgs,
  isSvgEditingConfirmed,
  confirmSvgEditingMessage,
  disabledSvgEditingMessage,
  isDownloadable,
  isMultiple,
  isOpenable,
  isPreviewable,
  isReorderable,
  loadingIndicatorPosition,
  locale,
  maxSize,
  minSize,
  panelAspectRatio,
  panelLayout,
  placeholder,
  removeUploadedFileButtonPosition,
  removeUploadedFileUsing,
  reorderUploadedFilesUsing,
  shouldAppendFiles,
  shouldOrientImageFromExif,
  shouldTransformImage,
  state: state2,
  uploadButtonPosition,
  uploadProgressIndicatorPosition,
  uploadUsing
}) {
  return {
    fileKeyIndex: {},
    pond: null,
    shouldUpdateState: true,
    state: state2,
    lastState: null,
    uploadedFileIndex: {},
    isEditorOpen: false,
    editingFile: {},
    currentRatio: "",
    editor: {},
    init: async function() {
      setOptions$1(locales[locale] ?? locales["en"]);
      this.pond = create$f(this.$refs.input, {
        acceptedFileTypes,
        allowImageExifOrientation: shouldOrientImageFromExif,
        allowPaste: false,
        allowRemove: isDeletable,
        allowReorder: isReorderable,
        allowReplace: false,
        allowImagePreview: isPreviewable,
        allowVideoPreview: isPreviewable,
        allowAudioPreview: isPreviewable,
        allowImageTransform: shouldTransformImage,
        credits: false,
        files: await this.getFiles(),
        imageCropAspectRatio,
        imagePreviewHeight,
        imageResizeTargetHeight,
        imageResizeTargetWidth,
        imageResizeMode,
        imageResizeUpscale,
        itemInsertLocation: shouldAppendFiles ? "after" : "before",
        ...placeholder && { labelIdle: placeholder },
        maxFileSize: maxSize,
        minFileSize: minSize,
        styleButtonProcessItemPosition: uploadButtonPosition,
        styleButtonRemoveItemPosition: removeUploadedFileButtonPosition,
        styleLoadIndicatorPosition: loadingIndicatorPosition,
        stylePanelAspectRatio: panelAspectRatio,
        stylePanelLayout: panelLayout,
        styleProgressIndicatorPosition: uploadProgressIndicatorPosition,
        server: {
          load: async (source, load) => {
            let response = await fetch(source, {
              cache: "no-store"
            });
            let blob2 = await response.blob();
            load(blob2);
          },
          process: (fieldName, file2, metadata, load, error2, progress) => {
            this.shouldUpdateState = false;
            let fileKey = ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(
              /[018]/g,
              (c) => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
            );
            uploadUsing(
              fileKey,
              file2,
              (fileKey2) => {
                this.shouldUpdateState = true;
                load(fileKey2);
              },
              error2,
              progress
            );
          },
          remove: async (source, load) => {
            let fileKey = this.uploadedFileIndex[source] ?? null;
            if (!fileKey) {
              return;
            }
            await deleteUploadedFileUsing(fileKey);
            load();
          },
          revert: async (uniqueFileId, load) => {
            await removeUploadedFileUsing(uniqueFileId);
            load();
          }
        },
        allowImageEdit: hasImageEditor,
        imageEditEditor: {
          open: (file2) => this.loadEditor(file2),
          onconfirm: () => {
          },
          oncancel: () => this.closeEditor(),
          onclose: () => this.closeEditor()
        }
      });
      this.$watch("state", async () => {
        if (!this.pond) {
          return;
        }
        if (!this.shouldUpdateState) {
          return;
        }
        if (this.state === void 0) {
          return;
        }
        if (this.state !== null && Object.values(this.state).filter(
          (file2) => file2.startsWith("livewire-file:")
        ).length) {
          this.lastState = null;
          return;
        }
        if (JSON.stringify(this.state) === this.lastState) {
          return;
        }
        this.lastState = JSON.stringify(this.state);
        this.pond.files = await this.getFiles();
      });
      this.pond.on("reorderfiles", async (files) => {
        const orderedFileKeys = files.map(
          (file2) => file2.source instanceof File ? file2.serverId : this.uploadedFileIndex[file2.source] ?? null
        ).filter((fileKey) => fileKey);
        await reorderUploadedFilesUsing(
          shouldAppendFiles ? orderedFileKeys : orderedFileKeys.reverse()
        );
      });
      this.pond.on("initfile", async (fileItem) => {
        if (!isDownloadable) {
          return;
        }
        if (isAvatar) {
          return;
        }
        this.insertDownloadLink(fileItem);
      });
      this.pond.on("initfile", async (fileItem) => {
        if (!isOpenable) {
          return;
        }
        if (isAvatar) {
          return;
        }
        this.insertOpenLink(fileItem);
      });
      this.pond.on("addfilestart", async (file2) => {
        if (file2.status !== FileStatus.PROCESSING_QUEUED) {
          return;
        }
        this.dispatchFormEvent("file-upload-started");
      });
      const handleFileProcessing = async () => {
        if (this.pond.getFiles().filter(
          (file2) => file2.status === FileStatus.PROCESSING || file2.status === FileStatus.PROCESSING_QUEUED
        ).length) {
          return;
        }
        this.dispatchFormEvent("file-upload-finished");
      };
      this.pond.on("processfile", handleFileProcessing);
      this.pond.on("processfileabort", handleFileProcessing);
      this.pond.on("processfilerevert", handleFileProcessing);
    },
    destroy: function() {
      this.destroyEditor();
      destroy(this.$refs.input);
      this.pond = null;
    },
    dispatchFormEvent: function(name2) {
      this.$el.closest("form")?.dispatchEvent(
        new CustomEvent(name2, {
          composed: true,
          cancelable: true
        })
      );
    },
    getUploadedFiles: async function() {
      const uploadedFiles = await getUploadedFilesUsing();
      this.fileKeyIndex = uploadedFiles ?? {};
      this.uploadedFileIndex = Object.entries(this.fileKeyIndex).filter(([key, value]) => value?.url).reduce((obj, [key, value]) => {
        obj[value.url] = key;
        return obj;
      }, {});
    },
    getFiles: async function() {
      await this.getUploadedFiles();
      let files = [];
      for (const uploadedFile of Object.values(this.fileKeyIndex)) {
        if (!uploadedFile) {
          continue;
        }
        files.push({
          source: uploadedFile.url,
          options: {
            type: "local",
            ...!uploadedFile.type || /^image/.test(uploadedFile.type) ? {} : {
              file: {
                name: uploadedFile.name,
                size: uploadedFile.size,
                type: uploadedFile.type
              }
            }
          }
        });
      }
      return shouldAppendFiles ? files : files.reverse();
    },
    insertDownloadLink: function(file2) {
      if (file2.origin !== FileOrigin$1.LOCAL) {
        return;
      }
      const anchor = this.getDownloadLink(file2);
      if (!anchor) {
        return;
      }
      document.getElementById(`filepond--item-${file2.id}`).querySelector(".filepond--file-info-main").prepend(anchor);
    },
    insertOpenLink: function(file2) {
      if (file2.origin !== FileOrigin$1.LOCAL) {
        return;
      }
      const anchor = this.getOpenLink(file2);
      if (!anchor) {
        return;
      }
      document.getElementById(`filepond--item-${file2.id}`).querySelector(".filepond--file-info-main").prepend(anchor);
    },
    getDownloadLink: function(file2) {
      let fileSource = file2.source;
      if (!fileSource) {
        return;
      }
      const anchor = document.createElement("a");
      anchor.className = "filepond--download-icon";
      anchor.href = fileSource;
      anchor.download = file2.file.name;
      return anchor;
    },
    getOpenLink: function(file2) {
      let fileSource = file2.source;
      if (!fileSource) {
        return;
      }
      const anchor = document.createElement("a");
      anchor.className = "filepond--open-icon";
      anchor.href = fileSource;
      anchor.target = "_blank";
      return anchor;
    },
    initEditor: function() {
      if (isDisabled) {
        return;
      }
      if (!hasImageEditor) {
        return;
      }
      this.editor = new Cropper(this.$refs.editor, {
        aspectRatio: imageEditorViewportWidth / imageEditorViewportHeight,
        autoCropArea: 1,
        center: true,
        crop: (event) => {
          this.$refs.xPositionInput.value = Math.round(event.detail.x);
          this.$refs.yPositionInput.value = Math.round(event.detail.y);
          this.$refs.heightInput.value = Math.round(
            event.detail.height
          );
          this.$refs.widthInput.value = Math.round(event.detail.width);
          this.$refs.rotationInput.value = event.detail.rotate;
        },
        cropBoxResizable: true,
        guides: true,
        highlight: true,
        responsive: true,
        toggleDragModeOnDblclick: true,
        viewMode: imageEditorMode,
        wheelZoomRatio: 0.02
      });
    },
    closeEditor: function() {
      this.editingFile = {};
      this.isEditorOpen = false;
      this.destroyEditor();
    },
    fixImageDimensions: function(file2, callback) {
      if (file2.type !== "image/svg+xml") {
        return callback(file2);
      }
      const svgReader = new FileReader();
      svgReader.onload = (event) => {
        const svgElement = new DOMParser().parseFromString(event.target.result, "image/svg+xml")?.querySelector("svg");
        if (!svgElement) {
          return callback(file2);
        }
        const viewBoxAttribute = ["viewBox", "ViewBox", "viewbox"].find(
          (attribute) => svgElement.hasAttribute(attribute)
        );
        if (!viewBoxAttribute) {
          return callback(file2);
        }
        const viewBox = svgElement.getAttribute(viewBoxAttribute).split(" ");
        if (!viewBox || viewBox.length !== 4) {
          return callback(file2);
        }
        svgElement.setAttribute("width", parseFloat(viewBox[2]) + "pt");
        svgElement.setAttribute("height", parseFloat(viewBox[3]) + "pt");
        return callback(
          new File(
            [
              new Blob(
                [
                  new XMLSerializer().serializeToString(
                    svgElement
                  )
                ],
                { type: "image/svg+xml" }
              )
            ],
            file2.name,
            {
              type: "image/svg+xml",
              _relativePath: ""
            }
          )
        );
      };
      svgReader.readAsText(file2);
    },
    loadEditor: function(file2) {
      if (isDisabled) {
        return;
      }
      if (!hasImageEditor) {
        return;
      }
      if (!file2) {
        return;
      }
      const isFileSvg = file2.type === "image/svg+xml";
      if (!canEditSvgs && isFileSvg) {
        alert(disabledSvgEditingMessage);
        return;
      }
      if (isSvgEditingConfirmed && isFileSvg && !confirm(confirmSvgEditingMessage)) {
        return;
      }
      this.fixImageDimensions(file2, (editingFile) => {
        this.editingFile = editingFile;
        this.initEditor();
        const reader = new FileReader();
        reader.onload = (event) => {
          this.isEditorOpen = true;
          setTimeout(
            () => this.editor.replace(event.target.result),
            200
          );
        };
        reader.readAsDataURL(file2);
      });
    },
    getRoundedCanvas: function(sourceCanvas) {
      let width = sourceCanvas.width;
      let height = sourceCanvas.height;
      let canvas = document.createElement("canvas");
      canvas.width = width;
      canvas.height = height;
      let context = canvas.getContext("2d");
      context.imageSmoothingEnabled = true;
      context.drawImage(sourceCanvas, 0, 0, width, height);
      context.globalCompositeOperation = "destination-in";
      context.beginPath();
      context.ellipse(
        width / 2,
        height / 2,
        width / 2,
        height / 2,
        0,
        0,
        2 * Math.PI
      );
      context.fill();
      return canvas;
    },
    saveEditor: function() {
      if (isDisabled) {
        return;
      }
      if (!hasImageEditor) {
        return;
      }
      let croppedCanvas = this.editor.getCroppedCanvas({
        fillColor: imageEditorEmptyFillColor ?? "transparent",
        height: imageResizeTargetHeight,
        imageSmoothingEnabled: true,
        imageSmoothingQuality: "high",
        width: imageResizeTargetWidth
      });
      if (hasCircleCropper) {
        croppedCanvas = this.getRoundedCanvas(croppedCanvas);
      }
      croppedCanvas.toBlob(
        (croppedImage) => {
          if (isMultiple) {
            this.pond.removeFile(
              this.pond.getFiles().find(
                (uploadedFile) => uploadedFile.filename === this.editingFile.name
              )?.id,
              { revert: true }
            );
          }
          this.$nextTick(() => {
            this.shouldUpdateState = false;
            let editingFileName = this.editingFile.name.slice(
              0,
              this.editingFile.name.lastIndexOf(".")
            );
            let editingFileExtension = this.editingFile.name.split(".").pop();
            if (editingFileExtension === "svg") {
              editingFileExtension = "png";
            }
            const fileNameVersionRegex = /-v(\d+)/;
            if (fileNameVersionRegex.test(editingFileName)) {
              editingFileName = editingFileName.replace(
                fileNameVersionRegex,
                (match, number) => {
                  const newNumber = Number(number) + 1;
                  return `-v${newNumber}`;
                }
              );
            } else {
              editingFileName += "-v1";
            }
            this.pond.addFile(
              new File(
                [croppedImage],
                `${editingFileName}.${editingFileExtension}`,
                {
                  type: this.editingFile.type === "image/svg+xml" || hasCircleCropper ? "image/png" : this.editingFile.type,
                  lastModified: (/* @__PURE__ */ new Date()).getTime()
                }
              )
            ).then(() => {
              this.closeEditor();
            }).catch(() => {
              this.closeEditor();
            });
          });
        },
        hasCircleCropper ? "image/png" : this.editingFile.type
      );
    },
    destroyEditor: function() {
      if (this.editor && typeof this.editor.destroy === "function") {
        this.editor.destroy();
      }
      this.editor = null;
    }
  };
}
var locales = {
  ar: ar_ar_default,
  cs: cs_cz_default,
  da: da_dk_default,
  de: de_de_default,
  en: en_en_default,
  es: es_es_default,
  fa: fa_ir_default,
  fi: fi_fi_default,
  fr: fr_fr_default,
  hu: hu_hu_default,
  id: id_id_default,
  it: it_it_default,
  nl: nl_nl_default,
  no: no_nb_default,
  pl: pl_pl_default,
  pt_BR: pt_br_default,
  pt_PT: pt_br_default,
  ro: ro_ro_default,
  ru: ru_ru_default,
  sv: sv_se_default,
  tr: tr_tr_default,
  uk: uk_ua_default,
  vi: vi_vi_default,
  zh_CN: zh_cn_default,
  zh_TW: zh_tw_default
};
export {
  fileUploadFormComponent as default
};
/*! Bundled license information:

filepond/dist/filepond.esm.js:
  (*!
   * FilePond 4.30.4
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

cropperjs/dist/cropper.esm.js:
  (*!
   * Cropper.js v1.6.1
   * https://fengyuanchen.github.io/cropperjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2023-09-17T03:44:19.860Z
   *)

filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.esm.js:
  (*!
   * FilePondPluginFileValidateSize 2.2.8
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js:
  (*!
   * FilePondPluginFileValidateType 1.2.8
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-crop/dist/filepond-plugin-image-crop.esm.js:
  (*!
   * FilePondPluginImageCrop 2.0.6
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-edit/dist/filepond-plugin-image-edit.esm.js:
  (*!
   * FilePondPluginImageEdit 1.6.3
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.esm.js:
  (*!
   * FilePondPluginImageExifOrientation 1.0.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js:
  (*!
   * FilePondPluginImagePreview 4.6.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-resize/dist/filepond-plugin-image-resize.esm.js:
  (*!
   * FilePondPluginImageResize 2.0.10
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-transform/dist/filepond-plugin-image-transform.esm.js:
  (*!
   * FilePondPluginImageTransform 3.8.7
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-media-preview/dist/filepond-plugin-media-preview.esm.js:
  (*!
   * FilePondPluginMediaPreview 1.0.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit undefined for details.
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2Rpc3QvZmlsZXBvbmQuZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jcm9wcGVyanMvZGlzdC9jcm9wcGVyLmVzbS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtc2l6ZS9kaXN0L2ZpbGVwb25kLXBsdWdpbi1maWxlLXZhbGlkYXRlLXNpemUuZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4tZmlsZS12YWxpZGF0ZS10eXBlL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtdHlwZS5lc20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1jcm9wL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLWNyb3AuZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4taW1hZ2UtZWRpdC9kaXN0L2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1lZGl0LmVzbS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWltYWdlLWV4aWYtb3JpZW50YXRpb24vZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtZXhpZi1vcmllbnRhdGlvbi5lc20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3L2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcuZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcmVzaXplL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXJlc2l6ZS5lc20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS10cmFuc2Zvcm0vZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtdHJhbnNmb3JtLmVzbS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLW1lZGlhLXByZXZpZXcvZGlzdC9maWxlcG9uZC1wbHVnaW4tbWVkaWEtcHJldmlldy5lc20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9hci1hci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2NzLWN6LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvZGEtZGsuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9kZS1kZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2VuLWVuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvZXMtZXMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9mYV9pci5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2ZpLWZpLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvZnItZnIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9odS1odS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2lkLWlkLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvaXQtaXQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9ubC1ubC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL25vX25iLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvcGwtcGwuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9wdC1ici5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL3JvLXJvLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvcnUtcnUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9zdl9zZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL3RyLXRyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvdWstdWEuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS92aS12aS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL3poLWNuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvemgtdHcuanMiLCAiLi4vLi4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvZmlsZS11cGxvYWQuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qIVxuICogRmlsZVBvbmQgNC4zMC40XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmNvbnN0IGlzTm9kZSA9IHZhbHVlID0+IHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG5cbmNvbnN0IGNyZWF0ZVN0b3JlID0gKGluaXRpYWxTdGF0ZSwgcXVlcmllcyA9IFtdLCBhY3Rpb25zID0gW10pID0+IHtcbiAgICAvLyBpbnRlcm5hbCBzdGF0ZVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICAuLi5pbml0aWFsU3RhdGUsXG4gICAgfTtcblxuICAgIC8vIGNvbnRhaW5zIGFsbCBhY3Rpb25zIGZvciBuZXh0IGZyYW1lLCBpcyBjbGVhciB3aGVuIGFjdGlvbnMgYXJlIHJlcXVlc3RlZFxuICAgIGNvbnN0IGFjdGlvblF1ZXVlID0gW107XG4gICAgY29uc3QgZGlzcGF0Y2hRdWV1ZSA9IFtdO1xuXG4gICAgLy8gcmV0dXJucyBhIGR1cGxpY2F0ZSBvZiB0aGUgY3VycmVudCBzdGF0ZVxuICAgIGNvbnN0IGdldFN0YXRlID0gKCkgPT4gKHsgLi4uc3RhdGUgfSk7XG5cbiAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBhY3Rpb25zIGFycmF5IGFuZCBjbGVhcnMgdGhlIGFjdGlvbnMgYXJyYXlcbiAgICBjb25zdCBwcm9jZXNzQWN0aW9uUXVldWUgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSBjb3B5IG9mIGFjdGlvbnMgcXVldWVcbiAgICAgICAgY29uc3QgcXVldWUgPSBbLi4uYWN0aW9uUXVldWVdO1xuXG4gICAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICAgIGFjdGlvblF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlO1xuICAgIH07XG5cbiAgICAvLyBwcm9jZXNzZXMgYWN0aW9ucyB0aGF0IG1pZ2h0IGJsb2NrIHRoZSBtYWluIFVJIHRocmVhZFxuICAgIGNvbnN0IHByb2Nlc3NEaXNwYXRjaFF1ZXVlID0gKCkgPT4ge1xuICAgICAgICAvLyBjcmVhdGUgY29weSBvZiBhY3Rpb25zIHF1ZXVlXG4gICAgICAgIGNvbnN0IHF1ZXVlID0gWy4uLmRpc3BhdGNoUXVldWVdO1xuXG4gICAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICAgIGRpc3BhdGNoUXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgICAvLyBub3cgZGlzcGF0Y2ggdGhlc2UgYWN0aW9uc1xuICAgICAgICBxdWV1ZS5mb3JFYWNoKCh7IHR5cGUsIGRhdGEgfSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2godHlwZSwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBhZGRzIGEgbmV3IGFjdGlvbiwgY2FsbHMgaXRzIGhhbmRsZXIgYW5kXG4gICAgY29uc3QgZGlzcGF0Y2ggPSAodHlwZSwgZGF0YSwgaXNCbG9ja2luZykgPT4ge1xuICAgICAgICAvLyBpcyBibG9ja2luZyBhY3Rpb24gKHNob3VsZCBuZXZlciBibG9jayBpZiBkb2N1bWVudCBpcyBoaWRkZW4pXG4gICAgICAgIGlmIChpc0Jsb2NraW5nICYmICFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IHR5cGUsIGRhdGEgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGFjdGlvbiBoYXMgYSBoYW5kbGVyLCBoYW5kbGUgdGhlIGFjdGlvblxuICAgICAgICBpZiAoYWN0aW9uSGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIGFjdGlvbkhhbmRsZXJzW3R5cGVdKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IGFkZCBhY3Rpb25cbiAgICAgICAgYWN0aW9uUXVldWUucHVzaCh7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHF1ZXJ5ID0gKHN0ciwgLi4uYXJncykgPT4gKHF1ZXJ5SGFuZGxlc1tzdHJdID8gcXVlcnlIYW5kbGVzW3N0cl0oLi4uYXJncykgOiBudWxsKTtcblxuICAgIGNvbnN0IGFwaSA9IHtcbiAgICAgICAgZ2V0U3RhdGUsXG4gICAgICAgIHByb2Nlc3NBY3Rpb25RdWV1ZSxcbiAgICAgICAgcHJvY2Vzc0Rpc3BhdGNoUXVldWUsXG4gICAgICAgIGRpc3BhdGNoLFxuICAgICAgICBxdWVyeSxcbiAgICB9O1xuXG4gICAgbGV0IHF1ZXJ5SGFuZGxlcyA9IHt9O1xuICAgIHF1ZXJpZXMuZm9yRWFjaChxdWVyeSA9PiB7XG4gICAgICAgIHF1ZXJ5SGFuZGxlcyA9IHtcbiAgICAgICAgICAgIC4uLnF1ZXJ5KHN0YXRlKSxcbiAgICAgICAgICAgIC4uLnF1ZXJ5SGFuZGxlcyxcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIGxldCBhY3Rpb25IYW5kbGVycyA9IHt9O1xuICAgIGFjdGlvbnMuZm9yRWFjaChhY3Rpb24gPT4ge1xuICAgICAgICBhY3Rpb25IYW5kbGVycyA9IHtcbiAgICAgICAgICAgIC4uLmFjdGlvbihkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSxcbiAgICAgICAgICAgIC4uLmFjdGlvbkhhbmRsZXJzLFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbmNvbnN0IGRlZmluZVByb3BlcnR5ID0gKG9iaiwgcHJvcGVydHksIGRlZmluaXRpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqW3Byb3BlcnR5XSA9IGRlZmluaXRpb247XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIHsgLi4uZGVmaW5pdGlvbiB9KTtcbn07XG5cbmNvbnN0IGZvcmluID0gKG9iaiwgY2IpID0+IHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjYihrZXksIG9ialtrZXldKTtcbiAgICB9XG59O1xuXG5jb25zdCBjcmVhdGVPYmplY3QgPSBkZWZpbml0aW9uID0+IHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBmb3JpbihkZWZpbml0aW9uLCBwcm9wZXJ0eSA9PiB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIGRlZmluaXRpb25bcHJvcGVydHldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufTtcblxuY29uc3QgYXR0ciA9IChub2RlLCBuYW1lLCB2YWx1ZSA9IG51bGwpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKG5hbWUpIHx8IG5vZGUuaGFzQXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbiAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG59O1xuXG5jb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCBzdmdFbGVtZW50cyA9IFsnc3ZnJywgJ3BhdGgnXTsgLy8gb25seSBzdmcgZWxlbWVudHMgdXNlZFxuXG5jb25zdCBpc1NWR0VsZW1lbnQgPSB0YWcgPT4gc3ZnRWxlbWVudHMuaW5jbHVkZXModGFnKTtcblxuY29uc3QgY3JlYXRlRWxlbWVudCA9ICh0YWcsIGNsYXNzTmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBjbGFzc05hbWU7XG4gICAgICAgIGNsYXNzTmFtZSA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSBpc1NWR0VsZW1lbnQodGFnKVxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKVxuICAgICAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChpc1NWR0VsZW1lbnQodGFnKSkge1xuICAgICAgICAgICAgYXR0cihlbGVtZW50LCAnY2xhc3MnLCBjbGFzc05hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yaW4oYXR0cmlidXRlcywgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGF0dHIoZWxlbWVudCwgbmFtZSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBlbGVtZW50O1xufTtcblxuY29uc3QgYXBwZW5kQ2hpbGQgPSBwYXJlbnQgPT4gKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnICYmIHBhcmVudC5jaGlsZHJlbltpbmRleF0pIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgcGFyZW50LmNoaWxkcmVuW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICB9XG59O1xuXG5jb25zdCBhcHBlbmRDaGlsZFZpZXcgPSAocGFyZW50LCBjaGlsZFZpZXdzKSA9PiAodmlldywgaW5kZXgpID0+IHtcbiAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjaGlsZFZpZXdzLnNwbGljZShpbmRleCwgMCwgdmlldyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRWaWV3cy5wdXNoKHZpZXcpO1xuICAgIH1cblxuICAgIHJldHVybiB2aWV3O1xufTtcblxuY29uc3QgcmVtb3ZlQ2hpbGRWaWV3ID0gKHBhcmVudCwgY2hpbGRWaWV3cykgPT4gdmlldyA9PiB7XG4gICAgLy8gcmVtb3ZlIGZyb20gY2hpbGQgdmlld3NcbiAgICBjaGlsZFZpZXdzLnNwbGljZShjaGlsZFZpZXdzLmluZGV4T2YodmlldyksIDEpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBlbGVtZW50XG4gICAgaWYgKHZpZXcuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh2aWV3LmVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiB2aWV3O1xufTtcblxuY29uc3QgSVNfQlJPV1NFUiA9ICgoKSA9PlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSgpO1xuY29uc3QgaXNCcm93c2VyID0gKCkgPT4gSVNfQlJPV1NFUjtcblxuY29uc3QgdGVzdEVsZW1lbnQgPSBpc0Jyb3dzZXIoKSA/IGNyZWF0ZUVsZW1lbnQoJ3N2ZycpIDoge307XG5jb25zdCBnZXRDaGlsZENvdW50ID1cbiAgICAnY2hpbGRyZW4nIGluIHRlc3RFbGVtZW50ID8gZWwgPT4gZWwuY2hpbGRyZW4ubGVuZ3RoIDogZWwgPT4gZWwuY2hpbGROb2Rlcy5sZW5ndGg7XG5cbmNvbnN0IGdldFZpZXdSZWN0ID0gKGVsZW1lbnRSZWN0LCBjaGlsZFZpZXdzLCBvZmZzZXQsIHNjYWxlKSA9PiB7XG4gICAgY29uc3QgbGVmdCA9IG9mZnNldFswXSB8fCBlbGVtZW50UmVjdC5sZWZ0O1xuICAgIGNvbnN0IHRvcCA9IG9mZnNldFsxXSB8fCBlbGVtZW50UmVjdC50b3A7XG4gICAgY29uc3QgcmlnaHQgPSBsZWZ0ICsgZWxlbWVudFJlY3Qud2lkdGg7XG4gICAgY29uc3QgYm90dG9tID0gdG9wICsgZWxlbWVudFJlY3QuaGVpZ2h0ICogKHNjYWxlWzFdIHx8IDEpO1xuXG4gICAgY29uc3QgcmVjdCA9IHtcbiAgICAgICAgLy8gdGhlIHJlY3RhbmdsZSBvZiB0aGUgZWxlbWVudCBpdHNlbGZcbiAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgLi4uZWxlbWVudFJlY3QsXG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gdGhlIHJlY3RhbmdsZSBvZiB0aGUgZWxlbWVudCBleHBhbmRlZCB0byBjb250YWluIGl0cyBjaGlsZHJlbiwgZG9lcyBub3QgaW5jbHVkZSBhbnkgbWFyZ2luc1xuICAgICAgICBpbm5lcjoge1xuICAgICAgICAgICAgbGVmdDogZWxlbWVudFJlY3QubGVmdCxcbiAgICAgICAgICAgIHRvcDogZWxlbWVudFJlY3QudG9wLFxuICAgICAgICAgICAgcmlnaHQ6IGVsZW1lbnRSZWN0LnJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tOiBlbGVtZW50UmVjdC5ib3R0b20sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gdGhlIHJlY3RhbmdsZSBvZiB0aGUgZWxlbWVudCBleHBhbmRlZCB0byBjb250YWluIGl0cyBjaGlsZHJlbiBpbmNsdWRpbmcgb3duIG1hcmdpbiBhbmQgY2hpbGQgbWFyZ2luc1xuICAgICAgICAvLyBtYXJnaW5zIHdpbGwgYmUgYWRkZWQgYWZ0ZXIgd2UndmUgcmVjYWxjdWxhdGVkIHRoZSBzaXplXG4gICAgICAgIG91dGVyOiB7XG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIGV4cGFuZCByZWN0IHRvIGZpdCBhbGwgY2hpbGQgcmVjdGFuZ2xlc1xuICAgIGNoaWxkVmlld3NcbiAgICAgICAgLmZpbHRlcihjaGlsZFZpZXcgPT4gIWNoaWxkVmlldy5pc1JlY3RJZ25vcmVkKCkpXG4gICAgICAgIC5tYXAoY2hpbGRWaWV3ID0+IGNoaWxkVmlldy5yZWN0KVxuICAgICAgICAuZm9yRWFjaChjaGlsZFZpZXdSZWN0ID0+IHtcbiAgICAgICAgICAgIGV4cGFuZFJlY3QocmVjdC5pbm5lciwgeyAuLi5jaGlsZFZpZXdSZWN0LmlubmVyIH0pO1xuICAgICAgICAgICAgZXhwYW5kUmVjdChyZWN0Lm91dGVyLCB7IC4uLmNoaWxkVmlld1JlY3Qub3V0ZXIgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgLy8gY2FsY3VsYXRlIGlubmVyIHdpZHRoIGFuZCBoZWlnaHRcbiAgICBjYWxjdWxhdGVSZWN0U2l6ZShyZWN0LmlubmVyKTtcblxuICAgIC8vIGFwcGVuZCBhZGRpdGlvbmFsIG1hcmdpbiAodG9wIGFuZCBsZWZ0IG1hcmdpbnMgYXJlIGluY2x1ZGVkIGluIHRvcCBhbmQgbGVmdCBhdXRvbWF0aWNhbGx5KVxuICAgIHJlY3Qub3V0ZXIuYm90dG9tICs9IHJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b207XG4gICAgcmVjdC5vdXRlci5yaWdodCArPSByZWN0LmVsZW1lbnQubWFyZ2luUmlnaHQ7XG5cbiAgICAvLyBjYWxjdWxhdGUgb3V0ZXIgd2lkdGggYW5kIGhlaWdodFxuICAgIGNhbGN1bGF0ZVJlY3RTaXplKHJlY3Qub3V0ZXIpO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG59O1xuXG5jb25zdCBleHBhbmRSZWN0ID0gKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICAvLyBhZGp1c3QgZm9yIHBhcmVudCBvZmZzZXRcbiAgICBjaGlsZC50b3AgKz0gcGFyZW50LnRvcDtcbiAgICBjaGlsZC5yaWdodCArPSBwYXJlbnQubGVmdDtcbiAgICBjaGlsZC5ib3R0b20gKz0gcGFyZW50LnRvcDtcbiAgICBjaGlsZC5sZWZ0ICs9IHBhcmVudC5sZWZ0O1xuXG4gICAgaWYgKGNoaWxkLmJvdHRvbSA+IHBhcmVudC5ib3R0b20pIHtcbiAgICAgICAgcGFyZW50LmJvdHRvbSA9IGNoaWxkLmJvdHRvbTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGQucmlnaHQgPiBwYXJlbnQucmlnaHQpIHtcbiAgICAgICAgcGFyZW50LnJpZ2h0ID0gY2hpbGQucmlnaHQ7XG4gICAgfVxufTtcblxuY29uc3QgY2FsY3VsYXRlUmVjdFNpemUgPSByZWN0ID0+IHtcbiAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG59O1xuXG5jb25zdCBpc051bWJlciA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBwb3NpdGlvbiBpcyBhdCBkZXN0aW5hdGlvblxuICogQHBhcmFtIHBvc2l0aW9uXG4gKiBAcGFyYW0gZGVzdGluYXRpb25cbiAqIEBwYXJhbSB2ZWxvY2l0eVxuICogQHBhcmFtIGVycm9yTWFyZ2luXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgdGhlcmVZZXQgPSAocG9zaXRpb24sIGRlc3RpbmF0aW9uLCB2ZWxvY2l0eSwgZXJyb3JNYXJnaW4gPSAwLjAwMSkgPT4ge1xuICAgIHJldHVybiBNYXRoLmFicyhwb3NpdGlvbiAtIGRlc3RpbmF0aW9uKSA8IGVycm9yTWFyZ2luICYmIE1hdGguYWJzKHZlbG9jaXR5KSA8IGVycm9yTWFyZ2luO1xufTtcblxuLyoqXG4gKiBTcHJpbmcgYW5pbWF0aW9uXG4gKi9cbmNvbnN0IHNwcmluZyA9XG4gICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgKHsgc3RpZmZuZXNzID0gMC41LCBkYW1waW5nID0gMC43NSwgbWFzcyA9IDEwIH0gPSB7fSkgPT5cbiAgICAgICAgLy8gbWV0aG9kIGRlZmluaXRpb25cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgbGV0IHZlbG9jaXR5ID0gMDtcbiAgICAgICAgICAgIGxldCByZXN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZXMgc3ByaW5nIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0ZSA9ICh0cywgc2tpcFRvRW5kU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpbiByZXN0LCBkb24ndCBhbmltYXRlXG4gICAgICAgICAgICAgICAgaWYgKHJlc3RpbmcpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIG5lZWQgYXQgbGVhc3QgYSB0YXJnZXQgb3IgcG9zaXRpb24gdG8gZG8gc3ByaW5neSB0aGluZ3NcbiAgICAgICAgICAgICAgICBpZiAoIShpc051bWJlcih0YXJnZXQpICYmIGlzTnVtYmVyKHBvc2l0aW9uKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBzcHJpbmcgZm9yY2VcbiAgICAgICAgICAgICAgICBjb25zdCBmID0gLShwb3NpdGlvbiAtIHRhcmdldCkgKiBzdGlmZm5lc3M7XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmVsb2NpdHkgYnkgYWRkaW5nIGZvcmNlIGJhc2VkIG9uIG1hc3NcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSArPSBmIC8gbWFzcztcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmVsb2NpdHlcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSB2ZWxvY2l0eTtcblxuICAgICAgICAgICAgICAgIC8vIHNsb3cgZG93biBiYXNlZCBvbiBhbW91bnQgb2YgZGFtcGluZ1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5ICo9IGRhbXBpbmc7XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBhcnJpdmVkIGlmIHdlJ3JlIG5lYXIgdGFyZ2V0IGFuZCBvdXIgdmVsb2NpdHkgaXMgbmVhciB6ZXJvXG4gICAgICAgICAgICAgICAgaWYgKHRoZXJlWWV0KHBvc2l0aW9uLCB0YXJnZXQsIHZlbG9jaXR5KSB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb25lXG4gICAgICAgICAgICAgICAgICAgIGFwaS5vbnVwZGF0ZShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9ncmVzcyB1cGRhdGVcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBuZXcgdGFyZ2V0IHZhbHVlXG4gICAgICAgICAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qgc2V0VGFyZ2V0ID0gdmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGlmIGN1cnJlbnRseSBoYXMgbm8gcG9zaXRpb24sIHNldCB0YXJnZXQgYW5kIHBvc2l0aW9uIHRvIHRoaXMgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpICYmICFpc051bWJlcihwb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBuZXh0IHRhcmdldCB2YWx1ZSB3aWxsIG5vdCBiZSBhbmltYXRlZCB0b1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbGV0IHN0YXJ0IG1vdmluZyB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgYXQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSB0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IHJlc3RpbmcgYXMgdGFyZ2V0IGlzIGN1cnJlbnQgcG9zaXRpb24sIHN0b3AgbW92aW5nXG4gICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUocG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBuZWVkICdhcGknIHRvIGNhbGwgb251cGRhdGUgY2FsbGJhY2tcbiAgICAgICAgICAgIGNvbnN0IGFwaSA9IGNyZWF0ZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHNldDogc2V0VGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHRhcmdldCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3Rpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiByZXN0aW5nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb251cGRhdGU6IHZhbHVlID0+IHt9LFxuICAgICAgICAgICAgICAgIG9uY29tcGxldGU6IHZhbHVlID0+IHt9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcGk7XG4gICAgICAgIH07XG5cbmNvbnN0IGVhc2VMaW5lYXIgPSB0ID0+IHQ7XG5jb25zdCBlYXNlSW5PdXRRdWFkID0gdCA9PiAodCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0KTtcblxuY29uc3QgdHdlZW4gPVxuICAgIC8vIGRlZmF1bHQgdmFsdWVzXG4gICAgKHsgZHVyYXRpb24gPSA1MDAsIGVhc2luZyA9IGVhc2VJbk91dFF1YWQsIGRlbGF5ID0gMCB9ID0ge30pID0+XG4gICAgICAgIC8vIG1ldGhvZCBkZWZpbml0aW9uXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgdDtcbiAgICAgICAgICAgIGxldCBwO1xuICAgICAgICAgICAgbGV0IHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IHJldmVyc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBudWxsO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0ZSA9ICh0cywgc2tpcFRvRW5kU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdGluZyB8fCB0YXJnZXQgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHRzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0cyAtIHN0YXJ0IDwgZGVsYXkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHQgPSB0cyAtIHN0YXJ0IC0gZGVsYXk7XG5cbiAgICAgICAgICAgICAgICBpZiAodCA+PSBkdXJhdGlvbiB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHJldmVyc2UgPyAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHAgKiB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBhcGkub25jb21wbGV0ZShwICogdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHQgLyBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKCh0ID49IDAgPyBlYXNpbmcocmV2ZXJzZSA/IDEgLSBwIDogcCkgOiAwKSAqIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gbmVlZCAnYXBpJyB0byBjYWxsIG9udXBkYXRlIGNhbGxiYWNrXG4gICAgICAgICAgICBjb25zdCBhcGkgPSBjcmVhdGVPYmplY3Qoe1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlLFxuICAgICAgICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IChyZXZlcnNlID8gMCA6IHRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgIHNldDogdmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5vbnVwZGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FudCB0byB0d2VlbiB0byBhIHNtYWxsZXIgdmFsdWUgYW5kIGhhdmUgYSBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3QgdHdlZW5pbmcgdG8gYSBzbWFsbGVyIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBnbyFcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3Rpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiByZXN0aW5nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb251cGRhdGU6IHZhbHVlID0+IHt9LFxuICAgICAgICAgICAgICAgIG9uY29tcGxldGU6IHZhbHVlID0+IHt9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcGk7XG4gICAgICAgIH07XG5cbmNvbnN0IGFuaW1hdG9yID0ge1xuICAgIHNwcmluZyxcbiAgICB0d2Vlbixcbn07XG5cbi8qXG4geyB0eXBlOiAnc3ByaW5nJywgc3RpZmZuZXNzOiAuNSwgZGFtcGluZzogLjc1LCBtYXNzOiAxMCB9O1xuIHsgdHJhbnNsYXRpb246IHsgdHlwZTogJ3NwcmluZycsIC4uLiB9LCAuLi4gfVxuIHsgdHJhbnNsYXRpb246IHsgeDogeyB0eXBlOiAnc3ByaW5nJywgLi4uIH0gfSB9XG4qL1xuY29uc3QgY3JlYXRlQW5pbWF0b3IgPSAoZGVmaW5pdGlvbiwgY2F0ZWdvcnksIHByb3BlcnR5KSA9PiB7XG4gICAgLy8gZGVmYXVsdCBpcyBzaW5nbGUgZGVmaW5pdGlvblxuICAgIC8vIHdlIGNoZWNrIGlmIHRyYW5zZm9ybSBpcyBzZXQsIGlmIHNvLCB3ZSBjaGVjayBpZiBwcm9wZXJ0eSBpcyBzZXRcbiAgICBjb25zdCBkZWYgPVxuICAgICAgICBkZWZpbml0aW9uW2NhdGVnb3J5XSAmJiB0eXBlb2YgZGVmaW5pdGlvbltjYXRlZ29yeV1bcHJvcGVydHldID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgPyBkZWZpbml0aW9uW2NhdGVnb3J5XVtwcm9wZXJ0eV1cbiAgICAgICAgICAgIDogZGVmaW5pdGlvbltjYXRlZ29yeV0gfHwgZGVmaW5pdGlvbjtcblxuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZGVmID09PSAnc3RyaW5nJyA/IGRlZiA6IGRlZi50eXBlO1xuICAgIGNvbnN0IHByb3BzID0gdHlwZW9mIGRlZiA9PT0gJ29iamVjdCcgPyB7IC4uLmRlZiB9IDoge307XG5cbiAgICByZXR1cm4gYW5pbWF0b3JbdHlwZV0gPyBhbmltYXRvclt0eXBlXShwcm9wcykgOiBudWxsO1xufTtcblxuY29uc3QgYWRkR2V0U2V0ID0gKGtleXMsIG9iaiwgcHJvcHMsIG92ZXJ3cml0ZSA9IGZhbHNlKSA9PiB7XG4gICAgb2JqID0gQXJyYXkuaXNBcnJheShvYmopID8gb2JqIDogW29ial07XG4gICAgb2JqLmZvckVhY2gobyA9PiB7XG4gICAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBrZXk7XG4gICAgICAgICAgICBsZXQgZ2V0dGVyID0gKCkgPT4gcHJvcHNba2V5XTtcbiAgICAgICAgICAgIGxldCBzZXR0ZXIgPSB2YWx1ZSA9PiAocHJvcHNba2V5XSA9IHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGtleS5rZXk7XG4gICAgICAgICAgICAgICAgZ2V0dGVyID0ga2V5LmdldHRlciB8fCBnZXR0ZXI7XG4gICAgICAgICAgICAgICAgc2V0dGVyID0ga2V5LnNldHRlciB8fCBzZXR0ZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvW25hbWVdICYmICFvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9bbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXR0ZXIsXG4gICAgICAgICAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8vIGFkZCB0byBzdGF0ZSxcbi8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4vLyBzZXR1cCBhbmltYXRvcnNcblxuY29uc3QgYW5pbWF0aW9ucyA9ICh7IG1peGluQ29uZmlnLCB2aWV3UHJvcHMsIHZpZXdJbnRlcm5hbEFQSSwgdmlld0V4dGVybmFsQVBJIH0pID0+IHtcbiAgICAvLyBpbml0aWFsIHByb3BlcnRpZXNcbiAgICBjb25zdCBpbml0aWFsUHJvcHMgPSB7IC4uLnZpZXdQcm9wcyB9O1xuXG4gICAgLy8gbGlzdCBvZiBhbGwgYWN0aXZlIGFuaW1hdGlvbnNcbiAgICBjb25zdCBhbmltYXRpb25zID0gW107XG5cbiAgICAvLyBzZXR1cCBhbmltYXRvcnNcbiAgICBmb3JpbihtaXhpbkNvbmZpZywgKHByb3BlcnR5LCBhbmltYXRpb24pID0+IHtcbiAgICAgICAgY29uc3QgYW5pbWF0b3IgPSBjcmVhdGVBbmltYXRvcihhbmltYXRpb24pO1xuICAgICAgICBpZiAoIWFuaW1hdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHRoZSBhbmltYXRvciB1cGRhdGVzLCB1cGRhdGUgdGhlIHZpZXcgc3RhdGUgdmFsdWVcbiAgICAgICAgYW5pbWF0b3Iub251cGRhdGUgPSB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB2aWV3UHJvcHNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2V0IGFuaW1hdG9yIHRhcmdldFxuICAgICAgICBhbmltYXRvci50YXJnZXQgPSBpbml0aWFsUHJvcHNbcHJvcGVydHldO1xuXG4gICAgICAgIC8vIHdoZW4gdmFsdWUgaXMgc2V0LCBzZXQgdGhlIGFuaW1hdG9yIHRhcmdldCB2YWx1ZVxuICAgICAgICBjb25zdCBwcm9wID0ge1xuICAgICAgICAgICAga2V5OiBwcm9wZXJ0eSxcbiAgICAgICAgICAgIHNldHRlcjogdmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGlmIGFscmVhZHkgYXQgdGFyZ2V0LCB3ZSBkb25lIVxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRvci50YXJnZXQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhbmltYXRvci50YXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXR0ZXI6ICgpID0+IHZpZXdQcm9wc1twcm9wZXJ0eV0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYWRkIGdldHRlcnMgYW5kIHNldHRlcnNcbiAgICAgICAgYWRkR2V0U2V0KFtwcm9wXSwgW3ZpZXdJbnRlcm5hbEFQSSwgdmlld0V4dGVybmFsQVBJXSwgdmlld1Byb3BzLCB0cnVlKTtcblxuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGxpc3QgZm9yIGVhc3kgdXBkYXRpbmcgZnJvbSB0aGUgX3dyaXRlIG1ldGhvZFxuICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0b3IpO1xuICAgIH0pO1xuXG4gICAgLy8gZXhwb3NlIGludGVybmFsIHdyaXRlIGFwaVxuICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiB0cyA9PiB7XG4gICAgICAgICAgICBsZXQgc2tpcFRvRW5kU3RhdGUgPSBkb2N1bWVudC5oaWRkZW47XG4gICAgICAgICAgICBsZXQgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICBhbmltYXRpb25zLmZvckVhY2goYW5pbWF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbi5yZXN0aW5nKSByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmludGVycG9sYXRlKHRzLCBza2lwVG9FbmRTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiAoKSA9PiB7fSxcbiAgICB9O1xufTtcblxuY29uc3QgYWRkRXZlbnQgPSBlbGVtZW50ID0+ICh0eXBlLCBmbikgPT4ge1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbik7XG59O1xuXG5jb25zdCByZW1vdmVFdmVudCA9IGVsZW1lbnQgPT4gKHR5cGUsIGZuKSA9PiB7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuKTtcbn07XG5cbi8vIG1peGluXG5jb25zdCBsaXN0ZW5lcnMgPSAoe1xuICAgIG1peGluQ29uZmlnLFxuICAgIHZpZXdQcm9wcyxcbiAgICB2aWV3SW50ZXJuYWxBUEksXG4gICAgdmlld0V4dGVybmFsQVBJLFxuICAgIHZpZXdTdGF0ZSxcbiAgICB2aWV3LFxufSkgPT4ge1xuICAgIGNvbnN0IGV2ZW50cyA9IFtdO1xuXG4gICAgY29uc3QgYWRkID0gYWRkRXZlbnQodmlldy5lbGVtZW50KTtcbiAgICBjb25zdCByZW1vdmUgPSByZW1vdmVFdmVudCh2aWV3LmVsZW1lbnQpO1xuXG4gICAgdmlld0V4dGVybmFsQVBJLm9uID0gKHR5cGUsIGZuKSA9PiB7XG4gICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBmbixcbiAgICAgICAgfSk7XG4gICAgICAgIGFkZCh0eXBlLCBmbik7XG4gICAgfTtcblxuICAgIHZpZXdFeHRlcm5hbEFQSS5vZmYgPSAodHlwZSwgZm4pID0+IHtcbiAgICAgICAgZXZlbnRzLnNwbGljZShldmVudHMuZmluZEluZGV4KGV2ZW50ID0+IGV2ZW50LnR5cGUgPT09IHR5cGUgJiYgZXZlbnQuZm4gPT09IGZuKSwgMSk7XG4gICAgICAgIHJlbW92ZSh0eXBlLCBmbik7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBub3QgYnVzeVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmUoZXZlbnQudHlwZSwgZXZlbnQuZm4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbi8vIGFkZCB0byBleHRlcm5hbCBhcGkgYW5kIGxpbmsgdG8gcHJvcHNcblxuY29uc3QgYXBpcyA9ICh7IG1peGluQ29uZmlnLCB2aWV3UHJvcHMsIHZpZXdFeHRlcm5hbEFQSSB9KSA9PiB7XG4gICAgYWRkR2V0U2V0KG1peGluQ29uZmlnLCB2aWV3RXh0ZXJuYWxBUEksIHZpZXdQcm9wcyk7XG59O1xuXG5jb25zdCBpc0RlZmluZWQgPSB2YWx1ZSA9PiB2YWx1ZSAhPSBudWxsO1xuXG4vLyBhZGQgdG8gc3RhdGUsXG4vLyBhZGQgZ2V0dGVycyBhbmQgc2V0dGVycyB0byBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgYXBpIChpZiBub3Qgc2V0KVxuLy8gc2V0IGluaXRpYWwgc3RhdGUgYmFzZWQgb24gcHJvcHMgaW4gdmlld1Byb3BzXG4vLyBhcHBseSBhcyB0cmFuc2Zvcm1zIGVhY2ggZnJhbWVcblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgb3BhY2l0eTogMSxcbiAgICBzY2FsZVg6IDEsXG4gICAgc2NhbGVZOiAxLFxuICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgdHJhbnNsYXRlWTogMCxcbiAgICByb3RhdGVYOiAwLFxuICAgIHJvdGF0ZVk6IDAsXG4gICAgcm90YXRlWjogMCxcbiAgICBvcmlnaW5YOiAwLFxuICAgIG9yaWdpblk6IDAsXG59O1xuXG5jb25zdCBzdHlsZXMgPSAoeyBtaXhpbkNvbmZpZywgdmlld1Byb3BzLCB2aWV3SW50ZXJuYWxBUEksIHZpZXdFeHRlcm5hbEFQSSwgdmlldyB9KSA9PiB7XG4gICAgLy8gaW5pdGlhbCBwcm9wc1xuICAgIGNvbnN0IGluaXRpYWxQcm9wcyA9IHsgLi4udmlld1Byb3BzIH07XG5cbiAgICAvLyBjdXJyZW50IHByb3BzXG4gICAgY29uc3QgY3VycmVudFByb3BzID0ge307XG5cbiAgICAvLyB3ZSB3aWxsIGFkZCB0aG9zZSBwcm9wZXJ0aWVzIHRvIHRoZSBleHRlcm5hbCBBUEkgYW5kIGxpbmsgdGhlbSB0byB0aGUgdmlld1N0YXRlXG4gICAgYWRkR2V0U2V0KG1peGluQ29uZmlnLCBbdmlld0ludGVybmFsQVBJLCB2aWV3RXh0ZXJuYWxBUEldLCB2aWV3UHJvcHMpO1xuXG4gICAgLy8gb3ZlcnJpZGUgcmVjdCBvbiBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgcmVjdCBnZXR0ZXIgc28gaXQgdGFrZXMgaW4gYWNjb3VudCB0cmFuc2Zvcm1zXG4gICAgY29uc3QgZ2V0T2Zmc2V0ID0gKCkgPT4gW3ZpZXdQcm9wc1sndHJhbnNsYXRlWCddIHx8IDAsIHZpZXdQcm9wc1sndHJhbnNsYXRlWSddIHx8IDBdO1xuICAgIGNvbnN0IGdldFNjYWxlID0gKCkgPT4gW3ZpZXdQcm9wc1snc2NhbGVYJ10gfHwgMCwgdmlld1Byb3BzWydzY2FsZVknXSB8fCAwXTtcbiAgICBjb25zdCBnZXRSZWN0ID0gKCkgPT5cbiAgICAgICAgdmlldy5yZWN0ID8gZ2V0Vmlld1JlY3Qodmlldy5yZWN0LCB2aWV3LmNoaWxkVmlld3MsIGdldE9mZnNldCgpLCBnZXRTY2FsZSgpKSA6IG51bGw7XG4gICAgdmlld0ludGVybmFsQVBJLnJlY3QgPSB7IGdldDogZ2V0UmVjdCB9O1xuICAgIHZpZXdFeHRlcm5hbEFQSS5yZWN0ID0geyBnZXQ6IGdldFJlY3QgfTtcblxuICAgIC8vIGFwcGx5IHZpZXcgcHJvcHNcbiAgICBtaXhpbkNvbmZpZy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHZpZXdQcm9wc1trZXldID1cbiAgICAgICAgICAgIHR5cGVvZiBpbml0aWFsUHJvcHNba2V5XSA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0c1trZXldIDogaW5pdGlhbFByb3BzW2tleV07XG4gICAgfSk7XG5cbiAgICAvLyBleHBvc2UgYXBpXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHNlZSBpZiBwcm9wcyBoYXZlIGNoYW5nZWRcbiAgICAgICAgICAgIGlmICghcHJvcHNIYXZlQ2hhbmdlZChjdXJyZW50UHJvcHMsIHZpZXdQcm9wcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1vdmVzIGVsZW1lbnQgdG8gY29ycmVjdCBwb3NpdGlvbiBvbiBzY3JlZW5cbiAgICAgICAgICAgIGFwcGx5U3R5bGVzKHZpZXcuZWxlbWVudCwgdmlld1Byb3BzKTtcblxuICAgICAgICAgICAgLy8gc3RvcmUgbmV3IHRyYW5zZm9ybXNcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFByb3BzLCB7IC4uLnZpZXdQcm9wcyB9KTtcblxuICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIGJ1c3lcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiAoKSA9PiB7fSxcbiAgICB9O1xufTtcblxuY29uc3QgcHJvcHNIYXZlQ2hhbmdlZCA9IChjdXJyZW50UHJvcHMsIG5ld1Byb3BzKSA9PiB7XG4gICAgLy8gZGlmZmVyZW50IGFtb3VudCBvZiBrZXlzXG4gICAgaWYgKE9iamVjdC5rZXlzKGN1cnJlbnRQcm9wcykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhuZXdQcm9wcykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGxldHMgYW5hbHl6ZSB0aGUgaW5kaXZpZHVhbCBwcm9wc1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBuZXdQcm9wcykge1xuICAgICAgICBpZiAobmV3UHJvcHNbcHJvcF0gIT09IGN1cnJlbnRQcm9wc1twcm9wXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBhcHBseVN0eWxlcyA9IChcbiAgICBlbGVtZW50LFxuICAgIHtcbiAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgcGVyc3BlY3RpdmUsXG4gICAgICAgIHRyYW5zbGF0ZVgsXG4gICAgICAgIHRyYW5zbGF0ZVksXG4gICAgICAgIHNjYWxlWCxcbiAgICAgICAgc2NhbGVZLFxuICAgICAgICByb3RhdGVYLFxuICAgICAgICByb3RhdGVZLFxuICAgICAgICByb3RhdGVaLFxuICAgICAgICBvcmlnaW5YLFxuICAgICAgICBvcmlnaW5ZLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgIH1cbikgPT4ge1xuICAgIGxldCB0cmFuc2Zvcm1zID0gJyc7XG4gICAgbGV0IHN0eWxlcyA9ICcnO1xuXG4gICAgLy8gaGFuZGxlIHRyYW5zZm9ybSBvcmlnaW5cbiAgICBpZiAoaXNEZWZpbmVkKG9yaWdpblgpIHx8IGlzRGVmaW5lZChvcmlnaW5ZKSkge1xuICAgICAgICBzdHlsZXMgKz0gYHRyYW5zZm9ybS1vcmlnaW46ICR7b3JpZ2luWCB8fCAwfXB4ICR7b3JpZ2luWSB8fCAwfXB4O2A7XG4gICAgfVxuXG4gICAgLy8gdHJhbnNmb3JtIG9yZGVyIGlzIHJlbGV2YW50XG4gICAgLy8gMC4gcGVyc3BlY3RpdmVcbiAgICBpZiAoaXNEZWZpbmVkKHBlcnNwZWN0aXZlKSkge1xuICAgICAgICB0cmFuc2Zvcm1zICs9IGBwZXJzcGVjdGl2ZSgke3BlcnNwZWN0aXZlfXB4KSBgO1xuICAgIH1cblxuICAgIC8vIDEuIHRyYW5zbGF0ZVxuICAgIGlmIChpc0RlZmluZWQodHJhbnNsYXRlWCkgfHwgaXNEZWZpbmVkKHRyYW5zbGF0ZVkpKSB7XG4gICAgICAgIHRyYW5zZm9ybXMgKz0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlWCB8fCAwfXB4LCAke3RyYW5zbGF0ZVkgfHwgMH1weCwgMCkgYDtcbiAgICB9XG5cbiAgICAvLyAyLiBzY2FsZVxuICAgIGlmIChpc0RlZmluZWQoc2NhbGVYKSB8fCBpc0RlZmluZWQoc2NhbGVZKSkge1xuICAgICAgICB0cmFuc2Zvcm1zICs9IGBzY2FsZTNkKCR7aXNEZWZpbmVkKHNjYWxlWCkgPyBzY2FsZVggOiAxfSwgJHtcbiAgICAgICAgICAgIGlzRGVmaW5lZChzY2FsZVkpID8gc2NhbGVZIDogMVxuICAgICAgICB9LCAxKSBgO1xuICAgIH1cblxuICAgIC8vIDMuIHJvdGF0ZVxuICAgIGlmIChpc0RlZmluZWQocm90YXRlWikpIHtcbiAgICAgICAgdHJhbnNmb3JtcyArPSBgcm90YXRlWigke3JvdGF0ZVp9cmFkKSBgO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQocm90YXRlWCkpIHtcbiAgICAgICAgdHJhbnNmb3JtcyArPSBgcm90YXRlWCgke3JvdGF0ZVh9cmFkKSBgO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQocm90YXRlWSkpIHtcbiAgICAgICAgdHJhbnNmb3JtcyArPSBgcm90YXRlWSgke3JvdGF0ZVl9cmFkKSBgO1xuICAgIH1cblxuICAgIC8vIGFkZCB0cmFuc2Zvcm1zXG4gICAgaWYgKHRyYW5zZm9ybXMubGVuZ3RoKSB7XG4gICAgICAgIHN0eWxlcyArPSBgdHJhbnNmb3JtOiR7dHJhbnNmb3Jtc307YDtcbiAgICB9XG5cbiAgICAvLyBhZGQgb3BhY2l0eVxuICAgIGlmIChpc0RlZmluZWQob3BhY2l0eSkpIHtcbiAgICAgICAgc3R5bGVzICs9IGBvcGFjaXR5OiR7b3BhY2l0eX07YDtcblxuICAgICAgICAvLyBpZiB3ZSByZWFjaCB6ZXJvLCB3ZSBtYWtlIHRoZSBlbGVtZW50IGluYWNjZXNzaWJsZVxuICAgICAgICBpZiAob3BhY2l0eSA9PT0gMCkge1xuICAgICAgICAgICAgc3R5bGVzICs9IGB2aXNpYmlsaXR5OmhpZGRlbjtgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UncmUgYmVsb3cgMTAwJSBvcGFjaXR5IHRoaXMgZWxlbWVudCBjYW4ndCBiZSBjbGlja2VkXG4gICAgICAgIGlmIChvcGFjaXR5IDwgMSkge1xuICAgICAgICAgICAgc3R5bGVzICs9IGBwb2ludGVyLWV2ZW50czpub25lO2A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgaGVpZ2h0XG4gICAgaWYgKGlzRGVmaW5lZChoZWlnaHQpKSB7XG4gICAgICAgIHN0eWxlcyArPSBgaGVpZ2h0OiR7aGVpZ2h0fXB4O2A7XG4gICAgfVxuXG4gICAgLy8gYWRkIHdpZHRoXG4gICAgaWYgKGlzRGVmaW5lZCh3aWR0aCkpIHtcbiAgICAgICAgc3R5bGVzICs9IGB3aWR0aDoke3dpZHRofXB4O2A7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgc3R5bGVzXG4gICAgY29uc3QgZWxlbWVudEN1cnJlbnRTdHlsZSA9IGVsZW1lbnQuZWxlbWVudEN1cnJlbnRTdHlsZSB8fCAnJztcblxuICAgIC8vIGlmIG5ldyBzdHlsZXMgZG9lcyBub3QgbWF0Y2ggY3VycmVudCBzdHlsZXMsIGxldHMgdXBkYXRlIVxuICAgIGlmIChzdHlsZXMubGVuZ3RoICE9PSBlbGVtZW50Q3VycmVudFN0eWxlLmxlbmd0aCB8fCBzdHlsZXMgIT09IGVsZW1lbnRDdXJyZW50U3R5bGUpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gc3R5bGVzO1xuICAgICAgICAvLyBzdG9yZSBjdXJyZW50IHN0eWxlcyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVtIHRvIG5ldyBzdHlsZXMgbGF0ZXIgb25cbiAgICAgICAgLy8gX25vdF8gZ2V0dGluZyB0aGUgc3R5bGUgdmFsdWUgaXMgZmFzdGVyXG4gICAgICAgIGVsZW1lbnQuZWxlbWVudEN1cnJlbnRTdHlsZSA9IHN0eWxlcztcbiAgICB9XG59O1xuXG5jb25zdCBNaXhpbnMgPSB7XG4gICAgc3R5bGVzLFxuICAgIGxpc3RlbmVycyxcbiAgICBhbmltYXRpb25zLFxuICAgIGFwaXMsXG59O1xuXG5jb25zdCB1cGRhdGVSZWN0ID0gKHJlY3QgPSB7fSwgZWxlbWVudCA9IHt9LCBzdHlsZSA9IHt9KSA9PiB7XG4gICAgaWYgKCFlbGVtZW50LmxheW91dENhbGN1bGF0ZWQpIHtcbiAgICAgICAgcmVjdC5wYWRkaW5nVG9wID0gcGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCwgMTApIHx8IDA7XG4gICAgICAgIHJlY3QubWFyZ2luVG9wID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wLCAxMCkgfHwgMDtcbiAgICAgICAgcmVjdC5tYXJnaW5SaWdodCA9IHBhcnNlSW50KHN0eWxlLm1hcmdpblJpZ2h0LCAxMCkgfHwgMDtcbiAgICAgICAgcmVjdC5tYXJnaW5Cb3R0b20gPSBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKSB8fCAwO1xuICAgICAgICByZWN0Lm1hcmdpbkxlZnQgPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0LCAxMCkgfHwgMDtcbiAgICAgICAgZWxlbWVudC5sYXlvdXRDYWxjdWxhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZWN0LmxlZnQgPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDtcbiAgICByZWN0LnRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wIHx8IDA7XG4gICAgcmVjdC53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMDtcbiAgICByZWN0LmhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDA7XG5cbiAgICByZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aDtcbiAgICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQ7XG5cbiAgICByZWN0LnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wO1xuXG4gICAgcmVjdC5oaWRkZW4gPSBlbGVtZW50Lm9mZnNldFBhcmVudCA9PT0gbnVsbDtcblxuICAgIHJldHVybiByZWN0O1xufTtcblxuY29uc3QgY3JlYXRlVmlldyA9XG4gICAgLy8gZGVmYXVsdCB2aWV3IGRlZmluaXRpb25cbiAgICAoe1xuICAgICAgICAvLyBlbGVtZW50IGRlZmluaXRpb25cbiAgICAgICAgdGFnID0gJ2RpdicsXG4gICAgICAgIG5hbWUgPSBudWxsLFxuICAgICAgICBhdHRyaWJ1dGVzID0ge30sXG5cbiAgICAgICAgLy8gdmlldyBpbnRlcmFjdGlvblxuICAgICAgICByZWFkID0gKCkgPT4ge30sXG4gICAgICAgIHdyaXRlID0gKCkgPT4ge30sXG4gICAgICAgIGNyZWF0ZSA9ICgpID0+IHt9LFxuICAgICAgICBkZXN0cm95ID0gKCkgPT4ge30sXG5cbiAgICAgICAgLy8gaG9va3NcbiAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQgPSAoY2hpbGQsIGFjdGlvbnMpID0+IGFjdGlvbnMsXG4gICAgICAgIGRpZENyZWF0ZVZpZXcgPSAoKSA9PiB7fSxcbiAgICAgICAgZGlkV3JpdGVWaWV3ID0gKCkgPT4ge30sXG5cbiAgICAgICAgLy8gcmVjdCByZWxhdGVkXG4gICAgICAgIGlnbm9yZVJlY3QgPSBmYWxzZSxcbiAgICAgICAgaWdub3JlUmVjdFVwZGF0ZSA9IGZhbHNlLFxuXG4gICAgICAgIC8vIG1peGluc1xuICAgICAgICBtaXhpbnMgPSBbXSxcbiAgICB9ID0ge30pID0+IChcbiAgICAgICAgLy8gZWFjaCB2aWV3IHJlcXVpcmVzIHJlZmVyZW5jZSB0byBzdG9yZVxuICAgICAgICBzdG9yZSxcbiAgICAgICAgLy8gc3BlY2lmaWMgcHJvcGVydGllcyBmb3IgdGhpcyB2aWV3XG4gICAgICAgIHByb3BzID0ge31cbiAgICApID0+IHtcbiAgICAgICAgLy8gcm9vdCBlbGVtZW50IHNob3VsZCBub3QgYmUgY2hhbmdlZFxuICAgICAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0YWcsIGBmaWxlcG9uZC0tJHtuYW1lfWAsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIC8vIHN0eWxlIHJlZmVyZW5jZSBzaG91bGQgYWxzbyBub3QgYmUgY2hhbmdlZFxuICAgICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xuXG4gICAgICAgIC8vIGVsZW1lbnQgcmVjdGFuZ2xlXG4gICAgICAgIGNvbnN0IHJlY3QgPSB1cGRhdGVSZWN0KCk7XG4gICAgICAgIGxldCBmcmFtZVJlY3QgPSBudWxsO1xuXG4gICAgICAgIC8vIHJlc3Qgc3RhdGVcbiAgICAgICAgbGV0IGlzUmVzdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHByZXR0eSBzZWxmIGV4cGxhbmF0b3J5XG4gICAgICAgIGNvbnN0IGNoaWxkVmlld3MgPSBbXTtcblxuICAgICAgICAvLyBsb2FkZWQgbWl4aW5zXG4gICAgICAgIGNvbnN0IGFjdGl2ZU1peGlucyA9IFtdO1xuXG4gICAgICAgIC8vIHJlZmVyZW5jZXMgdG8gY3JlYXRlZCBjaGlsZHJlblxuICAgICAgICBjb25zdCByZWYgPSB7fTtcblxuICAgICAgICAvLyBzdGF0ZSB1c2VkIGZvciBlYWNoIGluc3RhbmNlXG4gICAgICAgIGNvbnN0IHN0YXRlID0ge307XG5cbiAgICAgICAgLy8gbGlzdCBvZiB3cml0ZXJzIHRoYXQgd2lsbCBiZSBjYWxsZWQgdG8gdXBkYXRlIHRoaXMgdmlld1xuICAgICAgICBjb25zdCB3cml0ZXJzID0gW1xuICAgICAgICAgICAgd3JpdGUsIC8vIGRlZmF1bHQgd3JpdGVyXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgcmVhZGVycyA9IFtcbiAgICAgICAgICAgIHJlYWQsIC8vIGRlZmF1bHQgcmVhZGVyXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgZGVzdHJveWVycyA9IFtcbiAgICAgICAgICAgIGRlc3Ryb3ksIC8vIGRlZmF1bHQgZGVzdHJveVxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGNvcmUgdmlldyBtZXRob2RzXG4gICAgICAgIGNvbnN0IGdldEVsZW1lbnQgPSAoKSA9PiBlbGVtZW50O1xuICAgICAgICBjb25zdCBnZXRDaGlsZFZpZXdzID0gKCkgPT4gY2hpbGRWaWV3cy5jb25jYXQoKTtcbiAgICAgICAgY29uc3QgZ2V0UmVmZXJlbmNlID0gKCkgPT4gcmVmO1xuICAgICAgICBjb25zdCBjcmVhdGVDaGlsZFZpZXcgPSBzdG9yZSA9PiAodmlldywgcHJvcHMpID0+IHZpZXcoc3RvcmUsIHByb3BzKTtcbiAgICAgICAgY29uc3QgZ2V0UmVjdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChmcmFtZVJlY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVSZWN0ID0gZ2V0Vmlld1JlY3QocmVjdCwgY2hpbGRWaWV3cywgWzAsIDBdLCBbMSwgMV0pO1xuICAgICAgICAgICAgcmV0dXJuIGZyYW1lUmVjdDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZ2V0U3R5bGUgPSAoKSA9PiBzdHlsZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZCBkYXRhIGZyb20gRE9NXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBfcmVhZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGZyYW1lUmVjdCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIHJlYWQgY2hpbGQgdmlld3NcbiAgICAgICAgICAgIGNoaWxkVmlld3MuZm9yRWFjaChjaGlsZCA9PiBjaGlsZC5fcmVhZCgpKTtcblxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkVXBkYXRlID0gIShpZ25vcmVSZWN0VXBkYXRlICYmIHJlY3Qud2lkdGggJiYgcmVjdC5oZWlnaHQpO1xuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJlY3QocmVjdCwgZWxlbWVudCwgc3R5bGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZWFkZXJzXG4gICAgICAgICAgICBjb25zdCBhcGkgPSB7IHJvb3Q6IGludGVybmFsQVBJLCBwcm9wcywgcmVjdCB9O1xuICAgICAgICAgICAgcmVhZGVycy5mb3JFYWNoKHJlYWRlciA9PiByZWFkZXIoYXBpKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyaXRlIGRhdGEgdG8gRE9NXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBfd3JpdGUgPSAodHMsIGZyYW1lQWN0aW9ucywgc2hvdWxkT3B0aW1pemUpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIG5vIGFjdGlvbnMsIHdlIGFzc3VtZSB0aGF0IHRoZSB2aWV3IGlzIHJlc3RpbmdcbiAgICAgICAgICAgIGxldCByZXN0aW5nID0gZnJhbWVBY3Rpb25zLmxlbmd0aCA9PT0gMDtcblxuICAgICAgICAgICAgLy8gd3JpdGVyc1xuICAgICAgICAgICAgd3JpdGVycy5mb3JFYWNoKHdyaXRlciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVyUmVzdGluZyA9IHdyaXRlcih7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICByb290OiBpbnRlcm5hbEFQSSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogZnJhbWVBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRzLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRPcHRpbWl6ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAod3JpdGVyUmVzdGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBydW4gbWl4aW5zXG4gICAgICAgICAgICBhY3RpdmVNaXhpbnMuZm9yRWFjaChtaXhpbiA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgb25lIG9mIHRoZSBtaXhpbnMgaXMgc3RpbGwgYnVzeSBhZnRlciB3cml0ZSBvcGVyYXRpb24sIHdlIGFyZSBub3QgcmVzdGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IG1peGluUmVzdGluZyA9IG1peGluLndyaXRlKHRzKTtcbiAgICAgICAgICAgICAgICBpZiAobWl4aW5SZXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZXMgY2hpbGQgdmlld3MgdGhhdCBhcmUgY3VycmVudGx5IGF0dGFjaGVkIHRvIHRoZSBET01cbiAgICAgICAgICAgIGNoaWxkVmlld3NcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGNoaWxkID0+ICEhY2hpbGQuZWxlbWVudC5wYXJlbnROb2RlKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgYSBjaGlsZCB2aWV3IGlzIG5vdCByZXN0aW5nLCB3ZSBhcmUgbm90IHJlc3RpbmdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRSZXN0aW5nID0gY2hpbGQuX3dyaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZChjaGlsZCwgZnJhbWVBY3Rpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGRSZXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gYXBwZW5kIG5ldyBlbGVtZW50cyB0byBET00gYW5kIHVwZGF0ZSB0aG9zZVxuICAgICAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgICAgIC8vLmZpbHRlcihjaGlsZCA9PiAhY2hpbGQuZWxlbWVudC5wYXJlbnROb2RlKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcFxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgdG8gRE9NXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsQVBJLmFwcGVuZENoaWxkKGNoaWxkLmVsZW1lbnQsIGluZGV4KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIHJlYWQgKG5lZWQgdG8ga25vdyB0aGUgc2l6ZSBvZiB0aGVzZSBlbGVtZW50cylcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuX3JlYWQoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZS1jYWxsIHdyaXRlXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLl93cml0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQoY2hpbGQsIGZyYW1lQWN0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRPcHRpbWl6ZVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgYWRkZWQgc29tdGhpbmcgdG8gdGhlIGRvbSwgbm8gcmVzdFxuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSByZXN0aW5nIHN0YXRlXG4gICAgICAgICAgICBpc1Jlc3RpbmcgPSByZXN0aW5nO1xuXG4gICAgICAgICAgICBkaWRXcml0ZVZpZXcoe1xuICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IGZyYW1lQWN0aW9ucyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGxldCBwYXJlbnQga25vdyBpZiB3ZSBhcmUgcmVzdGluZ1xuICAgICAgICAgICAgcmV0dXJuIHJlc3Rpbmc7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgX2Rlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmVNaXhpbnMuZm9yRWFjaChtaXhpbiA9PiBtaXhpbi5kZXN0cm95KCkpO1xuICAgICAgICAgICAgZGVzdHJveWVycy5mb3JFYWNoKGRlc3Ryb3llciA9PiB7XG4gICAgICAgICAgICAgICAgZGVzdHJveWVyKHsgcm9vdDogaW50ZXJuYWxBUEksIHByb3BzIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaGlsZFZpZXdzLmZvckVhY2goY2hpbGQgPT4gY2hpbGQuX2Rlc3Ryb3koKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2hhcmVkQVBJXG4gICAgICAgIGNvbnN0IHNoYXJlZEFQSURlZmluaXRpb24gPSB7XG4gICAgICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXRFbGVtZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXRTdHlsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZFZpZXdzOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXRDaGlsZFZpZXdzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBwcml2YXRlIEFQSSBkZWZpbml0aW9uXG4gICAgICAgIGNvbnN0IGludGVybmFsQVBJRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIC4uLnNoYXJlZEFQSURlZmluaXRpb24sXG4gICAgICAgICAgICByZWN0OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXRSZWN0LFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gYWNjZXNzIHRvIGN1c3RvbSBjaGlsZHJlbiByZWZlcmVuY2VzXG4gICAgICAgICAgICByZWY6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldFJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIGRvbSBtb2RpZmllcnNcbiAgICAgICAgICAgIGlzOiBuZWVkbGUgPT4gbmFtZSA9PT0gbmVlZGxlLFxuICAgICAgICAgICAgYXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkKGVsZW1lbnQpLFxuICAgICAgICAgICAgY3JlYXRlQ2hpbGRWaWV3OiBjcmVhdGVDaGlsZFZpZXcoc3RvcmUpLFxuICAgICAgICAgICAgbGlua1ZpZXc6IHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkVmlld3MucHVzaCh2aWV3KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmxpbmtWaWV3OiB2aWV3ID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLnNwbGljZShjaGlsZFZpZXdzLmluZGV4T2YodmlldyksIDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFwcGVuZENoaWxkVmlldzogYXBwZW5kQ2hpbGRWaWV3KGVsZW1lbnQsIGNoaWxkVmlld3MpLFxuICAgICAgICAgICAgcmVtb3ZlQ2hpbGRWaWV3OiByZW1vdmVDaGlsZFZpZXcoZWxlbWVudCwgY2hpbGRWaWV3cyksXG4gICAgICAgICAgICByZWdpc3RlcldyaXRlcjogd3JpdGVyID0+IHdyaXRlcnMucHVzaCh3cml0ZXIpLFxuICAgICAgICAgICAgcmVnaXN0ZXJSZWFkZXI6IHJlYWRlciA9PiByZWFkZXJzLnB1c2gocmVhZGVyKSxcbiAgICAgICAgICAgIHJlZ2lzdGVyRGVzdHJveWVyOiBkZXN0cm95ZXIgPT4gZGVzdHJveWVycy5wdXNoKGRlc3Ryb3llciksXG4gICAgICAgICAgICBpbnZhbGlkYXRlTGF5b3V0OiAoKSA9PiAoZWxlbWVudC5sYXlvdXRDYWxjdWxhdGVkID0gZmFsc2UpLFxuXG4gICAgICAgICAgICAvLyBhY2Nlc3MgdG8gZGF0YSBzdG9yZVxuICAgICAgICAgICAgZGlzcGF0Y2g6IHN0b3JlLmRpc3BhdGNoLFxuICAgICAgICAgICAgcXVlcnk6IHN0b3JlLnF1ZXJ5LFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHB1YmxpYyB2aWV3IEFQSSBtZXRob2RzXG4gICAgICAgIGNvbnN0IGV4dGVybmFsQVBJRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldEVsZW1lbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRWaWV3czoge1xuICAgICAgICAgICAgICAgIGdldDogZ2V0Q2hpbGRWaWV3cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWN0OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXRSZWN0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3Rpbmc6IHtcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGlzUmVzdGluZyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1JlY3RJZ25vcmVkOiAoKSA9PiBpZ25vcmVSZWN0LFxuICAgICAgICAgICAgX3JlYWQsXG4gICAgICAgICAgICBfd3JpdGUsXG4gICAgICAgICAgICBfZGVzdHJveSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBtaXhpbiBBUEkgbWV0aG9kc1xuICAgICAgICBjb25zdCBtaXhpbkFQSURlZmluaXRpb24gPSB7XG4gICAgICAgICAgICAuLi5zaGFyZWRBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgcmVjdDoge1xuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcmVjdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYWRkIG1peGluIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgT2JqZWN0LmtleXMobWl4aW5zKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIHN0eWxlcyB0byB0aGUgYmFjayBvZiB0aGUgbWl4aW4gbGlzdCAoc28gYWRqdXN0bWVudHMgb2Ygb3RoZXIgbWl4aW5zIGFyZSBhcHBsaWVkIHRvIHRoZSBwcm9wcyBjb3JyZWN0bHkpXG4gICAgICAgICAgICAgICAgaWYgKGEgPT09ICdzdHlsZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gJ3N0eWxlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1peGluQVBJID0gTWl4aW5zW2tleV0oe1xuICAgICAgICAgICAgICAgICAgICBtaXhpbkNvbmZpZzogbWl4aW5zW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIHZpZXdQcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdTdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdJbnRlcm5hbEFQSTogaW50ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2aWV3RXh0ZXJuYWxBUEk6IGV4dGVybmFsQVBJRGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdmlldzogY3JlYXRlT2JqZWN0KG1peGluQVBJRGVmaW5pdGlvbiksXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWl4aW5BUEkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlTWl4aW5zLnB1c2gobWl4aW5BUEkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNvbnN0cnVjdCBwcml2YXRlIGFwaVxuICAgICAgICBjb25zdCBpbnRlcm5hbEFQSSA9IGNyZWF0ZU9iamVjdChpbnRlcm5hbEFQSURlZmluaXRpb24pO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgdmlld1xuICAgICAgICBjcmVhdGUoe1xuICAgICAgICAgICAgcm9vdDogaW50ZXJuYWxBUEksXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYXBwZW5kIGNyZWF0ZWQgY2hpbGQgdmlld3MgdG8gcm9vdCBub2RlXG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSBnZXRDaGlsZENvdW50KGVsZW1lbnQpOyAvLyBuZWVkIHRvIGtub3cgdGhlIGN1cnJlbnQgY2hpbGQgY291bnQgc28gYXBwZW5kaW5nIGhhcHBlbnMgaW4gY29ycmVjdCBvcmRlclxuICAgICAgICBjaGlsZFZpZXdzLmZvckVhY2goKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaW50ZXJuYWxBUEkuYXBwZW5kQ2hpbGQoY2hpbGQuZWxlbWVudCwgY2hpbGRDb3VudCArIGluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY2FsbCBkaWQgY3JlYXRlXG4gICAgICAgIGRpZENyZWF0ZVZpZXcoaW50ZXJuYWxBUEkpO1xuXG4gICAgICAgIC8vIGV4cG9zZSBwdWJsaWMgYXBpXG4gICAgICAgIHJldHVybiBjcmVhdGVPYmplY3QoZXh0ZXJuYWxBUElEZWZpbml0aW9uKTtcbiAgICB9O1xuXG5jb25zdCBjcmVhdGVQYWludGVyID0gKHJlYWQsIHdyaXRlLCBmcHMgPSA2MCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSAnX19mcmFtZVBhaW50ZXInO1xuXG4gICAgLy8gc2V0IGdsb2JhbCBwYWludGVyXG4gICAgaWYgKHdpbmRvd1tuYW1lXSkge1xuICAgICAgICB3aW5kb3dbbmFtZV0ucmVhZGVycy5wdXNoKHJlYWQpO1xuICAgICAgICB3aW5kb3dbbmFtZV0ud3JpdGVycy5wdXNoKHdyaXRlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvd1tuYW1lXSA9IHtcbiAgICAgICAgcmVhZGVyczogW3JlYWRdLFxuICAgICAgICB3cml0ZXJzOiBbd3JpdGVdLFxuICAgIH07XG5cbiAgICBjb25zdCBwYWludGVyID0gd2luZG93W25hbWVdO1xuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSAxMDAwIC8gZnBzO1xuICAgIGxldCBsYXN0ID0gbnVsbDtcbiAgICBsZXQgaWQgPSBudWxsO1xuICAgIGxldCByZXF1ZXN0VGljayA9IG51bGw7XG4gICAgbGV0IGNhbmNlbFRpY2sgPSBudWxsO1xuXG4gICAgY29uc3Qgc2V0VGltZXJUeXBlID0gKCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9ICgpID0+IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRpY2socGVyZm9ybWFuY2Uubm93KCkpLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICBjYW5jZWxUaWNrID0gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9ICgpID0+IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgICAgICAgICBjYW5jZWxUaWNrID0gKCkgPT4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4ge1xuICAgICAgICBpZiAoY2FuY2VsVGljaykgY2FuY2VsVGljaygpO1xuICAgICAgICBzZXRUaW1lclR5cGUoKTtcbiAgICAgICAgdGljayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0aWNrID0gdHMgPT4ge1xuICAgICAgICAvLyBxdWV1ZSBuZXh0IHRpY2tcbiAgICAgICAgaWQgPSByZXF1ZXN0VGljayh0aWNrKTtcblxuICAgICAgICAvLyBsaW1pdCBmcHNcbiAgICAgICAgaWYgKCFsYXN0KSB7XG4gICAgICAgICAgICBsYXN0ID0gdHM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWx0YSA9IHRzIC0gbGFzdDtcblxuICAgICAgICBpZiAoZGVsdGEgPD0gaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIC8vIHNraXAgZnJhbWVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsaWduIG5leHQgZnJhbWVcbiAgICAgICAgbGFzdCA9IHRzIC0gKGRlbHRhICUgaW50ZXJ2YWwpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB2aWV3XG4gICAgICAgIHBhaW50ZXIucmVhZGVycy5mb3JFYWNoKHJlYWQgPT4gcmVhZCgpKTtcbiAgICAgICAgcGFpbnRlci53cml0ZXJzLmZvckVhY2god3JpdGUgPT4gd3JpdGUodHMpKTtcbiAgICB9O1xuXG4gICAgc2V0VGltZXJUeXBlKCk7XG4gICAgdGljayhwZXJmb3JtYW5jZS5ub3coKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwYXVzZTogKCkgPT4ge1xuICAgICAgICAgICAgY2FuY2VsVGljayhpZCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbmNvbnN0IGNyZWF0ZVJvdXRlID0gKHJvdXRlcywgZm4pID0+ICh7IHJvb3QsIHByb3BzLCBhY3Rpb25zID0gW10sIHRpbWVzdGFtcCwgc2hvdWxkT3B0aW1pemUgfSkgPT4ge1xuICAgIGFjdGlvbnNcbiAgICAgICAgLmZpbHRlcihhY3Rpb24gPT4gcm91dGVzW2FjdGlvbi50eXBlXSlcbiAgICAgICAgLmZvckVhY2goYWN0aW9uID0+XG4gICAgICAgICAgICByb3V0ZXNbYWN0aW9uLnR5cGVdKHsgcm9vdCwgcHJvcHMsIGFjdGlvbjogYWN0aW9uLmRhdGEsIHRpbWVzdGFtcCwgc2hvdWxkT3B0aW1pemUgfSlcbiAgICAgICAgKTtcbiAgICBpZiAoZm4pIHtcbiAgICAgICAgZm4oeyByb290LCBwcm9wcywgYWN0aW9ucywgdGltZXN0YW1wLCBzaG91bGRPcHRpbWl6ZSB9KTtcbiAgICB9XG59O1xuXG5jb25zdCBpbnNlcnRCZWZvcmUgPSAobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkgPT5cbiAgICByZWZlcmVuY2VOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpO1xuXG5jb25zdCBpbnNlcnRBZnRlciA9IChuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSA9PiB7XG4gICAgcmV0dXJuIHJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZS5uZXh0U2libGluZyk7XG59O1xuXG5jb25zdCBpc0FycmF5ID0gdmFsdWUgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG5cbmNvbnN0IGlzRW1wdHkgPSB2YWx1ZSA9PiB2YWx1ZSA9PSBudWxsO1xuXG5jb25zdCB0cmltID0gc3RyID0+IHN0ci50cmltKCk7XG5cbmNvbnN0IHRvU3RyaW5nID0gdmFsdWUgPT4gJycgKyB2YWx1ZTtcblxuY29uc3QgdG9BcnJheSA9ICh2YWx1ZSwgc3BsaXR0ZXIgPSAnLCcpID0+IHtcbiAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpXG4gICAgICAgIC5zcGxpdChzcGxpdHRlcilcbiAgICAgICAgLm1hcCh0cmltKVxuICAgICAgICAuZmlsdGVyKHN0ciA9PiBzdHIubGVuZ3RoKTtcbn07XG5cbmNvbnN0IGlzQm9vbGVhbiA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xuXG5jb25zdCB0b0Jvb2xlYW4gPSB2YWx1ZSA9PiAoaXNCb29sZWFuKHZhbHVlKSA/IHZhbHVlIDogdmFsdWUgPT09ICd0cnVlJyk7XG5cbmNvbnN0IGlzU3RyaW5nID0gdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcblxuY29uc3QgdG9OdW1iZXIgPSB2YWx1ZSA9PlxuICAgIGlzTnVtYmVyKHZhbHVlKSA/IHZhbHVlIDogaXNTdHJpbmcodmFsdWUpID8gdG9TdHJpbmcodmFsdWUpLnJlcGxhY2UoL1thLXpdKy9naSwgJycpIDogMDtcblxuY29uc3QgdG9JbnQgPSB2YWx1ZSA9PiBwYXJzZUludCh0b051bWJlcih2YWx1ZSksIDEwKTtcblxuY29uc3QgdG9GbG9hdCA9IHZhbHVlID0+IHBhcnNlRmxvYXQodG9OdW1iZXIodmFsdWUpKTtcblxuY29uc3QgaXNJbnQgPSB2YWx1ZSA9PiBpc051bWJlcih2YWx1ZSkgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcblxuY29uc3QgdG9CeXRlcyA9ICh2YWx1ZSwgYmFzZSA9IDEwMDApID0+IHtcbiAgICAvLyBpcyBpbiBieXRlc1xuICAgIGlmIChpc0ludCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIGlzIG5hdHVyYWwgZmlsZSBzaXplXG4gICAgbGV0IG5hdHVyYWxGaWxlU2l6ZSA9IHRvU3RyaW5nKHZhbHVlKS50cmltKCk7XG5cbiAgICAvLyBpZiBpcyB2YWx1ZSBpbiBtZWdhYnl0ZXNcbiAgICBpZiAoL01CJC9pLnRlc3QobmF0dXJhbEZpbGVTaXplKSkge1xuICAgICAgICBuYXR1cmFsRmlsZVNpemUgPSBuYXR1cmFsRmlsZVNpemUucmVwbGFjZSgvTUIkaS8sICcnKS50cmltKCk7XG4gICAgICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpICogYmFzZSAqIGJhc2U7XG4gICAgfVxuXG4gICAgLy8gaWYgaXMgdmFsdWUgaW4ga2lsb2J5dGVzXG4gICAgaWYgKC9LQi9pLnRlc3QobmF0dXJhbEZpbGVTaXplKSkge1xuICAgICAgICBuYXR1cmFsRmlsZVNpemUgPSBuYXR1cmFsRmlsZVNpemUucmVwbGFjZSgvS0IkaS8sICcnKS50cmltKCk7XG4gICAgICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpICogYmFzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9JbnQobmF0dXJhbEZpbGVTaXplKTtcbn07XG5cbmNvbnN0IGlzRnVuY3Rpb24gPSB2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG5cbmNvbnN0IHRvRnVuY3Rpb25SZWZlcmVuY2UgPSBzdHJpbmcgPT4ge1xuICAgIGxldCByZWYgPSBzZWxmO1xuICAgIGxldCBsZXZlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcbiAgICBsZXQgbGV2ZWwgPSBudWxsO1xuICAgIHdoaWxlICgobGV2ZWwgPSBsZXZlbHMuc2hpZnQoKSkpIHtcbiAgICAgICAgcmVmID0gcmVmW2xldmVsXTtcbiAgICAgICAgaWYgKCFyZWYpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWY7XG59O1xuXG5jb25zdCBtZXRob2RzID0ge1xuICAgIHByb2Nlc3M6ICdQT1NUJyxcbiAgICBwYXRjaDogJ1BBVENIJyxcbiAgICByZXZlcnQ6ICdERUxFVEUnLFxuICAgIGZldGNoOiAnR0VUJyxcbiAgICByZXN0b3JlOiAnR0VUJyxcbiAgICBsb2FkOiAnR0VUJyxcbn07XG5cbmNvbnN0IGNyZWF0ZVNlcnZlckFQSSA9IG91dGxpbmUgPT4ge1xuICAgIGNvbnN0IGFwaSA9IHt9O1xuXG4gICAgYXBpLnVybCA9IGlzU3RyaW5nKG91dGxpbmUpID8gb3V0bGluZSA6IG91dGxpbmUudXJsIHx8ICcnO1xuICAgIGFwaS50aW1lb3V0ID0gb3V0bGluZS50aW1lb3V0ID8gcGFyc2VJbnQob3V0bGluZS50aW1lb3V0LCAxMCkgOiAwO1xuICAgIGFwaS5oZWFkZXJzID0gb3V0bGluZS5oZWFkZXJzID8gb3V0bGluZS5oZWFkZXJzIDoge307XG5cbiAgICBmb3JpbihtZXRob2RzLCBrZXkgPT4ge1xuICAgICAgICBhcGlba2V5XSA9IGNyZWF0ZUFjdGlvbihrZXksIG91dGxpbmVba2V5XSwgbWV0aG9kc1trZXldLCBhcGkudGltZW91dCwgYXBpLmhlYWRlcnMpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIHByb2Nlc3MgaWYgbm8gdXJsIG9yIHByb2Nlc3Mgb24gb3V0bGluZVxuICAgIGFwaS5wcm9jZXNzID0gb3V0bGluZS5wcm9jZXNzIHx8IGlzU3RyaW5nKG91dGxpbmUpIHx8IG91dGxpbmUudXJsID8gYXBpLnByb2Nlc3MgOiBudWxsO1xuXG4gICAgLy8gc3BlY2lhbCB0cmVhdG1lbnQgZm9yIHJlbW92ZVxuICAgIGFwaS5yZW1vdmUgPSBvdXRsaW5lLnJlbW92ZSB8fCBudWxsO1xuXG4gICAgLy8gcmVtb3ZlIGdlbmVyaWMgaGVhZGVycyBmcm9tIGFwaSBvYmplY3RcbiAgICBkZWxldGUgYXBpLmhlYWRlcnM7XG5cbiAgICByZXR1cm4gYXBpO1xufTtcblxuY29uc3QgY3JlYXRlQWN0aW9uID0gKG5hbWUsIG91dGxpbmUsIG1ldGhvZCwgdGltZW91dCwgaGVhZGVycykgPT4ge1xuICAgIC8vIGlzIGV4cGxpY2l0ZWx5IHNldCB0byBudWxsIHNvIGRpc2FibGVcbiAgICBpZiAob3V0bGluZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiBpcyBjdXN0b20gZnVuY3Rpb24sIGRvbmUhIERldiBoYW5kbGVzIGV2ZXJ5dGhpbmcuXG4gICAgaWYgKHR5cGVvZiBvdXRsaW5lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBvdXRsaW5lO1xuICAgIH1cblxuICAgIC8vIGJ1aWxkIGFjdGlvbiBvYmplY3RcbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICAgIHVybDogbWV0aG9kID09PSAnR0VUJyB8fCBtZXRob2QgPT09ICdQQVRDSCcgPyBgPyR7bmFtZX09YCA6ICcnLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgIHRpbWVvdXQsXG4gICAgICAgIG9ubG9hZDogbnVsbCxcbiAgICAgICAgb25kYXRhOiBudWxsLFxuICAgICAgICBvbmVycm9yOiBudWxsLFxuICAgIH07XG5cbiAgICAvLyBpcyBhIHNpbmdsZSB1cmxcbiAgICBpZiAoaXNTdHJpbmcob3V0bGluZSkpIHtcbiAgICAgICAgYWN0aW9uLnVybCA9IG91dGxpbmU7XG4gICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfVxuXG4gICAgLy8gb3ZlcndyaXRlXG4gICAgT2JqZWN0LmFzc2lnbihhY3Rpb24sIG91dGxpbmUpO1xuXG4gICAgLy8gc2VlIGlmIHNob3VsZCByZWZvcm1hdCBoZWFkZXJzO1xuICAgIGlmIChpc1N0cmluZyhhY3Rpb24uaGVhZGVycykpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBhY3Rpb24uaGVhZGVycy5zcGxpdCgvOiguKykvKTtcbiAgICAgICAgYWN0aW9uLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICBoZWFkZXI6IHBhcnRzWzBdLFxuICAgICAgICAgICAgdmFsdWU6IHBhcnRzWzFdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGlmIGlzIGJvb2wgd2l0aENyZWRlbnRpYWxzXG4gICAgYWN0aW9uLndpdGhDcmVkZW50aWFscyA9IHRvQm9vbGVhbihhY3Rpb24ud2l0aENyZWRlbnRpYWxzKTtcblxuICAgIHJldHVybiBhY3Rpb247XG59O1xuXG5jb25zdCB0b1NlcnZlckFQSSA9IHZhbHVlID0+IGNyZWF0ZVNlcnZlckFQSSh2YWx1ZSk7XG5cbmNvbnN0IGlzTnVsbCA9IHZhbHVlID0+IHZhbHVlID09PSBudWxsO1xuXG5jb25zdCBpc09iamVjdCA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGw7XG5cbmNvbnN0IGlzQVBJID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIGlzT2JqZWN0KHZhbHVlKSAmJlxuICAgICAgICBpc1N0cmluZyh2YWx1ZS51cmwpICYmXG4gICAgICAgIGlzT2JqZWN0KHZhbHVlLnByb2Nlc3MpICYmXG4gICAgICAgIGlzT2JqZWN0KHZhbHVlLnJldmVydCkgJiZcbiAgICAgICAgaXNPYmplY3QodmFsdWUucmVzdG9yZSkgJiZcbiAgICAgICAgaXNPYmplY3QodmFsdWUuZmV0Y2gpXG4gICAgKTtcbn07XG5cbmNvbnN0IGdldFR5cGUgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cblxuICAgIGlmIChpc051bGwodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuXG4gICAgaWYgKGlzSW50KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gJ2ludCc7XG4gICAgfVxuXG4gICAgaWYgKC9eWzAtOV0rID8oPzpHQnxNQnxLQikkL2dpLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnYnl0ZXMnO1xuICAgIH1cblxuICAgIGlmIChpc0FQSSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdhcGknO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgdmFsdWU7XG59O1xuXG5jb25zdCByZXBsYWNlU2luZ2xlUXVvdGVzID0gc3RyID0+XG4gICAgc3RyXG4gICAgICAgIC5yZXBsYWNlKC97XFxzKicvZywgJ3tcIicpXG4gICAgICAgIC5yZXBsYWNlKC8nXFxzKn0vZywgJ1wifScpXG4gICAgICAgIC5yZXBsYWNlKC8nXFxzKjovZywgJ1wiOicpXG4gICAgICAgIC5yZXBsYWNlKC86XFxzKicvZywgJzpcIicpXG4gICAgICAgIC5yZXBsYWNlKC8sXFxzKicvZywgJyxcIicpXG4gICAgICAgIC5yZXBsYWNlKC8nXFxzKiwvZywgJ1wiLCcpO1xuXG5jb25zdCBjb252ZXJzaW9uVGFibGUgPSB7XG4gICAgYXJyYXk6IHRvQXJyYXksXG4gICAgYm9vbGVhbjogdG9Cb29sZWFuLFxuICAgIGludDogdmFsdWUgPT4gKGdldFR5cGUodmFsdWUpID09PSAnYnl0ZXMnID8gdG9CeXRlcyh2YWx1ZSkgOiB0b0ludCh2YWx1ZSkpLFxuICAgIG51bWJlcjogdG9GbG9hdCxcbiAgICBmbG9hdDogdG9GbG9hdCxcbiAgICBieXRlczogdG9CeXRlcyxcbiAgICBzdHJpbmc6IHZhbHVlID0+IChpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogdG9TdHJpbmcodmFsdWUpKSxcbiAgICBmdW5jdGlvbjogdmFsdWUgPT4gdG9GdW5jdGlvblJlZmVyZW5jZSh2YWx1ZSksXG4gICAgc2VydmVyYXBpOiB0b1NlcnZlckFQSSxcbiAgICBvYmplY3Q6IHZhbHVlID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlcGxhY2VTaW5nbGVRdW90ZXModmFsdWUpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuY29uc3QgY29udmVydFRvID0gKHZhbHVlLCB0eXBlKSA9PiBjb252ZXJzaW9uVGFibGVbdHlwZV0odmFsdWUpO1xuXG5jb25zdCBnZXRWYWx1ZUJ5VHlwZSA9IChuZXdWYWx1ZSwgZGVmYXVsdFZhbHVlLCB2YWx1ZVR5cGUpID0+IHtcbiAgICAvLyBjYW4gYWx3YXlzIGFzc2lnbiBkZWZhdWx0IHZhbHVlXG4gICAgaWYgKG5ld1ZhbHVlID09PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgIH1cblxuICAgIC8vIGdldCB0aGUgdHlwZSBvZiB0aGUgbmV3IHZhbHVlXG4gICAgbGV0IG5ld1ZhbHVlVHlwZSA9IGdldFR5cGUobmV3VmFsdWUpO1xuXG4gICAgLy8gaXMgdmFsaWQgdHlwZT9cbiAgICBpZiAobmV3VmFsdWVUeXBlICE9PSB2YWx1ZVR5cGUpIHtcbiAgICAgICAgLy8gaXMgc3RyaW5nIGlucHV0LCBsZXQncyBhdHRlbXB0IHRvIGNvbnZlcnRcbiAgICAgICAgY29uc3QgY29udmVydGVkVmFsdWUgPSBjb252ZXJ0VG8obmV3VmFsdWUsIHZhbHVlVHlwZSk7XG5cbiAgICAgICAgLy8gd2hhdCBpcyB0aGUgdHlwZSBub3dcbiAgICAgICAgbmV3VmFsdWVUeXBlID0gZ2V0VHlwZShjb252ZXJ0ZWRWYWx1ZSk7XG5cbiAgICAgICAgLy8gbm8gdmFsaWQgY29udmVyc2lvbnMgZm91bmRcbiAgICAgICAgaWYgKGNvbnZlcnRlZFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBgVHJ5aW5nIHRvIGFzc2lnbiB2YWx1ZSB3aXRoIGluY29ycmVjdCB0eXBlIHRvIFwiJHtvcHRpb259XCIsIGFsbG93ZWQgdHlwZTogXCIke3ZhbHVlVHlwZX1cImA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvbnZlcnRlZFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYXNzaWduIG5ldyB2YWx1ZVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn07XG5cbmNvbnN0IGNyZWF0ZU9wdGlvbiA9IChkZWZhdWx0VmFsdWUsIHZhbHVlVHlwZSkgPT4ge1xuICAgIGxldCBjdXJyZW50VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBjdXJyZW50VmFsdWUsXG4gICAgICAgIHNldDogbmV3VmFsdWUgPT4ge1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gZ2V0VmFsdWVCeVR5cGUobmV3VmFsdWUsIGRlZmF1bHRWYWx1ZSwgdmFsdWVUeXBlKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuY29uc3QgY3JlYXRlT3B0aW9ucyA9IG9wdGlvbnMgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvcmluKG9wdGlvbnMsIHByb3AgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb25EZWZpbml0aW9uID0gb3B0aW9uc1twcm9wXTtcbiAgICAgICAgb2JqW3Byb3BdID0gY3JlYXRlT3B0aW9uKG9wdGlvbkRlZmluaXRpb25bMF0sIG9wdGlvbkRlZmluaXRpb25bMV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBjcmVhdGVPYmplY3Qob2JqKTtcbn07XG5cbmNvbnN0IGNyZWF0ZUluaXRpYWxTdGF0ZSA9IG9wdGlvbnMgPT4gKHtcbiAgICAvLyBtb2RlbFxuICAgIGl0ZW1zOiBbXSxcblxuICAgIC8vIHRpbWVvdXQgdXNlZCBmb3IgY2FsbGluZyB1cGRhdGUgaXRlbXNcbiAgICBsaXN0VXBkYXRlVGltZW91dDogbnVsbCxcblxuICAgIC8vIHRpbWVvdXQgdXNlZCBmb3Igc3RhY2tpbmcgbWV0YWRhdGEgdXBkYXRlc1xuICAgIGl0ZW1VcGRhdGVUaW1lb3V0OiBudWxsLFxuXG4gICAgLy8gcXVldWUgb2YgaXRlbXMgd2FpdGluZyB0byBiZSBwcm9jZXNzZWRcbiAgICBwcm9jZXNzaW5nUXVldWU6IFtdLFxuXG4gICAgLy8gb3B0aW9uc1xuICAgIG9wdGlvbnM6IGNyZWF0ZU9wdGlvbnMob3B0aW9ucyksXG59KTtcblxuY29uc3QgZnJvbUNhbWVscyA9IChzdHJpbmcsIHNlcGFyYXRvciA9ICctJykgPT5cbiAgICBzdHJpbmdcbiAgICAgICAgLnNwbGl0KC8oPz1bQS1aXSkvKVxuICAgICAgICAubWFwKHBhcnQgPT4gcGFydC50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuXG5jb25zdCBjcmVhdGVPcHRpb25BUEkgPSAoc3RvcmUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBmb3JpbihvcHRpb25zLCBrZXkgPT4ge1xuICAgICAgICBvYmpba2V5XSA9IHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gc3RvcmUuZ2V0U3RhdGUoKS5vcHRpb25zW2tleV0sXG4gICAgICAgICAgICBzZXQ6IHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChgU0VUXyR7ZnJvbUNhbWVscyhrZXksICdfJykudG9VcHBlckNhc2UoKX1gLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufTtcblxuY29uc3QgY3JlYXRlT3B0aW9uQWN0aW9ucyA9IG9wdGlvbnMgPT4gKGRpc3BhdGNoLCBxdWVyeSwgc3RhdGUpID0+IHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBmb3JpbihvcHRpb25zLCBrZXkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZnJvbUNhbWVscyhrZXksICdfJykudG9VcHBlckNhc2UoKTtcblxuICAgICAgICBvYmpbYFNFVF8ke25hbWV9YF0gPSBhY3Rpb24gPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zW2tleV0gPSBhY3Rpb24udmFsdWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gbm9wZSwgZmFpbGVkXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdlIHN1Y2Nlc3NmdWxseSBzZXQgdGhlIHZhbHVlIG9mIHRoaXMgb3B0aW9uXG4gICAgICAgICAgICBkaXNwYXRjaChgRElEX1NFVF8ke25hbWV9YCwgeyB2YWx1ZTogc3RhdGUub3B0aW9uc1trZXldIH0pO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBjcmVhdGVPcHRpb25RdWVyaWVzID0gb3B0aW9ucyA9PiBzdGF0ZSA9PiB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgZm9yaW4ob3B0aW9ucywga2V5ID0+IHtcbiAgICAgICAgb2JqW2BHRVRfJHtmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpfWBdID0gYWN0aW9uID0+IHN0YXRlLm9wdGlvbnNba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufTtcblxuY29uc3QgSW50ZXJhY3Rpb25NZXRob2QgPSB7XG4gICAgQVBJOiAxLFxuICAgIERST1A6IDIsXG4gICAgQlJPV1NFOiAzLFxuICAgIFBBU1RFOiA0LFxuICAgIE5PTkU6IDUsXG59O1xuXG5jb25zdCBnZXRVbmlxdWVJZCA9ICgpID0+XG4gICAgTWF0aC5yYW5kb20oKVxuICAgICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAgIC5zdWJzdHJpbmcoMiwgMTEpO1xuXG5jb25zdCBhcnJheVJlbW92ZSA9IChhcnIsIGluZGV4KSA9PiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcblxuY29uc3QgcnVuID0gKGNiLCBzeW5jKSA9PiB7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgICAgY2IoKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoMSkudGhlbihjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChjYiwgMCk7XG4gICAgfVxufTtcblxuY29uc3Qgb24gPSAoKSA9PiB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gW107XG4gICAgY29uc3Qgb2ZmID0gKGV2ZW50LCBjYikgPT4ge1xuICAgICAgICBhcnJheVJlbW92ZShcbiAgICAgICAgICAgIGxpc3RlbmVycyxcbiAgICAgICAgICAgIGxpc3RlbmVycy5maW5kSW5kZXgobGlzdGVuZXIgPT4gbGlzdGVuZXIuZXZlbnQgPT09IGV2ZW50ICYmIChsaXN0ZW5lci5jYiA9PT0gY2IgfHwgIWNiKSlcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIGNvbnN0IGZpcmUgPSAoZXZlbnQsIGFyZ3MsIHN5bmMpID0+IHtcbiAgICAgICAgbGlzdGVuZXJzXG4gICAgICAgICAgICAuZmlsdGVyKGxpc3RlbmVyID0+IGxpc3RlbmVyLmV2ZW50ID09PSBldmVudClcbiAgICAgICAgICAgIC5tYXAobGlzdGVuZXIgPT4gbGlzdGVuZXIuY2IpXG4gICAgICAgICAgICAuZm9yRWFjaChjYiA9PiBydW4oKCkgPT4gY2IoLi4uYXJncyksIHN5bmMpKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpcmVTeW5jOiAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGZpcmUoZXZlbnQsIGFyZ3MsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBmaXJlOiAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGZpcmUoZXZlbnQsIGFyZ3MsIGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb246IChldmVudCwgY2IpID0+IHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHsgZXZlbnQsIGNiIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbk9uY2U6IChldmVudCwgY2IpID0+IHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBjYjogKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb2ZmKGV2ZW50LCBjYik7XG4gICAgICAgICAgICAgICAgICAgIGNiKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb2ZmLFxuICAgIH07XG59O1xuXG5jb25zdCBjb3B5T2JqZWN0UHJvcGVydGllc1RvT2JqZWN0ID0gKHNyYywgdGFyZ2V0LCBleGNsdWRlZCkgPT4ge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNyYylcbiAgICAgICAgLmZpbHRlcihwcm9wZXJ0eSA9PiAhZXhjbHVkZWQuaW5jbHVkZXMocHJvcGVydHkpKVxuICAgICAgICAuZm9yRWFjaChrZXkgPT5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzcmMsIGtleSkpXG4gICAgICAgICk7XG59O1xuXG5jb25zdCBQUklWQVRFID0gW1xuICAgICdmaXJlJyxcbiAgICAncHJvY2VzcycsXG4gICAgJ3JldmVydCcsXG4gICAgJ2xvYWQnLFxuICAgICdvbicsXG4gICAgJ29mZicsXG4gICAgJ29uT25jZScsXG4gICAgJ3JldHJ5TG9hZCcsXG4gICAgJ2V4dGVuZCcsXG4gICAgJ2FyY2hpdmUnLFxuICAgICdhcmNoaXZlZCcsXG4gICAgJ3JlbGVhc2UnLFxuICAgICdyZWxlYXNlZCcsXG4gICAgJ3JlcXVlc3RQcm9jZXNzaW5nJyxcbiAgICAnZnJlZXplJyxcbl07XG5cbmNvbnN0IGNyZWF0ZUl0ZW1BUEkgPSBpdGVtID0+IHtcbiAgICBjb25zdCBhcGkgPSB7fTtcbiAgICBjb3B5T2JqZWN0UHJvcGVydGllc1RvT2JqZWN0KGl0ZW0sIGFwaSwgUFJJVkFURSk7XG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbmNvbnN0IHJlbW92ZVJlbGVhc2VkSXRlbXMgPSBpdGVtcyA9PiB7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGl0ZW0ucmVsZWFzZWQpIHtcbiAgICAgICAgICAgIGFycmF5UmVtb3ZlKGl0ZW1zLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmNvbnN0IEl0ZW1TdGF0dXMgPSB7XG4gICAgSU5JVDogMSxcbiAgICBJRExFOiAyLFxuICAgIFBST0NFU1NJTkdfUVVFVUVEOiA5LFxuICAgIFBST0NFU1NJTkc6IDMsXG4gICAgUFJPQ0VTU0lOR19DT01QTEVURTogNSxcbiAgICBQUk9DRVNTSU5HX0VSUk9SOiA2LFxuICAgIFBST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiAxMCxcbiAgICBMT0FESU5HOiA3LFxuICAgIExPQURfRVJST1I6IDgsXG59O1xuXG5jb25zdCBGaWxlT3JpZ2luID0ge1xuICAgIElOUFVUOiAxLFxuICAgIExJTUJPOiAyLFxuICAgIExPQ0FMOiAzLFxufTtcblxuY29uc3QgZ2V0Tm9uTnVtZXJpYyA9IHN0ciA9PiAvW14wLTldKy8uZXhlYyhzdHIpO1xuXG5jb25zdCBnZXREZWNpbWFsU2VwYXJhdG9yID0gKCkgPT4gZ2V0Tm9uTnVtZXJpYygoMS4xKS50b0xvY2FsZVN0cmluZygpKVswXTtcblxuY29uc3QgZ2V0VGhvdXNhbmRzU2VwYXJhdG9yID0gKCkgPT4ge1xuICAgIC8vIEFkZGVkIGZvciBicm93c2VycyB0aGF0IGRvIG5vdCByZXR1cm4gdGhlIHRob3VzYW5kcyBzZXBhcmF0b3IgKGhhcHBlbmQgb24gbmF0aXZlIGJyb3dzZXIgQW5kcm9pZCA0LjQuNClcbiAgICAvLyBXZSBjaGVjayBhZ2FpbnN0IHRoZSBub3JtYWwgdG9TdHJpbmcgb3V0cHV0IGFuZCBpZiB0aGV5J3JlIHRoZSBzYW1lIHJldHVybiBhIGNvbW1hIHdoZW4gZGVjaW1hbCBzZXBhcmF0b3IgaXMgYSBkb3RcbiAgICBjb25zdCBkZWNpbWFsU2VwYXJhdG9yID0gZ2V0RGVjaW1hbFNlcGFyYXRvcigpO1xuICAgIGNvbnN0IHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IgPSAoMTAwMC4wKS50b0xvY2FsZVN0cmluZygpO1xuICAgIGNvbnN0IHRob3VzYW5kc1N0cmluZ1dpdGhvdXRTZXBhcmF0b3IgPSAoMTAwMC4wKS50b1N0cmluZygpO1xuICAgIGlmICh0aG91c2FuZHNTdHJpbmdXaXRoU2VwYXJhdG9yICE9PSB0aG91c2FuZHNTdHJpbmdXaXRob3V0U2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBnZXROb25OdW1lcmljKHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IpWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZGVjaW1hbFNlcGFyYXRvciA9PT0gJy4nID8gJywnIDogJy4nO1xufTtcblxuY29uc3QgVHlwZSA9IHtcbiAgICBCT09MRUFOOiAnYm9vbGVhbicsXG4gICAgSU5UOiAnaW50JyxcbiAgICBOVU1CRVI6ICdudW1iZXInLFxuICAgIFNUUklORzogJ3N0cmluZycsXG4gICAgQVJSQVk6ICdhcnJheScsXG4gICAgT0JKRUNUOiAnb2JqZWN0JyxcbiAgICBGVU5DVElPTjogJ2Z1bmN0aW9uJyxcbiAgICBBQ1RJT046ICdhY3Rpb24nLFxuICAgIFNFUlZFUl9BUEk6ICdzZXJ2ZXJhcGknLFxuICAgIFJFR0VYOiAncmVnZXgnLFxufTtcblxuLy8gYWxsIHJlZ2lzdGVyZWQgZmlsdGVyc1xuY29uc3QgZmlsdGVycyA9IFtdO1xuXG4vLyBsb29wcyBvdmVyIG1hdGNoaW5nIGZpbHRlcnMgYW5kIHBhc3NlcyBvcHRpb25zIHRvIGVhY2ggZmlsdGVyLCByZXR1cm5pbmcgdGhlIG1hcHBlZCByZXN1bHRzXG5jb25zdCBhcHBseUZpbHRlckNoYWluID0gKGtleSwgdmFsdWUsIHV0aWxzKSA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gZmluZCBtYXRjaGluZyBmaWx0ZXJzIGZvciB0aGlzIGtleVxuICAgICAgICBjb25zdCBtYXRjaGluZ0ZpbHRlcnMgPSBmaWx0ZXJzLmZpbHRlcihmID0+IGYua2V5ID09PSBrZXkpLm1hcChmID0+IGYuY2IpO1xuXG4gICAgICAgIC8vIHJlc29sdmUgbm93XG4gICAgICAgIGlmIChtYXRjaGluZ0ZpbHRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IGZpbHRlciB0byBraWNrIHRoaW5ncyBvZlxuICAgICAgICBjb25zdCBpbml0aWFsRmlsdGVyID0gbWF0Y2hpbmdGaWx0ZXJzLnNoaWZ0KCk7XG5cbiAgICAgICAgLy8gY2hhaW4gZmlsdGVyc1xuICAgICAgICBtYXRjaGluZ0ZpbHRlcnNcbiAgICAgICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgLy8gbG9vcCBvdmVyIHByb21pc2VzIHBhc3NpbmcgdmFsdWUgdG8gbmV4dCBwcm9taXNlXG4gICAgICAgICAgICAgICAgKGN1cnJlbnQsIG5leHQpID0+IGN1cnJlbnQudGhlbih2YWx1ZSA9PiBuZXh0KHZhbHVlLCB1dGlscykpLFxuXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBpbml0aWFsIGZpbHRlciwgd2lsbCByZXR1cm4gYSBwcm9taXNlXG4gICAgICAgICAgICAgICAgaW5pdGlhbEZpbHRlcih2YWx1ZSwgdXRpbHMpXG5cbiAgICAgICAgICAgICAgICAvLyBhbGwgZXhlY3V0ZWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKHZhbHVlID0+IHJlc29sdmUodmFsdWUpKVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xuICAgIH0pO1xuXG5jb25zdCBhcHBseUZpbHRlcnMgPSAoa2V5LCB2YWx1ZSwgdXRpbHMpID0+XG4gICAgZmlsdGVycy5maWx0ZXIoZiA9PiBmLmtleSA9PT0ga2V5KS5tYXAoZiA9PiBmLmNiKHZhbHVlLCB1dGlscykpO1xuXG4vLyBhZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgbGlzdFxuY29uc3QgYWRkRmlsdGVyID0gKGtleSwgY2IpID0+IGZpbHRlcnMucHVzaCh7IGtleSwgY2IgfSk7XG5cbmNvbnN0IGV4dGVuZERlZmF1bHRPcHRpb25zID0gYWRkaXRpb25hbE9wdGlvbnMgPT4gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgYWRkaXRpb25hbE9wdGlvbnMpO1xuXG5jb25zdCBnZXRPcHRpb25zID0gKCkgPT4gKHsgLi4uZGVmYXVsdE9wdGlvbnMgfSk7XG5cbmNvbnN0IHNldE9wdGlvbnMgPSBvcHRzID0+IHtcbiAgICBmb3JpbihvcHRzLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAvLyBrZXkgZG9lcyBub3QgZXhpc3QsIHNvIHRoaXMgb3B0aW9uIGNhbm5vdCBiZSBzZXRcbiAgICAgICAgaWYgKCFkZWZhdWx0T3B0aW9uc1trZXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVswXSA9IGdldFZhbHVlQnlUeXBlKFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uc1trZXldWzBdLFxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVsxXVxuICAgICAgICApO1xuICAgIH0pO1xufTtcblxuLy8gZGVmYXVsdCBvcHRpb25zIG9uIGFwcFxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgLy8gdGhlIGlkIHRvIGFkZCB0byB0aGUgcm9vdCBlbGVtZW50XG4gICAgaWQ6IFtudWxsLCBUeXBlLlNUUklOR10sXG5cbiAgICAvLyBpbnB1dCBmaWVsZCBuYW1lIHRvIHVzZVxuICAgIG5hbWU6IFsnZmlsZXBvbmQnLCBUeXBlLlNUUklOR10sXG5cbiAgICAvLyBkaXNhYmxlIHRoZSBmaWVsZFxuICAgIGRpc2FibGVkOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBjbGFzc25hbWUgdG8gcHV0IG9uIHdyYXBwZXJcbiAgICBjbGFzc05hbWU6IFtudWxsLCBUeXBlLlNUUklOR10sXG5cbiAgICAvLyBpcyB0aGUgZmllbGQgcmVxdWlyZWRcbiAgICByZXF1aXJlZDogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgLy8gQWxsb3cgbWVkaWEgY2FwdHVyZSB3aGVuIHZhbHVlIGlzIHNldFxuICAgIGNhcHR1cmVNZXRob2Q6IFtudWxsLCBUeXBlLlNUUklOR10sXG4gICAgLy8gLSBcImNhbWVyYVwiLCBcIm1pY3JvcGhvbmVcIiBvciBcImNhbWNvcmRlclwiLFxuICAgIC8vIC0gRG9lcyBub3Qgd29yayB3aXRoIG11bHRpcGxlIG9uIGFwcGxlIGRldmljZXNcbiAgICAvLyAtIElmIHNldCwgYWNjZXB0ZWRGaWxlVHlwZXMgbXVzdCBiZSBtYWRlIHRvIG1hdGNoIHdpdGggbWVkaWEgd2lsZGNhcmQgXCJpbWFnZS8qXCIsIFwiYXVkaW8vKlwiIG9yIFwidmlkZW8vKlwiXG5cbiAgICAvLyBzeW5jIGBhY2NlcHRlZEZpbGVUeXBlc2AgcHJvcGVydHkgd2l0aCBgYWNjZXB0YCBhdHRyaWJ1dGVcbiAgICBhbGxvd1N5bmNBY2NlcHRBdHRyaWJ1dGU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgLy8gRmVhdHVyZSB0b2dnbGVzXG4gICAgYWxsb3dEcm9wOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgZHJvcHBpbmcgb2YgZmlsZXNcbiAgICBhbGxvd0Jyb3dzZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IGJyb3dzaW5nIHRoZSBmaWxlIHN5c3RlbVxuICAgIGFsbG93UGFzdGU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBwYXN0aW5nIGZpbGVzXG4gICAgYWxsb3dNdWx0aXBsZTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBtdWx0aXBsZSBmaWxlcyAoZGlzYWJsZWQgYnkgZGVmYXVsdCwgYXMgbXVsdGlwbGUgYXR0cmlidXRlIGlzIGFsc28gcmVxdWlyZWQgb24gaW5wdXQgdG8gYWxsb3cgbXVsdGlwbGUpXG4gICAgYWxsb3dSZXBsYWNlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgZHJvcHBpbmcgYSBmaWxlIG9uIG90aGVyIGZpbGUgdG8gcmVwbGFjZSBpdCAob25seSB3b3JrcyB3aGVuIG11bHRpcGxlIGlzIHNldCB0byBmYWxzZSlcbiAgICBhbGxvd1JldmVydDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93cyB1c2VyIHRvIHJldmVydCBmaWxlIHVwbG9hZFxuICAgIGFsbG93UmVtb3ZlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgdXNlciB0byByZW1vdmUgYSBmaWxlXG4gICAgYWxsb3dQcm9jZXNzOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3dzIHVzZXIgdG8gcHJvY2VzcyBhIGZpbGUsIHdoZW4gc2V0IHRvIGZhbHNlLCB0aGlzIHJlbW92ZXMgdGhlIGZpbGUgdXBsb2FkIGJ1dHRvblxuICAgIGFsbG93UmVvcmRlcjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyByZW9yZGVyaW5nIG9mIGZpbGVzXG4gICAgYWxsb3dEaXJlY3Rvcmllc09ubHk6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgb25seSBzZWxlY3RpbmcgZGlyZWN0b3JpZXMgd2l0aCBicm93c2UgKG5vIHN1cHBvcnQgZm9yIGZpbHRlcmluZyBkbmQgYXQgdGhpcyBwb2ludClcblxuICAgIC8vIFRyeSBzdG9yZSBmaWxlIGlmIGBzZXJ2ZXJgIG5vdCBzZXRcbiAgICBzdG9yZUFzRmlsZTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgLy8gUmV2ZXJ0IG1vZGVcbiAgICBmb3JjZVJldmVydDogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBTZXQgdG8gJ2ZvcmNlJyB0byByZXF1aXJlIHRoZSBmaWxlIHRvIGJlIHJldmVydGVkIGJlZm9yZSByZW1vdmFsXG5cbiAgICAvLyBJbnB1dCByZXF1aXJlbWVudHNcbiAgICBtYXhGaWxlczogW251bGwsIFR5cGUuSU5UXSwgLy8gTWF4IG51bWJlciBvZiBmaWxlc1xuICAgIGNoZWNrVmFsaWRpdHk6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRW5hYmxlcyBjdXN0b20gdmFsaWRpdHkgbWVzc2FnZXNcblxuICAgIC8vIFdoZXJlIHRvIHB1dCBmaWxlXG4gICAgaXRlbUluc2VydExvY2F0aW9uRnJlZWRvbTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIFNldCB0byBmYWxzZSB0byBhbHdheXMgYWRkIGl0ZW1zIHRvIGJlZ2luIG9yIGVuZCBvZiBsaXN0XG4gICAgaXRlbUluc2VydExvY2F0aW9uOiBbJ2JlZm9yZScsIFR5cGUuU1RSSU5HXSwgLy8gRGVmYXVsdCBpbmRleCBpbiBsaXN0IHRvIGFkZCBpdGVtcyB0aGF0IGhhdmUgYmVlbiBkcm9wcGVkIGF0IHRoZSB0b3Agb2YgdGhlIGxpc3RcbiAgICBpdGVtSW5zZXJ0SW50ZXJ2YWw6IFs3NSwgVHlwZS5JTlRdLFxuXG4gICAgLy8gRHJhZyAnbiBEcm9wIHJlbGF0ZWRcbiAgICBkcm9wT25QYWdlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IGRyb3BwaW5nIG9mIGZpbGVzIGFueXdoZXJlIG9uIHBhZ2UgKHByZXZlbnRzIGJyb3dzZXIgZnJvbSBvcGVuaW5nIGZpbGUgaWYgZHJvcHBlZCBvdXRzaWRlIG9mIFVwKVxuICAgIGRyb3BPbkVsZW1lbnQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBEcm9wIG5lZWRzIHRvIGhhcHBlbiBvbiBlbGVtZW50IChzZXQgdG8gZmFsc2UgdG8gYWxzbyBsb2FkIGRyb3BzIG91dHNpZGUgb2YgVXApXG4gICAgZHJvcFZhbGlkYXRpb246IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRW5hYmxlIG9yIGRpc2FibGUgdmFsaWRhdGluZyBmaWxlcyBvbiBkcm9wXG4gICAgaWdub3JlZEZpbGVzOiBbWycuZHNfc3RvcmUnLCAndGh1bWJzLmRiJywgJ2Rlc2t0b3AuaW5pJ10sIFR5cGUuQVJSQVldLFxuXG4gICAgLy8gVXBsb2FkIHJlbGF0ZWRcbiAgICBpbnN0YW50VXBsb2FkOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gU2hvdWxkIHVwbG9hZCBmaWxlcyBpbW1lZGlhdGVseSBvbiBkcm9wXG4gICAgbWF4UGFyYWxsZWxVcGxvYWRzOiBbMiwgVHlwZS5JTlRdLCAvLyBNYXhpbXVtIGZpbGVzIHRvIHVwbG9hZCBpbiBwYXJhbGxlbFxuICAgIGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gaWYgdHJ1ZSB1cGxvYWRzIHRha2UgYXQgbGVhc3QgNzUwIG1zLCB0aGlzIGVuc3VyZXMgdGhlIHVzZXIgc2VlcyB0aGUgdXBsb2FkIHByb2dyZXNzIGdpdmluZyB0cnVzdCB0aGUgdXBsb2FkIGFjdHVhbGx5IGhhcHBlbmVkXG5cbiAgICAvLyBDaHVua3NcbiAgICBjaHVua1VwbG9hZHM6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRW5hYmxlIGNodW5rZWQgdXBsb2Fkc1xuICAgIGNodW5rRm9yY2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRm9yY2UgdXNlIG9mIGNodW5rIHVwbG9hZHMgZXZlbiBmb3IgZmlsZXMgc21hbGxlciB0aGFuIGNodW5rIHNpemVcbiAgICBjaHVua1NpemU6IFs1MDAwMDAwLCBUeXBlLklOVF0sIC8vIFNpemUgb2YgY2h1bmtzICg1TUIgZGVmYXVsdClcbiAgICBjaHVua1JldHJ5RGVsYXlzOiBbWzUwMCwgMTAwMCwgMzAwMF0sIFR5cGUuQVJSQVldLCAvLyBBbW91bnQgb2YgdGltZXMgdG8gcmV0cnkgdXBsb2FkIG9mIGEgY2h1bmsgd2hlbiBpdCBmYWlsc1xuXG4gICAgLy8gVGhlIHNlcnZlciBhcGkgZW5kIHBvaW50cyB0byB1c2UgZm9yIHVwbG9hZGluZyAoc2VlIGRvY3MpXG4gICAgc2VydmVyOiBbbnVsbCwgVHlwZS5TRVJWRVJfQVBJXSxcblxuICAgIC8vIEZpbGUgc2l6ZSBjYWxjdWxhdGlvbnMsIGNhbiBzZXQgdG8gMTAyNCwgdGhpcyBpcyBvbmx5IHVzZWQgZm9yIGRpc3BsYXksIHByb3BlcnRpZXMgdXNlIGZpbGUgc2l6ZSBiYXNlIDEwMDBcbiAgICBmaWxlU2l6ZUJhc2U6IFsxMDAwLCBUeXBlLklOVF0sXG5cbiAgICAvLyBMYWJlbHMgYW5kIHN0YXR1cyBtZXNzYWdlc1xuICAgIGxhYmVsRmlsZVNpemVCeXRlczogWydieXRlcycsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVTaXplS2lsb2J5dGVzOiBbJ0tCJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVNpemVNZWdhYnl0ZXM6IFsnTUInLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlU2l6ZUdpZ2FieXRlczogWydHQicsIFR5cGUuU1RSSU5HXSxcblxuICAgIGxhYmVsRGVjaW1hbFNlcGFyYXRvcjogW2dldERlY2ltYWxTZXBhcmF0b3IoKSwgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGlzIGxvY2FsZSBzZXBhcmF0b3JcbiAgICBsYWJlbFRob3VzYW5kc1NlcGFyYXRvcjogW2dldFRob3VzYW5kc1NlcGFyYXRvcigpLCBUeXBlLlNUUklOR10sIC8vIERlZmF1bHQgaXMgbG9jYWxlIHNlcGFyYXRvclxuXG4gICAgbGFiZWxJZGxlOiBbXG4gICAgICAgICdEcmFnICYgRHJvcCB5b3VyIGZpbGVzIG9yIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPkJyb3dzZTwvc3Bhbj4nLFxuICAgICAgICBUeXBlLlNUUklORyxcbiAgICBdLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiBbJ0ZpZWxkIGNvbnRhaW5zIGludmFsaWQgZmlsZXMnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6IFsnV2FpdGluZyBmb3Igc2l6ZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiBbJ1NpemUgbm90IGF2YWlsYWJsZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVDb3VudFNpbmd1bGFyOiBbJ2ZpbGUgaW4gbGlzdCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVDb3VudFBsdXJhbDogWydmaWxlcyBpbiBsaXN0JywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6IFsnTG9hZGluZycsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVBZGRlZDogWydBZGRlZCcsIFR5cGUuU1RSSU5HXSwgLy8gYXNzaXN0aXZlIG9ubHlcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6IFsnRXJyb3IgZHVyaW5nIGxvYWQnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUmVtb3ZlZDogWydSZW1vdmVkJywgVHlwZS5TVFJJTkddLCAvLyBhc3Npc3RpdmUgb25seVxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiBbJ0Vycm9yIGR1cmluZyByZW1vdmUnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogWydVcGxvYWRpbmcnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiBbJ1VwbG9hZCBjb21wbGV0ZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogWydVcGxvYWQgY2FuY2VsbGVkJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogWydFcnJvciBkdXJpbmcgdXBsb2FkJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogWydFcnJvciBkdXJpbmcgcmV2ZXJ0JywgVHlwZS5TVFJJTkddLFxuXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogWyd0YXAgdG8gY2FuY2VsJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogWyd0YXAgdG8gcmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxUYXBUb1VuZG86IFsndGFwIHRvIHVuZG8nLCBUeXBlLlNUUklOR10sXG5cbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06IFsnUmVtb3ZlJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogWydBYm9ydCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6IFsnUmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiBbJ0NhbmNlbCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogWydVbmRvJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogWydSZXRyeScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiBbJ1VwbG9hZCcsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIG1ha2Ugc3VyZSB3aWR0aCBhbmQgaGVpZ2h0IHBsdXMgdmlld3BveCBhcmUgZXZlbiBudW1iZXJzIHNvIGljb25zIGFyZSBuaWNlbHkgY2VudGVyZWRcbiAgICBpY29uUmVtb3ZlOiBbXG4gICAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS41ODYgMTNsLTIuMjkzIDIuMjkzYTEgMSAwIDAgMCAxLjQxNCAxLjQxNEwxMyAxNC40MTRsMi4yOTMgMi4yOTNhMSAxIDAgMCAwIDEuNDE0LTEuNDE0TDE0LjQxNCAxM2wyLjI5My0yLjI5M2ExIDEgMCAwIDAtMS40MTQtMS40MTRMMTMgMTEuNTg2bC0yLjI5My0yLjI5M2ExIDEgMCAwIDAtMS40MTQgMS40MTRMMTEuNTg2IDEzelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICAgIFR5cGUuU1RSSU5HLFxuICAgIF0sXG4gICAgaWNvblByb2Nlc3M6IFtcbiAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE0IDEwLjQxNHYzLjU4NWExIDEgMCAwIDEtMiAwdi0zLjU4NWwtMS4yOTMgMS4yOTNhMSAxIDAgMCAxLTEuNDE0LTEuNDE1bDMtM2ExIDEgMCAwIDEgMS40MTQgMGwzIDNhMSAxIDAgMCAxLTEuNDE0IDEuNDE1TDE0IDEwLjQxNHpNOSAxOGExIDEgMCAwIDEgMC0yaDhhMSAxIDAgMCAxIDAgMkg5elwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPicsXG4gICAgICAgIFR5cGUuU1RSSU5HLFxuICAgIF0sXG4gICAgaWNvblJldHJ5OiBbXG4gICAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMC44MSA5LjE4NWwtLjAzOC4wMkE0Ljk5NyA0Ljk5NyAwIDAgMCA4IDEzLjY4M2E1IDUgMCAwIDAgNSA1IDUgNSAwIDAgMCA1LTUgMSAxIDAgMCAxIDIgMEE3IDcgMCAxIDEgOS43MjIgNy40OTZsLS44NDItLjIxYS45OTkuOTk5IDAgMSAxIC40ODQtMS45NGwzLjIzLjgwNmMuNTM1LjEzMy44Ni42NzUuNzMgMS4yMWwtLjgwNCAzLjIzM2EuOTk3Ljk5NyAwIDAgMS0xLjIxLjczLjk5Ny45OTcgMCAwIDEtLjczLTEuMjFsLjIzLS45Mjh2LS4wMDJ6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+JyxcbiAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgXSxcbiAgICBpY29uVW5kbzogW1xuICAgICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOS4xODUgMTAuODFsLjAyLS4wMzhBNC45OTcgNC45OTcgMCAwIDEgMTMuNjgzIDhhNSA1IDAgMCAxIDUgNSA1IDUgMCAwIDEtNSA1IDEgMSAwIDAgMCAwIDJBNyA3IDAgMSAwIDcuNDk2IDkuNzIybC0uMjEtLjg0MmEuOTk5Ljk5OSAwIDEgMC0xLjk0LjQ4NGwuODA2IDMuMjNjLjEzMy41MzUuNjc1Ljg2IDEuMjEuNzNsMy4yMzMtLjgwM2EuOTk3Ljk5NyAwIDAgMCAuNzMtMS4yMS45OTcuOTk3IDAgMCAwLTEuMjEtLjczbC0uOTI4LjIzLS4wMDItLjAwMXpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgICBUeXBlLlNUUklORyxcbiAgICBdLFxuICAgIGljb25Eb25lOiBbXG4gICAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xOC4yOTMgOS4yOTNhMSAxIDAgMCAxIDEuNDE0IDEuNDE0bC03LjAwMiA3YTEgMSAwIDAgMS0xLjQxNCAwbC0zLjk5OC00YTEgMSAwIDEgMSAxLjQxNC0xLjQxNEwxMiAxNS41ODZsNi4yOTQtNi4yOTN6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+JyxcbiAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgXSxcblxuICAgIC8vIGV2ZW50IGhhbmRsZXJzXG4gICAgb25pbml0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb253YXJuaW5nOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25lcnJvcjogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9uYWN0aXZhdGVmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25pbml0ZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9uYWRkZmlsZXN0YXJ0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25hZGRmaWxlcHJvZ3Jlc3M6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmFkZGZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByb2Nlc3NmaWxlc3RhcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByb2Nlc3NmaWxlcHJvZ3Jlc3M6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByb2Nlc3NmaWxlYWJvcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByb2Nlc3NmaWxlcmV2ZXJ0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcm9jZXNzZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25yZW1vdmVmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcmVwYXJlZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9udXBkYXRlZmlsZXM6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnJlb3JkZXJmaWxlczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgLy8gaG9va3NcbiAgICBiZWZvcmVEcm9wRmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIGJlZm9yZUFkZEZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBiZWZvcmVSZW1vdmVGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgYmVmb3JlUHJlcGFyZUZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgIC8vIHN0eWxlc1xuICAgIHN0eWxlUGFuZWxMYXlvdXQ6IFtudWxsLCBUeXBlLlNUUklOR10sIC8vIG51bGwgJ2ludGVncmF0ZWQnLCAnY29tcGFjdCcsICdjaXJjbGUnXG4gICAgc3R5bGVQYW5lbEFzcGVjdFJhdGlvOiBbbnVsbCwgVHlwZS5TVFJJTkddLCAvLyBudWxsIG9yICczOjInIG9yIDFcbiAgICBzdHlsZUl0ZW1QYW5lbEFzcGVjdFJhdGlvOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlQnV0dG9uUmVtb3ZlSXRlbVBvc2l0aW9uOiBbJ2xlZnQnLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVCdXR0b25Qcm9jZXNzSXRlbVBvc2l0aW9uOiBbJ3JpZ2h0JywgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlTG9hZEluZGljYXRvclBvc2l0aW9uOiBbJ3JpZ2h0JywgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbjogWydyaWdodCcsIFR5cGUuU1RSSU5HXSxcbiAgICBzdHlsZUJ1dHRvblJlbW92ZUl0ZW1BbGlnbjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgLy8gY3VzdG9tIGluaXRpYWwgZmlsZXMgYXJyYXlcbiAgICBmaWxlczogW1tdLCBUeXBlLkFSUkFZXSxcblxuICAgIC8vIHNob3cgc3VwcG9ydCBieSBkaXNwbGF5aW5nIGNyZWRpdHNcbiAgICBjcmVkaXRzOiBbWydodHRwczovL3BxaW5hLm5sLycsICdQb3dlcmVkIGJ5IFBRSU5BJ10sIFR5cGUuQVJSQVldLFxufTtcblxuY29uc3QgZ2V0SXRlbUJ5UXVlcnkgPSAoaXRlbXMsIHF1ZXJ5KSA9PiB7XG4gICAgLy8ganVzdCByZXR1cm4gZmlyc3QgaW5kZXhcbiAgICBpZiAoaXNFbXB0eShxdWVyeSkpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zWzBdIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLy8gcXVlcnkgaXMgaW5kZXhcbiAgICBpZiAoaXNJbnQocXVlcnkpKSB7XG4gICAgICAgIHJldHVybiBpdGVtc1txdWVyeV0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiBxdWVyeSBpcyBpdGVtLCBnZXQgdGhlIGlkXG4gICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5pZDtcbiAgICB9XG5cbiAgICAvLyBhc3N1bWUgcXVlcnkgaXMgYSBzdHJpbmcgYW5kIHJldHVybiBpdGVtIGJ5IGlkXG4gICAgcmV0dXJuIGl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBxdWVyeSkgfHwgbnVsbDtcbn07XG5cbmNvbnN0IGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcgPSBhc3BlY3RSYXRpbyA9PiB7XG4gICAgaWYgKGlzRW1wdHkoYXNwZWN0UmF0aW8pKSB7XG4gICAgICAgIHJldHVybiBhc3BlY3RSYXRpbztcbiAgICB9XG4gICAgaWYgKC86Ly50ZXN0KGFzcGVjdFJhdGlvKSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGFzcGVjdFJhdGlvLnNwbGl0KCc6Jyk7XG4gICAgICAgIHJldHVybiBwYXJ0c1sxXSAvIHBhcnRzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VGbG9hdChhc3BlY3RSYXRpbyk7XG59O1xuXG5jb25zdCBnZXRBY3RpdmVJdGVtcyA9IGl0ZW1zID0+IGl0ZW1zLmZpbHRlcihpdGVtID0+ICFpdGVtLmFyY2hpdmVkKTtcblxuY29uc3QgU3RhdHVzID0ge1xuICAgIEVNUFRZOiAwLFxuICAgIElETEU6IDEsIC8vIHdhaXRpbmdcbiAgICBFUlJPUjogMiwgLy8gYSBmaWxlIGlzIGluIGVycm9yIHN0YXRlXG4gICAgQlVTWTogMywgLy8gYnVzeSBwcm9jZXNzaW5nIG9yIGxvYWRpbmdcbiAgICBSRUFEWTogNCwgLy8gYWxsIGZpbGVzIHVwbG9hZGVkXG59O1xuXG5sZXQgcmVzID0gbnVsbDtcbmNvbnN0IGNhblVwZGF0ZUZpbGVJbnB1dCA9ICgpID0+IHtcbiAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBuZXcgRGF0YVRyYW5zZmVyKCk7XG4gICAgICAgICAgICBkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKG5ldyBGaWxlKFsnaGVsbG8gd29ybGQnXSwgJ1RoaXNfV29ya3MudHh0JykpO1xuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2ZpbGUnKTtcbiAgICAgICAgICAgIGVsLmZpbGVzID0gZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgICAgICAgICAgcmVzID0gZWwuZmlsZXMubGVuZ3RoID09PSAxO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuXG5jb25zdCBJVEVNX0VSUk9SID0gW1xuICAgIEl0ZW1TdGF0dXMuTE9BRF9FUlJPUixcbiAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1IsXG4gICAgSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUixcbl07XG5jb25zdCBJVEVNX0JVU1kgPSBbXG4gICAgSXRlbVN0YXR1cy5MT0FESU5HLFxuICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lORyxcbiAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVELFxuICAgIEl0ZW1TdGF0dXMuSU5JVCxcbl07XG5jb25zdCBJVEVNX1JFQURZID0gW0l0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURV07XG5cbmNvbnN0IGlzSXRlbUluRXJyb3JTdGF0ZSA9IGl0ZW0gPT4gSVRFTV9FUlJPUi5pbmNsdWRlcyhpdGVtLnN0YXR1cyk7XG5jb25zdCBpc0l0ZW1JbkJ1c3lTdGF0ZSA9IGl0ZW0gPT4gSVRFTV9CVVNZLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKTtcbmNvbnN0IGlzSXRlbUluUmVhZHlTdGF0ZSA9IGl0ZW0gPT4gSVRFTV9SRUFEWS5pbmNsdWRlcyhpdGVtLnN0YXR1cyk7XG5cbmNvbnN0IGlzQXN5bmMgPSBzdGF0ZSA9PlxuICAgIGlzT2JqZWN0KHN0YXRlLm9wdGlvbnMuc2VydmVyKSAmJlxuICAgIChpc09iamVjdChzdGF0ZS5vcHRpb25zLnNlcnZlci5wcm9jZXNzKSB8fCBpc0Z1bmN0aW9uKHN0YXRlLm9wdGlvbnMuc2VydmVyLnByb2Nlc3MpKTtcblxuY29uc3QgcXVlcmllcyA9IHN0YXRlID0+ICh7XG4gICAgR0VUX1NUQVRVUzogKCkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtcyA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKTtcblxuICAgICAgICBjb25zdCB7IEVNUFRZLCBFUlJPUiwgQlVTWSwgSURMRSwgUkVBRFkgfSA9IFN0YXR1cztcblxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm4gRU1QVFk7XG5cbiAgICAgICAgaWYgKGl0ZW1zLnNvbWUoaXNJdGVtSW5FcnJvclN0YXRlKSkgcmV0dXJuIEVSUk9SO1xuXG4gICAgICAgIGlmIChpdGVtcy5zb21lKGlzSXRlbUluQnVzeVN0YXRlKSkgcmV0dXJuIEJVU1k7XG5cbiAgICAgICAgaWYgKGl0ZW1zLnNvbWUoaXNJdGVtSW5SZWFkeVN0YXRlKSkgcmV0dXJuIFJFQURZO1xuXG4gICAgICAgIHJldHVybiBJRExFO1xuICAgIH0sXG5cbiAgICBHRVRfSVRFTTogcXVlcnkgPT4gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KSxcblxuICAgIEdFVF9BQ1RJVkVfSVRFTTogcXVlcnkgPT4gZ2V0SXRlbUJ5UXVlcnkoZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLCBxdWVyeSksXG5cbiAgICBHRVRfQUNUSVZFX0lURU1TOiAoKSA9PiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyksXG5cbiAgICBHRVRfSVRFTVM6ICgpID0+IHN0YXRlLml0ZW1zLFxuXG4gICAgR0VUX0lURU1fTkFNRTogcXVlcnkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLmZpbGVuYW1lIDogbnVsbDtcbiAgICB9LFxuXG4gICAgR0VUX0lURU1fU0laRTogcXVlcnkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLmZpbGVTaXplIDogbnVsbDtcbiAgICB9LFxuXG4gICAgR0VUX1NUWUxFUzogKCkgPT5cbiAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUub3B0aW9ucylcbiAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IC9ec3R5bGUvLnRlc3Qoa2V5KSlcbiAgICAgICAgICAgIC5tYXAob3B0aW9uID0+ICh7XG4gICAgICAgICAgICAgICAgbmFtZTogb3B0aW9uLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS5vcHRpb25zW29wdGlvbl0sXG4gICAgICAgICAgICB9KSksXG5cbiAgICBHRVRfUEFORUxfQVNQRUNUX1JBVElPOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzU2hhcGVDaXJjbGUgPSAvY2lyY2xlLy50ZXN0KHN0YXRlLm9wdGlvbnMuc3R5bGVQYW5lbExheW91dCk7XG4gICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gaXNTaGFwZUNpcmNsZVxuICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICA6IGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcoc3RhdGUub3B0aW9ucy5zdHlsZVBhbmVsQXNwZWN0UmF0aW8pO1xuICAgICAgICByZXR1cm4gYXNwZWN0UmF0aW87XG4gICAgfSxcblxuICAgIEdFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTzogKCkgPT4gc3RhdGUub3B0aW9ucy5zdHlsZUl0ZW1QYW5lbEFzcGVjdFJhdGlvLFxuXG4gICAgR0VUX0lURU1TX0JZX1NUQVRVUzogc3RhdHVzID0+XG4gICAgICAgIGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5maWx0ZXIoaXRlbSA9PiBpdGVtLnN0YXR1cyA9PT0gc3RhdHVzKSxcblxuICAgIEdFVF9UT1RBTF9JVEVNUzogKCkgPT4gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLmxlbmd0aCxcblxuICAgIFNIT1VMRF9VUERBVEVfRklMRV9JTlBVVDogKCkgPT5cbiAgICAgICAgc3RhdGUub3B0aW9ucy5zdG9yZUFzRmlsZSAmJiBjYW5VcGRhdGVGaWxlSW5wdXQoKSAmJiAhaXNBc3luYyhzdGF0ZSksXG5cbiAgICBJU19BU1lOQzogKCkgPT4gaXNBc3luYyhzdGF0ZSksXG5cbiAgICBHRVRfRklMRV9TSVpFX0xBQkVMUzogcXVlcnkgPT4gKHtcbiAgICAgICAgbGFiZWxCeXRlczogcXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfQllURVMnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGxhYmVsS2lsb2J5dGVzOiBxdWVyeSgnR0VUX0xBQkVMX0ZJTEVfU0laRV9LSUxPQllURVMnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGxhYmVsTWVnYWJ5dGVzOiBxdWVyeSgnR0VUX0xBQkVMX0ZJTEVfU0laRV9NRUdBQllURVMnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGxhYmVsR2lnYWJ5dGVzOiBxdWVyeSgnR0VUX0xBQkVMX0ZJTEVfU0laRV9HSUdBQllURVMnKSB8fCB1bmRlZmluZWQsXG4gICAgfSksXG59KTtcblxuY29uc3QgaGFzUm9vbUZvckl0ZW0gPSBzdGF0ZSA9PiB7XG4gICAgY29uc3QgY291bnQgPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykubGVuZ3RoO1xuXG4gICAgLy8gaWYgY2Fubm90IGhhdmUgbXVsdGlwbGUgaXRlbXMsIHRvIGFkZCBvbmUgaXRlbSBpdCBzaG91bGQgY3VycmVudGx5IG5vdCBjb250YWluIGl0ZW1zXG4gICAgaWYgKCFzdGF0ZS5vcHRpb25zLmFsbG93TXVsdGlwbGUpIHtcbiAgICAgICAgcmV0dXJuIGNvdW50ID09PSAwO1xuICAgIH1cblxuICAgIC8vIGlmIGFsbG93cyBtdWx0aXBsZSBpdGVtcywgd2UgY2hlY2sgaWYgYSBtYXggaXRlbSBjb3VudCBoYXMgYmVlbiBzZXQsIGlmIG5vdCwgdGhlcmUncyBubyBsaW1pdFxuICAgIGNvbnN0IG1heEZpbGVDb3VudCA9IHN0YXRlLm9wdGlvbnMubWF4RmlsZXM7XG4gICAgaWYgKG1heEZpbGVDb3VudCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB3ZSBjaGVjayBpZiB0aGUgY3VycmVudCBjb3VudCBpcyBzbWFsbGVyIHRoYW4gdGhlIG1heCBjb3VudCwgaWYgc28sIGFub3RoZXIgZmlsZSBjYW4gc3RpbGwgYmUgYWRkZWRcbiAgICBpZiAoY291bnQgPCBtYXhGaWxlQ291bnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gbm8gbW9yZSByb29tIGZvciBhbm90aGVyIGZpbGVcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBsaW1pdCA9ICh2YWx1ZSwgbWluLCBtYXgpID0+IE1hdGgubWF4KE1hdGgubWluKG1heCwgdmFsdWUpLCBtaW4pO1xuXG5jb25zdCBhcnJheUluc2VydCA9IChhcnIsIGluZGV4LCBpdGVtKSA9PiBhcnIuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcblxuY29uc3QgaW5zZXJ0SXRlbSA9IChpdGVtcywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICBpZiAoaXNFbXB0eShpdGVtKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiBpbmRleCBpcyB1bmRlZmluZWQsIGFwcGVuZFxuICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cblxuICAgIC8vIGxpbWl0IHRoZSBpbmRleCB0byB0aGUgc2l6ZSBvZiB0aGUgaXRlbXMgYXJyYXlcbiAgICBpbmRleCA9IGxpbWl0KGluZGV4LCAwLCBpdGVtcy5sZW5ndGgpO1xuXG4gICAgLy8gYWRkIGl0ZW0gdG8gYXJyYXlcbiAgICBhcnJheUluc2VydChpdGVtcywgaW5kZXgsIGl0ZW0pO1xuXG4gICAgLy8gZXhwb3NlXG4gICAgcmV0dXJuIGl0ZW07XG59O1xuXG5jb25zdCBpc0Jhc2U2NERhdGFVUkkgPSBzdHIgPT5cbiAgICAvXlxccypkYXRhOihbYS16XStcXC9bYS16MC05LSsuXSsoO1thLXotXSs9W2EtejAtOS1dKyk/KT8oO2Jhc2U2NCk/LChbYS16MC05ISQmJywoKSorOz1cXC0uX346QFxcLz8lXFxzXSopXFxzKiQvaS50ZXN0KFxuICAgICAgICBzdHJcbiAgICApO1xuXG5jb25zdCBnZXRGaWxlbmFtZUZyb21VUkwgPSB1cmwgPT5cbiAgICB1cmxcbiAgICAgICAgLnNwbGl0KCcvJylcbiAgICAgICAgLnBvcCgpXG4gICAgICAgIC5zcGxpdCgnPycpXG4gICAgICAgIC5zaGlmdCgpO1xuXG5jb25zdCBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUgPSBuYW1lID0+IG5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcblxuY29uc3QgZ3Vlc3N0aW1hdGVFeHRlbnNpb24gPSB0eXBlID0+IHtcbiAgICAvLyBpZiBubyBleHRlbnNpb24gc3VwcGxpZWQsIGV4aXQgaGVyZVxuICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIGdldCBzdWJ0eXBlXG4gICAgY29uc3Qgc3VidHlwZSA9IHR5cGUuc3BsaXQoJy8nKS5wb3AoKTtcblxuICAgIC8vIGlzIHN2ZyBzdWJ0eXBlXG4gICAgaWYgKC9zdmcvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgICAgcmV0dXJuICdzdmcnO1xuICAgIH1cblxuICAgIGlmICgvemlwfGNvbXByZXNzZWQvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgICAgcmV0dXJuICd6aXAnO1xuICAgIH1cblxuICAgIGlmICgvcGxhaW4vLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgICAgcmV0dXJuICd0eHQnO1xuICAgIH1cblxuICAgIGlmICgvbXN3b3JkLy50ZXN0KHN1YnR5cGUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jJztcbiAgICB9XG5cbiAgICAvLyBpZiBpcyB2YWxpZCBzdWJ0eXBlXG4gICAgaWYgKC9bYS16XSsvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgICAgLy8gYWx3YXlzIHVzZSBqcGcgZXh0ZW5zaW9uXG4gICAgICAgIGlmIChzdWJ0eXBlID09PSAnanBlZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnanBnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiBzdWJ0eXBlXG4gICAgICAgIHJldHVybiBzdWJ0eXBlO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbn07XG5cbmNvbnN0IGxlZnRQYWQgPSAodmFsdWUsIHBhZGRpbmcgPSAnJykgPT4gKHBhZGRpbmcgKyB2YWx1ZSkuc2xpY2UoLXBhZGRpbmcubGVuZ3RoKTtcblxuY29uc3QgZ2V0RGF0ZVN0cmluZyA9IChkYXRlID0gbmV3IERhdGUoKSkgPT5cbiAgICBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7bGVmdFBhZChkYXRlLmdldE1vbnRoKCkgKyAxLCAnMDAnKX0tJHtsZWZ0UGFkKFxuICAgICAgICBkYXRlLmdldERhdGUoKSxcbiAgICAgICAgJzAwJ1xuICAgICl9XyR7bGVmdFBhZChkYXRlLmdldEhvdXJzKCksICcwMCcpfS0ke2xlZnRQYWQoZGF0ZS5nZXRNaW51dGVzKCksICcwMCcpfS0ke2xlZnRQYWQoXG4gICAgICAgIGRhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgICAnMDAnXG4gICAgKX1gO1xuXG5jb25zdCBnZXRGaWxlRnJvbUJsb2IgPSAoYmxvYiwgZmlsZW5hbWUsIHR5cGUgPSBudWxsLCBleHRlbnNpb24gPSBudWxsKSA9PiB7XG4gICAgY29uc3QgZmlsZSA9XG4gICAgICAgIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBibG9iLnNsaWNlKDAsIGJsb2Iuc2l6ZSwgdHlwZSlcbiAgICAgICAgICAgIDogYmxvYi5zbGljZSgwLCBibG9iLnNpemUsIGJsb2IudHlwZSk7XG4gICAgZmlsZS5sYXN0TW9kaWZpZWREYXRlID0gbmV3IERhdGUoKTtcblxuICAgIC8vIGNvcHkgcmVsYXRpdmUgcGF0aFxuICAgIGlmIChibG9iLl9yZWxhdGl2ZVBhdGgpIGZpbGUuX3JlbGF0aXZlUGF0aCA9IGJsb2IuX3JlbGF0aXZlUGF0aDtcblxuICAgIC8vIGlmIGJsb2IgaGFzIG5hbWUgcHJvcGVydHksIHVzZSBhcyBmaWxlbmFtZSBpZiBubyBmaWxlbmFtZSBzdXBwbGllZFxuICAgIGlmICghaXNTdHJpbmcoZmlsZW5hbWUpKSB7XG4gICAgICAgIGZpbGVuYW1lID0gZ2V0RGF0ZVN0cmluZygpO1xuICAgIH1cblxuICAgIC8vIGlmIGZpbGVuYW1lIHN1cHBsaWVkIGJ1dCBubyBleHRlbnNpb24gYW5kIGZpbGVuYW1lIGhhcyBleHRlbnNpb25cbiAgICBpZiAoZmlsZW5hbWUgJiYgZXh0ZW5zaW9uID09PSBudWxsICYmIGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZShmaWxlbmFtZSkpIHtcbiAgICAgICAgZmlsZS5uYW1lID0gZmlsZW5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uIHx8IGd1ZXNzdGltYXRlRXh0ZW5zaW9uKGZpbGUudHlwZSk7XG4gICAgICAgIGZpbGUubmFtZSA9IGZpbGVuYW1lICsgKGV4dGVuc2lvbiA/ICcuJyArIGV4dGVuc2lvbiA6ICcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsZTtcbn07XG5cbmNvbnN0IGdldEJsb2JCdWlsZGVyID0gKCkgPT4ge1xuICAgIHJldHVybiAod2luZG93LkJsb2JCdWlsZGVyID1cbiAgICAgICAgd2luZG93LkJsb2JCdWlsZGVyIHx8XG4gICAgICAgIHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlciB8fFxuICAgICAgICB3aW5kb3cuTW96QmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgd2luZG93Lk1TQmxvYkJ1aWxkZXIpO1xufTtcblxuY29uc3QgY3JlYXRlQmxvYiA9IChhcnJheUJ1ZmZlciwgbWltZVR5cGUpID0+IHtcbiAgICBjb25zdCBCQiA9IGdldEJsb2JCdWlsZGVyKCk7XG5cbiAgICBpZiAoQkIpIHtcbiAgICAgICAgY29uc3QgYmIgPSBuZXcgQkIoKTtcbiAgICAgICAgYmIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGJiLmdldEJsb2IobWltZVR5cGUpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQmxvYihbYXJyYXlCdWZmZXJdLCB7XG4gICAgICAgIHR5cGU6IG1pbWVUeXBlLFxuICAgIH0pO1xufTtcblxuY29uc3QgZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlID0gKGJ5dGVTdHJpbmcsIG1pbWVUeXBlKSA9PiB7XG4gICAgY29uc3QgYWIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICAgIGNvbnN0IGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVCbG9iKGFiLCBtaW1lVHlwZSk7XG59O1xuXG5jb25zdCBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJID0gZGF0YVVSSSA9PiB7XG4gICAgcmV0dXJuICgvXmRhdGE6KC4rKTsvLmV4ZWMoZGF0YVVSSSkgfHwgW10pWzFdIHx8IG51bGw7XG59O1xuXG5jb25zdCBnZXRCYXNlNjREYXRhRnJvbUJhc2U2NERhdGFVUkkgPSBkYXRhVVJJID0+IHtcbiAgICAvLyBnZXQgZGF0YSBwYXJ0IG9mIHN0cmluZyAocmVtb3ZlIGRhdGE6aW1hZ2UvanBlZy4uLiwpXG4gICAgY29uc3QgZGF0YSA9IGRhdGFVUkkuc3BsaXQoJywnKVsxXTtcblxuICAgIC8vIHJlbW92ZSBhbnkgd2hpdGVzcGFjZSBhcyB0aGF0IGNhdXNlcyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IgaW4gSUVcbiAgICByZXR1cm4gZGF0YS5yZXBsYWNlKC9cXHMvZywgJycpO1xufTtcblxuY29uc3QgZ2V0Qnl0ZVN0cmluZ0Zyb21CYXNlNjREYXRhVVJJID0gZGF0YVVSSSA9PiB7XG4gICAgcmV0dXJuIGF0b2IoZ2V0QmFzZTY0RGF0YUZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpKTtcbn07XG5cbmNvbnN0IGdldEJsb2JGcm9tQmFzZTY0RGF0YVVSSSA9IGRhdGFVUkkgPT4ge1xuICAgIGNvbnN0IG1pbWVUeXBlID0gZ2V0TWltZVR5cGVGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKTtcbiAgICBjb25zdCBieXRlU3RyaW5nID0gZ2V0Qnl0ZVN0cmluZ0Zyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpO1xuXG4gICAgcmV0dXJuIGdldEJsb2JGcm9tQnl0ZVN0cmluZ1dpdGhNaW1lVHlwZShieXRlU3RyaW5nLCBtaW1lVHlwZSk7XG59O1xuXG5jb25zdCBnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkgPSAoZGF0YVVSSSwgZmlsZW5hbWUsIGV4dGVuc2lvbikgPT4ge1xuICAgIHJldHVybiBnZXRGaWxlRnJvbUJsb2IoZ2V0QmxvYkZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpLCBmaWxlbmFtZSwgbnVsbCwgZXh0ZW5zaW9uKTtcbn07XG5cbmNvbnN0IGdldEZpbGVOYW1lRnJvbUhlYWRlciA9IGhlYWRlciA9PiB7XG4gICAgLy8gdGVzdCBpZiBpcyBjb250ZW50IGRpc3Bvc2l0aW9uIGhlYWRlciwgaWYgbm90IGV4aXRcbiAgICBpZiAoIS9eY29udGVudC1kaXNwb3NpdGlvbjovaS50ZXN0KGhlYWRlcikpIHJldHVybiBudWxsO1xuXG4gICAgLy8gZ2V0IGZpbGVuYW1lIHBhcnRzXG4gICAgY29uc3QgbWF0Y2hlcyA9IGhlYWRlclxuICAgICAgICAuc3BsaXQoL2ZpbGVuYW1lPXxmaWxlbmFtZVxcKj0uKycnLylcbiAgICAgICAgLnNwbGljZSgxKVxuICAgICAgICAubWFwKG5hbWUgPT4gbmFtZS50cmltKCkucmVwbGFjZSgvXltcIiddfFs7XCInXXswLDJ9JC9nLCAnJykpXG4gICAgICAgIC5maWx0ZXIobmFtZSA9PiBuYW1lLmxlbmd0aCk7XG5cbiAgICByZXR1cm4gbWF0Y2hlcy5sZW5ndGggPyBkZWNvZGVVUkkobWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdKSA6IG51bGw7XG59O1xuXG5jb25zdCBnZXRGaWxlU2l6ZUZyb21IZWFkZXIgPSBoZWFkZXIgPT4ge1xuICAgIGlmICgvY29udGVudC1sZW5ndGg6L2kudGVzdChoZWFkZXIpKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBoZWFkZXIubWF0Y2goL1swLTldKy8pWzBdO1xuICAgICAgICByZXR1cm4gc2l6ZSA/IHBhcnNlSW50KHNpemUsIDEwKSA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgZ2V0VHJhbmZzZXJJZEZyb21IZWFkZXIgPSBoZWFkZXIgPT4ge1xuICAgIGlmICgveC1jb250ZW50LXRyYW5zZmVyLWlkOi9pLnRlc3QoaGVhZGVyKSkge1xuICAgICAgICBjb25zdCBpZCA9IChoZWFkZXIuc3BsaXQoJzonKVsxXSB8fCAnJykudHJpbSgpO1xuICAgICAgICByZXR1cm4gaWQgfHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzID0gaGVhZGVycyA9PiB7XG4gICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICBzaXplOiBudWxsLFxuICAgIH07XG5cbiAgICBjb25zdCByb3dzID0gaGVhZGVycy5zcGxpdCgnXFxuJyk7XG4gICAgZm9yIChsZXQgaGVhZGVyIG9mIHJvd3MpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGdldEZpbGVOYW1lRnJvbUhlYWRlcihoZWFkZXIpO1xuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgaW5mby5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2l6ZSA9IGdldEZpbGVTaXplRnJvbUhlYWRlcihoZWFkZXIpO1xuICAgICAgICBpZiAoc2l6ZSkge1xuICAgICAgICAgICAgaW5mby5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gZ2V0VHJhbmZzZXJJZEZyb21IZWFkZXIoaGVhZGVyKTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgaW5mby5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmZvO1xufTtcblxuY29uc3QgY3JlYXRlRmlsZUxvYWRlciA9IGZldGNoRm4gPT4ge1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgIHNpemU6IG51bGwsXG4gICAgICAgIHRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgIHJlcXVlc3Q6IG51bGwsXG4gICAgfTtcblxuICAgIGNvbnN0IGdldFByb2dyZXNzID0gKCkgPT4gc3RhdGUucHJvZ3Jlc3M7XG4gICAgY29uc3QgYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5yZXF1ZXN0ICYmIHN0YXRlLnJlcXVlc3QuYWJvcnQpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBsb2FkIHNvdXJjZVxuICAgIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIGdldCBxdWljayByZWZlcmVuY2VcbiAgICAgICAgY29uc3Qgc291cmNlID0gc3RhdGUuc291cmNlO1xuXG4gICAgICAgIGFwaS5maXJlKCdpbml0Jywgc291cmNlKTtcblxuICAgICAgICAvLyBMb2FkIEZpbGVzXG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgLy8gTG9hZCBibG9icywgc2V0IGRlZmF1bHQgbmFtZSB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgICAgIGFwaS5maXJlKCdsb2FkJywgZ2V0RmlsZUZyb21CbG9iKHNvdXJjZSwgc291cmNlLm5hbWUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgICAgICAgLy8gTG9hZCBiYXNlIDY0LCBzZXQgZGVmYXVsdCBuYW1lIHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkoc291cmNlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFsIGFzIGlmIGlzIGV4dGVybmFsIFVSTCwgbGV0J3MgbG9hZCBpdCFcbiAgICAgICAgICAgIGxvYWRVUkwoc291cmNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBsb2FkcyBhIHVybFxuICAgIGNvbnN0IGxvYWRVUkwgPSB1cmwgPT4ge1xuICAgICAgICAvLyBpcyByZW1vdGUgdXJsIGFuZCBubyBmZXRjaCBtZXRob2Qgc3VwcGxpZWRcbiAgICAgICAgaWYgKCFmZXRjaEZuKSB7XG4gICAgICAgICAgICBhcGkuZmlyZSgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBib2R5OiBcIkNhbid0IGxvYWQgVVJMXCIsXG4gICAgICAgICAgICAgICAgY29kZTogNDAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgcmVxdWVzdCBzdGFydFxuICAgICAgICBzdGF0ZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIC8vIGxvYWQgZmlsZVxuICAgICAgICBzdGF0ZS5yZXF1ZXN0ID0gZmV0Y2hGbihcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgICAgICAgIHN0YXRlLmNvbXBsZXRlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIHR1cm4gYmxvYiByZXNwb25zZSBpbnRvIGEgZmlsZVxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBnZXRGaWxlRnJvbUJsb2IocmVzcG9uc2UsIHJlc3BvbnNlLm5hbWUgfHwgZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFwaS5maXJlKFxuICAgICAgICAgICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGhhcyByZWNlaXZlZCBibG9iLCB3ZSBnbyB3aXRoIGJsb2IsIGlmIG5vIHJlc3BvbnNlLCB3ZSByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSBpbnN0YW5jZW9mIEJsb2IgPyByZXNwb25zZSA6IHJlc3BvbnNlID8gcmVzcG9uc2UuYm9keSA6IG51bGxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBhcGkuZmlyZShcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IGVycm9yXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoY29tcHV0YWJsZSwgY3VycmVudCwgdG90YWwpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0ZWQgc29tZSBtZXRhIGRhdGEgYWxyZWFkeVxuICAgICAgICAgICAgICAgIGlmICh0b3RhbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zaXplID0gdG90YWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgc3RhdGUuZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhdGUudGltZXN0YW1wO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgY2FuJ3QgY29tcHV0ZSBwcm9ncmVzcywgd2UncmUgbm90IGdvaW5nIHRvIGZpcmUgcHJvZ3Jlc3MgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKCFjb21wdXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBwcm9ncmVzcyBwZXJjZW50YWdlXG4gICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBjdXJyZW50IC8gdG90YWw7XG5cbiAgICAgICAgICAgICAgICAvLyBleHBvc2VcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgncHJvZ3Jlc3MnLCBzdGF0ZS5wcm9ncmVzcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFwaS5maXJlKCdhYm9ydCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlaW5mbyA9IGdldEZpbGVJbmZvRnJvbUhlYWRlcnMoXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZSA9PT0gJ3N0cmluZycgPyByZXNwb25zZSA6IHJlc3BvbnNlLmhlYWRlcnNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGFwaS5maXJlKCdtZXRhJywge1xuICAgICAgICAgICAgICAgICAgICBzaXplOiBzdGF0ZS5zaXplIHx8IGZpbGVpbmZvLnNpemUsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlaW5mby5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGZpbGVpbmZvLnNvdXJjZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBpID0ge1xuICAgICAgICAuLi5vbigpLFxuICAgICAgICBzZXRTb3VyY2U6IHNvdXJjZSA9PiAoc3RhdGUuc291cmNlID0gc291cmNlKSxcbiAgICAgICAgZ2V0UHJvZ3Jlc3MsIC8vIGZpbGUgbG9hZCBwcm9ncmVzc1xuICAgICAgICBhYm9ydCwgLy8gYWJvcnQgZmlsZSBsb2FkXG4gICAgICAgIGxvYWQsIC8vIHN0YXJ0IGxvYWRcbiAgICB9O1xuXG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbmNvbnN0IGlzR2V0ID0gbWV0aG9kID0+IC9HRVR8SEVBRC8udGVzdChtZXRob2QpO1xuXG5jb25zdCBzZW5kUmVxdWVzdCA9IChkYXRhLCB1cmwsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBhcGkgPSB7XG4gICAgICAgIG9uaGVhZGVyczogKCkgPT4ge30sXG4gICAgICAgIG9ucHJvZ3Jlc3M6ICgpID0+IHt9LFxuICAgICAgICBvbmxvYWQ6ICgpID0+IHt9LFxuICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHt9LFxuICAgICAgICBvbmVycm9yOiAoKSA9PiB7fSxcbiAgICAgICAgb25hYm9ydDogKCkgPT4ge30sXG4gICAgICAgIGFib3J0OiAoKSA9PiB7XG4gICAgICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICAvLyB0aW1lb3V0IGlkZW50aWZpZXIsIG9ubHkgdXNlZCB3aGVuIHRpbWVvdXQgaXMgZGVmaW5lZFxuICAgIGxldCBhYm9ydGVkID0gZmFsc2U7XG4gICAgbGV0IGhlYWRlcnNSZWNlaXZlZCA9IGZhbHNlO1xuXG4gICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICB9O1xuXG4gICAgLy8gZW5jb2RlIHVybFxuICAgIHVybCA9IGVuY29kZVVSSSh1cmwpO1xuXG4gICAgLy8gaWYgbWV0aG9kIGlzIEdFVCwgYWRkIGFueSByZWNlaXZlZCBkYXRhIHRvIHVybFxuXG4gICAgaWYgKGlzR2V0KG9wdGlvbnMubWV0aG9kKSAmJiBkYXRhKSB7XG4gICAgICAgIHVybCA9IGAke3VybH0ke2VuY29kZVVSSUNvbXBvbmVudCh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSkpfWA7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIHJlcXVlc3RcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIHByb2dyZXNzIG9mIGxvYWRcbiAgICBjb25zdCBwcm9jZXNzID0gaXNHZXQob3B0aW9ucy5tZXRob2QpID8geGhyIDogeGhyLnVwbG9hZDtcbiAgICBwcm9jZXNzLm9ucHJvZ3Jlc3MgPSBlID0+IHtcbiAgICAgICAgLy8gbm8gcHJvZ3Jlc3MgZXZlbnQgd2hlbiBhYm9ydGVkICggb25wcm9ncmVzcyBpcyBjYWxsZWQgb25jZSBhZnRlciBhYm9ydCgpIClcbiAgICAgICAgaWYgKGFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFwaS5vbnByb2dyZXNzKGUubGVuZ3RoQ29tcHV0YWJsZSwgZS5sb2FkZWQsIGUudG90YWwpO1xuICAgIH07XG5cbiAgICAvLyB0cmllcyB0byBnZXQgaGVhZGVyIGluZm8gdG8gdGhlIGFwcCBhcyBmYXN0IGFzIHBvc3NpYmxlXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgLy8gbm90IGludGVyZXN0aW5nIGluIHRoZXNlIHN0YXRlcyAoJ3Vuc2VudCcgYW5kICdvcGVuZW5kJyBhcyB0aGV5IGRvbid0IGdpdmUgdXMgYW55IGFkZGl0aW9uYWwgaW5mbylcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gc2VydmVyIHJlc3BvbnNlXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiB4aHIuc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVhZGVyc1JlY2VpdmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzUmVjZWl2ZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIHdlJ3ZlIHByb2JhYmx5IHJlY2VpdmVkIHNvbWUgdXNlZnVsIGRhdGEgaW4gcmVzcG9uc2UgaGVhZGVyc1xuICAgICAgICBhcGkub25oZWFkZXJzKHhocik7XG4gICAgfTtcblxuICAgIC8vIGxvYWQgc3VjY2Vzc2Z1bFxuICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIGlzIGNsYXNzaWZpZWQgYXMgdmFsaWQgcmVzcG9uc2VcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgIGFwaS5vbmxvYWQoeGhyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwaS5vbmVycm9yKHhocik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZXJyb3IgZHVyaW5nIGxvYWRcbiAgICB4aHIub25lcnJvciA9ICgpID0+IGFwaS5vbmVycm9yKHhocik7XG5cbiAgICAvLyByZXF1ZXN0IGFib3J0ZWRcbiAgICB4aHIub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIGFwaS5vbmFib3J0KCk7XG4gICAgfTtcblxuICAgIC8vIHJlcXVlc3QgdGltZW91dFxuICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiBhcGkub250aW1lb3V0KHhocik7XG5cbiAgICAvLyBvcGVuIHVwIG9wZW4gdXAhXG4gICAgeGhyLm9wZW4ob3B0aW9ucy5tZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICAvLyBzZXQgdGltZW91dCBpZiBkZWZpbmVkIChkbyBpdCBhZnRlciBvcGVuIHNvIElFMTEgcGxheXMgYmFsbClcbiAgICBpZiAoaXNJbnQob3B0aW9ucy50aW1lb3V0KSkge1xuICAgICAgICB4aHIudGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICB9XG5cbiAgICAvLyBhZGQgaGVhZGVyc1xuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMuaGVhZGVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChvcHRpb25zLmhlYWRlcnNba2V5XSkpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIHNldCB0eXBlIG9mIHJlc3BvbnNlXG4gICAgaWYgKG9wdGlvbnMucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgY3JlZGVudGlhbHNcbiAgICBpZiAob3B0aW9ucy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gbGV0J3Mgc2VuZCBvdXIgZGF0YVxuICAgIHhoci5zZW5kKGRhdGEpO1xuXG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbmNvbnN0IGNyZWF0ZVJlc3BvbnNlID0gKHR5cGUsIGNvZGUsIGJvZHksIGhlYWRlcnMpID0+ICh7XG4gICAgdHlwZSxcbiAgICBjb2RlLFxuICAgIGJvZHksXG4gICAgaGVhZGVycyxcbn0pO1xuXG5jb25zdCBjcmVhdGVUaW1lb3V0UmVzcG9uc2UgPSBjYiA9PiB4aHIgPT4ge1xuICAgIGNiKGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdUaW1lb3V0JywgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG59O1xuXG5jb25zdCBoYXNRUyA9IHN0ciA9PiAvXFw/Ly50ZXN0KHN0cik7XG5jb25zdCBidWlsZFVSTCA9ICguLi5wYXJ0cykgPT4ge1xuICAgIGxldCB1cmwgPSAnJztcbiAgICBwYXJ0cy5mb3JFYWNoKHBhcnQgPT4ge1xuICAgICAgICB1cmwgKz0gaGFzUVModXJsKSAmJiBoYXNRUyhwYXJ0KSA/IHBhcnQucmVwbGFjZSgvXFw/LywgJyYnKSA6IHBhcnQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVybDtcbn07XG5cbmNvbnN0IGNyZWF0ZUZldGNoRnVuY3Rpb24gPSAoYXBpVXJsID0gJycsIGFjdGlvbikgPT4ge1xuICAgIC8vIGN1c3RvbSBoYW5kbGVyIChzaG91bGQgYWxzbyBoYW5kbGUgZmlsZSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzIGFuZCBhYm9ydClcbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH1cblxuICAgIC8vIG5vIGFjdGlvbiBzdXBwbGllZFxuICAgIGlmICghYWN0aW9uIHx8ICFpc1N0cmluZyhhY3Rpb24udXJsKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBzZXQgb25sb2FkIGhhbmxkZXJcbiAgICBjb25zdCBvbmxvYWQgPSBhY3Rpb24ub25sb2FkIHx8IChyZXMgPT4gcmVzKTtcbiAgICBjb25zdCBvbmVycm9yID0gYWN0aW9uLm9uZXJyb3IgfHwgKHJlcyA9PiBudWxsKTtcblxuICAgIC8vIGludGVybmFsIGhhbmRsZXJcbiAgICByZXR1cm4gKHVybCwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgaGVhZGVycykgPT4ge1xuICAgICAgICAvLyBkbyBsb2NhbCBvciByZW1vdGUgcmVxdWVzdCBiYXNlZCBvbiBpZiB0aGUgdXJsIGlzIGV4dGVybmFsXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzZW5kUmVxdWVzdCh1cmwsIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksIHtcbiAgICAgICAgICAgIC4uLmFjdGlvbixcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IHhociA9PiB7XG4gICAgICAgICAgICAvLyBnZXQgaGVhZGVyc1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcblxuICAgICAgICAgICAgLy8gZ2V0IGZpbGVuYW1lXG4gICAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGdldEZpbGVJbmZvRnJvbUhlYWRlcnMoaGVhZGVycykubmFtZSB8fCBnZXRGaWxlbmFtZUZyb21VUkwodXJsKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHJlc3BvbnNlXG4gICAgICAgICAgICBsb2FkKFxuICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5tZXRob2QgPT09ICdIRUFEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGdldEZpbGVGcm9tQmxvYihvbmxvYWQoeGhyLnJlc3BvbnNlKSwgZmlsZW5hbWUpLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSB4aHIgPT4ge1xuICAgICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uaGVhZGVycyA9IHhociA9PiB7XG4gICAgICAgICAgICBoZWFkZXJzKGNyZWF0ZVJlc3BvbnNlKCdoZWFkZXJzJywgeGhyLnN0YXR1cywgbnVsbCwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAgICAgLy8gc2hvdWxkIHJldHVybiByZXF1ZXN0XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH07XG59O1xuXG5jb25zdCBDaHVua1N0YXR1cyA9IHtcbiAgICBRVUVVRUQ6IDAsXG4gICAgQ09NUExFVEU6IDEsXG4gICAgUFJPQ0VTU0lORzogMixcbiAgICBFUlJPUjogMyxcbiAgICBXQUlUSU5HOiA0LFxufTtcblxuLypcbmZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgKGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2Zlciwgb3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgYWJvcnQ6KCkgPT4ge31cbiAgfVxufVxuKi9cblxuLy8gYXBpVXJsLCBhY3Rpb24sIG5hbWUsIGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2Zlciwgb3B0aW9uc1xuY29uc3QgcHJvY2Vzc0ZpbGVDaHVua2VkID0gKFxuICAgIGFwaVVybCxcbiAgICBhY3Rpb24sXG4gICAgbmFtZSxcbiAgICBmaWxlLFxuICAgIG1ldGFkYXRhLFxuICAgIGxvYWQsXG4gICAgZXJyb3IsXG4gICAgcHJvZ3Jlc3MsXG4gICAgYWJvcnQsXG4gICAgdHJhbnNmZXIsXG4gICAgb3B0aW9uc1xuKSA9PiB7XG4gICAgLy8gYWxsIGNodW5rc1xuICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuICAgIGNvbnN0IHsgY2h1bmtUcmFuc2ZlcklkLCBjaHVua1NlcnZlciwgY2h1bmtTaXplLCBjaHVua1JldHJ5RGVsYXlzIH0gPSBvcHRpb25zO1xuXG4gICAgLy8gZGVmYXVsdCBzdGF0ZVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBzZXJ2ZXJJZDogY2h1bmtUcmFuc2ZlcklkLFxuICAgICAgICBhYm9ydGVkOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgLy8gc2V0IG9ubG9hZCBoYW5kbGVyc1xuICAgIGNvbnN0IG9uZGF0YSA9IGFjdGlvbi5vbmRhdGEgfHwgKGZkID0+IGZkKTtcbiAgICBjb25zdCBvbmxvYWQgPVxuICAgICAgICBhY3Rpb24ub25sb2FkIHx8XG4gICAgICAgICgoeGhyLCBtZXRob2QpID0+XG4gICAgICAgICAgICBtZXRob2QgPT09ICdIRUFEJyA/IHhoci5nZXRSZXNwb25zZUhlYWRlcignVXBsb2FkLU9mZnNldCcpIDogeGhyLnJlc3BvbnNlKTtcbiAgICBjb25zdCBvbmVycm9yID0gYWN0aW9uLm9uZXJyb3IgfHwgKHJlcyA9PiBudWxsKTtcblxuICAgIC8vIGNyZWF0ZSBzZXJ2ZXIgaG9va1xuICAgIGNvbnN0IHJlcXVlc3RUcmFuc2ZlcklkID0gY2IgPT4ge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgICAgIC8vIGFkZCBtZXRhZGF0YSB1bmRlciBzYW1lIG5hbWVcbiAgICAgICAgaWYgKGlzT2JqZWN0KG1ldGFkYXRhKSkgZm9ybURhdGEuYXBwZW5kKG5hbWUsIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSk7XG5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9XG4gICAgICAgICAgICB0eXBlb2YgYWN0aW9uLmhlYWRlcnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKGZpbGUsIG1ldGFkYXRhKVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmFjdGlvbi5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICdVcGxvYWQtTGVuZ3RoJzogZmlsZS5zaXplLFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0UGFyYW1zID0ge1xuICAgICAgICAgICAgLi4uYWN0aW9uLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZW5kIHJlcXVlc3Qgb2JqZWN0XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzZW5kUmVxdWVzdChvbmRhdGEoZm9ybURhdGEpLCBidWlsZFVSTChhcGlVcmwsIGFjdGlvbi51cmwpLCByZXF1ZXN0UGFyYW1zKTtcblxuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IHhociA9PiBjYihvbmxvYWQoeGhyLCByZXF1ZXN0UGFyYW1zLm1ldGhvZCkpO1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IHhociA9PlxuICAgICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlcXVlc3RUcmFuc2Zlck9mZnNldCA9IGNiID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IGJ1aWxkVVJMKGFwaVVybCwgY2h1bmtTZXJ2ZXIudXJsLCBzdGF0ZS5zZXJ2ZXJJZCk7XG5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9XG4gICAgICAgICAgICB0eXBlb2YgYWN0aW9uLmhlYWRlcnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKHN0YXRlLnNlcnZlcklkKVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmFjdGlvbi5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0UGFyYW1zID0ge1xuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ0hFQUQnLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzZW5kUmVxdWVzdChudWxsLCByZXF1ZXN0VXJsLCByZXF1ZXN0UGFyYW1zKTtcblxuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IHhociA9PiBjYihvbmxvYWQoeGhyLCByZXF1ZXN0UGFyYW1zLm1ldGhvZCkpO1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IHhociA9PlxuICAgICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgfTtcblxuICAgIC8vIGNyZWF0ZSBjaHVua3NcbiAgICBjb25zdCBsYXN0Q2h1bmtJbmRleCA9IE1hdGguZmxvb3IoZmlsZS5zaXplIC8gY2h1bmtTaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBsYXN0Q2h1bmtJbmRleDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGkgKiBjaHVua1NpemU7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBmaWxlLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY2h1bmtTaXplLCAnYXBwbGljYXRpb24vb2Zmc2V0K29jdGV0LXN0cmVhbScpO1xuICAgICAgICBjaHVua3NbaV0gPSB7XG4gICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgIHNpemU6IGRhdGEuc2l6ZSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgICAgICByZXRyaWVzOiBbLi4uY2h1bmtSZXRyeURlbGF5c10sXG4gICAgICAgICAgICBzdGF0dXM6IENodW5rU3RhdHVzLlFVRVVFRCxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgcmVxdWVzdDogbnVsbCxcbiAgICAgICAgICAgIHRpbWVvdXQ6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGxldGVQcm9jZXNzaW5nQ2h1bmtzID0gKCkgPT4gbG9hZChzdGF0ZS5zZXJ2ZXJJZCk7XG5cbiAgICBjb25zdCBjYW5Qcm9jZXNzQ2h1bmsgPSBjaHVuayA9PlxuICAgICAgICBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLlFVRVVFRCB8fCBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLkVSUk9SO1xuXG4gICAgY29uc3QgcHJvY2Vzc0NodW5rID0gY2h1bmsgPT4ge1xuICAgICAgICAvLyBwcm9jZXNzaW5nIGlzIHBhdXNlZCwgd2FpdCBoZXJlXG4gICAgICAgIGlmIChzdGF0ZS5hYm9ydGVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gZ2V0IG5leHQgY2h1bmsgdG8gcHJvY2Vzc1xuICAgICAgICBjaHVuayA9IGNodW5rIHx8IGNodW5rcy5maW5kKGNhblByb2Nlc3NDaHVuayk7XG5cbiAgICAgICAgLy8gbm8gbW9yZSBjaHVua3MgdG8gcHJvY2Vzc1xuICAgICAgICBpZiAoIWNodW5rKSB7XG4gICAgICAgICAgICAvLyBhbGwgZG9uZT9cbiAgICAgICAgICAgIGlmIChjaHVua3MuZXZlcnkoY2h1bmsgPT4gY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5DT01QTEVURSkpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVByb2Nlc3NpbmdDaHVua3MoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm8gY2h1bmsgdG8gaGFuZGxlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3cgcHJvY2Vzc2luZyB0aGlzIGNodW5rXG4gICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLlBST0NFU1NJTkc7XG4gICAgICAgIGNodW5rLnByb2dyZXNzID0gbnVsbDtcblxuICAgICAgICAvLyBhbGxvdyBwYXJzaW5nIG9mIGZvcm1kYXRhXG4gICAgICAgIGNvbnN0IG9uZGF0YSA9IGNodW5rU2VydmVyLm9uZGF0YSB8fCAoZmQgPT4gZmQpO1xuICAgICAgICBjb25zdCBvbmVycm9yID0gY2h1bmtTZXJ2ZXIub25lcnJvciB8fCAocmVzID0+IG51bGwpO1xuXG4gICAgICAgIC8vIHNlbmQgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IGJ1aWxkVVJMKGFwaVVybCwgY2h1bmtTZXJ2ZXIudXJsLCBzdGF0ZS5zZXJ2ZXJJZCk7XG5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9XG4gICAgICAgICAgICB0eXBlb2YgY2h1bmtTZXJ2ZXIuaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gY2h1bmtTZXJ2ZXIuaGVhZGVycyhjaHVuaylcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jaHVua1NlcnZlci5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2Zmc2V0K29jdGV0LXN0cmVhbScsXG4gICAgICAgICAgICAgICAgICAgICAgJ1VwbG9hZC1PZmZzZXQnOiBjaHVuay5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgJ1VwbG9hZC1MZW5ndGgnOiBmaWxlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgJ1VwbG9hZC1OYW1lJzogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gKGNodW5rLnJlcXVlc3QgPSBzZW5kUmVxdWVzdChvbmRhdGEoY2h1bmsuZGF0YSksIHJlcXVlc3RVcmwsIHtcbiAgICAgICAgICAgIC4uLmNodW5rU2VydmVyLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkNPTVBMRVRFO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgcmVxdWVzdCByZWZlcmVuY2VcbiAgICAgICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBzdGFydCBwcm9jZXNzaW5nIG1vcmUgY2h1bmtzXG4gICAgICAgICAgICBwcm9jZXNzQ2h1bmtzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gKGxlbmd0aENvbXB1dGFibGUsIGxvYWRlZCwgdG90YWwpID0+IHtcbiAgICAgICAgICAgIGNodW5rLnByb2dyZXNzID0gbGVuZ3RoQ29tcHV0YWJsZSA/IGxvYWRlZCA6IG51bGw7XG4gICAgICAgICAgICB1cGRhdGVUb3RhbFByb2dyZXNzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0geGhyID0+IHtcbiAgICAgICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkVSUk9SO1xuICAgICAgICAgICAgY2h1bmsucmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICBjaHVuay5lcnJvciA9IG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dDtcbiAgICAgICAgICAgIGlmICghcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSB4aHIgPT4ge1xuICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuRVJST1I7XG4gICAgICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKSh4aHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLlFVRVVFRDtcbiAgICAgICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmV0cnlQcm9jZXNzQ2h1bmsgPSBjaHVuayA9PiB7XG4gICAgICAgIC8vIG5vIG1vcmUgcmV0cmllcyBsZWZ0XG4gICAgICAgIGlmIChjaHVuay5yZXRyaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIG5ldyByZXRyeVxuICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5XQUlUSU5HO1xuICAgICAgICBjbGVhclRpbWVvdXQoY2h1bmsudGltZW91dCk7XG4gICAgICAgIGNodW5rLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHByb2Nlc3NDaHVuayhjaHVuayk7XG4gICAgICAgIH0sIGNodW5rLnJldHJpZXMuc2hpZnQoKSk7XG5cbiAgICAgICAgLy8gd2UncmUgZ29pbmcgdG8gcmV0cnlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZVRvdGFsUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0b3RhbCBwcm9ncmVzcyBmcmFjdGlvblxuICAgICAgICBjb25zdCB0b3RhbEJ5dGVzVHJhbnNmZXJlZCA9IGNodW5rcy5yZWR1Y2UoKHAsIGNodW5rKSA9PiB7XG4gICAgICAgICAgICBpZiAocCA9PT0gbnVsbCB8fCBjaHVuay5wcm9ncmVzcyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gcCArIGNodW5rLnByb2dyZXNzO1xuICAgICAgICB9LCAwKTtcblxuICAgICAgICAvLyBjYW4ndCBjb21wdXRlIHByb2dyZXNzXG4gICAgICAgIGlmICh0b3RhbEJ5dGVzVHJhbnNmZXJlZCA9PT0gbnVsbCkgcmV0dXJuIHByb2dyZXNzKGZhbHNlLCAwLCAwKTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgcHJvZ3Jlc3MgdmFsdWVzXG4gICAgICAgIGNvbnN0IHRvdGFsU2l6ZSA9IGNodW5rcy5yZWR1Y2UoKHRvdGFsLCBjaHVuaykgPT4gdG90YWwgKyBjaHVuay5zaXplLCAwKTtcblxuICAgICAgICAvLyBjYW4gdXBkYXRlIHByb2dyZXNzIGluZGljYXRvclxuICAgICAgICBwcm9ncmVzcyh0cnVlLCB0b3RhbEJ5dGVzVHJhbnNmZXJlZCwgdG90YWxTaXplKTtcbiAgICB9O1xuXG4gICAgLy8gcHJvY2VzcyBuZXcgY2h1bmtzXG4gICAgY29uc3QgcHJvY2Vzc0NodW5rcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG90YWxQcm9jZXNzaW5nID0gY2h1bmtzLmZpbHRlcihjaHVuayA9PiBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLlBST0NFU1NJTkcpXG4gICAgICAgICAgICAubGVuZ3RoO1xuICAgICAgICBpZiAodG90YWxQcm9jZXNzaW5nID49IDEpIHJldHVybjtcbiAgICAgICAgcHJvY2Vzc0NodW5rKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFib3J0Q2h1bmtzID0gKCkgPT4ge1xuICAgICAgICBjaHVua3MuZm9yRWFjaChjaHVuayA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoY2h1bmsudGltZW91dCk7XG4gICAgICAgICAgICBpZiAoY2h1bmsucmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIGNodW5rLnJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGxldCdzIGdvIVxuICAgIGlmICghc3RhdGUuc2VydmVySWQpIHtcbiAgICAgICAgcmVxdWVzdFRyYW5zZmVySWQoc2VydmVySWQgPT4ge1xuICAgICAgICAgICAgLy8gc3RvcCBoZXJlIGlmIGFib3J0ZWQsIG1pZ2h0IGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiByZXF1ZXN0IGFuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHN0YXRlLmFib3J0ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gcGFzcyBiYWNrIHRvIGl0ZW0gc28gd2UgY2FuIHVzZSBpdCBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICAgICAgdHJhbnNmZXIoc2VydmVySWQpO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSBpbnRlcm5hbGx5XG4gICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJJZCA9IHNlcnZlcklkO1xuICAgICAgICAgICAgcHJvY2Vzc0NodW5rcygpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0VHJhbnNmZXJPZmZzZXQob2Zmc2V0ID0+IHtcbiAgICAgICAgICAgIC8vIHN0b3AgaGVyZSBpZiBhYm9ydGVkLCBtaWdodCBoYXZlIGhhcHBlbmVkIGluIGJldHdlZW4gcmVxdWVzdCBhbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hYm9ydGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIG1hcmsgY2h1bmtzIHdpdGggbG93ZXIgb2Zmc2V0IGFzIGNvbXBsZXRlXG4gICAgICAgICAgICBjaHVua3NcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGNodW5rID0+IGNodW5rLm9mZnNldCA8IG9mZnNldClcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChjaHVuayA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkNPTVBMRVRFO1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wcm9ncmVzcyA9IGNodW5rLnNpemU7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNvbnRpbnVlIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHByb2Nlc3NDaHVua3MoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWJvcnQ6ICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgYWJvcnRDaHVua3MoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuLypcbmZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgKGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICBhYm9ydDooKSA9PiB7fVxuICB9XG59XG4qL1xuY29uc3QgY3JlYXRlRmlsZVByb2Nlc3NvckZ1bmN0aW9uID0gKGFwaVVybCwgYWN0aW9uLCBuYW1lLCBvcHRpb25zKSA9PiAoXG4gICAgZmlsZSxcbiAgICBtZXRhZGF0YSxcbiAgICBsb2FkLFxuICAgIGVycm9yLFxuICAgIHByb2dyZXNzLFxuICAgIGFib3J0LFxuICAgIHRyYW5zZmVyXG4pID0+IHtcbiAgICAvLyBubyBmaWxlIHJlY2VpdmVkXG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICAvLyBpZiB3YXMgcGFzc2VkIGEgZmlsZSwgYW5kIHdlIGNhbiBjaHVuayBpdCwgZXhpdCBoZXJlXG4gICAgY29uc3QgY2FuQ2h1bmtVcGxvYWQgPSBvcHRpb25zLmNodW5rVXBsb2FkcztcbiAgICBjb25zdCBzaG91bGRDaHVua1VwbG9hZCA9IGNhbkNodW5rVXBsb2FkICYmIGZpbGUuc2l6ZSA+IG9wdGlvbnMuY2h1bmtTaXplO1xuICAgIGNvbnN0IHdpbGxDaHVua1VwbG9hZCA9IGNhbkNodW5rVXBsb2FkICYmIChzaG91bGRDaHVua1VwbG9hZCB8fCBvcHRpb25zLmNodW5rRm9yY2UpO1xuICAgIGlmIChmaWxlIGluc3RhbmNlb2YgQmxvYiAmJiB3aWxsQ2h1bmtVcGxvYWQpXG4gICAgICAgIHJldHVybiBwcm9jZXNzRmlsZUNodW5rZWQoXG4gICAgICAgICAgICBhcGlVcmwsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgbG9hZCxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgcHJvZ3Jlc3MsXG4gICAgICAgICAgICBhYm9ydCxcbiAgICAgICAgICAgIHRyYW5zZmVyLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuXG4gICAgLy8gc2V0IGhhbmRsZXJzXG4gICAgY29uc3Qgb25kYXRhID0gYWN0aW9uLm9uZGF0YSB8fCAoZmQgPT4gZmQpO1xuICAgIGNvbnN0IG9ubG9hZCA9IGFjdGlvbi5vbmxvYWQgfHwgKHJlcyA9PiByZXMpO1xuICAgIGNvbnN0IG9uZXJyb3IgPSBhY3Rpb24ub25lcnJvciB8fCAocmVzID0+IG51bGwpO1xuXG4gICAgY29uc3QgaGVhZGVycyA9XG4gICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBhY3Rpb24uaGVhZGVycyhmaWxlLCBtZXRhZGF0YSkgfHwge31cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgLi4uYWN0aW9uLmhlYWRlcnMsXG4gICAgICAgICAgICAgIH07XG5cbiAgICBjb25zdCByZXF1ZXN0UGFyYW1zID0ge1xuICAgICAgICAuLi5hY3Rpb24sXG4gICAgICAgIGhlYWRlcnMsXG4gICAgfTtcblxuICAgIC8vIGNyZWF0ZSBmb3JtZGF0YSBvYmplY3RcbiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuICAgIC8vIGFkZCBtZXRhZGF0YSB1bmRlciBzYW1lIG5hbWVcbiAgICBpZiAoaXNPYmplY3QobWV0YWRhdGEpKSB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSkpO1xuICAgIH1cblxuICAgIC8vIFR1cm4gaW50byBhbiBhcnJheSBvZiBvYmplY3RzIHNvIG5vIG1hdHRlciB3aGF0IHRoZSBpbnB1dCwgd2UgY2FuIGhhbmRsZSBpdCB0aGUgc2FtZSB3YXlcbiAgICAoZmlsZSBpbnN0YW5jZW9mIEJsb2IgPyBbeyBuYW1lOiBudWxsLCBmaWxlIH1dIDogZmlsZSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGl0ZW0uZmlsZSxcbiAgICAgICAgICAgIGl0ZW0ubmFtZSA9PT0gbnVsbCA/IGl0ZW0uZmlsZS5uYW1lIDogYCR7aXRlbS5uYW1lfSR7aXRlbS5maWxlLm5hbWV9YFxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgLy8gc2VuZCByZXF1ZXN0IG9iamVjdFxuICAgIGNvbnN0IHJlcXVlc3QgPSBzZW5kUmVxdWVzdChvbmRhdGEoZm9ybURhdGEpLCBidWlsZFVSTChhcGlVcmwsIGFjdGlvbi51cmwpLCByZXF1ZXN0UGFyYW1zKTtcbiAgICByZXF1ZXN0Lm9ubG9hZCA9IHhociA9PiB7XG4gICAgICAgIGxvYWQoY3JlYXRlUmVzcG9uc2UoJ2xvYWQnLCB4aHIuc3RhdHVzLCBvbmxvYWQoeGhyLnJlc3BvbnNlKSwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG4gICAgfTtcblxuICAgIHJlcXVlc3Qub25lcnJvciA9IHhociA9PiB7XG4gICAgICAgIGVycm9yKFxuICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgIHJlcXVlc3Qub25hYm9ydCA9IGFib3J0O1xuXG4gICAgLy8gc2hvdWxkIHJldHVybiByZXF1ZXN0XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuXG5jb25zdCBjcmVhdGVQcm9jZXNzb3JGdW5jdGlvbiA9IChhcGlVcmwgPSAnJywgYWN0aW9uLCBuYW1lLCBvcHRpb25zKSA9PiB7XG4gICAgLy8gY3VzdG9tIGhhbmRsZXIgKHNob3VsZCBhbHNvIGhhbmRsZSBmaWxlLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MgYW5kIGFib3J0KVxuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSByZXR1cm4gKC4uLnBhcmFtcykgPT4gYWN0aW9uKG5hbWUsIC4uLnBhcmFtcywgb3B0aW9ucyk7XG5cbiAgICAvLyBubyBhY3Rpb24gc3VwcGxpZWRcbiAgICBpZiAoIWFjdGlvbiB8fCAhaXNTdHJpbmcoYWN0aW9uLnVybCkpIHJldHVybiBudWxsO1xuXG4gICAgLy8gaW50ZXJuYWwgaGFuZGxlclxuICAgIHJldHVybiBjcmVhdGVGaWxlUHJvY2Vzc29yRnVuY3Rpb24oYXBpVXJsLCBhY3Rpb24sIG5hbWUsIG9wdGlvbnMpO1xufTtcblxuLypcbiBmdW5jdGlvbiBzaWduYXR1cmU6XG4gKHVuaXF1ZUZpbGVJZCwgbG9hZCwgZXJyb3IpID0+IHsgfVxuICovXG5jb25zdCBjcmVhdGVSZXZlcnRGdW5jdGlvbiA9IChhcGlVcmwgPSAnJywgYWN0aW9uKSA9PiB7XG4gICAgLy8gaXMgY3VzdG9tIGltcGxlbWVudGF0aW9uXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG5cbiAgICAvLyBubyBhY3Rpb24gc3VwcGxpZWQsIHJldHVybiBzdHViIGZ1bmN0aW9uLCBpbnRlcmZhY2Ugd2lsbCB3b3JrLCBidXQgZmlsZSB3b24ndCBiZSByZW1vdmVkXG4gICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSB7XG4gICAgICAgIHJldHVybiAodW5pcXVlRmlsZUlkLCBsb2FkKSA9PiBsb2FkKCk7XG4gICAgfVxuXG4gICAgLy8gc2V0IG9ubG9hZCBoYW5sZGVyXG4gICAgY29uc3Qgb25sb2FkID0gYWN0aW9uLm9ubG9hZCB8fCAocmVzID0+IHJlcyk7XG4gICAgY29uc3Qgb25lcnJvciA9IGFjdGlvbi5vbmVycm9yIHx8IChyZXMgPT4gbnVsbCk7XG5cbiAgICAvLyBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvblxuICAgIHJldHVybiAodW5pcXVlRmlsZUlkLCBsb2FkLCBlcnJvcikgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc2VuZFJlcXVlc3QoXG4gICAgICAgICAgICB1bmlxdWVGaWxlSWQsXG4gICAgICAgICAgICBhcGlVcmwgKyBhY3Rpb24udXJsLFxuICAgICAgICAgICAgYWN0aW9uIC8vIGNvbnRhaW5zIG1ldGhvZCwgaGVhZGVycyBhbmQgd2l0aENyZWRlbnRpYWxzIHByb3BlcnRpZXNcbiAgICAgICAgKTtcbiAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSB4aHIgPT4ge1xuICAgICAgICAgICAgbG9hZChcbiAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgJ2xvYWQnLFxuICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBvbmxvYWQoeGhyLnJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSB4aHIgPT4ge1xuICAgICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfTtcbn07XG5cbmNvbnN0IGdldFJhbmRvbU51bWJlciA9IChtaW4gPSAwLCBtYXggPSAxKSA9PiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbik7XG5cbmNvbnN0IGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciA9IChcbiAgICBjYixcbiAgICBkdXJhdGlvbiA9IDEwMDAsXG4gICAgb2Zmc2V0ID0gMCxcbiAgICB0aWNrTWluID0gMjUsXG4gICAgdGlja01heCA9IDI1MFxuKSA9PiB7XG4gICAgbGV0IHRpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHRpY2sgPSAoKSA9PiB7XG4gICAgICAgIGxldCBydW50aW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICAgICAgICBsZXQgZGVsYXkgPSBnZXRSYW5kb21OdW1iZXIodGlja01pbiwgdGlja01heCk7XG5cbiAgICAgICAgaWYgKHJ1bnRpbWUgKyBkZWxheSA+IGR1cmF0aW9uKSB7XG4gICAgICAgICAgICBkZWxheSA9IHJ1bnRpbWUgKyBkZWxheSAtIGR1cmF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByb2dyZXNzID0gcnVudGltZSAvIGR1cmF0aW9uO1xuICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMSB8fCBkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgIGNiKDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2IocHJvZ3Jlc3MpO1xuXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KHRpY2ssIGRlbGF5KTtcbiAgICB9O1xuXG4gICAgaWYgKGR1cmF0aW9uID4gMCkgdGljaygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xlYXI6ICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuY29uc3QgY3JlYXRlRmlsZVByb2Nlc3NvciA9IChwcm9jZXNzRm4sIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgICBwZXJjZWl2ZWRQcm9ncmVzczogMCxcbiAgICAgICAgcGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyOiBudWxsLFxuICAgICAgICBwcm9ncmVzczogbnVsbCxcbiAgICAgICAgdGltZXN0YW1wOiBudWxsLFxuICAgICAgICBwZXJjZWl2ZWREdXJhdGlvbjogMCxcbiAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgIHJlcXVlc3Q6IG51bGwsXG4gICAgICAgIHJlc3BvbnNlOiBudWxsLFxuICAgIH07XG5cbiAgICBjb25zdCB7IGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgcHJvY2VzcyA9IChmaWxlLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9ncmVzc0ZuID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gd2UndmUgbm90IHlldCBzdGFydGVkIHRoZSByZWFsIGRvd25sb2FkLCBzdG9wIGhlcmVcbiAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IG1pZ2h0IG5vdCBnbyB0aHJvdWdoLCBmb3IgaW5zdGFuY2UsIHRoZXJlIG1pZ2h0IGJlIHNvbWUgc2VydmVyIHRyb3VibGVcbiAgICAgICAgICAgIC8vIGlmIHN0YXRlLnByb2dyZXNzIGlzIG51bGwsIHRoZSBzZXJ2ZXIgZG9lcyBub3QgYWxsb3cgY29tcHV0aW5nIHByb2dyZXNzIGFuZCB3ZSBzaG93IHRoZSBzcGlubmVyIGluc3RlYWRcbiAgICAgICAgICAgIGlmIChzdGF0ZS5kdXJhdGlvbiA9PT0gMCB8fCBzdGF0ZS5wcm9ncmVzcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBhcyB3ZSdyZSBub3cgcHJvY2Vzc2luZywgZmlyZSB0aGUgcHJvZ3Jlc3MgZXZlbnRcbiAgICAgICAgICAgIGFwaS5maXJlKCdwcm9ncmVzcycsIGFwaS5nZXRQcm9ncmVzcygpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjb21wbGV0ZUZuID0gKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgYXBpLmZpcmUoJ2xvYWQtcGVyY2VpdmVkJywgc3RhdGUucmVzcG9uc2UuYm9keSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gbGV0J3Mgc3RhcnQgcHJvY2Vzc2luZ1xuICAgICAgICBhcGkuZmlyZSgnc3RhcnQnKTtcblxuICAgICAgICAvLyBzZXQgcmVxdWVzdCBzdGFydFxuICAgICAgICBzdGF0ZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBwZXJjZWl2ZWQgcGVyZm9ybWFuY2UgcHJvZ3Jlc3MgaW5kaWNhdG9yXG4gICAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciA9IGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlcihcbiAgICAgICAgICAgIHByb2dyZXNzID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZER1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgICAgICAgIHByb2dyZXNzRm4oKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGZha2UgcHJvZ3Jlc3MgaXMgZG9uZSwgYW5kIGEgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQsXG4gICAgICAgICAgICAgICAgLy8gYW5kIHdlJ3ZlIG5vdCB5ZXQgY2FsbGVkIHRoZSBjb21wbGV0ZSBtZXRob2RcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUucmVzcG9uc2UgJiYgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MgPT09IDEgJiYgIXN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGRvbmUhXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlRm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcmFuZG9tIGRlbGF5IGFzIGluIGEgbGlzdCBvZiBmaWxlcyB5b3Ugc3RhcnQgbm90aWNpbmdcbiAgICAgICAgICAgIC8vIGZpbGVzIHVwbG9hZGluZyBhdCB0aGUgZXhhY3Qgc2FtZSBzcGVlZFxuICAgICAgICAgICAgYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb24gPyBnZXRSYW5kb21OdW1iZXIoNzUwLCAxNTAwKSA6IDBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyByZW1lbWJlciByZXF1ZXN0IHNvIHdlIGNhbiBhYm9ydCBpdCBsYXRlclxuICAgICAgICBzdGF0ZS5yZXF1ZXN0ID0gcHJvY2Vzc0ZuKFxuICAgICAgICAgICAgLy8gdGhlIGZpbGUgdG8gcHJvY2Vzc1xuICAgICAgICAgICAgZmlsZSxcblxuICAgICAgICAgICAgLy8gdGhlIG1ldGFkYXRhIHRvIHNlbmQgYWxvbmdcbiAgICAgICAgICAgIG1ldGFkYXRhLFxuXG4gICAgICAgICAgICAvLyBjYWxsYmFja3MgKGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyKVxuICAgICAgICAgICAgLy8gbG9hZCBleHBlY3RzIHRoZSBib2R5IHRvIGJlIGEgc2VydmVyIGlkIGlmXG4gICAgICAgICAgICAvLyB5b3Ugd2FudCB0byBtYWtlIHVzZSBvZiByZXZlcnRcbiAgICAgICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBwdXQgdGhlIHJlc3BvbnNlIGluIHN0YXRlIHNvIHdlIGNhbiBhY2Nlc3NcbiAgICAgICAgICAgICAgICAvLyBpdCBvdXRzaWRlIG9mIHRoaXMgbWV0aG9kXG4gICAgICAgICAgICAgICAgc3RhdGUucmVzcG9uc2UgPSBpc09iamVjdChyZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgPyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xvYWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGAke3Jlc3BvbnNlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAvLyBmb3JjZSBwcm9ncmVzcyB0byAxIGFzIHdlJ3JlIG5vdyBkb25lXG4gICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSAxO1xuXG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsIGxvYWQgaXMgZG9uZSBsZXQncyBzaGFyZSByZXN1bHRzXG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBzdGF0ZS5yZXNwb25zZS5ib2R5KTtcblxuICAgICAgICAgICAgICAgIC8vIHdlIGFyZSByZWFsbHkgZG9uZVxuICAgICAgICAgICAgICAgIC8vIGlmIHBlcmNlaXZlZCBwcm9ncmVzcyBpcyAxICggd2FpdCBmb3IgcGVyY2VpdmVkIHByb2dyZXNzIHRvIGNvbXBsZXRlIClcbiAgICAgICAgICAgICAgICAvLyBvciBpZiBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBwcm9ncmVzcyAoIG51bGwgKVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgIWFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgIChhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvbiAmJiBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9PT0gMSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVGbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIGVycm9yIGlzIGV4cGVjdGVkIHRvIGJlIGFuIG9iamVjdCB3aXRoIHR5cGUsIGNvZGUsIGJvZHlcbiAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjYW5jZWwgdXBkYXRlclxuICAgICAgICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlci5jbGVhcigpO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG90aGVycyBhYm91dCB0aGlzIGVycm9yXG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGlzT2JqZWN0KGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gYWN0dWFsIHByb2Nlc3NpbmcgcHJvZ3Jlc3NcbiAgICAgICAgICAgIChjb21wdXRhYmxlLCBjdXJyZW50LCB0b3RhbCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBhY3R1YWwgZHVyYXRpb25cbiAgICAgICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYWN0dWFsIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBjb21wdXRhYmxlID8gY3VycmVudCAvIHRvdGFsIDogbnVsbDtcblxuICAgICAgICAgICAgICAgIHByb2dyZXNzRm4oKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIGFib3J0IGRvZXMgbm90IGV4cGVjdCBhIHZhbHVlXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCB1cGRhdGVyXG4gICAgICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyLmNsZWFyKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBmaXJlIHRoZSBhYm9ydCBldmVudCBzbyB3ZSBjYW4gc3dpdGNoIHZpc3VhbHNcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgnYWJvcnQnLCBzdGF0ZS5yZXNwb25zZSA/IHN0YXRlLnJlc3BvbnNlLmJvZHkgOiBudWxsKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBpZCBmb3IgdGhpcyB0cmFuc2ZlclxuICAgICAgICAgICAgdHJhbnNmZXJJZCA9PiB7XG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ3RyYW5zZmVyJywgdHJhbnNmZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFib3J0ID0gKCkgPT4ge1xuICAgICAgICAvLyBubyByZXF1ZXN0IHJ1bm5pbmcsIGNhbid0IGFib3J0XG4gICAgICAgIGlmICghc3RhdGUucmVxdWVzdCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIHN0b3AgdXBkYXRlclxuICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIuY2xlYXIoKTtcblxuICAgICAgICAvLyBhYm9ydCBhY3R1YWwgcmVxdWVzdFxuICAgICAgICBpZiAoc3RhdGUucmVxdWVzdC5hYm9ydCkgc3RhdGUucmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgIC8vIGlmIGhhcyByZXNwb25zZSBvYmplY3QsIHdlJ3ZlIGNvbXBsZXRlZCB0aGUgcmVxdWVzdFxuICAgICAgICBzdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICBhYm9ydCgpO1xuICAgICAgICBzdGF0ZS5jb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9IDA7XG4gICAgICAgIHN0YXRlLnByb2dyZXNzID0gMDtcbiAgICAgICAgc3RhdGUudGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgc3RhdGUucGVyY2VpdmVkRHVyYXRpb24gPSAwO1xuICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IDA7XG4gICAgICAgIHN0YXRlLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICBzdGF0ZS5yZXNwb25zZSA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFByb2dyZXNzID0gYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb25cbiAgICAgICAgPyAoKSA9PiAoc3RhdGUucHJvZ3Jlc3MgPyBNYXRoLm1pbihzdGF0ZS5wcm9ncmVzcywgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MpIDogbnVsbClcbiAgICAgICAgOiAoKSA9PiBzdGF0ZS5wcm9ncmVzcyB8fCBudWxsO1xuXG4gICAgY29uc3QgZ2V0RHVyYXRpb24gPSBhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvblxuICAgICAgICA/ICgpID0+IE1hdGgubWluKHN0YXRlLmR1cmF0aW9uLCBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbilcbiAgICAgICAgOiAoKSA9PiBzdGF0ZS5kdXJhdGlvbjtcblxuICAgIGNvbnN0IGFwaSA9IHtcbiAgICAgICAgLi4ub24oKSxcbiAgICAgICAgcHJvY2VzcywgLy8gc3RhcnQgcHJvY2Vzc2luZyBmaWxlXG4gICAgICAgIGFib3J0LCAvLyBhYm9ydCBhY3RpdmUgcHJvY2VzcyByZXF1ZXN0XG4gICAgICAgIGdldFByb2dyZXNzLFxuICAgICAgICBnZXREdXJhdGlvbixcbiAgICAgICAgcmVzZXQsXG4gICAgfTtcblxuICAgIHJldHVybiBhcGk7XG59O1xuXG5jb25zdCBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24gPSBuYW1lID0+IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGFzdEluZGV4T2YoJy4nKSkgfHwgbmFtZTtcblxuY29uc3QgY3JlYXRlRmlsZVN0dWIgPSBzb3VyY2UgPT4ge1xuICAgIGxldCBkYXRhID0gW3NvdXJjZS5uYW1lLCBzb3VyY2Uuc2l6ZSwgc291cmNlLnR5cGVdO1xuXG4gICAgLy8gaXMgYmxvYiBvciBiYXNlNjQsIHRoZW4gd2UgbmVlZCB0byBzZXQgdGhlIG5hbWVcbiAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQmxvYiB8fCBpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgICBkYXRhWzBdID0gc291cmNlLm5hbWUgfHwgZ2V0RGF0ZVN0cmluZygpO1xuICAgIH0gZWxzZSBpZiAoaXNCYXNlNjREYXRhVVJJKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gaWYgaXMgYmFzZTY0IGRhdGEgdXJpIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIHRoZSBhdmVyYWdlIHNpemUgYW5kIHR5cGVcbiAgICAgICAgZGF0YVsxXSA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIGRhdGFbMl0gPSBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgICAgIC8vIHVybFxuICAgICAgICBkYXRhWzBdID0gZ2V0RmlsZW5hbWVGcm9tVVJMKHNvdXJjZSk7XG4gICAgICAgIGRhdGFbMV0gPSAwO1xuICAgICAgICBkYXRhWzJdID0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogZGF0YVswXSxcbiAgICAgICAgc2l6ZTogZGF0YVsxXSxcbiAgICAgICAgdHlwZTogZGF0YVsyXSxcbiAgICB9O1xufTtcblxuY29uc3QgaXNGaWxlID0gdmFsdWUgPT4gISEodmFsdWUgaW5zdGFuY2VvZiBGaWxlIHx8ICh2YWx1ZSBpbnN0YW5jZW9mIEJsb2IgJiYgdmFsdWUubmFtZSkpO1xuXG5jb25zdCBkZWVwQ2xvbmVPYmplY3QgPSBzcmMgPT4ge1xuICAgIGlmICghaXNPYmplY3Qoc3JjKSkgcmV0dXJuIHNyYztcbiAgICBjb25zdCB0YXJnZXQgPSBpc0FycmF5KHNyYykgPyBbXSA6IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNyYykge1xuICAgICAgICBpZiAoIXNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdiA9IHNyY1trZXldO1xuICAgICAgICB0YXJnZXRba2V5XSA9IHYgJiYgaXNPYmplY3QodikgPyBkZWVwQ2xvbmVPYmplY3QodikgOiB2O1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufTtcblxuY29uc3QgY3JlYXRlSXRlbSA9IChvcmlnaW4gPSBudWxsLCBzZXJ2ZXJGaWxlUmVmZXJlbmNlID0gbnVsbCwgZmlsZSA9IG51bGwpID0+IHtcbiAgICAvLyB1bmlxdWUgaWQgZm9yIHRoaXMgaXRlbSwgaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgaXRlbSBhY3Jvc3Mgdmlld3NcbiAgICBjb25zdCBpZCA9IGdldFVuaXF1ZUlkKCk7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBpdGVtIHN0YXRlXG4gICAgICovXG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIC8vIGlzIGFyY2hpdmVkXG4gICAgICAgIGFyY2hpdmVkOiBmYWxzZSxcblxuICAgICAgICAvLyBpZiBpcyBmcm96ZW4sIG5vIGxvbmdlciBmaXJlcyBldmVudHNcbiAgICAgICAgZnJvemVuOiBmYWxzZSxcblxuICAgICAgICAvLyByZW1vdmVkIGZyb20gdmlld1xuICAgICAgICByZWxlYXNlZDogZmFsc2UsXG5cbiAgICAgICAgLy8gb3JpZ2luYWwgc291cmNlXG4gICAgICAgIHNvdXJjZTogbnVsbCxcblxuICAgICAgICAvLyBmaWxlIG1vZGVsIHJlZmVyZW5jZVxuICAgICAgICBmaWxlLFxuXG4gICAgICAgIC8vIGlkIG9mIGZpbGUgb24gc2VydmVyXG4gICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2UsXG5cbiAgICAgICAgLy8gaWQgb2YgZmlsZSB0cmFuc2ZlciBvbiBzZXJ2ZXJcbiAgICAgICAgdHJhbnNmZXJJZDogbnVsbCxcblxuICAgICAgICAvLyBpcyBhYm9ydGVkXG4gICAgICAgIHByb2Nlc3NpbmdBYm9ydGVkOiBmYWxzZSxcblxuICAgICAgICAvLyBjdXJyZW50IGl0ZW0gc3RhdHVzXG4gICAgICAgIHN0YXR1czogc2VydmVyRmlsZVJlZmVyZW5jZSA/IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSA6IEl0ZW1TdGF0dXMuSU5JVCxcblxuICAgICAgICAvLyBhY3RpdmUgcHJvY2Vzc2VzXG4gICAgICAgIGFjdGl2ZUxvYWRlcjogbnVsbCxcbiAgICAgICAgYWN0aXZlUHJvY2Vzc29yOiBudWxsLFxuICAgIH07XG5cbiAgICAvLyBjYWxsYmFjayB1c2VkIHdoZW4gYWJvcnQgcHJvY2Vzc2luZyBpcyBjYWxsZWQgdG8gbGluayBiYWNrIHRvIHRoZSByZXNvbHZlIG1ldGhvZFxuICAgIGxldCBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRXh0ZXJuYWxseSBhZGRlZCBpdGVtIG1ldGFkYXRhXG4gICAgICovXG4gICAgY29uc3QgbWV0YWRhdGEgPSB7fTtcblxuICAgIC8vIGl0ZW0gZGF0YVxuICAgIGNvbnN0IHNldFN0YXR1cyA9IHN0YXR1cyA9PiAoc3RhdGUuc3RhdHVzID0gc3RhdHVzKTtcblxuICAgIC8vIGZpcmUgZXZlbnQgdW5sZXNzIHRoZSBpdGVtIGhhcyBiZWVuIGFyY2hpdmVkXG4gICAgY29uc3QgZmlyZSA9IChldmVudCwgLi4ucGFyYW1zKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5yZWxlYXNlZCB8fCBzdGF0ZS5mcm96ZW4pIHJldHVybjtcbiAgICAgICAgYXBpLmZpcmUoZXZlbnQsIC4uLnBhcmFtcyk7XG4gICAgfTtcblxuICAgIC8vIGZpbGUgZGF0YVxuICAgIGNvbnN0IGdldEZpbGVFeHRlbnNpb24gPSAoKSA9PiBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoc3RhdGUuZmlsZS5uYW1lKTtcbiAgICBjb25zdCBnZXRGaWxlVHlwZSA9ICgpID0+IHN0YXRlLmZpbGUudHlwZTtcbiAgICBjb25zdCBnZXRGaWxlU2l6ZSA9ICgpID0+IHN0YXRlLmZpbGUuc2l6ZTtcbiAgICBjb25zdCBnZXRGaWxlID0gKCkgPT4gc3RhdGUuZmlsZTtcblxuICAgIC8vXG4gICAgLy8gbG9naWMgdG8gbG9hZCBhIGZpbGVcbiAgICAvL1xuICAgIGNvbnN0IGxvYWQgPSAoc291cmNlLCBsb2FkZXIsIG9ubG9hZCkgPT4ge1xuICAgICAgICAvLyByZW1lbWJlciB0aGUgb3JpZ2luYWwgaXRlbSBzb3VyY2VcbiAgICAgICAgc3RhdGUuc291cmNlID0gc291cmNlO1xuXG4gICAgICAgIC8vIHNvdXJjZSBpcyBrbm93blxuICAgICAgICBhcGkuZmlyZVN5bmMoJ2luaXQnKTtcblxuICAgICAgICAvLyBmaWxlIHN0dWIgaXMgYWxyZWFkeSB0aGVyZVxuICAgICAgICBpZiAoc3RhdGUuZmlsZSkge1xuICAgICAgICAgICAgYXBpLmZpcmVTeW5jKCdsb2FkLXNraXAnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBhIHN0dWIgZmlsZSBvYmplY3Qgd2hpbGUgbG9hZGluZyB0aGUgYWN0dWFsIGRhdGFcbiAgICAgICAgc3RhdGUuZmlsZSA9IGNyZWF0ZUZpbGVTdHViKHNvdXJjZSk7XG5cbiAgICAgICAgLy8gc3RhcnRzIGxvYWRpbmdcbiAgICAgICAgbG9hZGVyLm9uKCdpbml0JywgKCkgPT4ge1xuICAgICAgICAgICAgZmlyZSgnbG9hZC1pbml0Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHdlJ2V2ZSByZWNlaXZlZCBhIHNpemUgaW5kaWNhdGlvbiwgbGV0J3MgdXBkYXRlIHRoZSBzdHViXG4gICAgICAgIGxvYWRlci5vbignbWV0YScsIG1ldGEgPT4ge1xuICAgICAgICAgICAgLy8gc2V0IHNpemUgb2YgZmlsZSBzdHViXG4gICAgICAgICAgICBzdGF0ZS5maWxlLnNpemUgPSBtZXRhLnNpemU7XG5cbiAgICAgICAgICAgIC8vIHNldCBuYW1lIG9mIGZpbGUgc3R1YlxuICAgICAgICAgICAgc3RhdGUuZmlsZS5maWxlbmFtZSA9IG1ldGEuZmlsZW5hbWU7XG5cbiAgICAgICAgICAgIC8vIGlmIGhhcyByZWNlaXZlZCBzb3VyY2UsIHdlIGRvbmVcbiAgICAgICAgICAgIGlmIChtZXRhLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgIG9yaWdpbiA9IEZpbGVPcmlnaW4uTElNQk87XG4gICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IG1ldGEuc291cmNlO1xuICAgICAgICAgICAgICAgIHN0YXRlLnN0YXR1cyA9IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2l6ZSBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgICAgICBmaXJlKCdsb2FkLW1ldGEnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdGhlIGZpbGUgaXMgbm93IGxvYWRpbmcgd2UgbmVlZCB0byB1cGRhdGUgdGhlIHByb2dyZXNzIGluZGljYXRvcnNcbiAgICAgICAgbG9hZGVyLm9uKCdwcm9ncmVzcycsIHByb2dyZXNzID0+IHtcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURJTkcpO1xuXG4gICAgICAgICAgICBmaXJlKCdsb2FkLXByb2dyZXNzJywgcHJvZ3Jlc3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhbiBlcnJvciB3YXMgdGhyb3duIHdoaWxlIGxvYWRpbmcgdGhlIGZpbGUsIHdlIG5lZWQgdG8gc3dpdGNoIHRvIGVycm9yIHN0YXRlXG4gICAgICAgIGxvYWRlci5vbignZXJyb3InLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5MT0FEX0VSUk9SKTtcblxuICAgICAgICAgICAgZmlyZSgnbG9hZC1yZXF1ZXN0LWVycm9yJywgZXJyb3IpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB1c2VyIG9yIGFub3RoZXIgcHJvY2VzcyBhYm9ydGVkIHRoZSBmaWxlIGxvYWQgKGNhbm5vdCByZXRyeSlcbiAgICAgICAgbG9hZGVyLm9uKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklOSVQpO1xuICAgICAgICAgICAgZmlyZSgnbG9hZC1hYm9ydCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBkb25lIGxvYWRpbmdcbiAgICAgICAgbG9hZGVyLm9uKCdsb2FkJywgZmlsZSA9PiB7XG4gICAgICAgICAgICAvLyBhcyB3ZSd2ZSBub3cgbG9hZGVkIHRoZSBmaWxlIHRoZSBsb2FkZXIgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkXG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiBmaWxlIGhhcyBsb2FkZWQgc3VjY2VzZnVsbHlcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSByZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHNldCAocG9zc2libHkpIHRyYW5zZm9ybWVkIGZpbGVcbiAgICAgICAgICAgICAgICBzdGF0ZS5maWxlID0gaXNGaWxlKHJlc3VsdCkgPyByZXN1bHQgOiBzdGF0ZS5maWxlO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsZSByZWNlaXZlZFxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW4gPT09IEZpbGVPcmlnaW4uTElNQk8gJiYgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmaXJlKCdsb2FkJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2V0IG9yaWdpbmFsIGZpbGVcbiAgICAgICAgICAgICAgICBzdGF0ZS5maWxlID0gZmlsZTtcbiAgICAgICAgICAgICAgICBmaXJlKCdsb2FkLW1ldGEnKTtcblxuICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURfRVJST1IpO1xuICAgICAgICAgICAgICAgIGZpcmUoJ2xvYWQtZmlsZS1lcnJvcicsIHJlc3VsdCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBzZXJ2ZXIgZmlsZSByZWZlcmVuY2UsIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGUgb25sb2FkIG1ldGhvZFxuICAgICAgICAgICAgaWYgKHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzKGZpbGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm8gc2VydmVyIGlkLCBsZXQncyBnaXZlIHRoaXMgZmlsZSB0aGUgZnVsbCB0cmVhdG1lbnRcbiAgICAgICAgICAgIG9ubG9hZChmaWxlLCBzdWNjZXNzLCBlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNldCBsb2FkZXIgc291cmNlIGRhdGFcbiAgICAgICAgbG9hZGVyLnNldFNvdXJjZShzb3VyY2UpO1xuXG4gICAgICAgIC8vIHNldCBhcyBhY3RpdmUgbG9hZGVyXG4gICAgICAgIHN0YXRlLmFjdGl2ZUxvYWRlciA9IGxvYWRlcjtcblxuICAgICAgICAvLyBsb2FkIHRoZSBzb3VyY2UgZGF0YVxuICAgICAgICBsb2FkZXIubG9hZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCByZXRyeUxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3RhdGUuYWN0aXZlTG9hZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyLmxvYWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWJvcnRMb2FkID0gKCkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUuYWN0aXZlTG9hZGVyKSB7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JTklUKTtcbiAgICAgICAgZmlyZSgnbG9hZC1hYm9ydCcpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIGxvZ2ljIHRvIHByb2Nlc3MgYSBmaWxlXG4gICAgLy9cbiAgICBjb25zdCBwcm9jZXNzID0gKHByb2Nlc3Nvciwgb25wcm9jZXNzKSA9PiB7XG4gICAgICAgIC8vIHByb2Nlc3Npbmcgd2FzIGFib3J0ZWRcbiAgICAgICAgaWYgKHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkKSB7XG4gICAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IHByb2Nlc3NpbmdcbiAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lORyk7XG5cbiAgICAgICAgLy8gcmVzZXQgYWJvcnQgY2FsbGJhY2tcbiAgICAgICAgYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAvLyBpZiBubyBmaWxlIGxvYWRlZCB3ZSdsbCB3YWl0IGZvciB0aGUgbG9hZCBldmVudFxuICAgICAgICBpZiAoIShzdGF0ZS5maWxlIGluc3RhbmNlb2YgQmxvYikpIHtcbiAgICAgICAgICAgIGFwaS5vbignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzKHByb2Nlc3Nvciwgb25wcm9jZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0dXAgcHJvY2Vzc29yXG4gICAgICAgIHByb2Nlc3Nvci5vbignbG9hZCcsIHNlcnZlckZpbGVSZWZlcmVuY2UgPT4ge1xuICAgICAgICAgICAgLy8gbmVlZCB0aGlzIGlkIHRvIGJlIGFibGUgdG8gcmV2ZXJ0IHRoZSB1cGxvYWRcbiAgICAgICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSBudWxsO1xuICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRyYW5zZmVyIGlkXG4gICAgICAgIHByb2Nlc3Nvci5vbigndHJhbnNmZXInLCB0cmFuc2ZlcklkID0+IHtcbiAgICAgICAgICAgIC8vIG5lZWQgdGhpcyBpZCB0byBiZSBhYmxlIHRvIHJldmVydCB0aGUgdXBsb2FkXG4gICAgICAgICAgICBzdGF0ZS50cmFuc2ZlcklkID0gdHJhbnNmZXJJZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvY2Vzc29yLm9uKCdsb2FkLXBlcmNlaXZlZCcsIHNlcnZlckZpbGVSZWZlcmVuY2UgPT4ge1xuICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIHJlcXVpcmVkXG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBuZWVkIHRoaXMgaWQgdG8gYmUgYWJsZSB0byByZXZlciB0aGUgdXBsb2FkXG4gICAgICAgICAgICBzdGF0ZS50cmFuc2ZlcklkID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBzZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuXG4gICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKTtcbiAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtY29tcGxldGUnLCBzZXJ2ZXJGaWxlUmVmZXJlbmNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvY2Vzc29yLm9uKCdzdGFydCcsICgpID0+IHtcbiAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3Mtc3RhcnQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvY2Vzc29yLm9uKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IG51bGw7XG4gICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0VSUk9SKTtcbiAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHByb2Nlc3Nvci5vbignYWJvcnQnLCBzZXJ2ZXJGaWxlUmVmZXJlbmNlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIGlmIGZpbGUgd2FzIHVwbG9hZGVkIGJ1dCBwcm9jZXNzaW5nIHdhcyBjYW5jZWxsZWQgZHVyaW5nIHBlcmNlaXZlZCBwcm9jZXNzb3IgdGltZSBzdG9yZSBmaWxlIHJlZmVyZW5jZVxuICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG5cbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1hYm9ydCcpO1xuXG4gICAgICAgICAgICAvLyBoYXMgdGltZW91dCBzbyBkb2Vzbid0IGludGVyZmVyZSB3aXRoIHJlbW92ZSBhY3Rpb25cbiAgICAgICAgICAgIGlmIChhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvY2Vzc29yLm9uKCdwcm9ncmVzcycsIHByb2dyZXNzID0+IHtcbiAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtcHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHdoZW4gc3VjY2Vzc2Z1bGx5IHRyYW5zZm9ybWVkXG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBmaWxlID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHdhcyBhcmNoaXZlZCBpbiB0aGUgbWVhbiB0aW1lLCBkb24ndCBwcm9jZXNzXG4gICAgICAgICAgICBpZiAoc3RhdGUuYXJjaGl2ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gcHJvY2VzcyBmaWxlIVxuICAgICAgICAgICAgcHJvY2Vzc29yLnByb2Nlc3MoZmlsZSwgeyAuLi5tZXRhZGF0YSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgdHJhbnNmb3JtIHBoYXNlXG4gICAgICAgIGNvbnN0IGVycm9yID0gY29uc29sZS5lcnJvcjtcblxuICAgICAgICAvLyBzdGFydCBwcm9jZXNzaW5nIHRoZSBmaWxlXG4gICAgICAgIG9ucHJvY2VzcyhzdGF0ZS5maWxlLCBzdWNjZXNzLCBlcnJvcik7XG5cbiAgICAgICAgLy8gc2V0IGFzIGFjdGl2ZSBwcm9jZXNzb3JcbiAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIH07XG5cbiAgICBjb25zdCByZXF1ZXN0UHJvY2Vzc2luZyA9ICgpID0+IHtcbiAgICAgICAgc3RhdGUucHJvY2Vzc2luZ0Fib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQpO1xuICAgIH07XG5cbiAgICBjb25zdCBhYm9ydFByb2Nlc3NpbmcgPSAoKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGlmICghc3RhdGUuYWN0aXZlUHJvY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUucHJvY2Vzc2luZ0Fib3J0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSURMRSk7XG4gICAgICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1hYm9ydCcpO1xuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3Nvci5hYm9ydCgpO1xuICAgICAgICB9KTtcblxuICAgIC8vXG4gICAgLy8gbG9naWMgdG8gcmV2ZXJ0IGEgcHJvY2Vzc2VkIGZpbGVcbiAgICAvL1xuICAgIGNvbnN0IHJldmVydCA9IChyZXZlcnRGaWxlVXBsb2FkLCBmb3JjZVJldmVydCkgPT5cbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gYSBjb21wbGV0ZWQgdXBsb2FkIHdpbGwgaGF2ZSBhIHNlcnZlckZpbGVSZWZlcmVuY2UsIGEgZmFpbGVkIGNodW5rZWQgdXBsb2FkIHdoZXJlXG4gICAgICAgICAgICAvLyBnZXR0aW5nIGEgc2VydmVySWQgc3VjY2VlZGVkIGJ1dCA+PTAgY2h1bmtzIGhhdmUgYmVlbiB1cGxvYWRlZCB3aWxsIGhhdmUgdHJhbnNmZXJJZCBzZXRcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlclRyYW5zZmVySWQgPVxuICAgICAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgIT09IG51bGwgPyBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlIDogc3RhdGUudHJhbnNmZXJJZDtcblxuICAgICAgICAgICAgLy8gY2Fubm90IHJldmVydCB3aXRob3V0IGEgc2VydmVyIGlkIGZvciB0aGlzIHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJUcmFuc2ZlcklkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmV2ZXJ0IHRoZSB1cGxvYWQgKGZpcmUgYW5kIGZvcmdldClcbiAgICAgICAgICAgIHJldmVydEZpbGVVcGxvYWQoXG4gICAgICAgICAgICAgICAgc2VydmVyVHJhbnNmZXJJZCxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IGZpbGUgc2VydmVyIGlkIGFuZCB0cmFuc2ZlciBpZCBhcyBub3cgaXQncyBub3QgYXZhaWxhYmxlIG9uIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNldCBlcnJvciBzdGF0ZSB3aGVuIHJldmVydGluZyBpcyBvcHRpb25hbCwgaXQgd2lsbCBhbHdheXMgcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZvcmNlUmV2ZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBvaCBubyBlcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IpO1xuICAgICAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLXJldmVydC1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIGZpcmUgZXZlbnRcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1yZXZlcnQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAvLyBleHBvc2VkIG1ldGhvZHNcbiAgICBjb25zdCBzZXRNZXRhZGF0YSA9IChrZXksIHZhbHVlLCBzaWxlbnQpID0+IHtcbiAgICAgICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICBjb25zdCByb290ID0ga2V5c1swXTtcbiAgICAgICAgY29uc3QgbGFzdCA9IGtleXMucG9wKCk7XG4gICAgICAgIGxldCBkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4gKGRhdGEgPSBkYXRhW2tleV0pKTtcblxuICAgICAgICAvLyBjb21wYXJlIG9sZCB2YWx1ZSBhZ2FpbnN0IG5ldyB2YWx1ZSwgaWYgdGhleSdyZSB0aGUgc2FtZSwgd2UncmUgbm90IHVwZGF0aW5nXG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShkYXRhW2xhc3RdKSA9PT0gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgICAgIGRhdGFbbGFzdF0gPSB2YWx1ZTtcblxuICAgICAgICAvLyBmaXJlIHVwZGF0ZVxuICAgICAgICBmaXJlKCdtZXRhZGF0YS11cGRhdGUnLCB7XG4gICAgICAgICAgICBrZXk6IHJvb3QsXG4gICAgICAgICAgICB2YWx1ZTogbWV0YWRhdGFbcm9vdF0sXG4gICAgICAgICAgICBzaWxlbnQsXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRNZXRhZGF0YSA9IGtleSA9PiBkZWVwQ2xvbmVPYmplY3Qoa2V5ID8gbWV0YWRhdGFba2V5XSA6IG1ldGFkYXRhKTtcblxuICAgIGNvbnN0IGFwaSA9IHtcbiAgICAgICAgaWQ6IHsgZ2V0OiAoKSA9PiBpZCB9LFxuICAgICAgICBvcmlnaW46IHsgZ2V0OiAoKSA9PiBvcmlnaW4sIHNldDogdmFsdWUgPT4gKG9yaWdpbiA9IHZhbHVlKSB9LFxuICAgICAgICBzZXJ2ZXJJZDogeyBnZXQ6ICgpID0+IHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgfSxcbiAgICAgICAgdHJhbnNmZXJJZDogeyBnZXQ6ICgpID0+IHN0YXRlLnRyYW5zZmVySWQgfSxcbiAgICAgICAgc3RhdHVzOiB7IGdldDogKCkgPT4gc3RhdGUuc3RhdHVzIH0sXG4gICAgICAgIGZpbGVuYW1lOiB7IGdldDogKCkgPT4gc3RhdGUuZmlsZS5uYW1lIH0sXG4gICAgICAgIGZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbjogeyBnZXQ6ICgpID0+IGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbihzdGF0ZS5maWxlLm5hbWUpIH0sXG4gICAgICAgIGZpbGVFeHRlbnNpb246IHsgZ2V0OiBnZXRGaWxlRXh0ZW5zaW9uIH0sXG4gICAgICAgIGZpbGVUeXBlOiB7IGdldDogZ2V0RmlsZVR5cGUgfSxcbiAgICAgICAgZmlsZVNpemU6IHsgZ2V0OiBnZXRGaWxlU2l6ZSB9LFxuICAgICAgICBmaWxlOiB7IGdldDogZ2V0RmlsZSB9LFxuICAgICAgICByZWxhdGl2ZVBhdGg6IHsgZ2V0OiAoKSA9PiBzdGF0ZS5maWxlLl9yZWxhdGl2ZVBhdGggfSxcblxuICAgICAgICBzb3VyY2U6IHsgZ2V0OiAoKSA9PiBzdGF0ZS5zb3VyY2UgfSxcblxuICAgICAgICBnZXRNZXRhZGF0YSxcbiAgICAgICAgc2V0TWV0YWRhdGE6IChrZXksIHZhbHVlLCBzaWxlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGtleTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldE1ldGFkYXRhKGtleSwgZGF0YVtrZXldLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE1ldGFkYXRhKGtleSwgdmFsdWUsIHNpbGVudCk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXh0ZW5kOiAobmFtZSwgaGFuZGxlcikgPT4gKGl0ZW1BUElbbmFtZV0gPSBoYW5kbGVyKSxcblxuICAgICAgICBhYm9ydExvYWQsXG4gICAgICAgIHJldHJ5TG9hZCxcbiAgICAgICAgcmVxdWVzdFByb2Nlc3NpbmcsXG4gICAgICAgIGFib3J0UHJvY2Vzc2luZyxcblxuICAgICAgICBsb2FkLFxuICAgICAgICBwcm9jZXNzLFxuICAgICAgICByZXZlcnQsXG5cbiAgICAgICAgLi4ub24oKSxcblxuICAgICAgICBmcmVlemU6ICgpID0+IChzdGF0ZS5mcm96ZW4gPSB0cnVlKSxcblxuICAgICAgICByZWxlYXNlOiAoKSA9PiAoc3RhdGUucmVsZWFzZWQgPSB0cnVlKSxcbiAgICAgICAgcmVsZWFzZWQ6IHsgZ2V0OiAoKSA9PiBzdGF0ZS5yZWxlYXNlZCB9LFxuXG4gICAgICAgIGFyY2hpdmU6ICgpID0+IChzdGF0ZS5hcmNoaXZlZCA9IHRydWUpLFxuICAgICAgICBhcmNoaXZlZDogeyBnZXQ6ICgpID0+IHN0YXRlLmFyY2hpdmVkIH0sXG4gICAgfTtcblxuICAgIC8vIGNyZWF0ZSBpdCBoZXJlIGluc3RlYWQgb2YgcmV0dXJuaW5nIGl0IGluc3RhbnRseSBzbyB3ZSBjYW4gZXh0ZW5kIGl0IGxhdGVyXG4gICAgY29uc3QgaXRlbUFQSSA9IGNyZWF0ZU9iamVjdChhcGkpO1xuXG4gICAgcmV0dXJuIGl0ZW1BUEk7XG59O1xuXG5jb25zdCBnZXRJdGVtSW5kZXhCeVF1ZXJ5ID0gKGl0ZW1zLCBxdWVyeSkgPT4ge1xuICAgIC8vIGp1c3QgcmV0dXJuIGZpcnN0IGluZGV4XG4gICAgaWYgKGlzRW1wdHkocXVlcnkpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIGludmFsaWQgcXVlcmllc1xuICAgIGlmICghaXNTdHJpbmcocXVlcnkpKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gaXRlbSBieSBpZCAob3IgLTEgaWYgbm90IGZvdW5kKVxuICAgIHJldHVybiBpdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBxdWVyeSk7XG59O1xuXG5jb25zdCBnZXRJdGVtQnlJZCA9IChpdGVtcywgaXRlbUlkKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBnZXRJdGVtSW5kZXhCeVF1ZXJ5KGl0ZW1zLCBpdGVtSWQpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbXNbaW5kZXhdIHx8IG51bGw7XG59O1xuXG5jb25zdCBmZXRjaEJsb2IgPSAodXJsLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCBoZWFkZXJzKSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KG51bGwsIHVybCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJyxcbiAgICB9KTtcblxuICAgIHJlcXVlc3Qub25sb2FkID0geGhyID0+IHtcbiAgICAgICAgLy8gZ2V0IGhlYWRlcnNcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcblxuICAgICAgICAvLyBnZXQgZmlsZW5hbWVcbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKGhlYWRlcnMpLm5hbWUgfHwgZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHJlc3BvbnNlXG4gICAgICAgIGxvYWQoY3JlYXRlUmVzcG9uc2UoJ2xvYWQnLCB4aHIuc3RhdHVzLCBnZXRGaWxlRnJvbUJsb2IoeGhyLnJlc3BvbnNlLCBmaWxlbmFtZSksIGhlYWRlcnMpKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0geGhyID0+IHtcbiAgICAgICAgZXJyb3IoY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQsIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9uaGVhZGVycyA9IHhociA9PiB7XG4gICAgICAgIGhlYWRlcnMoY3JlYXRlUmVzcG9uc2UoJ2hlYWRlcnMnLCB4aHIuc3RhdHVzLCBudWxsLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgIHJlcXVlc3Qub25hYm9ydCA9IGFib3J0O1xuXG4gICAgLy8gc2hvdWxkIHJldHVybiByZXF1ZXN0XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuXG5jb25zdCBnZXREb21haW5Gcm9tVVJMID0gdXJsID0+IHtcbiAgICBpZiAodXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgdXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyB1cmw7XG4gICAgfVxuICAgIHJldHVybiB1cmxcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnJlcGxhY2UoJ2Jsb2I6JywgJycpXG4gICAgICAgIC5yZXBsYWNlKC8oW2Etel0pPzpcXC9cXC8vLCAnJDEnKVxuICAgICAgICAuc3BsaXQoJy8nKVswXTtcbn07XG5cbmNvbnN0IGlzRXh0ZXJuYWxVUkwgPSB1cmwgPT5cbiAgICAodXJsLmluZGV4T2YoJzonKSA+IC0xIHx8IHVybC5pbmRleE9mKCcvLycpID4gLTEpICYmXG4gICAgZ2V0RG9tYWluRnJvbVVSTChsb2NhdGlvbi5ocmVmKSAhPT0gZ2V0RG9tYWluRnJvbVVSTCh1cmwpO1xuXG5jb25zdCBkeW5hbWljTGFiZWwgPSBsYWJlbCA9PiAoLi4ucGFyYW1zKSA9PiAoaXNGdW5jdGlvbihsYWJlbCkgPyBsYWJlbCguLi5wYXJhbXMpIDogbGFiZWwpO1xuXG5jb25zdCBpc01vY2tJdGVtID0gaXRlbSA9PiAhaXNGaWxlKGl0ZW0uZmlsZSk7XG5cbmNvbnN0IGxpc3RVcGRhdGVkID0gKGRpc3BhdGNoLCBzdGF0ZSkgPT4ge1xuICAgIGNsZWFyVGltZW91dChzdGF0ZS5saXN0VXBkYXRlVGltZW91dCk7XG4gICAgc3RhdGUubGlzdFVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTVMnLCB7IGl0ZW1zOiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykgfSk7XG4gICAgfSwgMCk7XG59O1xuXG5jb25zdCBvcHRpb25hbFByb21pc2UgPSAoZm4sIC4uLnBhcmFtcykgPT5cbiAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBmbiguLi5wYXJhbXMpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmVzdWx0LnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuY29uc3Qgc29ydEl0ZW1zID0gKHN0YXRlLCBjb21wYXJlKSA9PiB7XG4gICAgc3RhdGUuaXRlbXMuc29ydCgoYSwgYikgPT4gY29tcGFyZShjcmVhdGVJdGVtQVBJKGEpLCBjcmVhdGVJdGVtQVBJKGIpKSk7XG59O1xuXG4vLyByZXR1cm5zIGl0ZW0gYmFzZWQgb24gc3RhdGVcbmNvbnN0IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlID0gKHN0YXRlLCBpdGVtSGFuZGxlcikgPT4gKHtcbiAgICBxdWVyeSxcbiAgICBzdWNjZXNzID0gKCkgPT4ge30sXG4gICAgZmFpbHVyZSA9ICgpID0+IHt9LFxuICAgIC4uLm9wdGlvbnNcbn0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpO1xuICAgIGlmICghaXRlbSkge1xuICAgICAgICBmYWlsdXJlKHtcbiAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnSXRlbSBub3QgZm91bmQnKSxcbiAgICAgICAgICAgIGZpbGU6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGl0ZW1IYW5kbGVyKGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUsIG9wdGlvbnMgfHwge30pO1xufTtcblxuY29uc3QgYWN0aW9ucyA9IChkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSA9PiAoe1xuICAgIC8qKlxuICAgICAqIEFib3J0cyBhbGwgb25nb2luZyBwcm9jZXNzZXNcbiAgICAgKi9cbiAgICBBQk9SVF9BTEw6ICgpID0+IHtcbiAgICAgICAgZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBpdGVtLmZyZWV6ZSgpO1xuICAgICAgICAgICAgaXRlbS5hYm9ydExvYWQoKTtcbiAgICAgICAgICAgIGl0ZW0uYWJvcnRQcm9jZXNzaW5nKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGluaXRpYWwgZmlsZXNcbiAgICAgKi9cbiAgICBESURfU0VUX0ZJTEVTOiAoeyB2YWx1ZSA9IFtdIH0pID0+IHtcbiAgICAgICAgLy8gbWFwIHZhbHVlcyB0byBmaWxlIG9iamVjdHNcbiAgICAgICAgY29uc3QgZmlsZXMgPSB2YWx1ZS5tYXAoZmlsZSA9PiAoe1xuICAgICAgICAgICAgc291cmNlOiBmaWxlLnNvdXJjZSA/IGZpbGUuc291cmNlIDogZmlsZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IGZpbGUub3B0aW9ucyxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIGxvb3Agb3ZlciBmaWxlcywgaWYgZmlsZSBpcyBpbiBsaXN0LCBsZWF2ZSBpdCBiZSwgaWYgbm90LCByZW1vdmVcbiAgICAgICAgLy8gdGVzdCBpZiBpdGVtcyBzaG91bGQgYmUgbW92ZWRcbiAgICAgICAgbGV0IGFjdGl2ZUl0ZW1zID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuXG4gICAgICAgIGFjdGl2ZUl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAvLyBpZiBpdGVtIG5vdCBpcyBpbiBuZXcgdmFsdWUsIHJlbW92ZVxuICAgICAgICAgICAgaWYgKCFmaWxlcy5maW5kKGZpbGUgPT4gZmlsZS5zb3VyY2UgPT09IGl0ZW0uc291cmNlIHx8IGZpbGUuc291cmNlID09PSBpdGVtLmZpbGUpKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbSwgcmVtb3ZlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYWRkIG5ldyBmaWxlc1xuICAgICAgICBhY3RpdmVJdGVtcyA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKTtcbiAgICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIGZpbGUgaXMgYWxyZWFkeSBpbiBsaXN0XG4gICAgICAgICAgICBpZiAoYWN0aXZlSXRlbXMuZmluZChpdGVtID0+IGl0ZW0uc291cmNlID09PSBmaWxlLnNvdXJjZSB8fCBpdGVtLmZpbGUgPT09IGZpbGUuc291cmNlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIG5vdCBpbiBsaXN0LCBhZGRcbiAgICAgICAgICAgIGRpc3BhdGNoKCdBRERfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAuLi5maWxlLFxuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5OT05FLFxuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBESURfVVBEQVRFX0lURU1fTUVUQURBVEE6ICh7IGlkLCBhY3Rpb24sIGNoYW5nZSB9KSA9PiB7XG4gICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nXG4gICAgICAgIGlmIChjaGFuZ2Uuc2lsZW50KSByZXR1cm47XG5cbiAgICAgICAgLy8gaWYgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIGNsb3NlIHN1Y2Nlc3Npb24gd2UgY29tYmluZWQgYWxsIGNhbGxzIHRvZ2V0aGVyIHRvIHNhdmUgcmVzb3VyY2VzXG4gICAgICAgIGNsZWFyVGltZW91dChzdGF0ZS5pdGVtVXBkYXRlVGltZW91dCk7XG4gICAgICAgIHN0YXRlLml0ZW1VcGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbUJ5SWQoc3RhdGUuaXRlbXMsIGlkKTtcblxuICAgICAgICAgICAgLy8gb25seSByZXZlcnQgYW5kIGF0dGVtcHQgdG8gdXBsb2FkIHdoZW4gd2UncmUgdXBsb2FkaW5nIHRvIGEgc2VydmVyXG4gICAgICAgICAgICBpZiAoIXF1ZXJ5KCdJU19BU1lOQycpKSB7XG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIHdlIHVwZGF0ZSB0aGUgb3V0cHV0IGRhdGFcbiAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdTSE9VTERfUFJFUEFSRV9PVVRQVVQnLCBmYWxzZSwge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2UsXG4gICAgICAgICAgICAgICAgfSkudGhlbihzaG91bGRQcmVwYXJlT3V0cHV0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGx1Z2lucyBkZXRlcm1pbmVkIHRoZSBvdXRwdXQgZGF0YSBzaG91bGQgYmUgcHJlcGFyZWQgKG9yIG5vdCksIGNhbiBiZSBhZGp1c3RlZCB3aXRoIGJlZm9yZVByZXBhcmVPdXRwdXQgaG9va1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmVQcmVwYXJlRmlsZSA9IHF1ZXJ5KCdHRVRfQkVGT1JFX1BSRVBBUkVfRklMRScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlUHJlcGFyZUZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRQcmVwYXJlT3V0cHV0ID0gYmVmb3JlUHJlcGFyZUZpbGUoaXRlbSwgc2hvdWxkUHJlcGFyZU91dHB1dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRQcmVwYXJlT3V0cHV0KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAnUkVRVUVTVF9QUkVQQVJFX09VVFBVVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkLCBmaWxlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBpcyBsb2NhbCBpdGVtIHdlIG5lZWQgdG8gZW5hYmxlIHVwbG9hZCBidXR0b24gc28gY2hhbmdlIGNhbiBiZSBwcm9wYWdhdGVkIHRvIHNlcnZlclxuICAgICAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9MT0FEX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogaXRlbS5zb3VyY2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZvciBhc3luYyBzY2VuYXJpb3NcbiAgICAgICAgICAgIGNvbnN0IHVwbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBwdXNoIHRoaXMgZm9yd2FyZCBhIGJpdCBzbyB0aGUgaW50ZXJmYWNlIGlzIHVwZGF0ZWQgY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGlkIH0pO1xuICAgICAgICAgICAgICAgIH0sIDMyKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJldmVydCA9IGRvVXBsb2FkID0+IHtcbiAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLCBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnQpLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihkb1VwbG9hZCA/IHVwbG9hZCA6ICgpID0+IHt9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgYWJvcnQgPSBkb1VwbG9hZCA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKGRvVXBsb2FkID8gdXBsb2FkIDogKCkgPT4ge30pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIHJlLXVwbG9hZCB0aGUgZmlsZSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV2ZXJ0KHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGN1cnJlbnRseSB1cGxvYWRpbmcsIGNhbmNlbCB1cGxvYWRcbiAgICAgICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFib3J0KHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICAgICAgICB1cGxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfSxcblxuICAgIE1PVkVfSVRFTTogKHsgcXVlcnksIGluZGV4IH0pID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzdGF0ZS5pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICBpbmRleCA9IGxpbWl0KGluZGV4LCAwLCBzdGF0ZS5pdGVtcy5sZW5ndGggLSAxKTtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHJldHVybjtcbiAgICAgICAgc3RhdGUuaXRlbXMuc3BsaWNlKGluZGV4LCAwLCBzdGF0ZS5pdGVtcy5zcGxpY2UoY3VycmVudEluZGV4LCAxKVswXSk7XG4gICAgfSxcblxuICAgIFNPUlQ6ICh7IGNvbXBhcmUgfSkgPT4ge1xuICAgICAgICBzb3J0SXRlbXMoc3RhdGUsIGNvbXBhcmUpO1xuICAgICAgICBkaXNwYXRjaCgnRElEX1NPUlRfSVRFTVMnLCB7XG4gICAgICAgICAgICBpdGVtczogcXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKSxcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIEFERF9JVEVNUzogKHsgaXRlbXMsIGluZGV4LCBpbnRlcmFjdGlvbk1ldGhvZCwgc3VjY2VzcyA9ICgpID0+IHt9LCBmYWlsdXJlID0gKCkgPT4ge30gfSkgPT4ge1xuICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSB8fCB0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBpbnNlcnRMb2NhdGlvbiA9IHF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfTE9DQVRJT04nKTtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsSXRlbXMgPSBxdWVyeSgnR0VUX1RPVEFMX0lURU1TJyk7XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggPSBpbnNlcnRMb2NhdGlvbiA9PT0gJ2JlZm9yZScgPyAwIDogdG90YWxJdGVtcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlnbm9yZWRGaWxlcyA9IHF1ZXJ5KCdHRVRfSUdOT1JFRF9GSUxFUycpO1xuICAgICAgICBjb25zdCBpc1ZhbGlkRmlsZSA9IHNvdXJjZSA9PlxuICAgICAgICAgICAgaXNGaWxlKHNvdXJjZSkgPyAhaWdub3JlZEZpbGVzLmluY2x1ZGVzKHNvdXJjZS5uYW1lLnRvTG93ZXJDYXNlKCkpIDogIWlzRW1wdHkoc291cmNlKTtcbiAgICAgICAgY29uc3QgdmFsaWRJdGVtcyA9IGl0ZW1zLmZpbHRlcihpc1ZhbGlkRmlsZSk7XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSB2YWxpZEl0ZW1zLm1hcChcbiAgICAgICAgICAgIHNvdXJjZSA9PlxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FERF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZS5zb3VyY2UgfHwgc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBjdXJyZW50SW5kZXgrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHNvdXJjZS5vcHRpb25zIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oc3VjY2VzcylcbiAgICAgICAgICAgIC5jYXRjaChmYWlsdXJlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNvdXJjZVxuICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbk1ldGhvZFxuICAgICAqL1xuICAgIEFERF9JVEVNOiAoe1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGludGVyYWN0aW9uTWV0aG9kLFxuICAgICAgICBzdWNjZXNzID0gKCkgPT4ge30sXG4gICAgICAgIGZhaWx1cmUgPSAoKSA9PiB7fSxcbiAgICAgICAgb3B0aW9ucyA9IHt9LFxuICAgIH0pID0+IHtcbiAgICAgICAgLy8gaWYgbm8gc291cmNlIHN1cHBsaWVkXG4gICAgICAgIGlmIChpc0VtcHR5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoe1xuICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnTm8gc291cmNlJyksXG4gICAgICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlsdGVyIG91dCBpbnZhbGlkIGZpbGUgaXRlbXMsIHVzZWQgdG8gZmlsdGVyIGRyb3BwZWQgZGlyZWN0b3J5IGNvbnRlbnRzXG4gICAgICAgIGlmIChpc0ZpbGUoc291cmNlKSAmJiBzdGF0ZS5vcHRpb25zLmlnbm9yZWRGaWxlcy5pbmNsdWRlcyhzb3VyY2UubmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgLy8gZmFpbCBzaWxlbnRseVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGVzdCBpZiB0aGVyZSdzIHN0aWxsIHJvb20gaW4gdGhlIGxpc3Qgb2YgZmlsZXNcbiAgICAgICAgaWYgKCFoYXNSb29tRm9ySXRlbShzdGF0ZSkpIHtcbiAgICAgICAgICAgIC8vIGlmIG11bHRpcGxlIGFsbG93ZWQsIHdlIGNhbid0IHJlcGxhY2VcbiAgICAgICAgICAgIC8vIG9yIGlmIG9ubHkgYSBzaW5nbGUgaXRlbSBpcyBhbGxvd2VkIGJ1dCB3ZSdyZSBub3QgYWxsb3dlZCB0byByZXBsYWNlIGl0IHdlIGV4aXRcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLmFsbG93TXVsdGlwbGUgfHxcbiAgICAgICAgICAgICAgICAoIXN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSAmJiAhc3RhdGUub3B0aW9ucy5hbGxvd1JlcGxhY2UpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGNyZWF0ZVJlc3BvbnNlKCd3YXJuaW5nJywgMCwgJ01heCBmaWxlcycpO1xuXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19NQVhfRklMRVMnLCB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3IsIGZpbGU6IG51bGwgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxldCdzIHJlcGxhY2UgdGhlIGl0ZW1cbiAgICAgICAgICAgIC8vIGlkIG9mIGZpcnN0IGl0ZW0gd2UncmUgYWJvdXQgdG8gcmVtb3ZlXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpWzBdO1xuXG4gICAgICAgICAgICAvLyBpZiBoYXMgYmVlbiBwcm9jZXNzZWQgcmVtb3ZlIGl0IGZyb20gdGhlIHNlcnZlciBhcyB3ZWxsXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSB8fFxuICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JjZVJldmVydCA9IHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJyk7XG4gICAgICAgICAgICAgICAgaXRlbS5yZXZlcnQoXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCwgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VSZXZlcnRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VSZXZlcnQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRvIGFkZCBub3dcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdBRERfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsgLy8gbm8gbmVlZCB0byBoYW5kbGUgdGhpcyBjYXRjaCBzdGF0ZSBmb3Igbm93XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9yY2VSZXZlcnQpIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGZpcnN0IGl0ZW0gYXMgaXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGlzIGl0ZW1cbiAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0uaWQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVyZSBkaWQgdGhlIGZpbGUgb3JpZ2luYXRlXG4gICAgICAgIGNvbnN0IG9yaWdpbiA9XG4gICAgICAgICAgICBvcHRpb25zLnR5cGUgPT09ICdsb2NhbCdcbiAgICAgICAgICAgICAgICA/IEZpbGVPcmlnaW4uTE9DQUxcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMudHlwZSA9PT0gJ2xpbWJvJ1xuICAgICAgICAgICAgICAgID8gRmlsZU9yaWdpbi5MSU1CT1xuICAgICAgICAgICAgICAgIDogRmlsZU9yaWdpbi5JTlBVVDtcblxuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgYmxhbmsgaXRlbVxuICAgICAgICBjb25zdCBpdGVtID0gY3JlYXRlSXRlbShcbiAgICAgICAgICAgIC8vIHdoZXJlIGRpZCB0aGlzIGZpbGUgY29tZSBmcm9tXG4gICAgICAgICAgICBvcmlnaW4sXG5cbiAgICAgICAgICAgIC8vIGFuIGlucHV0IGZpbGUgbmV2ZXIgaGFzIGEgc2VydmVyIGZpbGUgcmVmZXJlbmNlXG4gICAgICAgICAgICBvcmlnaW4gPT09IEZpbGVPcmlnaW4uSU5QVVQgPyBudWxsIDogc291cmNlLFxuXG4gICAgICAgICAgICAvLyBmaWxlIG1vY2sgZGF0YSwgaWYgZGVmaW5lZFxuICAgICAgICAgICAgb3B0aW9ucy5maWxlXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gc2V0IGluaXRpYWwgbWV0YSBkYXRhXG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMubWV0YWRhdGEgfHwge30pLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGl0ZW0uc2V0TWV0YWRhdGEoa2V5LCBvcHRpb25zLm1ldGFkYXRhW2tleV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjcmVhdGVkIHRoZSBpdGVtLCBsZXQgcGx1Z2lucyBhZGQgbWV0aG9kc1xuICAgICAgICBhcHBseUZpbHRlcnMoJ0RJRF9DUkVBVEVfSVRFTScsIGl0ZW0sIHsgcXVlcnksIGRpc3BhdGNoIH0pO1xuXG4gICAgICAgIC8vIHdoZXJlIHRvIGluc2VydCBuZXcgaXRlbXNcbiAgICAgICAgY29uc3QgaXRlbUluc2VydExvY2F0aW9uID0gcXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTicpO1xuXG4gICAgICAgIC8vIGFkanVzdCBpbmRleCBpZiBpcyBub3QgYWxsb3dlZCB0byBwaWNrIGxvY2F0aW9uXG4gICAgICAgIGlmICghc3RhdGUub3B0aW9ucy5pdGVtSW5zZXJ0TG9jYXRpb25GcmVlZG9tKSB7XG4gICAgICAgICAgICBpbmRleCA9IGl0ZW1JbnNlcnRMb2NhdGlvbiA9PT0gJ2JlZm9yZScgPyAtMSA6IHN0YXRlLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBpdGVtIHRvIGxpc3RcbiAgICAgICAgaW5zZXJ0SXRlbShzdGF0ZS5pdGVtcywgaXRlbSwgaW5kZXgpO1xuXG4gICAgICAgIC8vIHNvcnQgaXRlbXMgaW4gbGlzdFxuICAgICAgICBpZiAoaXNGdW5jdGlvbihpdGVtSW5zZXJ0TG9jYXRpb24pICYmIHNvdXJjZSkge1xuICAgICAgICAgICAgc29ydEl0ZW1zKHN0YXRlLCBpdGVtSW5zZXJ0TG9jYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGEgcXVpY2sgcmVmZXJlbmNlIHRvIHRoZSBpdGVtIGlkXG4gICAgICAgIGNvbnN0IGlkID0gaXRlbS5pZDtcblxuICAgICAgICAvLyBvYnNlcnZlIGl0ZW0gZXZlbnRzXG4gICAgICAgIGl0ZW0ub24oJ2luaXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0lOSVRfSVRFTScsIHsgaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtaW5pdCcsICgpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfU1RBUlRfSVRFTV9MT0FEJywgeyBpZCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1tZXRhJywgKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9NRVRBJywgeyBpZCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1wcm9ncmVzcycsIHByb2dyZXNzID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUycsIHsgaWQsIHByb2dyZXNzIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLXJlcXVlc3QtZXJyb3InLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYWluU3RhdHVzID0gZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlTG9hZEVycm9yKShlcnJvcik7XG5cbiAgICAgICAgICAgIC8vIGlzIGNsaWVudCBlcnJvciwgbm8gd2F5IHRvIHJlY292ZXJcbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID49IDQwMCAmJiBlcnJvci5jb2RlIDwgNTAwKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX0lOVkFMSUQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluOiBtYWluU3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiBgJHtlcnJvci5jb2RlfSAoJHtlcnJvci5ib2R5fSlgLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVqZWN0IHRoZSBmaWxlIHNvIGNhbiBiZSBkZWFsdCB3aXRoIHRocm91Z2ggQVBJXG4gICAgICAgICAgICAgICAgZmFpbHVyZSh7IGVycm9yLCBmaWxlOiBjcmVhdGVJdGVtQVBJKGl0ZW0pIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaXMgcG9zc2libGUgc2VydmVyIGVycm9yLCBzbyBtaWdodCBiZSBwb3NzaWJsZSB0byByZXRyeVxuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX0xPQURfRVJST1InLCB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1haW46IG1haW5TdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLWZpbGUtZXJyb3InLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fSU5WQUxJRCcsIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3I6IGVycm9yLnN0YXR1cywgZmlsZTogY3JlYXRlSXRlbUFQSShpdGVtKSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1hYm9ydCcsICgpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLXNraXAnLCAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnQ09NUExFVEVfTE9BRF9JVEVNJywge1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFkZCA9IHNob3VsZEFkZCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gbm8gc2hvdWxkIG5vdCBhZGQgdGhpcyBmaWxlXG4gICAgICAgICAgICAgICAgaWYgKCFzaG91bGRBZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG5vdyBpbnRlcmVzdGVkIGluIG1ldGFkYXRhIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdtZXRhZGF0YS11cGRhdGUnLCBjaGFuZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX01FVEFEQVRBJywgeyBpZCwgY2hhbmdlIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0IHBsdWdpbnMgZGVjaWRlIGlmIHRoZSBvdXRwdXQgZGF0YSBzaG91bGQgYmUgcHJlcGFyZWQgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgIC8vIG1lYW5zIHdlJ2xsIGRvIHRoaXMgYW5kIHdhaXQgZm9yIGlkbGUgc3RhdGVcbiAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdTSE9VTERfUFJFUEFSRV9PVVRQVVQnLCBmYWxzZSwgeyBpdGVtLCBxdWVyeSB9KS50aGVuKFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRQcmVwYXJlT3V0cHV0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBsdWdpbnMgZGV0ZXJtaW5lZCB0aGUgb3V0cHV0IGRhdGEgc2hvdWxkIGJlIHByZXBhcmVkIChvciBub3QpLCBjYW4gYmUgYWRqdXN0ZWQgd2l0aCBiZWZvcmVQcmVwYXJlT3V0cHV0IGhvb2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZVByZXBhcmVGaWxlID0gcXVlcnkoJ0dFVF9CRUZPUkVfUFJFUEFSRV9GSUxFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlUHJlcGFyZUZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHJlcGFyZU91dHB1dCA9IGJlZm9yZVByZXBhcmVGaWxlKGl0ZW0sIHNob3VsZFByZXBhcmVPdXRwdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0NPTVBMRVRFX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4aXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRQcmVwYXJlT3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgaWRsZSBzdGF0ZSBhbmQgdGhlbiBydW4gUFJFUEFSRV9PVVRQVVRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1JFUVVFU1RfUFJFUEFSRV9PVVRQVVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQsIGZpbGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gaXRlbSBsb2FkZWQsIGFsbG93IHBsdWdpbnMgdG9cbiAgICAgICAgICAgIC8vIC0gcmVhZCBkYXRhIChxdWlja2x5KVxuICAgICAgICAgICAgLy8gLSBhZGQgbWV0YWRhdGFcbiAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0RJRF9MT0FEX0lURU0nLCBpdGVtLCB7IHF1ZXJ5LCBkaXNwYXRjaCB9KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxQcm9taXNlKHF1ZXJ5KCdHRVRfQkVGT1JFX0FERF9GSUxFJyksIGNyZWF0ZUl0ZW1BUEkoaXRlbSkpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVBZGRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlIHx8ICFlLmVycm9yIHx8ICFlLnN0YXR1cykgcmV0dXJuIGhhbmRsZUFkZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9JTlZBTElEJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZS5lcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXN0YXJ0JywgKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXByb2dyZXNzJywgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTJywgeyBpZCwgcHJvZ3Jlc3MgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtZXJyb3InLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUicsIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFpbjogZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yKShlcnJvciksXG4gICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXJldmVydC1lcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUicsIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFpbjogZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yKShlcnJvciksXG4gICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLWNvbXBsZXRlJywgc2VydmVyRmlsZVJlZmVyZW5jZSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORycsIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0RFRklORV9WQUxVRScsIHsgaWQsIHZhbHVlOiBzZXJ2ZXJGaWxlUmVmZXJlbmNlIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLWFib3J0JywgKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXJldmVydCcsICgpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQgfSk7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0RFRklORV9WQUxVRScsIHsgaWQsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBsZXQgdmlldyBrbm93IHRoZSBpdGVtIGhhcyBiZWVuIGluc2VydGVkXG4gICAgICAgIGRpc3BhdGNoKCdESURfQUREX0lURU0nLCB7IGlkLCBpbmRleCwgaW50ZXJhY3Rpb25NZXRob2QgfSk7XG5cbiAgICAgICAgbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKTtcblxuICAgICAgICAvLyBzdGFydCBsb2FkaW5nIHRoZSBzb3VyY2VcbiAgICAgICAgY29uc3QgeyB1cmwsIGxvYWQsIHJlc3RvcmUsIGZldGNoIH0gPSBzdGF0ZS5vcHRpb25zLnNlcnZlciB8fCB7fTtcblxuICAgICAgICBpdGVtLmxvYWQoXG4gICAgICAgICAgICBzb3VyY2UsXG5cbiAgICAgICAgICAgIC8vIHRoaXMgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbG9hZHMgdGhlIGZpbGUgYmFzZWQgb24gdGhlIHR5cGUgb2YgZmlsZSAoc3RyaW5nLCBiYXNlNjQsIGJsb2IsIGZpbGUpIGFuZCBsb2NhdGlvbiBvZiBmaWxlIChsb2NhbCwgcmVtb3RlLCBsaW1ibylcbiAgICAgICAgICAgIGNyZWF0ZUZpbGVMb2FkZXIoXG4gICAgICAgICAgICAgICAgb3JpZ2luID09PSBGaWxlT3JpZ2luLklOUFVUXG4gICAgICAgICAgICAgICAgICAgID8gLy8gaW5wdXQsIGlmIGlzIHJlbW90ZSwgc2VlIGlmIHNob3VsZCB1c2UgY3VzdG9tIGZldGNoLCBlbHNlIHVzZSBkZWZhdWx0IGZldGNoQmxvYlxuICAgICAgICAgICAgICAgICAgICAgIGlzU3RyaW5nKHNvdXJjZSkgJiYgaXNFeHRlcm5hbFVSTChzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZldGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGZXRjaEZ1bmN0aW9uKHVybCwgZmV0Y2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmZXRjaEJsb2IgLy8gcmVtb3RlIHVybFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmZXRjaEJsb2IgLy8gdHJ5IHRvIGZldGNoIHVybFxuICAgICAgICAgICAgICAgICAgICA6IC8vIGxpbWJvIG9yIGxvY2FsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CT1xuICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCByZXN0b3JlKSAvLyBsaW1ib1xuICAgICAgICAgICAgICAgICAgICA6IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCBsb2FkKSAvLyBsb2NhbFxuICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgLy8gY2FsbGVkIHdoZW4gdGhlIGZpbGUgaXMgbG9hZGVkIHNvIGl0IGNhbiBiZSBwaXBlZCB0aHJvdWdoIHRoZSBmaWx0ZXJzXG4gICAgICAgICAgICAoZmlsZSwgc3VjY2VzcywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBsZXQncyBwcm9jZXNzIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignTE9BRF9GSUxFJywgZmlsZSwgeyBxdWVyeSB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBSRVFVRVNUX1BSRVBBUkVfT1VUUFVUOiAoeyBpdGVtLCBzdWNjZXNzLCBmYWlsdXJlID0gKCkgPT4ge30gfSkgPT4ge1xuICAgICAgICAvLyBlcnJvciByZXNwb25zZSBpZiBpdGVtIGFyY2hpdmVkXG4gICAgICAgIGNvbnN0IGVyciA9IHtcbiAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnSXRlbSBub3QgZm91bmQnKSxcbiAgICAgICAgICAgIGZpbGU6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGFyY2hpdmVkIGl0ZW1zLCBhbiBpdGVtIGNvdWxkIGhhdmUgYmVlbiBhcmNoaXZlZCAobG9hZCBhYm9ydGVkKSB3aGlsZSB3YWl0aW5nIHRvIGJlIHByZXBhcmVkXG4gICAgICAgIGlmIChpdGVtLmFyY2hpdmVkKSByZXR1cm4gZmFpbHVyZShlcnIpO1xuXG4gICAgICAgIC8vIGFsbG93IHBsdWdpbnMgdG8gYWx0ZXIgdGhlIGZpbGUgZGF0YVxuICAgICAgICBhcHBseUZpbHRlckNoYWluKCdQUkVQQVJFX09VVFBVVCcsIGl0ZW0uZmlsZSwgeyBxdWVyeSwgaXRlbSB9KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdDT01QTEVURV9QUkVQQVJFX09VVFBVVCcsIHJlc3VsdCwgeyBxdWVyeSwgaXRlbSB9KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGFyY2hpdmVkIGl0ZW1zLCBhbiBpdGVtIGNvdWxkIGhhdmUgYmVlbiBhcmNoaXZlZCAobG9hZCBhYm9ydGVkKSB3aGlsZSBiZWluZyBwcmVwYXJlZFxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmFyY2hpdmVkKSByZXR1cm4gZmFpbHVyZShlcnIpO1xuXG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uZSFcbiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIENPTVBMRVRFX0xPQURfSVRFTTogKHsgaXRlbSwgZGF0YSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3VjY2Vzcywgc291cmNlIH0gPSBkYXRhO1xuXG4gICAgICAgIC8vIHNvcnQgaXRlbXMgaW4gbGlzdFxuICAgICAgICBjb25zdCBpdGVtSW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGl0ZW1JbnNlcnRMb2NhdGlvbikgJiYgc291cmNlKSB7XG4gICAgICAgICAgICBzb3J0SXRlbXMoc3RhdGUsIGl0ZW1JbnNlcnRMb2NhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgaW50ZXJmYWNlIGtub3cgdGhlIGl0ZW0gaGFzIGxvYWRlZFxuICAgICAgICBkaXNwYXRjaCgnRElEX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5JTlBVVCA/IG51bGwgOiBzb3VyY2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGl0ZW0gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGxvYWRlZCBhbmQgYWRkZWQgdG8gdGhlXG4gICAgICAgIC8vIGxpc3Qgb2YgaXRlbXMgc28gY2FuIG5vdyBiZSBzYWZlbHkgcmV0dXJuZWQgZm9yIHVzZVxuICAgICAgICBzdWNjZXNzKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYSBsb2NhbCBzZXJ2ZXIgZmlsZSB3ZSBuZWVkIHRvIHNob3cgYSBkaWZmZXJlbnQgc3RhdGVcbiAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0xPQURfTE9DQUxfSVRFTScsIHsgaWQ6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpcyBhIHRlbXAgc2VydmVyIGZpbGUgd2UgcHJldmVudCBhc3luYyB1cGxvYWQgY2FsbCBoZXJlIChhcyB0aGUgZmlsZSBpcyBhbHJlYWR5IG9uIHRoZSBzZXJ2ZXIpXG4gICAgICAgIGlmIChpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CTykge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkcnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogc291cmNlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfREVGSU5FX1ZBTFVFJywge1xuICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnNlcnZlcklkIHx8IHNvdXJjZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWQgd2UgYXJlIGFsbG93ZWQgdG8gdXBsb2FkIHRoZSBmaWxlIGltbWVkaWF0ZWx5LCBsZXRzIGRvIGl0XG4gICAgICAgIGlmIChxdWVyeSgnSVNfQVNZTkMnKSAmJiBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0uaWQgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgUkVUUllfSVRFTV9MT0FEOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgaXRlbSA9PiB7XG4gICAgICAgIC8vIHRyeSBsb2FkaW5nIHRoZSBzb3VyY2Ugb25lIG1vcmUgdGltZVxuICAgICAgICBpdGVtLnJldHJ5TG9hZCgpO1xuICAgIH0pLFxuXG4gICAgUkVRVUVTVF9JVEVNX1BSRVBBUkU6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCAoaXRlbSwgc3VjY2VzcywgZmFpbHVyZSkgPT4ge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICdSRVFVRVNUX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBxdWVyeTogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1BSRVBBUkVfT1VUUFVUJywgeyBpZDogaXRlbS5pZCwgZmlsZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBmaWxlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWx1cmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgIH0pLFxuXG4gICAgUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCAoaXRlbSwgc3VjY2VzcywgZmFpbHVyZSkgPT4ge1xuICAgICAgICAvLyBjYW5ub3QgYmUgcXVldWVkIChvciBpcyBhbHJlYWR5IHF1ZXVlZClcbiAgICAgICAgY29uc3QgaXRlbUNhbkJlUXVldWVkRm9yUHJvY2Vzc2luZyA9XG4gICAgICAgICAgICAvLyB3YWl0aW5nIGZvciBzb21ldGhpbmdcbiAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLklETEUgfHxcbiAgICAgICAgICAgIC8vIHByb2Nlc3Npbmcgd2VudCB3cm9uZyBlYXJsaWVyXG4gICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0VSUk9SO1xuXG4gICAgICAgIC8vIG5vdCByZWFkeSB0byBiZSBwcm9jZXNzZWRcbiAgICAgICAgaWYgKCFpdGVtQ2FuQmVRdWV1ZWRGb3JQcm9jZXNzaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzTm93ID0gKCkgPT5cbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtLCBzdWNjZXNzLCBmYWlsdXJlIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gKCkgPT4gKGRvY3VtZW50LmhpZGRlbiA/IHByb2Nlc3NOb3coKSA6IHNldFRpbWVvdXQocHJvY2Vzc05vdywgMzIpKTtcblxuICAgICAgICAgICAgLy8gaWYgYWxyZWFkeSBkb25lIHByb2Nlc3Npbmcgb3IgdHJpZWQgdG8gcmV2ZXJ0IGJ1dCBkaWRuJ3Qgd29yaywgdHJ5IGFnYWluXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSB8fFxuICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLCBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnQpLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihwcm9jZXNzKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOyAvLyBkb24ndCBjb250aW51ZSB3aXRoIHByb2Nlc3NpbmcgaWYgc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lORykge1xuICAgICAgICAgICAgICAgIGl0ZW0uYWJvcnRQcm9jZXNzaW5nKCkudGhlbihwcm9jZXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWxyZWFkeSBxdWV1ZWQgZm9yIHByb2Nlc3NpbmdcbiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVEKSByZXR1cm47XG5cbiAgICAgICAgaXRlbS5yZXF1ZXN0UHJvY2Vzc2luZygpO1xuXG4gICAgICAgIGRpc3BhdGNoKCdESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkOiBpdGVtLmlkIH0pO1xuXG4gICAgICAgIGRpc3BhdGNoKCdQUk9DRVNTX0lURU0nLCB7IHF1ZXJ5OiBpdGVtLCBzdWNjZXNzLCBmYWlsdXJlIH0sIHRydWUpO1xuICAgIH0pLFxuXG4gICAgUFJPQ0VTU19JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgKGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUpID0+IHtcbiAgICAgICAgY29uc3QgbWF4UGFyYWxsZWxVcGxvYWRzID0gcXVlcnkoJ0dFVF9NQVhfUEFSQUxMRUxfVVBMT0FEUycpO1xuICAgICAgICBjb25zdCB0b3RhbEN1cnJlbnRVcGxvYWRzID0gcXVlcnkoJ0dFVF9JVEVNU19CWV9TVEFUVVMnLCBJdGVtU3RhdHVzLlBST0NFU1NJTkcpLmxlbmd0aDtcblxuICAgICAgICAvLyBxdWV1ZSBhbmQgd2FpdCB0aWxsIHF1ZXVlIGlzIGZyZWVkIHVwXG4gICAgICAgIGlmICh0b3RhbEN1cnJlbnRVcGxvYWRzID09PSBtYXhQYXJhbGxlbFVwbG9hZHMpIHtcbiAgICAgICAgICAgIC8vIHF1ZXVlIGZvciBsYXRlciBwcm9jZXNzaW5nXG4gICAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBmYWlsdXJlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHN0b3AgaXQhXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3YXMgbm90IHF1ZXVlZCBvciBpcyBhbHJlYWR5IHByb2Nlc3NpbmcgZXhpdCBoZXJlXG4gICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc05leHQgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBwcm9jZXNzIHF1ZXVldWQgaXRlbXNcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlRW50cnkgPSBzdGF0ZS5wcm9jZXNzaW5nUXVldWUuc2hpZnQoKTtcblxuICAgICAgICAgICAgLy8gbm8gaXRlbXMgbGVmdFxuICAgICAgICAgICAgaWYgKCFxdWV1ZUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIGdldCBpdGVtIHJlZmVyZW5jZVxuICAgICAgICAgICAgY29uc3QgeyBpZCwgc3VjY2VzcywgZmFpbHVyZSB9ID0gcXVldWVFbnRyeTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1SZWZlcmVuY2UgPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgaWQpO1xuXG4gICAgICAgICAgICAvLyBpZiBpdGVtIHdhcyBhcmNoaXZlZCB3aGlsZSBpbiBxdWV1ZSwganVtcCB0byBuZXh0XG4gICAgICAgICAgICBpZiAoIWl0ZW1SZWZlcmVuY2UgfHwgaXRlbVJlZmVyZW5jZS5hcmNoaXZlZCkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NOZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwcm9jZXNzIHF1ZXVlZCBpdGVtXG4gICAgICAgICAgICBkaXNwYXRjaCgnUFJPQ0VTU19JVEVNJywgeyBxdWVyeTogaWQsIHN1Y2Nlc3MsIGZhaWx1cmUgfSwgdHJ1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gd2UgZG9uZSBmdW5jdGlvblxuICAgICAgICBpdGVtLm9uT25jZSgncHJvY2Vzcy1jb21wbGV0ZScsICgpID0+IHtcbiAgICAgICAgICAgIHN1Y2Nlc3MoY3JlYXRlSXRlbUFQSShpdGVtKSk7XG4gICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuXG4gICAgICAgICAgICAvLyBpZiBvcmlnaW4gaXMgbG9jYWwsIGFuZCB3ZSdyZSBpbnN0YW50IHVwbG9hZGluZywgdHJpZ2dlciByZW1vdmUgb2Ygb3JpZ2luYWxcbiAgICAgICAgICAgIC8vIGFzIHJldmVydCB3aWxsIHJlbW92ZSBmaWxlIGZyb20gbGlzdFxuICAgICAgICAgICAgY29uc3Qgc2VydmVyID0gc3RhdGUub3B0aW9ucy5zZXJ2ZXI7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW50VXBsb2FkID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkO1xuICAgICAgICAgICAgaWYgKGluc3RhbnRVcGxvYWQgJiYgaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwgJiYgaXNGdW5jdGlvbihzZXJ2ZXIucmVtb3ZlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcbiAgICAgICAgICAgICAgICBpdGVtLm9yaWdpbiA9IEZpbGVPcmlnaW4uTElNQk87XG4gICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmVtb3ZlKGl0ZW0uc291cmNlLCBub29wLCBub29wKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWxsIGl0ZW1zIHByb2Nlc3NlZD8gTm8gZXJyb3JzP1xuICAgICAgICAgICAgY29uc3QgYWxsSXRlbXNQcm9jZXNzZWQgPVxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfSVRFTVNfQllfU1RBVFVTJywgSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKS5sZW5ndGggPT09XG4gICAgICAgICAgICAgICAgc3RhdGUuaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGFsbEl0ZW1zUHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkdfQUxMJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHdlIGVycm9yIGZ1bmN0aW9uXG4gICAgICAgIGl0ZW0ub25PbmNlKCdwcm9jZXNzLWVycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgZmFpbHVyZSh7IGVycm9yLCBmaWxlOiBjcmVhdGVJdGVtQVBJKGl0ZW0pIH0pO1xuICAgICAgICAgICAgcHJvY2Vzc05leHQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc3RhcnQgZmlsZSBwcm9jZXNzaW5nXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdGF0ZS5vcHRpb25zO1xuICAgICAgICBpdGVtLnByb2Nlc3MoXG4gICAgICAgICAgICBjcmVhdGVGaWxlUHJvY2Vzc29yKFxuICAgICAgICAgICAgICAgIGNyZWF0ZVByb2Nlc3NvckZ1bmN0aW9uKG9wdGlvbnMuc2VydmVyLnVybCwgb3B0aW9ucy5zZXJ2ZXIucHJvY2Vzcywgb3B0aW9ucy5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rVHJhbnNmZXJJZDogaXRlbS50cmFuc2ZlcklkLFxuICAgICAgICAgICAgICAgICAgICBjaHVua1NlcnZlcjogb3B0aW9ucy5zZXJ2ZXIucGF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIGNodW5rVXBsb2Fkczogb3B0aW9ucy5jaHVua1VwbG9hZHMsXG4gICAgICAgICAgICAgICAgICAgIGNodW5rRm9yY2U6IG9wdGlvbnMuY2h1bmtGb3JjZSxcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtTaXplOiBvcHRpb25zLmNodW5rU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtSZXRyeURlbGF5czogb3B0aW9ucy5jaHVua1JldHJ5RGVsYXlzLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb246IHF1ZXJ5KCdHRVRfQUxMT1dfTUlOSU1VTV9VUExPQURfRFVSQVRJT04nKSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgLy8gY2FsbGVkIHdoZW4gdGhlIGZpbGUgaXMgYWJvdXQgdG8gYmUgcHJvY2Vzc2VkIHNvIGl0IGNhbiBiZSBwaXBlZCB0aHJvdWdoIHRoZSB0cmFuc2Zvcm0gZmlsdGVyc1xuICAgICAgICAgICAgKGZpbGUsIHN1Y2Nlc3MsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgcGx1Z2lucyB0byBhbHRlciB0aGUgZmlsZSBkYXRhXG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignUFJFUEFSRV9PVVRQVVQnLCBmaWxlLCB7IHF1ZXJ5LCBpdGVtIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQ6IGl0ZW0uaWQsIGZpbGUgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSksXG5cbiAgICBSRVRSWV9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBpdGVtID0+IHtcbiAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaXRlbSB9KTtcbiAgICB9KSxcblxuICAgIFJFUVVFU1RfUkVNT1ZFX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBpdGVtID0+IHtcbiAgICAgICAgb3B0aW9uYWxQcm9taXNlKHF1ZXJ5KCdHRVRfQkVGT1JFX1JFTU9WRV9GSUxFJyksIGNyZWF0ZUl0ZW1BUEkoaXRlbSkpLnRoZW4oc2hvdWxkUmVtb3ZlID0+IHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbSB9KTtcbiAgICAgICAgfSk7XG4gICAgfSksXG5cbiAgICBSRUxFQVNFX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBpdGVtID0+IHtcbiAgICAgICAgaXRlbS5yZWxlYXNlKCk7XG4gICAgfSksXG5cbiAgICBSRU1PVkVfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIChpdGVtLCBzdWNjZXNzLCBmYWlsdXJlLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbW92ZUZyb21WaWV3ID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gZ2V0IGlkIHJlZmVyZW5jZVxuICAgICAgICAgICAgY29uc3QgaWQgPSBpdGVtLmlkO1xuXG4gICAgICAgICAgICAvLyBhcmNoaXZlIHRoZSBpdGVtLCB0aGlzIGRvZXMgbm90IHJlbW92ZSBpdCBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgICBnZXRJdGVtQnlJZChzdGF0ZS5pdGVtcywgaWQpLmFyY2hpdmUoKTtcblxuICAgICAgICAgICAgLy8gdGVsbCB0aGUgdmlldyB0aGUgaXRlbSBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1JFTU9WRV9JVEVNJywgeyBlcnJvcjogbnVsbCwgaWQsIGl0ZW0gfSk7XG5cbiAgICAgICAgICAgIC8vIG5vdyB0aGUgbGlzdCBoYXMgYmVlbiBtb2RpZmllZFxuICAgICAgICAgICAgbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKTtcblxuICAgICAgICAgICAgLy8gY29ycmVjdGx5IHJlbW92ZWRcbiAgICAgICAgICAgIHN1Y2Nlc3MoY3JlYXRlSXRlbUFQSShpdGVtKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGxvY2FsIGZpbGUgYW5kIHRoZSBgc2VydmVyLnJlbW92ZWAgZnVuY3Rpb24gaGFzIGJlZW4gY29uZmlndXJlZCxcbiAgICAgICAgLy8gc2VuZCBzb3VyY2UgdGhlcmUgc28gZGV2IGNhbiByZW1vdmUgZmlsZSBmcm9tIHNlcnZlclxuICAgICAgICBjb25zdCBzZXJ2ZXIgPSBzdGF0ZS5vcHRpb25zLnNlcnZlcjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwgJiZcbiAgICAgICAgICAgIHNlcnZlciAmJlxuICAgICAgICAgICAgaXNGdW5jdGlvbihzZXJ2ZXIucmVtb3ZlKSAmJlxuICAgICAgICAgICAgb3B0aW9ucy5yZW1vdmUgIT09IGZhbHNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TVEFSVF9JVEVNX1JFTU9WRScsIHsgaWQ6IGl0ZW0uaWQgfSk7XG5cbiAgICAgICAgICAgIHNlcnZlci5yZW1vdmUoXG4gICAgICAgICAgICAgICAgaXRlbS5zb3VyY2UsXG4gICAgICAgICAgICAgICAgKCkgPT4gcmVtb3ZlRnJvbVZpZXcoKSxcbiAgICAgICAgICAgICAgICBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgMCwgc3RhdHVzLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IGR5bmFtaWNMYWJlbChzdGF0ZS5vcHRpb25zLmxhYmVsRmlsZVJlbW92ZUVycm9yKShzdGF0dXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgaXMgcmVxdWVzdGluZyByZXZlcnQgYW5kIGNhbiByZXZlcnQgbmVlZCB0byBjYWxsIHJldmVydCBoYW5kbGVyIChub3QgY2FsbGluZyByZXF1ZXN0XyBiZWNhdXNlIHRoYXQgd291bGQgYWxzbyB0cmlnZ2VyIGJlZm9yZVJlbW92ZUhvb2spXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMucmV2ZXJ0ICYmIGl0ZW0ub3JpZ2luICE9PSBGaWxlT3JpZ2luLkxPQ0FMICYmIGl0ZW0uc2VydmVySWQgIT09IG51bGwpIHx8XG4gICAgICAgICAgICAgICAgLy8gaWYgY2h1bmtlZCB1cGxvYWRzIGFyZSBlbmFibGVkIGFuZCB3ZSdyZSB1cGxvYWRpbmcgaW4gY2h1bmtzIGZvciB0aGlzIHNwZWNpZmljIGZpbGVcbiAgICAgICAgICAgICAgICAvLyBvciBpZiB0aGUgZmlsZSBpc24ndCBiaWcgZW5vdWdoIGZvciBjaHVua2VkIHVwbG9hZHMgYnV0IGNodW5rRm9yY2UgaXMgc2V0IHRoZW4gY2FsbFxuICAgICAgICAgICAgICAgIC8vIHJldmVydCBiZWZvcmUgcmVtb3ZpbmcgZnJvbSB0aGUgdmlldy4uLlxuICAgICAgICAgICAgICAgIChzdGF0ZS5vcHRpb25zLmNodW5rVXBsb2FkcyAmJiBpdGVtLmZpbGUuc2l6ZSA+IHN0YXRlLm9wdGlvbnMuY2h1bmtTaXplKSB8fFxuICAgICAgICAgICAgICAgIChzdGF0ZS5vcHRpb25zLmNodW5rVXBsb2FkcyAmJiBzdGF0ZS5vcHRpb25zLmNodW5rRm9yY2UpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLCBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnQpLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2FuIG5vdyBzYWZlbHkgcmVtb3ZlIGZyb20gdmlld1xuICAgICAgICAgICAgcmVtb3ZlRnJvbVZpZXcoKTtcbiAgICAgICAgfVxuICAgIH0pLFxuXG4gICAgQUJPUlRfSVRFTV9MT0FEOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgaXRlbSA9PiB7XG4gICAgICAgIGl0ZW0uYWJvcnRMb2FkKCk7XG4gICAgfSksXG5cbiAgICBBQk9SVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBpdGVtID0+IHtcbiAgICAgICAgLy8gdGVzdCBpZiBpcyBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICBpZiAoaXRlbS5zZXJ2ZXJJZCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkOiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWJvcnRcbiAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZSA9IHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZDtcbiAgICAgICAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KSxcblxuICAgIFJFUVVFU1RfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGl0ZW0gPT4ge1xuICAgICAgICAvLyBub3QgaW5zdGFudCB1cGxvYWRpbmcsIHJldmVydCBpbW1lZGlhdGVseVxuICAgICAgICBpZiAoIXN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UncmUgaW5zdGFudCB1cGxvYWRpbmcgdGhlIGZpbGUgd2lsbCBhbHNvIGJlIHJlbW92ZWQgaWYgd2UgcmV2ZXJ0LFxuICAgICAgICAvLyBzbyBpZiBhIGJlZm9yZSByZW1vdmUgZmlsZSBob29rIGlzIGRlZmluZWQgd2UgbmVlZCB0byBydW4gaXQgbm93XG4gICAgICAgIGNvbnN0IGhhbmRsZVJldmVydCA9IHNob3VsZFJldmVydCA9PiB7XG4gICAgICAgICAgICBpZiAoIXNob3VsZFJldmVydCkgcmV0dXJuO1xuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZuID0gcXVlcnkoJ0dFVF9CRUZPUkVfUkVNT1ZFX0ZJTEUnKTtcbiAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJldmVydCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlcXVlc3RSZW1vdmVSZXN1bHQgPSBmbihjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcbiAgICAgICAgaWYgKHJlcXVlc3RSZW1vdmVSZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXZlcnQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3RSZW1vdmVSZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJldmVydChyZXF1ZXN0UmVtb3ZlUmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdFJlbW92ZVJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXF1ZXN0UmVtb3ZlUmVzdWx0LnRoZW4oaGFuZGxlUmV2ZXJ0KTtcbiAgICAgICAgfVxuICAgIH0pLFxuXG4gICAgUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCwgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0KSxcbiAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZSA9IHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCB8fCBpc01vY2tJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTtcbiAgICB9KSxcblxuICAgIFNFVF9PUFRJT05TOiAoeyBvcHRpb25zIH0pID0+IHtcbiAgICAgICAgLy8gZ2V0IGFsbCBrZXlzIHBhc3NlZFxuICAgICAgICBjb25zdCBvcHRpb25LZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG5cbiAgICAgICAgLy8gZ2V0IHByaW9yaXRpemVkIGtleWVkIHRvIGluY2x1ZGUgKHJlbW92ZSBvbmNlIG5vdCBpbiBvcHRpb25zIG9iamVjdClcbiAgICAgICAgY29uc3QgcHJpb3JpdGl6ZWRPcHRpb25LZXlzID0gUHJpb3JpdGl6ZWRPcHRpb25zLmZpbHRlcihrZXkgPT4gb3B0aW9uS2V5cy5pbmNsdWRlcyhrZXkpKTtcblxuICAgICAgICAvLyBvcmRlciB0aGUga2V5cywgcHJpb3JpdGl6ZWQgZmlyc3QsIHRoZW4gcmVzdFxuICAgICAgICBjb25zdCBvcmRlcmVkT3B0aW9uS2V5cyA9IFtcbiAgICAgICAgICAgIC8vIGFkZCBwcmlvcml0aXplZCBmaXJzdCBpZiBwYXNzZWQgdG8gb3B0aW9ucywgZWxzZSByZW1vdmVcbiAgICAgICAgICAgIC4uLnByaW9yaXRpemVkT3B0aW9uS2V5cyxcblxuICAgICAgICAgICAgLy8gcHJldmVudCBkdXBsaWNhdGUga2V5c1xuICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMob3B0aW9ucykuZmlsdGVyKGtleSA9PiAhcHJpb3JpdGl6ZWRPcHRpb25LZXlzLmluY2x1ZGVzKGtleSkpLFxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGRpc3BhdGNoIHNldCBldmVudCBmb3IgZWFjaCBvcHRpb25cbiAgICAgICAgb3JkZXJlZE9wdGlvbktleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goYFNFVF8ke2Zyb21DYW1lbHMoa2V5LCAnXycpLnRvVXBwZXJDYXNlKCl9YCwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zW2tleV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbn0pO1xuXG5jb25zdCBQcmlvcml0aXplZE9wdGlvbnMgPSBbXG4gICAgJ3NlcnZlcicsIC8vIG11c3QgYmUgcHJvY2Vzc2VkIGJlZm9yZSBcImZpbGVzXCJcbl07XG5cbmNvbnN0IGZvcm1hdEZpbGVuYW1lID0gbmFtZSA9PiBuYW1lO1xuXG5jb25zdCBjcmVhdGVFbGVtZW50JDEgPSB0YWdOYW1lID0+IHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbn07XG5cbmNvbnN0IHRleHQgPSAobm9kZSwgdmFsdWUpID0+IHtcbiAgICBsZXQgdGV4dE5vZGUgPSBub2RlLmNoaWxkTm9kZXNbMF07XG4gICAgaWYgKCF0ZXh0Tm9kZSkge1xuICAgICAgICB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGV4dE5vZGUubm9kZVZhbHVlKSB7XG4gICAgICAgIHRleHROb2RlLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbn07XG5cbmNvbnN0IHBvbGFyVG9DYXJ0ZXNpYW4gPSAoY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCBhbmdsZUluRGVncmVlcykgPT4ge1xuICAgIGNvbnN0IGFuZ2xlSW5SYWRpYW5zID0gKCgoYW5nbGVJbkRlZ3JlZXMgJSAzNjApIC0gOTApICogTWF0aC5QSSkgLyAxODAuMDtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBjZW50ZXJYICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpLFxuICAgICAgICB5OiBjZW50ZXJZICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpLFxuICAgIH07XG59O1xuXG5jb25zdCBkZXNjcmliZUFyYyA9ICh4LCB5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhcmNTd2VlcCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gcG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIGVuZEFuZ2xlKTtcbiAgICBjb25zdCBlbmQgPSBwb2xhclRvQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSk7XG4gICAgcmV0dXJuIFsnTScsIHN0YXJ0LngsIHN0YXJ0LnksICdBJywgcmFkaXVzLCByYWRpdXMsIDAsIGFyY1N3ZWVwLCAwLCBlbmQueCwgZW5kLnldLmpvaW4oJyAnKTtcbn07XG5cbmNvbnN0IHBlcmNlbnRhZ2VBcmMgPSAoeCwgeSwgcmFkaXVzLCBmcm9tLCB0bykgPT4ge1xuICAgIGxldCBhcmNTd2VlcCA9IDE7XG4gICAgaWYgKHRvID4gZnJvbSAmJiB0byAtIGZyb20gPD0gMC41KSB7XG4gICAgICAgIGFyY1N3ZWVwID0gMDtcbiAgICB9XG4gICAgaWYgKGZyb20gPiB0byAmJiBmcm9tIC0gdG8gPj0gMC41KSB7XG4gICAgICAgIGFyY1N3ZWVwID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaWJlQXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIE1hdGgubWluKDAuOTk5OSwgZnJvbSkgKiAzNjAsXG4gICAgICAgIE1hdGgubWluKDAuOTk5OSwgdG8pICogMzYwLFxuICAgICAgICBhcmNTd2VlcFxuICAgICk7XG59O1xuXG5jb25zdCBjcmVhdGUgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gc3RhcnQgYXQgMFxuICAgIHByb3BzLnNwaW4gPSBmYWxzZTtcbiAgICBwcm9wcy5wcm9ncmVzcyA9IDA7XG4gICAgcHJvcHMub3BhY2l0eSA9IDA7XG5cbiAgICAvLyBzdmdcbiAgICBjb25zdCBzdmcgPSBjcmVhdGVFbGVtZW50KCdzdmcnKTtcbiAgICByb290LnJlZi5wYXRoID0gY3JlYXRlRWxlbWVudCgncGF0aCcsIHtcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDIsXG4gICAgICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICAgfSk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKHJvb3QucmVmLnBhdGgpO1xuXG4gICAgcm9vdC5yZWYuc3ZnID0gc3ZnO1xuXG4gICAgcm9vdC5hcHBlbmRDaGlsZChzdmcpO1xufTtcblxuY29uc3Qgd3JpdGUgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgaWYgKHByb3BzLm9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5hbGlnbikge1xuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5hbGlnbiA9IHByb3BzLmFsaWduO1xuICAgIH1cblxuICAgIC8vIGdldCB3aWR0aCBvZiBzdHJva2VcbiAgICBjb25zdCByaW5nU3Ryb2tlV2lkdGggPSBwYXJzZUludChhdHRyKHJvb3QucmVmLnBhdGgsICdzdHJva2Utd2lkdGgnKSwgMTApO1xuXG4gICAgLy8gY2FsY3VsYXRlIHNpemUgb2YgcmluZ1xuICAgIGNvbnN0IHNpemUgPSByb290LnJlY3QuZWxlbWVudC53aWR0aCAqIDAuNTtcblxuICAgIC8vIHJpbmcgc3RhdGVcbiAgICBsZXQgcmluZ0Zyb20gPSAwO1xuICAgIGxldCByaW5nVG8gPSAwO1xuXG4gICAgLy8gbm93IGluIGJ1c3kgbW9kZVxuICAgIGlmIChwcm9wcy5zcGluKSB7XG4gICAgICAgIHJpbmdGcm9tID0gMDtcbiAgICAgICAgcmluZ1RvID0gMC41O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJpbmdGcm9tID0gMDtcbiAgICAgICAgcmluZ1RvID0gcHJvcHMucHJvZ3Jlc3M7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGFyYyBwYXRoXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSBwZXJjZW50YWdlQXJjKHNpemUsIHNpemUsIHNpemUgLSByaW5nU3Ryb2tlV2lkdGgsIHJpbmdGcm9tLCByaW5nVG8pO1xuXG4gICAgLy8gdXBkYXRlIHByb2dyZXNzIGJhclxuICAgIGF0dHIocm9vdC5yZWYucGF0aCwgJ2QnLCBjb29yZGluYXRlcyk7XG5cbiAgICAvLyBoaWRlIHdoaWxlIGNvbnRhaW5zIDAgdmFsdWVcbiAgICBhdHRyKHJvb3QucmVmLnBhdGgsICdzdHJva2Utb3BhY2l0eScsIHByb3BzLnNwaW4gfHwgcHJvcHMucHJvZ3Jlc3MgPiAwID8gMSA6IDApO1xufTtcblxuY29uc3QgcHJvZ3Jlc3NJbmRpY2F0b3IgPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdkaXYnLFxuICAgIG5hbWU6ICdwcm9ncmVzcy1pbmRpY2F0b3InLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBjcmVhdGUsXG4gICAgd3JpdGUsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFsncHJvZ3Jlc3MnLCAnc3BpbicsICdhbGlnbiddLFxuICAgICAgICBzdHlsZXM6IFsnb3BhY2l0eSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiA1MDAgfSxcbiAgICAgICAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgc3RpZmZuZXNzOiAwLjk1LFxuICAgICAgICAgICAgICAgIGRhbXBpbmc6IDAuNjUsXG4gICAgICAgICAgICAgICAgbWFzczogMTAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuY29uc3QgY3JlYXRlJDEgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9IChwcm9wcy5pY29uIHx8ICcnKSArIGA8c3Bhbj4ke3Byb3BzLmxhYmVsfTwvc3Bhbj5gO1xuXG4gICAgcHJvcHMuaXNEaXNhYmxlZCA9IGZhbHNlO1xufTtcblxuY29uc3Qgd3JpdGUkMSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICBjb25zdCB7IGlzRGlzYWJsZWQgfSA9IHByb3BzO1xuICAgIGNvbnN0IHNob3VsZERpc2FibGUgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKSB8fCBwcm9wcy5vcGFjaXR5ID09PSAwO1xuXG4gICAgaWYgKHNob3VsZERpc2FibGUgJiYgIWlzRGlzYWJsZWQpIHtcbiAgICAgICAgcHJvcHMuaXNEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGF0dHIocm9vdC5lbGVtZW50LCAnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9IGVsc2UgaWYgKCFzaG91bGREaXNhYmxlICYmIGlzRGlzYWJsZWQpIHtcbiAgICAgICAgcHJvcHMuaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbn07XG5cbmNvbnN0IGZpbGVBY3Rpb25CdXR0b24gPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdidXR0b24nLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgfSxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgbmFtZTogJ2ZpbGUtYWN0aW9uLWJ1dHRvbicsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFsnbGFiZWwnXSxcbiAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHNjYWxlWTogJ3NwcmluZycsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGxpc3RlbmVyczogdHJ1ZSxcbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJDEsXG4gICAgd3JpdGU6IHdyaXRlJDEsXG59KTtcblxuY29uc3QgdG9OYXR1cmFsRmlsZVNpemUgPSAoYnl0ZXMsIGRlY2ltYWxTZXBhcmF0b3IgPSAnLicsIGJhc2UgPSAxMDAwLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIGxhYmVsQnl0ZXMgPSAnYnl0ZXMnLFxuICAgICAgICBsYWJlbEtpbG9ieXRlcyA9ICdLQicsXG4gICAgICAgIGxhYmVsTWVnYWJ5dGVzID0gJ01CJyxcbiAgICAgICAgbGFiZWxHaWdhYnl0ZXMgPSAnR0InLFxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgLy8gbm8gbmVnYXRpdmUgYnl0ZSBzaXplc1xuICAgIGJ5dGVzID0gTWF0aC5yb3VuZChNYXRoLmFicyhieXRlcykpO1xuXG4gICAgY29uc3QgS0IgPSBiYXNlO1xuICAgIGNvbnN0IE1CID0gYmFzZSAqIGJhc2U7XG4gICAgY29uc3QgR0IgPSBiYXNlICogYmFzZSAqIGJhc2U7XG5cbiAgICAvLyBqdXN0IGJ5dGVzXG4gICAgaWYgKGJ5dGVzIDwgS0IpIHtcbiAgICAgICAgcmV0dXJuIGAke2J5dGVzfSAke2xhYmVsQnl0ZXN9YDtcbiAgICB9XG5cbiAgICAvLyBraWxvYnl0ZXNcbiAgICBpZiAoYnl0ZXMgPCBNQikge1xuICAgICAgICByZXR1cm4gYCR7TWF0aC5mbG9vcihieXRlcyAvIEtCKX0gJHtsYWJlbEtpbG9ieXRlc31gO1xuICAgIH1cblxuICAgIC8vIG1lZ2FieXRlc1xuICAgIGlmIChieXRlcyA8IEdCKSB7XG4gICAgICAgIHJldHVybiBgJHtyZW1vdmVEZWNpbWFsc1doZW5aZXJvKGJ5dGVzIC8gTUIsIDEsIGRlY2ltYWxTZXBhcmF0b3IpfSAke2xhYmVsTWVnYWJ5dGVzfWA7XG4gICAgfVxuXG4gICAgLy8gZ2lnYWJ5dGVzXG4gICAgcmV0dXJuIGAke3JlbW92ZURlY2ltYWxzV2hlblplcm8oYnl0ZXMgLyBHQiwgMiwgZGVjaW1hbFNlcGFyYXRvcil9ICR7bGFiZWxHaWdhYnl0ZXN9YDtcbn07XG5cbmNvbnN0IHJlbW92ZURlY2ltYWxzV2hlblplcm8gPSAodmFsdWUsIGRlY2ltYWxDb3VudCwgc2VwYXJhdG9yKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIC50b0ZpeGVkKGRlY2ltYWxDb3VudClcbiAgICAgICAgLnNwbGl0KCcuJylcbiAgICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQgIT09ICcwJylcbiAgICAgICAgLmpvaW4oc2VwYXJhdG9yKTtcbn07XG5cbmNvbnN0IGNyZWF0ZSQyID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIGZpbGVuYW1lXG4gICAgY29uc3QgZmlsZU5hbWUgPSBjcmVhdGVFbGVtZW50JDEoJ3NwYW4nKTtcbiAgICBmaWxlTmFtZS5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtaW5mby1tYWluJztcbiAgICAvLyBoaWRlIGZvciBzY3JlZW5yZWFkZXJzXG4gICAgLy8gdGhlIGZpbGUgaXMgY29udGFpbmVkIGluIGEgZmllbGRzZXQgd2l0aCBsZWdlbmQgdGhhdCBjb250YWlucyB0aGUgZmlsZW5hbWVcbiAgICAvLyBubyBuZWVkIHRvIHJlYWQgaXQgdHdpY2VcbiAgICBhdHRyKGZpbGVOYW1lLCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQoZmlsZU5hbWUpO1xuICAgIHJvb3QucmVmLmZpbGVOYW1lID0gZmlsZU5hbWU7XG5cbiAgICAvLyBmaWxlc2l6ZVxuICAgIGNvbnN0IGZpbGVTaXplID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgZmlsZVNpemUuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLWluZm8tc3ViJztcbiAgICByb290LmFwcGVuZENoaWxkKGZpbGVTaXplKTtcbiAgICByb290LnJlZi5maWxlU2l6ZSA9IGZpbGVTaXplO1xuXG4gICAgLy8gc2V0IGluaXRpYWwgdmFsdWVzXG4gICAgdGV4dChmaWxlU2l6ZSwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfV0FJVElOR19GT1JfU0laRScpKTtcbiAgICB0ZXh0KGZpbGVOYW1lLCBmb3JtYXRGaWxlbmFtZShyb290LnF1ZXJ5KCdHRVRfSVRFTV9OQU1FJywgcHJvcHMuaWQpKSk7XG59O1xuXG5jb25zdCB1cGRhdGVGaWxlID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIHRleHQoXG4gICAgICAgIHJvb3QucmVmLmZpbGVTaXplLFxuICAgICAgICB0b05hdHVyYWxGaWxlU2l6ZShcbiAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9JVEVNX1NJWkUnLCBwcm9wcy5pZCksXG4gICAgICAgICAgICAnLicsXG4gICAgICAgICAgICByb290LnF1ZXJ5KCdHRVRfRklMRV9TSVpFX0JBU0UnKSxcbiAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9GSUxFX1NJWkVfTEFCRUxTJywgcm9vdC5xdWVyeSlcbiAgICAgICAgKVxuICAgICk7XG4gICAgdGV4dChyb290LnJlZi5maWxlTmFtZSwgZm9ybWF0RmlsZW5hbWUocm9vdC5xdWVyeSgnR0VUX0lURU1fTkFNRScsIHByb3BzLmlkKSkpO1xufTtcblxuY29uc3QgdXBkYXRlRmlsZVNpemVPbkVycm9yID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIGlmIHNpemUgaXMgYXZhaWxhYmxlIGRvbid0IGZhbGxiYWNrIHRvIHVua25vd24gc2l6ZSBtZXNzYWdlXG4gICAgaWYgKGlzSW50KHJvb3QucXVlcnkoJ0dFVF9JVEVNX1NJWkUnLCBwcm9wcy5pZCkpKSB7XG4gICAgICAgIHVwZGF0ZUZpbGUoeyByb290LCBwcm9wcyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRleHQocm9vdC5yZWYuZmlsZVNpemUsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfTk9UX0FWQUlMQUJMRScpKTtcbn07XG5cbmNvbnN0IGZpbGVJbmZvID0gY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ2ZpbGUtaW5mbycsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9MT0FEX0lURU06IHVwZGF0ZUZpbGUsXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9NRVRBOiB1cGRhdGVGaWxlLFxuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHVwZGF0ZUZpbGVTaXplT25FcnJvcixcbiAgICB9KSxcbiAgICBkaWRDcmVhdGVWaWV3OiByb290ID0+IHtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIHsgLi4ucm9vdCwgdmlldzogcm9vdCB9KTtcbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJDIsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJyxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbmNvbnN0IHRvUGVyY2VudGFnZSA9IHZhbHVlID0+IE1hdGgucm91bmQodmFsdWUgKiAxMDApO1xuXG5jb25zdCBjcmVhdGUkMyA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIC8vIG1haW4gc3RhdHVzXG4gICAgY29uc3QgbWFpbiA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgIG1haW4uY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLXN0YXR1cy1tYWluJztcbiAgICByb290LmFwcGVuZENoaWxkKG1haW4pO1xuICAgIHJvb3QucmVmLm1haW4gPSBtYWluO1xuXG4gICAgLy8gc3ViIHN0YXR1c1xuICAgIGNvbnN0IHN1YiA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgIHN1Yi5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtc3RhdHVzLXN1Yic7XG4gICAgcm9vdC5hcHBlbmRDaGlsZChzdWIpO1xuICAgIHJvb3QucmVmLnN1YiA9IHN1YjtcblxuICAgIGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MoeyByb290LCBhY3Rpb246IHsgcHJvZ3Jlc3M6IG51bGwgfSB9KTtcbn07XG5cbmNvbnN0IGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IHRpdGxlID1cbiAgICAgICAgYWN0aW9uLnByb2dyZXNzID09PSBudWxsXG4gICAgICAgICAgICA/IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0xPQURJTkcnKVxuICAgICAgICAgICAgOiBgJHtyb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9MT0FESU5HJyl9ICR7dG9QZXJjZW50YWdlKGFjdGlvbi5wcm9ncmVzcyl9JWA7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCB0aXRsZSk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fQ0FOQ0VMJykpO1xufTtcblxuY29uc3QgZGlkU2V0SXRlbVByb2Nlc3NQcm9ncmVzcyA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPVxuICAgICAgICBhY3Rpb24ucHJvZ3Jlc3MgPT09IG51bGxcbiAgICAgICAgICAgID8gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lORycpXG4gICAgICAgICAgICA6IGAke3Jvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkcnKX0gJHt0b1BlcmNlbnRhZ2UoYWN0aW9uLnByb2dyZXNzKX0lYDtcbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHRpdGxlKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19DQU5DRUwnKSk7XG59O1xuXG5jb25zdCBkaWRSZXF1ZXN0SXRlbVByb2Nlc3NpbmcgPSAoeyByb290IH0pID0+IHtcbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkcnKSk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fQ0FOQ0VMJykpO1xufTtcblxuY29uc3QgZGlkQWJvcnRJdGVtUHJvY2Vzc2luZyA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19BQk9SVEVEJykpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX1JFVFJZJykpO1xufTtcblxuY29uc3QgZGlkQ29tcGxldGVJdGVtUHJvY2Vzc2luZyA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19DT01QTEVURScpKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19VTkRPJykpO1xufTtcblxuY29uc3QgY2xlYXIgPSAoeyByb290IH0pID0+IHtcbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sICcnKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1YiwgJycpO1xufTtcblxuY29uc3QgZXJyb3IgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgYWN0aW9uLnN0YXR1cy5tYWluKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1YiwgYWN0aW9uLnN0YXR1cy5zdWIpO1xufTtcblxuY29uc3QgZmlsZVN0YXR1cyA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdmaWxlLXN0YXR1cycsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9MT0FEX0lURU06IGNsZWFyLFxuICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogY2xlYXIsXG4gICAgICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogZGlkUmVxdWVzdEl0ZW1Qcm9jZXNzaW5nLFxuICAgICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBkaWRBYm9ydEl0ZW1Qcm9jZXNzaW5nLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZUl0ZW1Qcm9jZXNzaW5nLFxuICAgICAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogZGlkU2V0SXRlbVByb2Nlc3NQcm9ncmVzcyxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6IGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IGVycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBlcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogZXJyb3IsXG4gICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiBlcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiBlcnJvcixcbiAgICB9KSxcbiAgICBkaWRDcmVhdGVWaWV3OiByb290ID0+IHtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIHsgLi4ucm9vdCwgdmlldzogcm9vdCB9KTtcbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJDMsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnb3BhY2l0eSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIEJ1dHRvbiBkZWZpbml0aW9ucyBmb3IgdGhlIGZpbGUgdmlld1xuICovXG5cbmNvbnN0IEJ1dHRvbnMgPSB7XG4gICAgQWJvcnRJdGVtTG9hZDoge1xuICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9MT0FEJyxcbiAgICAgICAgYWN0aW9uOiAnQUJPUlRfSVRFTV9MT0FEJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1hYm9ydC1pdGVtLWxvYWQnLFxuICAgICAgICBhbGlnbjogJ0xPQURfSU5ESUNBVE9SX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJldHJ5SXRlbUxvYWQ6IHtcbiAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1JFVFJZX0lURU1fTE9BRCcsXG4gICAgICAgIGFjdGlvbjogJ1JFVFJZX0lURU1fTE9BRCcsXG4gICAgICAgIGljb246ICdHRVRfSUNPTl9SRVRSWScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmV0cnktaXRlbS1sb2FkJyxcbiAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJlbW92ZUl0ZW06IHtcbiAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1JFTU9WRV9JVEVNJyxcbiAgICAgICAgYWN0aW9uOiAnUkVRVUVTVF9SRU1PVkVfSVRFTScsXG4gICAgICAgIGljb246ICdHRVRfSUNPTl9SRU1PVkUnLFxuICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJlbW92ZS1pdGVtJyxcbiAgICAgICAgYWxpZ246ICdCVVRUT05fUkVNT1ZFX0lURU1fUE9TSVRJT04nLCAvLyBsZWZ0XG4gICAgfSxcbiAgICBQcm9jZXNzSXRlbToge1xuICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUFJPQ0VTU19JVEVNJyxcbiAgICAgICAgYWN0aW9uOiAnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICBpY29uOiAnR0VUX0lDT05fUFJPQ0VTUycsXG4gICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcHJvY2Vzcy1pdGVtJyxcbiAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICB9LFxuICAgIEFib3J0SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgIGFjdGlvbjogJ0FCT1JUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tYWJvcnQtaXRlbS1wcm9jZXNzaW5nJyxcbiAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJldHJ5SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1JFVFJZX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgIGFjdGlvbjogJ1JFVFJZX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgIGljb246ICdHRVRfSUNPTl9SRVRSWScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmV0cnktaXRlbS1wcm9jZXNzaW5nJyxcbiAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7XG4gICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9VTkRPX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgIGFjdGlvbjogJ1JFUVVFU1RfUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgIGljb246ICdHRVRfSUNPTl9VTkRPJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1yZXZlcnQtaXRlbS1wcm9jZXNzaW5nJyxcbiAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICB9LFxufTtcblxuLy8gbWFrZSBhIGxpc3Qgb2YgYnV0dG9ucywgd2UgY2FuIHRoZW4gcmVtb3ZlIGJ1dHRvbnMgZnJvbSB0aGlzIGxpc3QgaWYgdGhleSdyZSBkaXNhYmxlZFxuY29uc3QgQnV0dG9uS2V5cyA9IFtdO1xuZm9yaW4oQnV0dG9ucywga2V5ID0+IHtcbiAgICBCdXR0b25LZXlzLnB1c2goa2V5KTtcbn0pO1xuXG5jb25zdCBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCA9IHJvb3QgPT4ge1xuICAgIGlmIChnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudChyb290KSA9PT0gJ3JpZ2h0JykgcmV0dXJuIDA7XG4gICAgY29uc3QgYnV0dG9uUmVjdCA9IHJvb3QucmVmLmJ1dHRvblJlbW92ZUl0ZW0ucmVjdC5lbGVtZW50O1xuICAgIHJldHVybiBidXR0b25SZWN0LmhpZGRlbiA/IG51bGwgOiBidXR0b25SZWN0LndpZHRoICsgYnV0dG9uUmVjdC5sZWZ0O1xufTtcblxuY29uc3QgY2FsY3VsYXRlQnV0dG9uV2lkdGggPSByb290ID0+IHtcbiAgICBjb25zdCBidXR0b25SZWN0ID0gcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtTG9hZC5yZWN0LmVsZW1lbnQ7XG4gICAgcmV0dXJuIGJ1dHRvblJlY3Qud2lkdGg7XG59O1xuXG4vLyBGb3JjZSBvbiBmdWxsIHBpeGVscyBzbyB0ZXh0IHN0YXlzIGNyaXBzXG5jb25zdCBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQgPSByb290ID0+XG4gICAgTWF0aC5mbG9vcihyb290LnJlZi5idXR0b25SZW1vdmVJdGVtLnJlY3QuZWxlbWVudC5oZWlnaHQgLyA0KTtcbmNvbnN0IGNhbGN1bGF0ZUZpbGVIb3Jpem9udGFsQ2VudGVyT2Zmc2V0ID0gcm9vdCA9PlxuICAgIE1hdGguZmxvb3Iocm9vdC5yZWYuYnV0dG9uUmVtb3ZlSXRlbS5yZWN0LmVsZW1lbnQubGVmdCAvIDIpO1xuXG5jb25zdCBnZXRMb2FkSW5kaWNhdG9yQWxpZ25tZW50ID0gcm9vdCA9PiByb290LnF1ZXJ5KCdHRVRfU1RZTEVfTE9BRF9JTkRJQ0FUT1JfUE9TSVRJT04nKTtcbmNvbnN0IGdldFByb2Nlc3NJbmRpY2F0b3JBbGlnbm1lbnQgPSByb290ID0+IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9QUk9HUkVTU19JTkRJQ0FUT1JfUE9TSVRJT04nKTtcbmNvbnN0IGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50ID0gcm9vdCA9PiByb290LnF1ZXJ5KCdHRVRfU1RZTEVfQlVUVE9OX1JFTU9WRV9JVEVNX1BPU0lUSU9OJyk7XG5cbmNvbnN0IERlZmF1bHRTdHlsZSA9IHtcbiAgICBidXR0b25BYm9ydEl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25SZXRyeUl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMCB9LFxuICAgIGxvYWRQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAwLCBhbGlnbjogZ2V0TG9hZEluZGljYXRvckFsaWdubWVudCB9LFxuICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAwLCBhbGlnbjogZ2V0UHJvY2Vzc0luZGljYXRvckFsaWdubWVudCB9LFxuICAgIHByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvcjogeyBvcGFjaXR5OiAwLCBzY2FsZVg6IDAuNzUsIHNjYWxlWTogMC43NSB9LFxuICAgIGluZm86IHsgdHJhbnNsYXRlWDogMCwgdHJhbnNsYXRlWTogMCwgb3BhY2l0eTogMCB9LFxuICAgIHN0YXR1czogeyB0cmFuc2xhdGVYOiAwLCB0cmFuc2xhdGVZOiAwLCBvcGFjaXR5OiAwIH0sXG59O1xuXG5jb25zdCBJZGxlU3R5bGUgPSB7XG4gICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgYnV0dG9uUHJvY2Vzc0l0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbn07XG5cbmNvbnN0IFByb2Nlc3NpbmdTdHlsZSA9IHtcbiAgICBidXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMSB9LFxuICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG59O1xuXG5jb25zdCBTdHlsZU1hcCA9IHtcbiAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiB7XG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgIHN0YXR1czogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCwgb3BhY2l0eTogMSB9LFxuICAgIH0sXG4gICAgRElEX1NUQVJUX0lURU1fTE9BRDoge1xuICAgICAgICBidXR0b25BYm9ydEl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgbG9hZFByb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICB9LFxuICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IHtcbiAgICAgICAgYnV0dG9uUmV0cnlJdGVtTG9hZDogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgfSxcbiAgICBESURfU1RBUlRfSVRFTV9SRU1PVkU6IHtcbiAgICAgICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDEsIGFsaWduOiBnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudCB9LFxuICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAwIH0sXG4gICAgfSxcbiAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IHtcbiAgICAgICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDAsIGFsaWduOiBnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudCB9LFxuICAgICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSwgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICB9LFxuICAgIERJRF9MT0FEX0lURU06IElkbGVTdHlsZSxcbiAgICBESURfTE9BRF9MT0NBTF9JVEVNOiB7XG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgIHN0YXR1czogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgIH0sXG4gICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogUHJvY2Vzc2luZ1N0eWxlLFxuICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogUHJvY2Vzc2luZ1N0eWxlLFxuICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzoge1xuICAgICAgICBidXR0b25SZXZlcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGluZm86IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgIH0sXG4gICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjoge1xuICAgICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgYnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICB9LFxuICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiB7XG4gICAgICAgIGJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgaW5mbzogeyBvcGFjaXR5OiAxIH0sXG4gICAgfSxcbiAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiB7XG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICB9LFxuICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBJZGxlU3R5bGUsXG59O1xuXG4vLyBjb21wbGV0ZSBpbmRpY2F0b3Igdmlld1xuY29uc3QgcHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yVmlldyA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIHJvb3QuZWxlbWVudC5pbm5lckhUTUwgPSByb290LnF1ZXJ5KCdHRVRfSUNPTl9ET05FJyk7XG4gICAgfSxcbiAgICBuYW1lOiAncHJvY2Vzc2luZy1jb21wbGV0ZS1pbmRpY2F0b3InLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIHN0eWxlczogWydzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHNjYWxlWTogJ3NwcmluZycsXG4gICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfSxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZmlsZSB2aWV3XG4gKi9cbmNvbnN0IGNyZWF0ZSQ0ID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIGNvcHkgQnV0dG9ucyBvYmplY3RcbiAgICBjb25zdCBMb2NhbEJ1dHRvbnMgPSBPYmplY3Qua2V5cyhCdXR0b25zKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgcHJldltjdXJyXSA9IHsgLi4uQnV0dG9uc1tjdXJyXSB9O1xuICAgICAgICByZXR1cm4gcHJldjtcbiAgICB9LCB7fSk7XG5cbiAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcblxuICAgIC8vIGFsbG93IHJldmVydGluZyB1cGxvYWRcbiAgICBjb25zdCBhbGxvd1JldmVydCA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRVZFUlQnKTtcblxuICAgIC8vIGFsbG93IHJlbW92ZSBmaWxlXG4gICAgY29uc3QgYWxsb3dSZW1vdmUgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVNT1ZFJyk7XG5cbiAgICAvLyBhbGxvdyBwcm9jZXNzaW5nIHVwbG9hZFxuICAgIGNvbnN0IGFsbG93UHJvY2VzcyA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19QUk9DRVNTJyk7XG5cbiAgICAvLyBpcyBpbnN0YW50IHVwbG9hZGluZywgbmVlZCB0aGlzIHRvIGRldGVybWluZSB0aGUgaWNvbiBvZiB0aGUgdW5kbyBidXR0b25cbiAgICBjb25zdCBpbnN0YW50VXBsb2FkID0gcm9vdC5xdWVyeSgnR0VUX0lOU1RBTlRfVVBMT0FEJyk7XG5cbiAgICAvLyBpcyBhc3luYyBzZXQgdXBcbiAgICBjb25zdCBpc0FzeW5jID0gcm9vdC5xdWVyeSgnSVNfQVNZTkMnKTtcblxuICAgIC8vIHNob3VsZCBhbGlnbiByZW1vdmUgaXRlbSBidXR0b25zXG4gICAgY29uc3QgYWxpZ25SZW1vdmVJdGVtQnV0dG9uID0gcm9vdC5xdWVyeSgnR0VUX1NUWUxFX0JVVFRPTl9SRU1PVkVfSVRFTV9BTElHTicpO1xuXG4gICAgLy8gZW5hYmxlZCBidXR0b25zIGFycmF5XG4gICAgbGV0IGJ1dHRvbkZpbHRlcjtcbiAgICBpZiAoaXNBc3luYykge1xuICAgICAgICBpZiAoYWxsb3dQcm9jZXNzICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICAgICAgLy8gb25seSByZW1vdmUgcmV2ZXJ0IGJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uRmlsdGVyID0ga2V5ID0+ICEvUmV2ZXJ0SXRlbVByb2Nlc3NpbmcvLnRlc3Qoa2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghYWxsb3dQcm9jZXNzICYmIGFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICAvLyBvbmx5IHJlbW92ZSBwcm9jZXNzIGJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uRmlsdGVyID0ga2V5ID0+ICEvUHJvY2Vzc0l0ZW18UmV0cnlJdGVtUHJvY2Vzc2luZ3xBYm9ydEl0ZW1Qcm9jZXNzaW5nLy50ZXN0KGtleSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWFsbG93UHJvY2VzcyAmJiAhYWxsb3dSZXZlcnQpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgcHJvY2VzcyBidXR0b25zXG4gICAgICAgICAgICBidXR0b25GaWx0ZXIgPSBrZXkgPT4gIS9Qcm9jZXNzLy50ZXN0KGtleSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBubyBwcm9jZXNzIGNvbnRyb2xzIGF2YWlsYWJsZVxuICAgICAgICBidXR0b25GaWx0ZXIgPSBrZXkgPT4gIS9Qcm9jZXNzLy50ZXN0KGtleSk7XG4gICAgfVxuXG4gICAgY29uc3QgZW5hYmxlZEJ1dHRvbnMgPSBidXR0b25GaWx0ZXIgPyBCdXR0b25LZXlzLmZpbHRlcihidXR0b25GaWx0ZXIpIDogQnV0dG9uS2V5cy5jb25jYXQoKTtcblxuICAgIC8vIHVwZGF0ZSBpY29uIGFuZCBsYWJlbCBmb3IgcmV2ZXJ0IGJ1dHRvbiB3aGVuIGluc3RhbnQgdXBsb2FkaW5nXG4gICAgaWYgKGluc3RhbnRVcGxvYWQgJiYgYWxsb3dSZXZlcnQpIHtcbiAgICAgICAgTG9jYWxCdXR0b25zWydSZXZlcnRJdGVtUHJvY2Vzc2luZyddLmxhYmVsID0gJ0dFVF9MQUJFTF9CVVRUT05fUkVNT1ZFX0lURU0nO1xuICAgICAgICBMb2NhbEJ1dHRvbnNbJ1JldmVydEl0ZW1Qcm9jZXNzaW5nJ10uaWNvbiA9ICdHRVRfSUNPTl9SRU1PVkUnO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBsYXN0IGJ1dHRvbiAocmV2ZXJ0KSBpZiBub3QgYWxsb3dlZFxuICAgIGlmIChpc0FzeW5jICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICBjb25zdCBtYXAgPSBTdHlsZU1hcFsnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORyddO1xuICAgICAgICBtYXAuaW5mby50cmFuc2xhdGVYID0gY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQ7XG4gICAgICAgIG1hcC5pbmZvLnRyYW5zbGF0ZVkgPSBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQ7XG4gICAgICAgIG1hcC5zdGF0dXMudHJhbnNsYXRlWSA9IGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldDtcbiAgICAgICAgbWFwLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciA9IHsgb3BhY2l0eTogMSwgc2NhbGVYOiAxLCBzY2FsZVk6IDEgfTtcbiAgICB9XG5cbiAgICAvLyBzaG91bGQgYWxpZ24gY2VudGVyXG4gICAgaWYgKGlzQXN5bmMgJiYgIWFsbG93UHJvY2Vzcykge1xuICAgICAgICBbXG4gICAgICAgICAgICAnRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICAgICAnRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgICdESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUycsXG4gICAgICAgICAgICAnRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUicsXG4gICAgICAgIF0uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgU3R5bGVNYXBba2V5XS5zdGF0dXMudHJhbnNsYXRlWSA9IGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldDtcbiAgICAgICAgfSk7XG4gICAgICAgIFN0eWxlTWFwWydESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SJ10uc3RhdHVzLnRyYW5zbGF0ZVggPSBjYWxjdWxhdGVCdXR0b25XaWR0aDtcbiAgICB9XG5cbiAgICAvLyBtb3ZlIHJlbW92ZSBidXR0b24gdG8gcmlnaHRcbiAgICBpZiAoYWxpZ25SZW1vdmVJdGVtQnV0dG9uICYmIGFsbG93UmV2ZXJ0KSB7XG4gICAgICAgIExvY2FsQnV0dG9uc1snUmV2ZXJ0SXRlbVByb2Nlc3NpbmcnXS5hbGlnbiA9ICdCVVRUT05fUkVNT1ZFX0lURU1fUE9TSVRJT04nO1xuICAgICAgICBjb25zdCBtYXAgPSBTdHlsZU1hcFsnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORyddO1xuICAgICAgICBtYXAuaW5mby50cmFuc2xhdGVYID0gY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQ7XG4gICAgICAgIG1hcC5zdGF0dXMudHJhbnNsYXRlWSA9IGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldDtcbiAgICAgICAgbWFwLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciA9IHsgb3BhY2l0eTogMSwgc2NhbGVYOiAxLCBzY2FsZVk6IDEgfTtcbiAgICB9XG5cbiAgICAvLyBzaG93L2hpZGUgUmVtb3ZlSXRlbSBidXR0b25cbiAgICBpZiAoIWFsbG93UmVtb3ZlKSB7XG4gICAgICAgIExvY2FsQnV0dG9uc1snUmVtb3ZlSXRlbSddLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgdGhlIGJ1dHRvbiB2aWV3c1xuICAgIGZvcmluKExvY2FsQnV0dG9ucywgKGtleSwgZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAvLyBjcmVhdGUgYnV0dG9uXG4gICAgICAgIGNvbnN0IGJ1dHRvblZpZXcgPSByb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlQWN0aW9uQnV0dG9uLCB7XG4gICAgICAgICAgICBsYWJlbDogcm9vdC5xdWVyeShkZWZpbml0aW9uLmxhYmVsKSxcbiAgICAgICAgICAgIGljb246IHJvb3QucXVlcnkoZGVmaW5pdGlvbi5pY29uKSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNob3VsZCBiZSBhcHBlbmRlZD9cbiAgICAgICAgaWYgKGVuYWJsZWRCdXR0b25zLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGRWaWV3KGJ1dHRvblZpZXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG9nZ2xlXG4gICAgICAgIGlmIChkZWZpbml0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgYnV0dG9uVmlldy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHBvc2l0aW9uIGF0dHJpYnV0ZVxuICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuZGF0YXNldC5hbGlnbiA9IHJvb3QucXVlcnkoYEdFVF9TVFlMRV8ke2RlZmluaXRpb24uYWxpZ259YCk7XG5cbiAgICAgICAgLy8gYWRkIGNsYXNzXG4gICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGRlZmluaXRpb24uY2xhc3NOYW1lKTtcblxuICAgICAgICAvLyBoYW5kbGUgaW50ZXJhY3Rpb25zXG4gICAgICAgIGJ1dHRvblZpZXcub24oJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goZGVmaW5pdGlvbi5hY3Rpb24sIHsgcXVlcnk6IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzZXQgcmVmZXJlbmNlXG4gICAgICAgIHJvb3QucmVmW2BidXR0b24ke2tleX1gXSA9IGJ1dHRvblZpZXc7XG4gICAgfSk7XG5cbiAgICAvLyBjaGVja21hcmtcbiAgICByb290LnJlZi5wcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3IgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcocHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yVmlldylcbiAgICApO1xuICAgIHJvb3QucmVmLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvci5lbGVtZW50LmRhdGFzZXQuYWxpZ24gPSByb290LnF1ZXJ5KFxuICAgICAgICBgR0VUX1NUWUxFX0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT05gXG4gICAgKTtcblxuICAgIC8vIGNyZWF0ZSBmaWxlIGluZm8gdmlld1xuICAgIHJvb3QucmVmLmluZm8gPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlSW5mbywgeyBpZCB9KSk7XG5cbiAgICAvLyBjcmVhdGUgZmlsZSBzdGF0dXMgdmlld1xuICAgIHJvb3QucmVmLnN0YXR1cyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVTdGF0dXMsIHsgaWQgfSkpO1xuXG4gICAgLy8gYWRkIHByb2dyZXNzIGluZGljYXRvcnNcbiAgICBjb25zdCBsb2FkSW5kaWNhdG9yVmlldyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwcm9ncmVzc0luZGljYXRvciwge1xuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIGFsaWduOiByb290LnF1ZXJ5KGBHRVRfU1RZTEVfTE9BRF9JTkRJQ0FUT1JfUE9TSVRJT05gKSxcbiAgICAgICAgfSlcbiAgICApO1xuICAgIGxvYWRJbmRpY2F0b3JWaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLWxvYWQtaW5kaWNhdG9yJyk7XG4gICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yID0gbG9hZEluZGljYXRvclZpZXc7XG5cbiAgICBjb25zdCBwcm9ncmVzc0luZGljYXRvclZpZXcgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcocHJvZ3Jlc3NJbmRpY2F0b3IsIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBhbGlnbjogcm9vdC5xdWVyeShgR0VUX1NUWUxFX1BST0dSRVNTX0lORElDQVRPUl9QT1NJVElPTmApLFxuICAgICAgICB9KVxuICAgICk7XG4gICAgcHJvZ3Jlc3NJbmRpY2F0b3JWaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLXByb2Nlc3MtaW5kaWNhdG9yJyk7XG4gICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yID0gcHJvZ3Jlc3NJbmRpY2F0b3JWaWV3O1xuXG4gICAgLy8gY3VycmVudCBhY3RpdmUgc3R5bGVzXG4gICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzID0gW107XG59O1xuXG5jb25zdCB3cml0ZSQyID0gKHsgcm9vdCwgYWN0aW9ucywgcHJvcHMgfSkgPT4ge1xuICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICByb3V0ZSh7IHJvb3QsIGFjdGlvbnMsIHByb3BzIH0pO1xuXG4gICAgLy8gc2VsZWN0IGxhc3Qgc3RhdGUgY2hhbmdlIGFjdGlvblxuICAgIGxldCBhY3Rpb24gPSBhY3Rpb25zXG4gICAgICAgIC5jb25jYXQoKVxuICAgICAgICAuZmlsdGVyKGFjdGlvbiA9PiAvXkRJRF8vLnRlc3QoYWN0aW9uLnR5cGUpKVxuICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIC5maW5kKGFjdGlvbiA9PiBTdHlsZU1hcFthY3Rpb24udHlwZV0pO1xuXG4gICAgLy8gYSBuZXcgYWN0aW9uIGhhcHBlbmVkLCBsZXQncyBnZXQgdGhlIG1hdGNoaW5nIHN0eWxlc1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgLy8gZGVmaW5lIG5ldyBhY3RpdmUgc3R5bGVzXG4gICAgICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlc1RvQXBwbHkgPSBTdHlsZU1hcFthY3Rpb24udHlwZV07XG4gICAgICAgIGZvcmluKERlZmF1bHRTdHlsZSwgKG5hbWUsIGRlZmF1bHRTdHlsZXMpID0+IHtcbiAgICAgICAgICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY29udHJvbFxuICAgICAgICAgICAgY29uc3QgY29udHJvbCA9IHJvb3QucmVmW25hbWVdO1xuXG4gICAgICAgICAgICAvLyBsb29wIG92ZXIgYWxsIHN0eWxlcyBmb3IgdGhpcyBjb250cm9sXG4gICAgICAgICAgICBmb3JpbihkZWZhdWx0U3R5bGVzLCAoa2V5LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlc1RvQXBwbHlbbmFtZV0gJiYgdHlwZW9mIHN0eWxlc1RvQXBwbHlbbmFtZV1ba2V5XSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc3R5bGVzVG9BcHBseVtuYW1lXVtrZXldXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICByb290LnJlZi5hY3RpdmVTdHlsZXMucHVzaCh7IGNvbnRyb2wsIGtleSwgdmFsdWUgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYWN0aXZlIHN0eWxlcyB0byBlbGVtZW50XG4gICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzLmZvckVhY2goKHsgY29udHJvbCwga2V5LCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgIGNvbnRyb2xba2V5XSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlKHJvb3QpIDogdmFsdWU7XG4gICAgfSk7XG59O1xuXG5jb25zdCByb3V0ZSA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1BST0NFU1NJTkc6ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgICAgIHJvb3QucmVmLmJ1dHRvbkFib3J0SXRlbVByb2Nlc3NpbmcubGFiZWwgPSBhY3Rpb24udmFsdWU7XG4gICAgfSxcbiAgICBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX0xPQUQ6ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgICAgIHJvb3QucmVmLmJ1dHRvbkFib3J0SXRlbUxvYWQubGFiZWwgPSBhY3Rpb24udmFsdWU7XG4gICAgfSxcbiAgICBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1JFTU9WQUw6ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgICAgIHJvb3QucmVmLmJ1dHRvbkFib3J0SXRlbVJlbW92YWwubGFiZWwgPSBhY3Rpb24udmFsdWU7XG4gICAgfSxcbiAgICBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IHRydWU7XG4gICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgfSxcbiAgICBESURfU1RBUlRfSVRFTV9MT0FEOiAoeyByb290IH0pID0+IHtcbiAgICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSB0cnVlO1xuICAgICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSAwO1xuICAgIH0sXG4gICAgRElEX1NUQVJUX0lURU1fUkVNT1ZFOiAoeyByb290IH0pID0+IHtcbiAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSB0cnVlO1xuICAgICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSAwO1xuICAgIH0sXG4gICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5zcGluID0gZmFsc2U7XG4gICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IGFjdGlvbi5wcm9ncmVzcztcbiAgICB9LFxuICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IGZhbHNlO1xuICAgICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSBhY3Rpb24ucHJvZ3Jlc3M7XG4gICAgfSxcbn0pO1xuXG5jb25zdCBmaWxlID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkNCxcbiAgICB3cml0ZTogd3JpdGUkMixcbiAgICBkaWRDcmVhdGVWaWV3OiByb290ID0+IHtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIHsgLi4ucm9vdCwgdmlldzogcm9vdCB9KTtcbiAgICB9LFxuICAgIG5hbWU6ICdmaWxlJyxcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICovXG5jb25zdCBjcmVhdGUkNSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAvLyBmaWxlbmFtZVxuICAgIHJvb3QucmVmLmZpbGVOYW1lID0gY3JlYXRlRWxlbWVudCQxKCdsZWdlbmQnKTtcbiAgICByb290LmFwcGVuZENoaWxkKHJvb3QucmVmLmZpbGVOYW1lKTtcblxuICAgIC8vIGZpbGUgYXBwZW5kZWRcbiAgICByb290LnJlZi5maWxlID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZSwgeyBpZDogcHJvcHMuaWQgfSkpO1xuXG4gICAgLy8gZGF0YSBoYXMgbW92ZWQgdG8gZGF0YS5qc1xuICAgIHJvb3QucmVmLmRhdGEgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogRGF0YSBzdG9yYWdlXG4gKi9cbmNvbnN0IGRpZExvYWRJdGVtID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIHVwZGF0ZXMgdGhlIGxlZ2VuZCBvZiB0aGUgZmllbGRzZXQgc28gc2NyZWVucmVhZGVycyBjYW4gYmV0dGVyIGdyb3VwIGJ1dHRvbnNcbiAgICB0ZXh0KHJvb3QucmVmLmZpbGVOYW1lLCBmb3JtYXRGaWxlbmFtZShyb290LnF1ZXJ5KCdHRVRfSVRFTV9OQU1FJywgcHJvcHMuaWQpKSk7XG59O1xuXG5jb25zdCBmaWxlV3JhcHBlciA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogY3JlYXRlJDUsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfTE9BRF9JVEVNOiBkaWRMb2FkSXRlbSxcbiAgICB9KSxcbiAgICBkaWRDcmVhdGVWaWV3OiByb290ID0+IHtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIHsgLi4ucm9vdCwgdmlldzogcm9vdCB9KTtcbiAgICB9LFxuICAgIHRhZzogJ2ZpZWxkc2V0JyxcbiAgICBuYW1lOiAnZmlsZS13cmFwcGVyJyxcbn0pO1xuXG5jb25zdCBQQU5FTF9TUFJJTkdfUFJPUFMgPSB7IHR5cGU6ICdzcHJpbmcnLCBkYW1waW5nOiAwLjYsIG1hc3M6IDcgfTtcblxuY29uc3QgY3JlYXRlJDYgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAndG9wJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2NlbnRlcicsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IG51bGwsXG4gICAgICAgICAgICAgICAgc2NhbGVZOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiBQQU5FTF9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWScsICdzY2FsZVknXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdib3R0b20nLFxuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogUEFORUxfU1BSSU5HX1BST1BTLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVknXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgXS5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICBjcmVhdGVTZWN0aW9uKHJvb3QsIHNlY3Rpb24sIHByb3BzLm5hbWUpO1xuICAgIH0pO1xuXG4gICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoYGZpbGVwb25kLS0ke3Byb3BzLm5hbWV9YCk7XG5cbiAgICByb290LnJlZi5zY2FsYWJsZSA9IG51bGw7XG59O1xuXG5jb25zdCBjcmVhdGVTZWN0aW9uID0gKHJvb3QsIHNlY3Rpb24sIGNsYXNzTmFtZSkgPT4ge1xuICAgIGNvbnN0IHZpZXdDb25zdHJ1Y3RvciA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBuYW1lOiBgcGFuZWwtJHtzZWN0aW9uLm5hbWV9IGZpbGVwb25kLS0ke2NsYXNzTmFtZX1gLFxuICAgICAgICBtaXhpbnM6IHNlY3Rpb24ubWl4aW5zLFxuICAgICAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdmlldyA9IHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHZpZXdDb25zdHJ1Y3Rvciwgc2VjdGlvbi5wcm9wcyk7XG5cbiAgICByb290LnJlZltzZWN0aW9uLm5hbWVdID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcodmlldyk7XG59O1xuXG5jb25zdCB3cml0ZSQzID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIHVwZGF0ZSBzY2FsYWJsZSBzdGF0ZVxuICAgIGlmIChyb290LnJlZi5zY2FsYWJsZSA9PT0gbnVsbCB8fCBwcm9wcy5zY2FsYWJsZSAhPT0gcm9vdC5yZWYuc2NhbGFibGUpIHtcbiAgICAgICAgcm9vdC5yZWYuc2NhbGFibGUgPSBpc0Jvb2xlYW4ocHJvcHMuc2NhbGFibGUpID8gcHJvcHMuc2NhbGFibGUgOiB0cnVlO1xuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5zY2FsYWJsZSA9IHJvb3QucmVmLnNjYWxhYmxlO1xuICAgIH1cblxuICAgIC8vIG5vIGhlaWdodCwgY2FuJ3Qgc2V0XG4gICAgaWYgKCFwcm9wcy5oZWlnaHQpIHJldHVybjtcblxuICAgIC8vIGdldCBjaGlsZCByZWN0c1xuICAgIGNvbnN0IHRvcFJlY3QgPSByb290LnJlZi50b3AucmVjdC5lbGVtZW50O1xuICAgIGNvbnN0IGJvdHRvbVJlY3QgPSByb290LnJlZi5ib3R0b20ucmVjdC5lbGVtZW50O1xuXG4gICAgLy8gbWFrZSBzdXJlIGhlaWdodCBuZXZlciBpcyBzbWFsbGVyIHRoYW4gYm90dG9tIGFuZCB0b3Agc2VjaXRvbiBoZWlnaHRzIGNvbWJpbmVkICh3aWxsIHByb2JhYmx5IG5ldmVyIGhhcHBlbiwgYnV0IHdobyBrbm93cylcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCh0b3BSZWN0LmhlaWdodCArIGJvdHRvbVJlY3QuaGVpZ2h0LCBwcm9wcy5oZWlnaHQpO1xuXG4gICAgLy8gb2Zmc2V0IGNlbnRlciBwYXJ0XG4gICAgcm9vdC5yZWYuY2VudGVyLnRyYW5zbGF0ZVkgPSB0b3BSZWN0LmhlaWdodDtcblxuICAgIC8vIHNjYWxlIGNlbnRlciBwYXJ0XG4gICAgLy8gdXNlIG1hdGggY2VpbCB0byBwcmV2ZW50IHRyYW5zcGFyZW50IGxpbmVzIGJlY2F1c2Ugb2Ygcm91bmRpbmcgZXJyb3JzXG4gICAgcm9vdC5yZWYuY2VudGVyLnNjYWxlWSA9IChoZWlnaHQgLSB0b3BSZWN0LmhlaWdodCAtIGJvdHRvbVJlY3QuaGVpZ2h0KSAvIDEwMDtcblxuICAgIC8vIG9mZnNldCBib3R0b20gcGFydFxuICAgIHJvb3QucmVmLmJvdHRvbS50cmFuc2xhdGVZID0gaGVpZ2h0IC0gYm90dG9tUmVjdC5oZWlnaHQ7XG59O1xuXG5jb25zdCBwYW5lbCA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdwYW5lbCcsXG4gICAgcmVhZDogKHsgcm9vdCwgcHJvcHMgfSkgPT4gKHByb3BzLmhlaWdodEN1cnJlbnQgPSByb290LnJlZi5ib3R0b20udHJhbnNsYXRlWSksXG4gICAgd3JpdGU6IHdyaXRlJDMsXG4gICAgY3JlYXRlOiBjcmVhdGUkNixcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgICBhcGlzOiBbJ2hlaWdodCcsICdoZWlnaHRDdXJyZW50JywgJ3NjYWxhYmxlJ10sXG4gICAgfSxcbn0pO1xuXG5jb25zdCBjcmVhdGVEcmFnSGVscGVyID0gaXRlbXMgPT4ge1xuICAgIGNvbnN0IGl0ZW1JZHMgPSBpdGVtcy5tYXAoaXRlbSA9PiBpdGVtLmlkKTtcbiAgICBsZXQgcHJldkluZGV4ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldEluZGV4OiBpbmRleCA9PiB7XG4gICAgICAgICAgICBwcmV2SW5kZXggPSBpbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW5kZXg6ICgpID0+IHByZXZJbmRleCxcbiAgICAgICAgZ2V0SXRlbUluZGV4OiBpdGVtID0+IGl0ZW1JZHMuaW5kZXhPZihpdGVtLmlkKSxcbiAgICB9O1xufTtcblxuY29uc3QgSVRFTV9UUkFOU0xBVEVfU1BSSU5HID0ge1xuICAgIHR5cGU6ICdzcHJpbmcnLFxuICAgIHN0aWZmbmVzczogMC43NSxcbiAgICBkYW1waW5nOiAwLjQ1LFxuICAgIG1hc3M6IDEwLFxufTtcblxuY29uc3QgSVRFTV9TQ0FMRV9TUFJJTkcgPSAnc3ByaW5nJztcblxuY29uc3QgU3RhdGVNYXAgPSB7XG4gICAgRElEX1NUQVJUX0lURU1fTE9BRDogJ2J1c3knLFxuICAgIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTOiAnbG9hZGluZycsXG4gICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogJ2xvYWQtaW52YWxpZCcsXG4gICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogJ2xvYWQtZXJyb3InLFxuICAgIERJRF9MT0FEX0lURU06ICdpZGxlJyxcbiAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6ICdyZW1vdmUtZXJyb3InLFxuICAgIERJRF9TVEFSVF9JVEVNX1JFTU9WRTogJ2J1c3knLFxuICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6ICdidXN5IHByb2Nlc3NpbmcnLFxuICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogJ2J1c3kgcHJvY2Vzc2luZycsXG4gICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6ICdwcm9jZXNzaW5nJyxcbiAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiAncHJvY2Vzc2luZy1jb21wbGV0ZScsXG4gICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogJ3Byb2Nlc3NpbmctZXJyb3InLFxuICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiAncHJvY2Vzc2luZy1yZXZlcnQtZXJyb3InLFxuICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6ICdjYW5jZWxsZWQnLFxuICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiAnaWRsZScsXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICovXG5jb25zdCBjcmVhdGUkNyA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAvLyBzZWxlY3RcbiAgICByb290LnJlZi5oYW5kbGVDbGljayA9IGUgPT4gcm9vdC5kaXNwYXRjaCgnRElEX0FDVElWQVRFX0lURU0nLCB7IGlkOiBwcm9wcy5pZCB9KTtcblxuICAgIC8vIHNldCBpZFxuICAgIHJvb3QuZWxlbWVudC5pZCA9IGBmaWxlcG9uZC0taXRlbS0ke3Byb3BzLmlkfWA7XG4gICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuXG4gICAgLy8gZmlsZSB2aWV3XG4gICAgcm9vdC5yZWYuY29udGFpbmVyID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZVdyYXBwZXIsIHsgaWQ6IHByb3BzLmlkIH0pKTtcblxuICAgIC8vIGZpbGUgcGFuZWxcbiAgICByb290LnJlZi5wYW5lbCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHBhbmVsLCB7IG5hbWU6ICdpdGVtLXBhbmVsJyB9KSk7XG5cbiAgICAvLyBkZWZhdWx0IHN0YXJ0IGhlaWdodFxuICAgIHJvb3QucmVmLnBhbmVsLmhlaWdodCA9IG51bGw7XG5cbiAgICAvLyBieSBkZWZhdWx0IG5vdCBtYXJrZWQgZm9yIHJlbW92YWxcbiAgICBwcm9wcy5tYXJrZWRGb3JSZW1vdmFsID0gZmFsc2U7XG5cbiAgICAvLyBpZiBub3QgYWxsb3dlZCB0byByZW9yZGVyIGZpbGUgaXRlbXMsIGV4aXQgaGVyZVxuICAgIGlmICghcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFT1JERVInKSkgcmV0dXJuO1xuXG4gICAgLy8gc2V0IHRvIGlkbGUgc28gc2hvd3MgZ3JhYiBjdXJzb3JcbiAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnaWRsZSc7XG5cbiAgICBjb25zdCBncmFiID0gZSA9PiB7XG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgICBsZXQgcmVtb3ZlZEFjdGl2YXRlTGlzdGVuZXIgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBvcmlnaW4gPSB7XG4gICAgICAgICAgICB4OiBlLnBhZ2VYLFxuICAgICAgICAgICAgeTogZS5wYWdlWSxcbiAgICAgICAgfTtcblxuICAgICAgICBwcm9wcy5kcmFnT3JpZ2luID0ge1xuICAgICAgICAgICAgeDogcm9vdC50cmFuc2xhdGVYLFxuICAgICAgICAgICAgeTogcm9vdC50cmFuc2xhdGVZLFxuICAgICAgICB9O1xuXG4gICAgICAgIHByb3BzLmRyYWdDZW50ZXIgPSB7XG4gICAgICAgICAgICB4OiBlLm9mZnNldFgsXG4gICAgICAgICAgICB5OiBlLm9mZnNldFksXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZHJhZ1N0YXRlID0gY3JlYXRlRHJhZ0hlbHBlcihyb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJykpO1xuXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9HUkFCX0lURU0nLCB7IGlkOiBwcm9wcy5pZCwgZHJhZ1N0YXRlIH0pO1xuXG4gICAgICAgIGNvbnN0IGRyYWcgPSBlID0+IHtcbiAgICAgICAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IHtcbiAgICAgICAgICAgICAgICB4OiBlLnBhZ2VYIC0gb3JpZ2luLngsXG4gICAgICAgICAgICAgICAgeTogZS5wYWdlWSAtIG9yaWdpbi55LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gaWYgZHJhZ2dlZCBzdG9wIGxpc3RlbmluZyB0byBjbGlja3MsIHdpbGwgcmUtYWRkIHdoZW4gZG9uZSBkcmFnZ2luZ1xuICAgICAgICAgICAgY29uc3QgZGlzdCA9XG4gICAgICAgICAgICAgICAgcHJvcHMuZHJhZ09mZnNldC54ICogcHJvcHMuZHJhZ09mZnNldC54ICsgcHJvcHMuZHJhZ09mZnNldC55ICogcHJvcHMuZHJhZ09mZnNldC55O1xuICAgICAgICAgICAgaWYgKGRpc3QgPiAxNiAmJiAhcmVtb3ZlZEFjdGl2YXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkQWN0aXZhdGVMaXN0ZW5lciA9IHRydWU7XG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRFJBR19JVEVNJywgeyBpZDogcHJvcHMuaWQsIGRyYWdTdGF0ZSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkcm9wID0gZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUuaXNQcmltYXJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZHJhZyk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBkcm9wKTtcblxuICAgICAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IHtcbiAgICAgICAgICAgICAgICB4OiBlLnBhZ2VYIC0gb3JpZ2luLngsXG4gICAgICAgICAgICAgICAgeTogZS5wYWdlWSAtIG9yaWdpbi55LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RST1BfSVRFTScsIHsgaWQ6IHByb3BzLmlkLCBkcmFnU3RhdGUgfSk7XG5cbiAgICAgICAgICAgIC8vIHN0YXJ0IGxpc3RlbmluZyB0byBjbGlja3MgYWdhaW5cbiAgICAgICAgICAgIGlmIChyZW1vdmVkQWN0aXZhdGVMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGRyYWcpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBkcm9wKTtcbiAgICB9O1xuXG4gICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZ3JhYik7XG59O1xuXG5jb25zdCByb3V0ZSQxID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9VUERBVEVfUEFORUxfSEVJR0hUOiAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgICAgICByb290LmhlaWdodCA9IGFjdGlvbi5oZWlnaHQ7XG4gICAgfSxcbn0pO1xuXG5jb25zdCB3cml0ZSQ0ID0gY3JlYXRlUm91dGUoXG4gICAge1xuICAgICAgICBESURfR1JBQl9JVEVNOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICAgICAgICBwcm9wcy5kcmFnT3JpZ2luID0ge1xuICAgICAgICAgICAgICAgIHg6IHJvb3QudHJhbnNsYXRlWCxcbiAgICAgICAgICAgICAgICB5OiByb290LnRyYW5zbGF0ZVksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBESURfRFJBR19JVEVNOiAoeyByb290IH0pID0+IHtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdkcmFnJztcbiAgICAgICAgfSxcbiAgICAgICAgRElEX0RST1BfSVRFTTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IG51bGw7XG4gICAgICAgICAgICBwcm9wcy5kcmFnT3JpZ2luID0gbnVsbDtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdkcm9wJztcbiAgICAgICAgfSxcbiAgICB9LFxuICAgICh7IHJvb3QsIGFjdGlvbnMsIHByb3BzLCBzaG91bGRPcHRpbWl6ZSB9KSA9PiB7XG4gICAgICAgIGlmIChyb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPT09ICdkcm9wJykge1xuICAgICAgICAgICAgaWYgKHJvb3Quc2NhbGVYIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnaWRsZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZWxlY3QgbGFzdCBzdGF0ZSBjaGFuZ2UgYWN0aW9uXG4gICAgICAgIGxldCBhY3Rpb24gPSBhY3Rpb25zXG4gICAgICAgICAgICAuY29uY2F0KClcbiAgICAgICAgICAgIC5maWx0ZXIoYWN0aW9uID0+IC9eRElEXy8udGVzdChhY3Rpb24udHlwZSkpXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAuZmluZChhY3Rpb24gPT4gU3RhdGVNYXBbYWN0aW9uLnR5cGVdKTtcblxuICAgICAgICAvLyBubyBuZWVkIHRvIHNldCBzYW1lIHN0YXRlIHR3aWNlXG4gICAgICAgIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgIT09IHByb3BzLmN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgLy8gc2V0IGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgIHByb3BzLmN1cnJlbnRTdGF0ZSA9IGFjdGlvbi50eXBlO1xuXG4gICAgICAgICAgICAvLyBzZXQgc3RhdGVcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmZpbGVwb25kSXRlbVN0YXRlID0gU3RhdGVNYXBbcHJvcHMuY3VycmVudFN0YXRlXSB8fCAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPVxuICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPJykgfHwgcm9vdC5xdWVyeSgnR0VUX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgICBpZiAoIWFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICByb3V0ZSQxKHsgcm9vdCwgYWN0aW9ucywgcHJvcHMgfSk7XG4gICAgICAgICAgICBpZiAoIXJvb3QuaGVpZ2h0ICYmIHJvb3QucmVmLmNvbnRhaW5lci5yZWN0LmVsZW1lbnQuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIHJvb3QuaGVpZ2h0ID0gcm9vdC5yZWYuY29udGFpbmVyLnJlY3QuZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXNob3VsZE9wdGltaXplKSB7XG4gICAgICAgICAgICByb290LmhlaWdodCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzeW5jIHBhbmVsIGhlaWdodCB3aXRoIGl0ZW0gaGVpZ2h0XG4gICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb3QucmVmLnBhbmVsLmhlaWdodCA9IHJvb3QuaGVpZ2h0O1xuICAgIH1cbik7XG5cbmNvbnN0IGl0ZW0gPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ3LFxuICAgIHdyaXRlOiB3cml0ZSQ0LFxuICAgIGRlc3Ryb3k6ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgICAgICByb290LmRpc3BhdGNoKCdSRUxFQVNFX0lURU0nLCB7IHF1ZXJ5OiBwcm9wcy5pZCB9KTtcbiAgICB9LFxuICAgIHRhZzogJ2xpJyxcbiAgICBuYW1lOiAnaXRlbScsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFtcbiAgICAgICAgICAgICdpZCcsXG4gICAgICAgICAgICAnaW50ZXJhY3Rpb25NZXRob2QnLFxuICAgICAgICAgICAgJ21hcmtlZEZvclJlbW92YWwnLFxuICAgICAgICAgICAgJ3NwYXduRGF0ZScsXG4gICAgICAgICAgICAnZHJhZ0NlbnRlcicsXG4gICAgICAgICAgICAnZHJhZ09yaWdpbicsXG4gICAgICAgICAgICAnZHJhZ09mZnNldCcsXG4gICAgICAgIF0sXG4gICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5JywgJ2hlaWdodCddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBzY2FsZVg6IElURU1fU0NBTEVfU1BSSU5HLFxuICAgICAgICAgICAgc2NhbGVZOiBJVEVNX1NDQUxFX1NQUklORyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6IElURU1fVFJBTlNMQVRFX1NQUklORyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IElURU1fVFJBTlNMQVRFX1NQUklORyxcbiAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDE1MCB9LFxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxudmFyIGdldEl0ZW1zUGVyUm93ID0gKGhvcml6b250YWxTcGFjZSwgaXRlbVdpZHRoKSA9PiB7XG4gICAgLy8gYWRkIG9uZSBwaXhlbCBsZWV3YXksIHdoZW4gdXNpbmcgcGVyY2VudGFnZXMgZm9yIGl0ZW0gd2lkdGggdG90YWwgaXRlbXMgY2FuIGJlIDEuOTkgcGVyIHJvd1xuXG4gICAgcmV0dXJuIE1hdGgubWF4KDEsIE1hdGguZmxvb3IoKGhvcml6b250YWxTcGFjZSArIDEpIC8gaXRlbVdpZHRoKSk7XG59O1xuXG5jb25zdCBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uID0gKHZpZXcsIGNoaWxkcmVuLCBwb3NpdGlvbkluVmlldykgPT4ge1xuICAgIGlmICghcG9zaXRpb25JblZpZXcpIHJldHVybjtcblxuICAgIGNvbnN0IGhvcml6b250YWxTcGFjZSA9IHZpZXcucmVjdC5lbGVtZW50LndpZHRoO1xuICAgIC8vIGNvbnN0IGNoaWxkcmVuID0gdmlldy5jaGlsZFZpZXdzO1xuICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgbGV0IGxhc3QgPSBudWxsO1xuXG4gICAgLy8gLTEsIGRvbid0IG1vdmUgaXRlbXMgdG8gYWNjb21vZGF0ZSAoZWl0aGVyIGFkZCB0byB0b3Agb3IgYm90dG9tKVxuICAgIGlmIChsID09PSAwIHx8IHBvc2l0aW9uSW5WaWV3LnRvcCA8IGNoaWxkcmVuWzBdLnJlY3QuZWxlbWVudC50b3ApIHJldHVybiAtMTtcblxuICAgIC8vIGxldCdzIGdldCB0aGUgaXRlbSB3aWR0aFxuICAgIGNvbnN0IGl0ZW0gPSBjaGlsZHJlblswXTtcbiAgICBjb25zdCBpdGVtUmVjdCA9IGl0ZW0ucmVjdC5lbGVtZW50O1xuICAgIGNvbnN0IGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gaXRlbVJlY3QubWFyZ2luTGVmdCArIGl0ZW1SZWN0Lm1hcmdpblJpZ2h0O1xuICAgIGNvbnN0IGl0ZW1XaWR0aCA9IGl0ZW1SZWN0LndpZHRoICsgaXRlbUhvcml6b250YWxNYXJnaW47XG4gICAgY29uc3QgaXRlbXNQZXJSb3cgPSBnZXRJdGVtc1BlclJvdyhob3Jpem9udGFsU3BhY2UsIGl0ZW1XaWR0aCk7XG5cbiAgICAvLyBzdGFja1xuICAgIGlmIChpdGVtc1BlclJvdyA9PT0gMSkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICBjb25zdCBjaGlsZE1pZCA9IGNoaWxkLnJlY3Qub3V0ZXIudG9wICsgY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodCAqIDAuNTtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbkluVmlldy50b3AgPCBjaGlsZE1pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbDtcbiAgICB9XG5cbiAgICAvLyBncmlkXG4gICAgY29uc3QgaXRlbVZlcnRpY2FsTWFyZ2luID0gaXRlbVJlY3QubWFyZ2luVG9wICsgaXRlbVJlY3QubWFyZ2luQm90dG9tO1xuICAgIGNvbnN0IGl0ZW1IZWlnaHQgPSBpdGVtUmVjdC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGw7IGluZGV4KyspIHtcbiAgICAgICAgY29uc3QgaW5kZXhYID0gaW5kZXggJSBpdGVtc1BlclJvdztcbiAgICAgICAgY29uc3QgaW5kZXhZID0gTWF0aC5mbG9vcihpbmRleCAvIGl0ZW1zUGVyUm93KTtcblxuICAgICAgICBjb25zdCBvZmZzZXRYID0gaW5kZXhYICogaXRlbVdpZHRoO1xuICAgICAgICBjb25zdCBvZmZzZXRZID0gaW5kZXhZICogaXRlbUhlaWdodDtcblxuICAgICAgICBjb25zdCBpdGVtVG9wID0gb2Zmc2V0WSAtIGl0ZW1SZWN0Lm1hcmdpblRvcDtcbiAgICAgICAgY29uc3QgaXRlbVJpZ2h0ID0gb2Zmc2V0WCArIGl0ZW1XaWR0aDtcbiAgICAgICAgY29uc3QgaXRlbUJvdHRvbSA9IG9mZnNldFkgKyBpdGVtSGVpZ2h0ICsgaXRlbVJlY3QubWFyZ2luQm90dG9tO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbkluVmlldy50b3AgPCBpdGVtQm90dG9tICYmIHBvc2l0aW9uSW5WaWV3LnRvcCA+IGl0ZW1Ub3ApIHtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbkluVmlldy5sZWZ0IDwgaXRlbVJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCAhPT0gbCAtIDEpIHtcbiAgICAgICAgICAgICAgICBsYXN0ID0gaW5kZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhc3QgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIGw7XG59O1xuXG5jb25zdCBkcm9wQXJlYURpbWVuc2lvbnMgPSB7XG4gICAgaGVpZ2h0OiAwLFxuICAgIHdpZHRoOiAwLFxuICAgIGdldCBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9LFxuICAgIHNldCBzZXRIZWlnaHQodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA9PT0gMCB8fCB2YWwgPT09IDApIHRoaXMuaGVpZ2h0ID0gdmFsO1xuICAgIH0sXG4gICAgZ2V0IGdldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgICB9LFxuICAgIHNldCBzZXRXaWR0aCh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IDAgfHwgdmFsID09PSAwKSB0aGlzLndpZHRoID0gdmFsO1xuICAgIH0sXG4gICAgc2V0RGltZW5zaW9uczogZnVuY3Rpb24oaGVpZ2h0LCB3aWR0aCkge1xuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IDAgfHwgd2lkdGggPT09IDApIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB9LFxufTtcblxuY29uc3QgY3JlYXRlJDggPSAoeyByb290IH0pID0+IHtcbiAgICAvLyBuZWVkIHRvIHNldCByb2xlIHRvIGxpc3QgYXMgb3RoZXJ3aXNlIGl0IHdvbid0IGJlIHJlYWQgYXMgYSBsaXN0IGJ5IFZvaWNlT3ZlclxuICAgIGF0dHIocm9vdC5lbGVtZW50LCAncm9sZScsICdsaXN0Jyk7XG5cbiAgICByb290LnJlZi5sYXN0SXRlbVNwYW53RGF0ZSA9IERhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIEluc2VydHMgYSBuZXcgaXRlbVxuICogQHBhcmFtIHJvb3RcbiAqIEBwYXJhbSBhY3Rpb25cbiAqL1xuY29uc3QgYWRkSXRlbVZpZXcgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IHsgaWQsIGluZGV4LCBpbnRlcmFjdGlvbk1ldGhvZCB9ID0gYWN0aW9uO1xuXG4gICAgcm9vdC5yZWYuYWRkSW5kZXggPSBpbmRleDtcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgbGV0IHNwYXduRGF0ZSA9IG5vdztcbiAgICBsZXQgb3BhY2l0eSA9IDE7XG5cbiAgICBpZiAoaW50ZXJhY3Rpb25NZXRob2QgIT09IEludGVyYWN0aW9uTWV0aG9kLk5PTkUpIHtcbiAgICAgICAgb3BhY2l0eSA9IDA7XG4gICAgICAgIGNvbnN0IGNvb2xkb3duID0gcm9vdC5xdWVyeSgnR0VUX0lURU1fSU5TRVJUX0lOVEVSVkFMJyk7XG4gICAgICAgIGNvbnN0IGRpc3QgPSBub3cgLSByb290LnJlZi5sYXN0SXRlbVNwYW53RGF0ZTtcbiAgICAgICAgc3Bhd25EYXRlID0gZGlzdCA8IGNvb2xkb3duID8gbm93ICsgKGNvb2xkb3duIC0gZGlzdCkgOiBub3c7XG4gICAgfVxuXG4gICAgcm9vdC5yZWYubGFzdEl0ZW1TcGFud0RhdGUgPSBzcGF3bkRhdGU7XG5cbiAgICByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoXG4gICAgICAgICAgICAvLyB2aWV3IHR5cGVcbiAgICAgICAgICAgIGl0ZW0sXG5cbiAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3Bhd25EYXRlLFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIG9wYWNpdHksXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIGluZGV4XG4gICAgKTtcbn07XG5cbmNvbnN0IG1vdmVJdGVtID0gKGl0ZW0sIHgsIHksIHZ4ID0gMCwgdnkgPSAxKSA9PiB7XG4gICAgLy8gc2V0IHRvIG51bGwgdG8gcmVtb3ZlIGFuaW1hdGlvbiB3aGlsZSBkcmFnZ2luZ1xuICAgIGlmIChpdGVtLmRyYWdPZmZzZXQpIHtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVYID0gaXRlbS5kcmFnT3JpZ2luLnggKyBpdGVtLmRyYWdPZmZzZXQueDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gaXRlbS5kcmFnT3JpZ2luLnkgKyBpdGVtLmRyYWdPZmZzZXQueTtcbiAgICAgICAgaXRlbS5zY2FsZVggPSAxLjAyNTtcbiAgICAgICAgaXRlbS5zY2FsZVkgPSAxLjAyNTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4O1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5O1xuXG4gICAgICAgIGlmIChEYXRlLm5vdygpID4gaXRlbS5zcGF3bkRhdGUpIHtcbiAgICAgICAgICAgIC8vIHJldmVhbCBlbGVtZW50XG4gICAgICAgICAgICBpZiAoaXRlbS5vcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaW50cm9JdGVtVmlldyhpdGVtLCB4LCB5LCB2eCwgdnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgaXMgZGVmYXVsdCBzY2FsZSBldmVyeSBmcmFtZVxuICAgICAgICAgICAgaXRlbS5zY2FsZVggPSAxO1xuICAgICAgICAgICAgaXRlbS5zY2FsZVkgPSAxO1xuICAgICAgICAgICAgaXRlbS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmNvbnN0IGludHJvSXRlbVZpZXcgPSAoaXRlbSwgeCwgeSwgdngsIHZ5KSA9PiB7XG4gICAgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLk5PTkUpIHtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVYID0geDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0geTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkRST1ApIHtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVYID0geCAtIHZ4ICogMjA7XG5cbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0geSAtIHZ5ICogMTA7XG5cbiAgICAgICAgaXRlbS5zY2FsZVggPSAwLjg7XG4gICAgICAgIGl0ZW0uc2NhbGVZID0gMC44O1xuICAgIH0gZWxzZSBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQlJPV1NFKSB7XG4gICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHkgLSAzMDtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkFQSSkge1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4IC0gMzA7XG4gICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmVzIGFuIGV4aXN0aW5nIGl0ZW1cbiAqIEBwYXJhbSByb290XG4gKiBAcGFyYW0gYWN0aW9uXG4gKi9cbmNvbnN0IHJlbW92ZUl0ZW1WaWV3ID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSBhY3Rpb247XG5cbiAgICAvLyBnZXQgdGhlIHZpZXcgbWF0Y2hpbmcgdGhlIGdpdmVuIGlkXG4gICAgY29uc3QgdmlldyA9IHJvb3QuY2hpbGRWaWV3cy5maW5kKGNoaWxkID0+IGNoaWxkLmlkID09PSBpZCk7XG5cbiAgICAvLyBpZiBubyB2aWV3IGZvdW5kLCBleGl0XG4gICAgaWYgKCF2aWV3KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhbmltYXRlIHZpZXcgb3V0IG9mIHZpZXdcbiAgICB2aWV3LnNjYWxlWCA9IDAuOTtcbiAgICB2aWV3LnNjYWxlWSA9IDAuOTtcbiAgICB2aWV3Lm9wYWNpdHkgPSAwO1xuXG4gICAgLy8gbWFyayBmb3IgcmVtb3ZhbFxuICAgIHZpZXcubWFya2VkRm9yUmVtb3ZhbCA9IHRydWU7XG59O1xuXG5jb25zdCBnZXRJdGVtSGVpZ2h0ID0gY2hpbGQgPT5cbiAgICBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICtcbiAgICBjaGlsZC5yZWN0LmVsZW1lbnQubWFyZ2luQm90dG9tICogMC41ICtcbiAgICBjaGlsZC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wICogMC41O1xuY29uc3QgZ2V0SXRlbVdpZHRoID0gY2hpbGQgPT5cbiAgICBjaGlsZC5yZWN0LmVsZW1lbnQud2lkdGggK1xuICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5MZWZ0ICogMC41ICtcbiAgICBjaGlsZC5yZWN0LmVsZW1lbnQubWFyZ2luUmlnaHQgKiAwLjU7XG5cbmNvbnN0IGRyYWdJdGVtID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCB7IGlkLCBkcmFnU3RhdGUgfSA9IGFjdGlvbjtcblxuICAgIC8vIHJlZmVyZW5jZSB0byBpdGVtXG4gICAgY29uc3QgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZCB9KTtcblxuICAgIC8vIGdldCB0aGUgdmlldyBtYXRjaGluZyB0aGUgZ2l2ZW4gaWRcbiAgICBjb25zdCB2aWV3ID0gcm9vdC5jaGlsZFZpZXdzLmZpbmQoY2hpbGQgPT4gY2hpbGQuaWQgPT09IGlkKTtcblxuICAgIGNvbnN0IG51bUl0ZW1zID0gcm9vdC5jaGlsZFZpZXdzLmxlbmd0aDtcbiAgICBjb25zdCBvbGRJbmRleCA9IGRyYWdTdGF0ZS5nZXRJdGVtSW5kZXgoaXRlbSk7XG5cbiAgICAvLyBpZiBubyB2aWV3IGZvdW5kLCBleGl0XG4gICAgaWYgKCF2aWV3KSByZXR1cm47XG5cbiAgICBjb25zdCBkcmFnUG9zaXRpb24gPSB7XG4gICAgICAgIHg6IHZpZXcuZHJhZ09yaWdpbi54ICsgdmlldy5kcmFnT2Zmc2V0LnggKyB2aWV3LmRyYWdDZW50ZXIueCxcbiAgICAgICAgeTogdmlldy5kcmFnT3JpZ2luLnkgKyB2aWV3LmRyYWdPZmZzZXQueSArIHZpZXcuZHJhZ0NlbnRlci55LFxuICAgIH07XG5cbiAgICAvLyBnZXQgZHJhZyBhcmVhIGRpbWVuc2lvbnNcbiAgICBjb25zdCBkcmFnSGVpZ2h0ID0gZ2V0SXRlbUhlaWdodCh2aWV3KTtcbiAgICBjb25zdCBkcmFnV2lkdGggPSBnZXRJdGVtV2lkdGgodmlldyk7XG5cbiAgICAvLyBnZXQgcm93cyBhbmQgY29sdW1ucyAoVGhlcmUgd2lsbCBhbHdheXMgYmUgYXQgbGVhc3Qgb25lIHJvdyBhbmQgb25lIGNvbHVtbiBpZiBhIGZpbGUgaXMgcHJlc2VudClcbiAgICBsZXQgY29scyA9IE1hdGguZmxvb3Iocm9vdC5yZWN0Lm91dGVyLndpZHRoIC8gZHJhZ1dpZHRoKTtcbiAgICBpZiAoY29scyA+IG51bUl0ZW1zKSBjb2xzID0gbnVtSXRlbXM7XG5cbiAgICAvLyByb3dzIGFyZSB1c2VkIHRvIGZpbmQgd2hlbiB3ZSBoYXZlIGxlZnQgdGhlIHByZXZpZXcgYXJlYSBib3VuZGluZyBib3hcbiAgICBjb25zdCByb3dzID0gTWF0aC5mbG9vcihudW1JdGVtcyAvIGNvbHMgKyAxKTtcblxuICAgIGRyb3BBcmVhRGltZW5zaW9ucy5zZXRIZWlnaHQgPSBkcmFnSGVpZ2h0ICogcm93cztcbiAgICBkcm9wQXJlYURpbWVuc2lvbnMuc2V0V2lkdGggPSBkcmFnV2lkdGggKiBjb2xzO1xuXG4gICAgLy8gZ2V0IG5ldyBpbmRleCBvZiBkcmFnZ2VkIGl0ZW1cbiAgICB2YXIgbG9jYXRpb24gPSB7XG4gICAgICAgIHk6IE1hdGguZmxvb3IoZHJhZ1Bvc2l0aW9uLnkgLyBkcmFnSGVpZ2h0KSxcbiAgICAgICAgeDogTWF0aC5mbG9vcihkcmFnUG9zaXRpb24ueCAvIGRyYWdXaWR0aCksXG4gICAgICAgIGdldEdyaWRJbmRleDogZnVuY3Rpb24gZ2V0R3JpZEluZGV4KCkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRyYWdQb3NpdGlvbi55ID4gZHJvcEFyZWFEaW1lbnNpb25zLmdldEhlaWdodCB8fFxuICAgICAgICAgICAgICAgIGRyYWdQb3NpdGlvbi55IDwgMCB8fFxuICAgICAgICAgICAgICAgIGRyYWdQb3NpdGlvbi54ID4gZHJvcEFyZWFEaW1lbnNpb25zLmdldFdpZHRoIHx8XG4gICAgICAgICAgICAgICAgZHJhZ1Bvc2l0aW9uLnggPCAwXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZEluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSAqIGNvbHMgKyB0aGlzLng7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENvbEluZGV4OiBmdW5jdGlvbiBnZXRDb2xJbmRleCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJsZUNoaWxkcmVuID0gcm9vdC5jaGlsZFZpZXdzLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gaXRlbXMubWFwKGl0ZW0gPT5cbiAgICAgICAgICAgICAgICB2aXNpYmxlQ2hpbGRyZW4uZmluZChjaGlsZFZpZXcgPT4gY2hpbGRWaWV3LmlkID09PSBpdGVtLmlkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGNoaWxkcmVuLmZpbmRJbmRleChjaGlsZCA9PiBjaGlsZCA9PT0gdmlldyk7XG4gICAgICAgICAgICBjb25zdCBkcmFnSGVpZ2h0ID0gZ2V0SXRlbUhlaWdodCh2aWV3KTtcbiAgICAgICAgICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgaWR4ID0gbDtcbiAgICAgICAgICAgIGxldCBjaGlsZEhlaWdodCA9IDA7XG4gICAgICAgICAgICBsZXQgY2hpbGRCb3R0b20gPSAwO1xuICAgICAgICAgICAgbGV0IGNoaWxkVG9wID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICBjaGlsZFRvcCA9IGNoaWxkQm90dG9tO1xuICAgICAgICAgICAgICAgIGNoaWxkQm90dG9tID0gY2hpbGRUb3AgKyBjaGlsZEhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoZHJhZ1Bvc2l0aW9uLnkgPCBjaGlsZEJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID4gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdQb3NpdGlvbi55IDwgY2hpbGRUb3AgKyBkcmFnSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIGdldCBuZXcgaW5kZXhcbiAgICBjb25zdCBpbmRleCA9IGNvbHMgPiAxID8gbG9jYXRpb24uZ2V0R3JpZEluZGV4KCkgOiBsb2NhdGlvbi5nZXRDb2xJbmRleCgpO1xuICAgIHJvb3QuZGlzcGF0Y2goJ01PVkVfSVRFTScsIHsgcXVlcnk6IHZpZXcsIGluZGV4IH0pO1xuXG4gICAgLy8gaWYgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGNoYW5nZWQsIGRpc3BhdGNoIHJlb3JkZXIgYWN0aW9uXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gZHJhZ1N0YXRlLmdldEluZGV4KCk7XG5cbiAgICBpZiAoY3VycmVudEluZGV4ID09PSB1bmRlZmluZWQgfHwgY3VycmVudEluZGV4ICE9PSBpbmRleCkge1xuICAgICAgICBkcmFnU3RhdGUuc2V0SW5kZXgoaW5kZXgpO1xuXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9SRU9SREVSX0lURU1TJywge1xuICAgICAgICAgICAgaXRlbXM6IHJvb3QucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKSxcbiAgICAgICAgICAgIG9yaWdpbjogb2xkSW5kZXgsXG4gICAgICAgICAgICB0YXJnZXQ6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldHVwIGFjdGlvbiByb3V0ZXNcbiAqL1xuY29uc3Qgcm91dGUkMiA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfQUREX0lURU06IGFkZEl0ZW1WaWV3LFxuICAgIERJRF9SRU1PVkVfSVRFTTogcmVtb3ZlSXRlbVZpZXcsXG4gICAgRElEX0RSQUdfSVRFTTogZHJhZ0l0ZW0sXG59KTtcblxuLyoqXG4gKiBXcml0ZSB0byB2aWV3XG4gKiBAcGFyYW0gcm9vdFxuICogQHBhcmFtIGFjdGlvbnNcbiAqIEBwYXJhbSBwcm9wc1xuICovXG5jb25zdCB3cml0ZSQ1ID0gKHsgcm9vdCwgcHJvcHMsIGFjdGlvbnMsIHNob3VsZE9wdGltaXplIH0pID0+IHtcbiAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgcm91dGUkMih7IHJvb3QsIHByb3BzLCBhY3Rpb25zIH0pO1xuXG4gICAgY29uc3QgeyBkcmFnQ29vcmRpbmF0ZXMgfSA9IHByb3BzO1xuXG4gICAgLy8gYXZhaWxhYmxlIHNwYWNlIG9uIGhvcml6b250YWwgYXhpc1xuICAgIGNvbnN0IGhvcml6b250YWxTcGFjZSA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuXG4gICAgLy8gb25seSBkcmF3IGNoaWxkcmVuIHRoYXQgaGF2ZSBkaW1lbnNpb25zXG4gICAgY29uc3QgdmlzaWJsZUNoaWxkcmVuID0gcm9vdC5jaGlsZFZpZXdzLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0KTtcblxuICAgIC8vIHNvcnQgYmFzZWQgb24gY3VycmVudCBhY3RpdmUgaXRlbXNcbiAgICBjb25zdCBjaGlsZHJlbiA9IHJvb3RcbiAgICAgICAgLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJylcbiAgICAgICAgLm1hcChpdGVtID0+IHZpc2libGVDaGlsZHJlbi5maW5kKGNoaWxkID0+IGNoaWxkLmlkID09PSBpdGVtLmlkKSlcbiAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0pO1xuXG4gICAgLy8gZ2V0IGluZGV4XG4gICAgY29uc3QgZHJhZ0luZGV4ID0gZHJhZ0Nvb3JkaW5hdGVzXG4gICAgICAgID8gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihyb290LCBjaGlsZHJlbiwgZHJhZ0Nvb3JkaW5hdGVzKVxuICAgICAgICA6IG51bGw7XG5cbiAgICAvLyBhZGQgaW5kZXggaXMgdXNlZCB0byByZXNlcnZlIHRoZSBkcm9wcGVkL2FkZGVkIGl0ZW0gaW5kZXggdGlsbCB0aGUgYWN0dWFsIGl0ZW0gaXMgcmVuZGVyZWRcbiAgICBjb25zdCBhZGRJbmRleCA9IHJvb3QucmVmLmFkZEluZGV4IHx8IG51bGw7XG5cbiAgICAvLyBhZGQgaW5kZXggbm8gbG9uZ2VyIG5lZWRlZCB0aWxsIHBvc3NpYmx5IG5leHQgZHJhd1xuICAgIHJvb3QucmVmLmFkZEluZGV4ID0gbnVsbDtcblxuICAgIGxldCBkcmFnSW5kZXhPZmZzZXQgPSAwO1xuICAgIGxldCByZW1vdmVJbmRleE9mZnNldCA9IDA7XG4gICAgbGV0IGFkZEluZGV4T2Zmc2V0ID0gMDtcblxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGNoaWxkUmVjdCA9IGNoaWxkcmVuWzBdLnJlY3QuZWxlbWVudDtcbiAgICBjb25zdCBpdGVtVmVydGljYWxNYXJnaW4gPSBjaGlsZFJlY3QubWFyZ2luVG9wICsgY2hpbGRSZWN0Lm1hcmdpbkJvdHRvbTtcbiAgICBjb25zdCBpdGVtSG9yaXpvbnRhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5MZWZ0ICsgY2hpbGRSZWN0Lm1hcmdpblJpZ2h0O1xuICAgIGNvbnN0IGl0ZW1XaWR0aCA9IGNoaWxkUmVjdC53aWR0aCArIGl0ZW1Ib3Jpem9udGFsTWFyZ2luO1xuICAgIGNvbnN0IGl0ZW1IZWlnaHQgPSBjaGlsZFJlY3QuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuICAgIGNvbnN0IGl0ZW1zUGVyUm93ID0gZ2V0SXRlbXNQZXJSb3coaG9yaXpvbnRhbFNwYWNlLCBpdGVtV2lkdGgpO1xuXG4gICAgLy8gc3RhY2tcbiAgICBpZiAoaXRlbXNQZXJSb3cgPT09IDEpIHtcbiAgICAgICAgbGV0IG9mZnNldFkgPSAwO1xuICAgICAgICBsZXQgZHJhZ09mZnNldCA9IDA7XG5cbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoZHJhZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpc3QgPSBpbmRleCAtIGRyYWdJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdCA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IC1pdGVtVmVydGljYWxNYXJnaW4gKiAwLjI1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IC1pdGVtVmVydGljYWxNYXJnaW4gKiAwLjc1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0gaXRlbVZlcnRpY2FsTWFyZ2luICogMC43NTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3QgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IGl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuMjU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaGlsZC50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjaGlsZC5tYXJrZWRGb3JSZW1vdmFsKSB7XG4gICAgICAgICAgICAgICAgbW92ZUl0ZW0oY2hpbGQsIDAsIG9mZnNldFkgKyBkcmFnT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGl0ZW1IZWlnaHQgPSBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuXG4gICAgICAgICAgICBsZXQgdmlzdWFsSGVpZ2h0ID0gaXRlbUhlaWdodCAqIChjaGlsZC5tYXJrZWRGb3JSZW1vdmFsID8gY2hpbGQub3BhY2l0eSA6IDEpO1xuXG4gICAgICAgICAgICBvZmZzZXRZICs9IHZpc3VhbEhlaWdodDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGdyaWRcbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHByZXZYID0gMDtcbiAgICAgICAgbGV0IHByZXZZID0gMDtcblxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gZHJhZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgZHJhZ0luZGV4T2Zmc2V0ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBhZGRJbmRleCkge1xuICAgICAgICAgICAgICAgIGFkZEluZGV4T2Zmc2V0ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5tYXJrZWRGb3JSZW1vdmFsICYmIGNoaWxkLm9wYWNpdHkgPCAwLjUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVJbmRleE9mZnNldCAtPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2aXN1YWxJbmRleCA9IGluZGV4ICsgYWRkSW5kZXhPZmZzZXQgKyBkcmFnSW5kZXhPZmZzZXQgKyByZW1vdmVJbmRleE9mZnNldDtcblxuICAgICAgICAgICAgY29uc3QgaW5kZXhYID0gdmlzdWFsSW5kZXggJSBpdGVtc1BlclJvdztcbiAgICAgICAgICAgIGNvbnN0IGluZGV4WSA9IE1hdGguZmxvb3IodmlzdWFsSW5kZXggLyBpdGVtc1BlclJvdyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSBpbmRleFggKiBpdGVtV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gaW5kZXhZICogaXRlbUhlaWdodDtcblxuICAgICAgICAgICAgY29uc3QgdmVjdG9yWCA9IE1hdGguc2lnbihvZmZzZXRYIC0gcHJldlgpO1xuICAgICAgICAgICAgY29uc3QgdmVjdG9yWSA9IE1hdGguc2lnbihvZmZzZXRZIC0gcHJldlkpO1xuXG4gICAgICAgICAgICBwcmV2WCA9IG9mZnNldFg7XG4gICAgICAgICAgICBwcmV2WSA9IG9mZnNldFk7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5tYXJrZWRGb3JSZW1vdmFsKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3ZlSXRlbShjaGlsZCwgb2Zmc2V0WCwgb2Zmc2V0WSwgdmVjdG9yWCwgdmVjdG9yWSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogRmlsdGVycyBhY3Rpb25zIHRoYXQgYXJlIG1lYW50IHNwZWNpZmljYWxseSBmb3IgYSBjZXJ0YWluIGNoaWxkIG9mIHRoZSBsaXN0XG4gKiBAcGFyYW0gY2hpbGRcbiAqIEBwYXJhbSBhY3Rpb25zXG4gKi9cbmNvbnN0IGZpbHRlclNldEl0ZW1BY3Rpb25zID0gKGNoaWxkLCBhY3Rpb25zKSA9PlxuICAgIGFjdGlvbnMuZmlsdGVyKGFjdGlvbiA9PiB7XG4gICAgICAgIC8vIGlmIGFjdGlvbiBoYXMgYW4gaWQsIGZpbHRlciBvdXQgYWN0aW9ucyB0aGF0IGRvbid0IGhhdmUgdGhpcyBjaGlsZCBpZFxuICAgICAgICBpZiAoYWN0aW9uLmRhdGEgJiYgYWN0aW9uLmRhdGEuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gYWN0aW9uLmRhdGEuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbGxvdyBhbGwgb3RoZXIgYWN0aW9uc1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuY29uc3QgbGlzdCA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogY3JlYXRlJDgsXG4gICAgd3JpdGU6IHdyaXRlJDUsXG4gICAgdGFnOiAndWwnLFxuICAgIG5hbWU6ICdsaXN0JyxcbiAgICBkaWRXcml0ZVZpZXc6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICByb290LmNoaWxkVmlld3NcbiAgICAgICAgICAgIC5maWx0ZXIodmlldyA9PiB2aWV3Lm1hcmtlZEZvclJlbW92YWwgJiYgdmlldy5vcGFjaXR5ID09PSAwICYmIHZpZXcucmVzdGluZylcbiAgICAgICAgICAgIC5mb3JFYWNoKHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIHZpZXcuX2Rlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyh2aWV3KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0sXG4gICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQ6IGZpbHRlclNldEl0ZW1BY3Rpb25zLFxuICAgIG1peGluczoge1xuICAgICAgICBhcGlzOiBbJ2RyYWdDb29yZGluYXRlcyddLFxuICAgIH0sXG59KTtcblxuY29uc3QgY3JlYXRlJDkgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgcm9vdC5yZWYubGlzdCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGxpc3QpKTtcbiAgICBwcm9wcy5kcmFnQ29vcmRpbmF0ZXMgPSBudWxsO1xuICAgIHByb3BzLm92ZXJmbG93aW5nID0gZmFsc2U7XG59O1xuXG5jb25zdCBzdG9yZURyYWdDb29yZGluYXRlcyA9ICh7IHJvb3QsIHByb3BzLCBhY3Rpb24gfSkgPT4ge1xuICAgIGlmICghcm9vdC5xdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OX0ZSRUVET00nKSkgcmV0dXJuO1xuICAgIHByb3BzLmRyYWdDb29yZGluYXRlcyA9IHtcbiAgICAgICAgbGVmdDogYWN0aW9uLnBvc2l0aW9uLnNjb3BlTGVmdCAtIHJvb3QucmVmLmxpc3QucmVjdC5lbGVtZW50LmxlZnQsXG4gICAgICAgIHRvcDpcbiAgICAgICAgICAgIGFjdGlvbi5wb3NpdGlvbi5zY29wZVRvcCAtXG4gICAgICAgICAgICAocm9vdC5yZWN0Lm91dGVyLnRvcCArIHJvb3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCArIHJvb3QucmVjdC5lbGVtZW50LnNjcm9sbFRvcCksXG4gICAgfTtcbn07XG5cbmNvbnN0IGNsZWFyRHJhZ0Nvb3JkaW5hdGVzID0gKHsgcHJvcHMgfSkgPT4ge1xuICAgIHByb3BzLmRyYWdDb29yZGluYXRlcyA9IG51bGw7XG59O1xuXG5jb25zdCByb3V0ZSQzID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9EUkFHOiBzdG9yZURyYWdDb29yZGluYXRlcyxcbiAgICBESURfRU5EX0RSQUc6IGNsZWFyRHJhZ0Nvb3JkaW5hdGVzLFxufSk7XG5cbmNvbnN0IHdyaXRlJDYgPSAoeyByb290LCBwcm9wcywgYWN0aW9ucyB9KSA9PiB7XG4gICAgLy8gcm91dGUgYWN0aW9uc1xuICAgIHJvdXRlJDMoeyByb290LCBwcm9wcywgYWN0aW9ucyB9KTtcblxuICAgIC8vIGN1cnJlbnQgZHJhZyBwb3NpdGlvblxuICAgIHJvb3QucmVmLmxpc3QuZHJhZ0Nvb3JkaW5hdGVzID0gcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzO1xuXG4gICAgLy8gaWYgY3VycmVudGx5IG92ZXJmbG93aW5nIGJ1dCBubyBsb25nZXIgcmVjZWl2ZWQgb3ZlcmZsb3dcbiAgICBpZiAocHJvcHMub3ZlcmZsb3dpbmcgJiYgIXByb3BzLm92ZXJmbG93KSB7XG4gICAgICAgIHByb3BzLm92ZXJmbG93aW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gcmVzZXQgb3ZlcmZsb3cgc3RhdGVcbiAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuc3RhdGUgPSAnJztcbiAgICAgICAgcm9vdC5oZWlnaHQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGlmIGlzIG5vdCBvdmVyZmxvd2luZyBjdXJyZW50bHkgYnV0IGRvZXMgcmVjZWl2ZSBvdmVyZmxvdyB2YWx1ZVxuICAgIGlmIChwcm9wcy5vdmVyZmxvdykge1xuICAgICAgICBjb25zdCBuZXdIZWlnaHQgPSBNYXRoLnJvdW5kKHByb3BzLm92ZXJmbG93KTtcbiAgICAgICAgaWYgKG5ld0hlaWdodCAhPT0gcm9vdC5oZWlnaHQpIHtcbiAgICAgICAgICAgIHByb3BzLm92ZXJmbG93aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnN0YXRlID0gJ292ZXJmbG93JztcbiAgICAgICAgICAgIHJvb3QuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgbGlzdFNjcm9sbGVyID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkOSxcbiAgICB3cml0ZTogd3JpdGUkNixcbiAgICBuYW1lOiAnbGlzdC1zY3JvbGxlcicsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFsnb3ZlcmZsb3cnLCAnZHJhZ0Nvb3JkaW5hdGVzJ10sXG4gICAgICAgIHN0eWxlczogWydoZWlnaHQnLCAndHJhbnNsYXRlWSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJyxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbmNvbnN0IGF0dHJUb2dnbGUgPSAoZWxlbWVudCwgbmFtZSwgc3RhdGUsIGVuYWJsZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGF0dHIoZWxlbWVudCwgbmFtZSwgZW5hYmxlZFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG59O1xuXG5jb25zdCByZXNldEZpbGVJbnB1dCA9IGlucHV0ID0+IHtcbiAgICAvLyBubyB2YWx1ZSwgbm8gbmVlZCB0byByZXNldFxuICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICAvLyBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgLy8gZm9yIElFMTBcbiAgICBpZiAoaW5wdXQudmFsdWUpIHtcbiAgICAgICAgLy8gcXVpY2tseSBhcHBlbmQgaW5wdXQgdG8gdGVtcCBmb3JtIGFuZCByZXNldCBmb3JtXG4gICAgICAgIGNvbnN0IGZvcm0gPSBjcmVhdGVFbGVtZW50JDEoJ2Zvcm0nKTtcbiAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IGlucHV0LnBhcmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHJlZiA9IGlucHV0Lm5leHRTaWJsaW5nO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgZm9ybS5yZXNldCgpO1xuXG4gICAgICAgIC8vIHJlLWluamVjdCBpbnB1dCB3aGVyZSBpdCBvcmlnaW5hbGx5IHdhc1xuICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShpbnB1dCwgcmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlJGEgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gc2V0IGlkIHNvIGNhbiBiZSByZWZlcmVuY2VkIGZyb20gb3V0c2lkZSBsYWJlbHNcbiAgICByb290LmVsZW1lbnQuaWQgPSBgZmlsZXBvbmQtLWJyb3dzZXItJHtwcm9wcy5pZH1gO1xuXG4gICAgLy8gc2V0IG5hbWUgb2YgZWxlbWVudCAoaXMgcmVtb3ZlZCB3aGVuIGEgdmFsdWUgaXMgc2V0KVxuICAgIGF0dHIocm9vdC5lbGVtZW50LCAnbmFtZScsIHJvb3QucXVlcnkoJ0dFVF9OQU1FJykpO1xuXG4gICAgLy8gd2UgaGF2ZSB0byBsaW5rIHRoaXMgZWxlbWVudCB0byB0aGUgc3RhdHVzIGVsZW1lbnRcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ2FyaWEtY29udHJvbHMnLCBgZmlsZXBvbmQtLWFzc2lzdGFudC0ke3Byb3BzLmlkfWApO1xuXG4gICAgLy8gc2V0IGxhYmVsLCB3ZSB1c2UgbGFiZWxsZWQgYnkgYXMgb3RoZXJ3aXNlIHRoZSBzY3JlZW5yZWFkZXIgZG9lcyBub3QgcmVhZCB0aGUgXCJicm93c2VcIiB0ZXh0IGluIHRoZSBsYWJlbCAoYXMgaXQgaGFzIHRhYmluZGV4OiAwKVxuICAgIGF0dHIocm9vdC5lbGVtZW50LCAnYXJpYS1sYWJlbGxlZGJ5JywgYGZpbGVwb25kLS1kcm9wLWxhYmVsLSR7cHJvcHMuaWR9YCk7XG5cbiAgICAvLyBzZXQgY29uZmlndXJhYmxlIHByb3BzXG4gICAgc2V0QWNjZXB0ZWRGaWxlVHlwZXMoeyByb290LCBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTJykgfSB9KTtcbiAgICB0b2dnbGVBbGxvd011bHRpcGxlKHsgcm9vdCwgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQUxMT1dfTVVMVElQTEUnKSB9IH0pO1xuICAgIHRvZ2dsZURpcmVjdG9yeUZpbHRlcih7IHJvb3QsIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0RJUkVDVE9SSUVTX09OTFknKSB9IH0pO1xuICAgIHRvZ2dsZURpc2FibGVkKHsgcm9vdCB9KTtcbiAgICB0b2dnbGVSZXF1aXJlZCh7IHJvb3QsIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX1JFUVVJUkVEJykgfSB9KTtcbiAgICBzZXRDYXB0dXJlTWV0aG9kKHsgcm9vdCwgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQ0FQVFVSRV9NRVRIT0QnKSB9IH0pO1xuXG4gICAgLy8gaGFuZGxlIGNoYW5nZXMgdG8gdGhlIGlucHV0IGZpZWxkXG4gICAgcm9vdC5yZWYuaGFuZGxlQ2hhbmdlID0gZSA9PiB7XG4gICAgICAgIGlmICghcm9vdC5lbGVtZW50LnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleHRyYWN0IGZpbGVzIGFuZCBtb3ZlIHZhbHVlIG9mIHdlYmtpdFJlbGF0aXZlUGF0aCBwYXRoIHRvIF9yZWxhdGl2ZVBhdGhcbiAgICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKHJvb3QuZWxlbWVudC5maWxlcykubWFwKGZpbGUgPT4ge1xuICAgICAgICAgICAgZmlsZS5fcmVsYXRpdmVQYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGg7XG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gd2UgYWRkIGEgbGl0dGxlIGRlbGF5IHNvIHRoZSBPUyBmaWxlIHNlbGVjdCB3aW5kb3cgY2FuIG1vdmUgb3V0IG9mIHRoZSB3YXkgYmVmb3JlIHdlIGFkZCBvdXIgZmlsZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIGxvYWQgZmlsZXNcbiAgICAgICAgICAgIHByb3BzLm9ubG9hZChmaWxlcyk7XG5cbiAgICAgICAgICAgIC8vIHJlc2V0IGlucHV0LCBpdCdzIGp1c3QgZm9yIGV4cG9zaW5nIGEgbWV0aG9kIHRvIGRyb3AgZmlsZXMsIHNob3VsZCBub3QgcmV0YWluIGFueSBzdGF0ZVxuICAgICAgICAgICAgcmVzZXRGaWxlSW5wdXQocm9vdC5lbGVtZW50KTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICB9O1xuXG4gICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJvb3QucmVmLmhhbmRsZUNoYW5nZSk7XG59O1xuXG5jb25zdCBzZXRBY2NlcHRlZEZpbGVUeXBlcyA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfQUxMT1dfU1lOQ19BQ0NFUFRfQVRUUklCVVRFJykpIHJldHVybjtcbiAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ2FjY2VwdCcsICEhYWN0aW9uLnZhbHVlLCBhY3Rpb24udmFsdWUgPyBhY3Rpb24udmFsdWUuam9pbignLCcpIDogJycpO1xufTtcblxuY29uc3QgdG9nZ2xlQWxsb3dNdWx0aXBsZSA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdtdWx0aXBsZScsIGFjdGlvbi52YWx1ZSk7XG59O1xuXG5jb25zdCB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAnd2Via2l0ZGlyZWN0b3J5JywgYWN0aW9uLnZhbHVlKTtcbn07XG5cbmNvbnN0IHRvZ2dsZURpc2FibGVkID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgY29uc3QgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIGNvbnN0IGRvZXNBbGxvd0Jyb3dzZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19CUk9XU0UnKTtcbiAgICBjb25zdCBkaXNhYmxlRmllbGQgPSBpc0Rpc2FibGVkIHx8ICFkb2VzQWxsb3dCcm93c2U7XG4gICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdkaXNhYmxlZCcsIGRpc2FibGVGaWVsZCk7XG59O1xuXG5jb25zdCB0b2dnbGVSZXF1aXJlZCA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgLy8gd2FudCB0byByZW1vdmUgcmVxdWlyZWQsIGFsd2F5cyBwb3NzaWJsZVxuICAgIGlmICghYWN0aW9uLnZhbHVlKSB7XG4gICAgICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAncmVxdWlyZWQnLCBmYWxzZSk7XG4gICAgfVxuICAgIC8vIGlmIHdhbnQgdG8gbWFrZSByZXF1aXJlZCwgb25seSBwb3NzaWJsZSB3aGVuIHplcm8gaXRlbXNcbiAgICBlbHNlIGlmIChyb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKSA9PT0gMCkge1xuICAgICAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgfVxufTtcblxuY29uc3Qgc2V0Q2FwdHVyZU1ldGhvZCA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdjYXB0dXJlJywgISFhY3Rpb24udmFsdWUsIGFjdGlvbi52YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogYWN0aW9uLnZhbHVlKTtcbn07XG5cbmNvbnN0IHVwZGF0ZVJlcXVpcmVkU3RhdHVzID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgY29uc3QgeyBlbGVtZW50IH0gPSByb290O1xuICAgIC8vIGFsd2F5cyByZW1vdmUgdGhlIHJlcXVpcmVkIGF0dHJpYnV0ZSB3aGVuIG1vcmUgdGhhbiB6ZXJvIGl0ZW1zXG4gICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpID4gMCkge1xuICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICdyZXF1aXJlZCcsIGZhbHNlKTtcbiAgICAgICAgYXR0clRvZ2dsZShlbGVtZW50LCAnbmFtZScsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhZGQgbmFtZSBhdHRyaWJ1dGVcbiAgICAgICAgYXR0clRvZ2dsZShlbGVtZW50LCAnbmFtZScsIHRydWUsIHJvb3QucXVlcnkoJ0dFVF9OQU1FJykpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBhbnkgdmFsaWRhdGlvbiBtZXNzYWdlc1xuICAgICAgICBjb25zdCBzaG91bGRDaGVja1ZhbGlkaXR5ID0gcm9vdC5xdWVyeSgnR0VUX0NIRUNLX1ZBTElESVRZJyk7XG4gICAgICAgIGlmIChzaG91bGRDaGVja1ZhbGlkaXR5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIG9ubHkgYWRkIHJlcXVpcmVkIGlmIHRoZSBmaWVsZCBoYXMgYmVlbiBkZWVtZWQgcmVxdWlyZWRcbiAgICAgICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9SRVFVSVJFRCcpKSB7XG4gICAgICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICdyZXF1aXJlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgdXBkYXRlRmllbGRWYWxpZGl0eVN0YXR1cyA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIGNvbnN0IHNob3VsZENoZWNrVmFsaWRpdHkgPSByb290LnF1ZXJ5KCdHRVRfQ0hFQ0tfVkFMSURJVFknKTtcbiAgICBpZiAoIXNob3VsZENoZWNrVmFsaWRpdHkpIHJldHVybjtcbiAgICByb290LmVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkocm9vdC5xdWVyeSgnR0VUX0xBQkVMX0lOVkFMSURfRklFTEQnKSk7XG59O1xuXG5jb25zdCBicm93c2VyID0gY3JlYXRlVmlldyh7XG4gICAgdGFnOiAnaW5wdXQnLFxuICAgIG5hbWU6ICdicm93c2VyJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgfSxcbiAgICBjcmVhdGU6IGNyZWF0ZSRhLFxuICAgIGRlc3Ryb3k6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcm9vdC5yZWYuaGFuZGxlQ2hhbmdlKTtcbiAgICB9LFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9MT0FEX0lURU06IHVwZGF0ZVJlcXVpcmVkU3RhdHVzLFxuICAgICAgICBESURfUkVNT1ZFX0lURU06IHVwZGF0ZVJlcXVpcmVkU3RhdHVzLFxuICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiB1cGRhdGVGaWVsZFZhbGlkaXR5U3RhdHVzLFxuXG4gICAgICAgIERJRF9TRVRfRElTQUJMRUQ6IHRvZ2dsZURpc2FibGVkLFxuICAgICAgICBESURfU0VUX0FMTE9XX0JST1dTRTogdG9nZ2xlRGlzYWJsZWQsXG4gICAgICAgIERJRF9TRVRfQUxMT1dfRElSRUNUT1JJRVNfT05MWTogdG9nZ2xlRGlyZWN0b3J5RmlsdGVyLFxuICAgICAgICBESURfU0VUX0FMTE9XX01VTFRJUExFOiB0b2dnbGVBbGxvd011bHRpcGxlLFxuICAgICAgICBESURfU0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVM6IHNldEFjY2VwdGVkRmlsZVR5cGVzLFxuICAgICAgICBESURfU0VUX0NBUFRVUkVfTUVUSE9EOiBzZXRDYXB0dXJlTWV0aG9kLFxuICAgICAgICBESURfU0VUX1JFUVVJUkVEOiB0b2dnbGVSZXF1aXJlZCxcbiAgICB9KSxcbn0pO1xuXG5jb25zdCBLZXkgPSB7XG4gICAgRU5URVI6IDEzLFxuICAgIFNQQUNFOiAzMixcbn07XG5cbmNvbnN0IGNyZWF0ZSRiID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIGNyZWF0ZSB0aGUgbGFiZWwgYW5kIGxpbmsgaXQgdG8gdGhlIGZpbGUgYnJvd3NlclxuICAgIGNvbnN0IGxhYmVsID0gY3JlYXRlRWxlbWVudCQxKCdsYWJlbCcpO1xuICAgIGF0dHIobGFiZWwsICdmb3InLCBgZmlsZXBvbmQtLWJyb3dzZXItJHtwcm9wcy5pZH1gKTtcblxuICAgIC8vIHVzZSBmb3IgbGFiZWxpbmcgZmlsZSBpbnB1dCAoYXJpYS1sYWJlbGxlZGJ5IG9uIGZpbGUgaW5wdXQpXG4gICAgYXR0cihsYWJlbCwgJ2lkJywgYGZpbGVwb25kLS1kcm9wLWxhYmVsLSR7cHJvcHMuaWR9YCk7XG5cbiAgICAvLyBoaWRlIHRoZSBsYWJlbCBmb3Igc2NyZWVucmVhZGVycywgdGhlIGlucHV0IGVsZW1lbnQgd2lsbCByZWFkIHRoZSBjb250ZW50cyBvZiB0aGUgbGFiZWwgd2hlbiBpdCdzIGZvY3Vzc2VkLiBJZiB3ZSBkb24ndCBzZXQgYXJpYS1oaWRkZW4gdGhlIHNjcmVlbnJlYWRlciB3aWxsIGFsc28gbmF2aWdhdGUgdGhlIGNvbnRlbnRzIG9mIHRoZSBsYWJlbCBzZXBhcmF0ZWx5IGZyb20gdGhlIGlucHV0LlxuICAgIGF0dHIobGFiZWwsICdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cbiAgICAvLyBoYW5kbGUga2V5c1xuICAgIHJvb3QucmVmLmhhbmRsZUtleURvd24gPSBlID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmF0aW9uS2V5ID0gZS5rZXlDb2RlID09PSBLZXkuRU5URVIgfHwgZS5rZXlDb2RlID09PSBLZXkuU1BBQ0U7XG4gICAgICAgIGlmICghaXNBY3RpdmF0aW9uS2V5KSByZXR1cm47XG4gICAgICAgIC8vIHN0b3BzIGZyb20gdHJpZ2dlcmluZyB0aGUgZWxlbWVudCBhIHNlY29uZCB0aW1lXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAvLyBjbGljayBsaW5rICh3aWxsIHRoZW4gaW4gdHVybiBhY3RpdmF0ZSBmaWxlIGlucHV0KVxuICAgICAgICByb290LnJlZi5sYWJlbC5jbGljaygpO1xuICAgIH07XG5cbiAgICByb290LnJlZi5oYW5kbGVDbGljayA9IGUgPT4ge1xuICAgICAgICBjb25zdCBpc0xhYmVsQ2xpY2sgPSBlLnRhcmdldCA9PT0gbGFiZWwgfHwgbGFiZWwuY29udGFpbnMoZS50YXJnZXQpO1xuXG4gICAgICAgIC8vIGRvbid0IHdhbnQgdG8gY2xpY2sgdHdpY2VcbiAgICAgICAgaWYgKGlzTGFiZWxDbGljaykgcmV0dXJuO1xuXG4gICAgICAgIC8vIGNsaWNrIGxpbmsgKHdpbGwgdGhlbiBpbiB0dXJuIGFjdGl2YXRlIGZpbGUgaW5wdXQpXG4gICAgICAgIHJvb3QucmVmLmxhYmVsLmNsaWNrKCk7XG4gICAgfTtcblxuICAgIC8vIGF0dGFjaCBldmVudHNcbiAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcm9vdC5yZWYuaGFuZGxlS2V5RG93bik7XG4gICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuXG4gICAgLy8gdXBkYXRlXG4gICAgdXBkYXRlTGFiZWxWYWx1ZShsYWJlbCwgcHJvcHMuY2FwdGlvbik7XG5cbiAgICAvLyBhZGQhXG4gICAgcm9vdC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgcm9vdC5yZWYubGFiZWwgPSBsYWJlbDtcbn07XG5cbmNvbnN0IHVwZGF0ZUxhYmVsVmFsdWUgPSAobGFiZWwsIHZhbHVlKSA9PiB7XG4gICAgbGFiZWwuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgY29uc3QgY2xpY2thYmxlID0gbGFiZWwucXVlcnlTZWxlY3RvcignLmZpbGVwb25kLS1sYWJlbC1hY3Rpb24nKTtcbiAgICBpZiAoY2xpY2thYmxlKSB7XG4gICAgICAgIGF0dHIoY2xpY2thYmxlLCAndGFiaW5kZXgnLCAnMCcpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCBkcm9wTGFiZWwgPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnZHJvcC1sYWJlbCcsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBjcmVhdGU6IGNyZWF0ZSRiLFxuICAgIGRlc3Ryb3k6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICByb290LnJlZi5sYWJlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcm9vdC5yZWYuaGFuZGxlS2V5RG93bik7XG4gICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcbiAgICB9LFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9TRVRfTEFCRUxfSURMRTogKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUxhYmVsVmFsdWUocm9vdC5yZWYubGFiZWwsIGFjdGlvbi52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSksXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIHN0eWxlczogWydvcGFjaXR5JywgJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAxNTAgfSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG5jb25zdCBibG9iID0gY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ2RyaXAtYmxvYicsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHNjYWxlWTogJ3NwcmluZycsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG5jb25zdCBhZGRCbG9iID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgY29uc3QgY2VudGVyWCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoICogMC41O1xuICAgIGNvbnN0IGNlbnRlclkgPSByb290LnJlY3QuZWxlbWVudC5oZWlnaHQgKiAwLjU7XG5cbiAgICByb290LnJlZi5ibG9iID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGJsb2IsIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBzY2FsZVg6IDIuNSxcbiAgICAgICAgICAgIHNjYWxlWTogMi41LFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogY2VudGVyWCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IGNlbnRlclksXG4gICAgICAgIH0pXG4gICAgKTtcbn07XG5cbmNvbnN0IG1vdmVCbG9iID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBpZiAoIXJvb3QucmVmLmJsb2IpIHtcbiAgICAgICAgYWRkQmxvYih7IHJvb3QgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByb290LnJlZi5ibG9iLnRyYW5zbGF0ZVggPSBhY3Rpb24ucG9zaXRpb24uc2NvcGVMZWZ0O1xuICAgIHJvb3QucmVmLmJsb2IudHJhbnNsYXRlWSA9IGFjdGlvbi5wb3NpdGlvbi5zY29wZVRvcDtcbiAgICByb290LnJlZi5ibG9iLnNjYWxlWCA9IDE7XG4gICAgcm9vdC5yZWYuYmxvYi5zY2FsZVkgPSAxO1xuICAgIHJvb3QucmVmLmJsb2Iub3BhY2l0eSA9IDE7XG59O1xuXG5jb25zdCBoaWRlQmxvYiA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJvb3QucmVmLmJsb2Iub3BhY2l0eSA9IDA7XG59O1xuXG5jb25zdCBleHBsb2RlQmxvYiA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJvb3QucmVmLmJsb2Iuc2NhbGVYID0gMi41O1xuICAgIHJvb3QucmVmLmJsb2Iuc2NhbGVZID0gMi41O1xuICAgIHJvb3QucmVmLmJsb2Iub3BhY2l0eSA9IDA7XG59O1xuXG5jb25zdCB3cml0ZSQ3ID0gKHsgcm9vdCwgcHJvcHMsIGFjdGlvbnMgfSkgPT4ge1xuICAgIHJvdXRlJDQoeyByb290LCBwcm9wcywgYWN0aW9ucyB9KTtcblxuICAgIGNvbnN0IHsgYmxvYiB9ID0gcm9vdC5yZWY7XG5cbiAgICBpZiAoYWN0aW9ucy5sZW5ndGggPT09IDAgJiYgYmxvYiAmJiBibG9iLm9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcoYmxvYik7XG4gICAgICAgIHJvb3QucmVmLmJsb2IgPSBudWxsO1xuICAgIH1cbn07XG5cbmNvbnN0IHJvdXRlJDQgPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX0RSQUc6IG1vdmVCbG9iLFxuICAgIERJRF9EUk9QOiBleHBsb2RlQmxvYixcbiAgICBESURfRU5EX0RSQUc6IGhpZGVCbG9iLFxufSk7XG5cbmNvbnN0IGRyaXAgPSBjcmVhdGVWaWV3KHtcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgbmFtZTogJ2RyaXAnLFxuICAgIHdyaXRlOiB3cml0ZSQ3LFxufSk7XG5cbmNvbnN0IHNldElucHV0RmlsZXMgPSAoZWxlbWVudCwgZmlsZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgYSBEYXRhVHJhbnNmZXIgaW5zdGFuY2UgYW5kIGFkZCBhIG5ld2x5IGNyZWF0ZWQgZmlsZVxuICAgICAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBuZXcgRGF0YVRyYW5zZmVyKCk7XG4gICAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKGZpbGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmlsZShbZmlsZV0sIGZpbGUubmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFzc2lnbiB0aGUgRGF0YVRyYW5zZmVyIGZpbGVzIGxpc3QgdG8gdGhlIGZpbGUgaW5wdXRcbiAgICAgICAgZWxlbWVudC5maWxlcyA9IGRhdGFUcmFuc2Zlci5maWxlcztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGNyZWF0ZSRjID0gKHsgcm9vdCB9KSA9PiAocm9vdC5yZWYuZmllbGRzID0ge30pO1xuXG5jb25zdCBnZXRGaWVsZCA9IChyb290LCBpZCkgPT4gcm9vdC5yZWYuZmllbGRzW2lkXTtcblxuY29uc3Qgc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zID0gcm9vdCA9PiB7XG4gICAgcm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGlmICghcm9vdC5yZWYuZmllbGRzW2l0ZW0uaWRdKSByZXR1cm47XG4gICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChyb290LnJlZi5maWVsZHNbaXRlbS5pZF0pO1xuICAgIH0pO1xufTtcblxuY29uc3QgZGlkUmVvcmRlckl0ZW1zID0gKHsgcm9vdCB9KSA9PiBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG5cbmNvbnN0IGRpZEFkZEl0ZW0gPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IGZpbGVJdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIGNvbnN0IGlzTG9jYWxGaWxlID0gZmlsZUl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMO1xuICAgIGNvbnN0IHNob3VsZFVzZUZpbGVJbnB1dCA9ICFpc0xvY2FsRmlsZSAmJiByb290LnF1ZXJ5KCdTSE9VTERfVVBEQVRFX0ZJTEVfSU5QVVQnKTtcbiAgICBjb25zdCBkYXRhQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCQxKCdpbnB1dCcpO1xuICAgIGRhdGFDb250YWluZXIudHlwZSA9IHNob3VsZFVzZUZpbGVJbnB1dCA/ICdmaWxlJyA6ICdoaWRkZW4nO1xuICAgIGRhdGFDb250YWluZXIubmFtZSA9IHJvb3QucXVlcnkoJ0dFVF9OQU1FJyk7XG4gICAgZGF0YUNvbnRhaW5lci5kaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIHJvb3QucmVmLmZpZWxkc1thY3Rpb24uaWRdID0gZGF0YUNvbnRhaW5lcjtcbiAgICBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG59O1xuXG5jb25zdCBkaWRMb2FkSXRlbSQxID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCBmaWVsZCA9IGdldEZpZWxkKHJvb3QsIGFjdGlvbi5pZCk7XG4gICAgaWYgKCFmaWVsZCkgcmV0dXJuO1xuXG4gICAgLy8gc3RvcmUgc2VydmVyIHJlZiBpbiBoaWRkZW4gaW5wdXRcbiAgICBpZiAoYWN0aW9uLnNlcnZlckZpbGVSZWZlcmVuY2UgIT09IG51bGwpIGZpZWxkLnZhbHVlID0gYWN0aW9uLnNlcnZlckZpbGVSZWZlcmVuY2U7XG5cbiAgICAvLyBzdG9yZSBmaWxlIGl0ZW0gaW4gZmlsZSBpbnB1dFxuICAgIGlmICghcm9vdC5xdWVyeSgnU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUJykpIHJldHVybjtcblxuICAgIGNvbnN0IGZpbGVJdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIHNldElucHV0RmlsZXMoZmllbGQsIFtmaWxlSXRlbS5maWxlXSk7XG59O1xuXG5jb25zdCBkaWRQcmVwYXJlT3V0cHV0ID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAvLyB0aGlzIHRpbWVvdXQgcHVzaGVzIHRoZSBoYW5kbGVyIGFmdGVyICdsb2FkJ1xuICAgIGlmICghcm9vdC5xdWVyeSgnU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUJykpIHJldHVybjtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXRGaWVsZChyb290LCBhY3Rpb24uaWQpO1xuICAgICAgICBpZiAoIWZpZWxkKSByZXR1cm47XG4gICAgICAgIHNldElucHV0RmlsZXMoZmllbGQsIFthY3Rpb24uZmlsZV0pO1xuICAgIH0sIDApO1xufTtcblxuY29uc3QgZGlkU2V0RGlzYWJsZWQgPSAoeyByb290IH0pID0+IHtcbiAgICByb290LmVsZW1lbnQuZGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbn07XG5cbmNvbnN0IGRpZFJlbW92ZUl0ZW0gPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICBpZiAoIWZpZWxkKSByZXR1cm47XG4gICAgaWYgKGZpZWxkLnBhcmVudE5vZGUpIGZpZWxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmllbGQpO1xuICAgIGRlbGV0ZSByb290LnJlZi5maWVsZHNbYWN0aW9uLmlkXTtcbn07XG5cbi8vIG9ubHkgcnVucyBmb3Igc2VydmVyIGZpbGVzIChzbyBkb2Vzbid0IGRlYWwgd2l0aCBmaWxlIGlucHV0KVxuY29uc3QgZGlkRGVmaW5lVmFsdWUgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICBpZiAoIWZpZWxkKSByZXR1cm47XG4gICAgaWYgKGFjdGlvbi52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBjbGVhciBmaWVsZCB2YWx1ZVxuICAgICAgICBmaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc2V0IGZpZWxkIHZhbHVlXG4gICAgICAgIGZpZWxkLnZhbHVlID0gYWN0aW9uLnZhbHVlO1xuICAgIH1cbiAgICBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG59O1xuXG5jb25zdCB3cml0ZSQ4ID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9TRVRfRElTQUJMRUQ6IGRpZFNldERpc2FibGVkLFxuICAgIERJRF9BRERfSVRFTTogZGlkQWRkSXRlbSxcbiAgICBESURfTE9BRF9JVEVNOiBkaWRMb2FkSXRlbSQxLFxuICAgIERJRF9SRU1PVkVfSVRFTTogZGlkUmVtb3ZlSXRlbSxcbiAgICBESURfREVGSU5FX1ZBTFVFOiBkaWREZWZpbmVWYWx1ZSxcbiAgICBESURfUFJFUEFSRV9PVVRQVVQ6IGRpZFByZXBhcmVPdXRwdXQsXG4gICAgRElEX1JFT1JERVJfSVRFTVM6IGRpZFJlb3JkZXJJdGVtcyxcbiAgICBESURfU09SVF9JVEVNUzogZGlkUmVvcmRlckl0ZW1zLFxufSk7XG5cbmNvbnN0IGRhdGEgPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdmaWVsZHNldCcsXG4gICAgbmFtZTogJ2RhdGEnLFxuICAgIGNyZWF0ZTogY3JlYXRlJGMsXG4gICAgd3JpdGU6IHdyaXRlJDgsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbn0pO1xuXG5jb25zdCBnZXRSb290Tm9kZSA9IGVsZW1lbnQgPT4gKCdnZXRSb290Tm9kZScgaW4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKSA6IGRvY3VtZW50KTtcblxuY29uc3QgaW1hZ2VzID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ2JtcCcsICd3ZWJwJywgJ3N2ZycsICd0aWZmJ107XG5jb25zdCB0ZXh0JDEgPSBbJ2NzcycsICdjc3YnLCAnaHRtbCcsICd0eHQnXTtcbmNvbnN0IG1hcCA9IHtcbiAgICB6aXA6ICd6aXB8Y29tcHJlc3NlZCcsXG4gICAgZXB1YjogJ2FwcGxpY2F0aW9uL2VwdWIremlwJyxcbn07XG5cbmNvbnN0IGd1ZXNzdGltYXRlTWltZVR5cGUgPSAoZXh0ZW5zaW9uID0gJycpID0+IHtcbiAgICBleHRlbnNpb24gPSBleHRlbnNpb24udG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaW1hZ2VzLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICdpbWFnZS8nICsgKGV4dGVuc2lvbiA9PT0gJ2pwZycgPyAnanBlZycgOiBleHRlbnNpb24gPT09ICdzdmcnID8gJ3N2Zyt4bWwnIDogZXh0ZW5zaW9uKVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAodGV4dCQxLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LycgKyBleHRlbnNpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcFtleHRlbnNpb25dIHx8ICcnO1xufTtcblxuY29uc3QgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zID0gZGF0YVRyYW5zZmVyID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyB0cnkgdG8gZ2V0IGxpbmtzIGZyb20gdHJhbnNmZXIsIGlmIGZvdW5kIHdlJ2xsIGV4aXQgaW1tZWRpYXRlbHkgKHVubGVzcyBhIGZpbGUgaXMgaW4gdGhlIGRhdGFUcmFuc2ZlciBhcyB3ZWxsLCB0aGlzIGlzIGJlY2F1c2UgRmlyZWZveCBjb3VsZCByZXByZXNlbnQgdGhlIGZpbGUgYXMgYSBVUkwgYW5kIGEgZmlsZSBvYmplY3QgYXQgdGhlIHNhbWUgdGltZSlcbiAgICAgICAgY29uc3QgbGlua3MgPSBnZXRMaW5rcyhkYXRhVHJhbnNmZXIpO1xuICAgICAgICBpZiAobGlua3MubGVuZ3RoICYmICFoYXNGaWxlcyhkYXRhVHJhbnNmZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShsaW5rcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJ5IHRvIGdldCBmaWxlcyBmcm9tIHRoZSB0cmFuc2ZlclxuICAgICAgICBnZXRGaWxlcyhkYXRhVHJhbnNmZXIpLnRoZW4ocmVzb2x2ZSk7XG4gICAgfSk7XG5cbi8qKlxuICogVGVzdCBpZiBkYXRhdHJhbnNmZXIgaGFzIGZpbGVzXG4gKi9cbmNvbnN0IGhhc0ZpbGVzID0gZGF0YVRyYW5zZmVyID0+IHtcbiAgICBpZiAoZGF0YVRyYW5zZmVyLmZpbGVzKSByZXR1cm4gZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCA+IDA7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBFeHRyYWN0cyBmaWxlcyBmcm9tIGEgRGF0YVRyYW5zZmVyIG9iamVjdFxuICovXG5jb25zdCBnZXRGaWxlcyA9IGRhdGFUcmFuc2ZlciA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gZ2V0IHRoZSB0cmFuc2ZlciBpdGVtcyBhcyBwcm9taXNlc1xuICAgICAgICBjb25zdCBwcm9taXNlZEZpbGVzID0gKGRhdGFUcmFuc2Zlci5pdGVtcyA/IEFycmF5LmZyb20oZGF0YVRyYW5zZmVyLml0ZW1zKSA6IFtdKVxuXG4gICAgICAgICAgICAvLyBvbmx5IGtlZXAgZmlsZSBzeXN0ZW0gaXRlbXMgKGZpbGVzIGFuZCBkaXJlY3RvcmllcylcbiAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpc0ZpbGVTeXN0ZW1JdGVtKGl0ZW0pKVxuXG4gICAgICAgICAgICAvLyBtYXAgZWFjaCBpdGVtIHRvIHByb21pc2VcbiAgICAgICAgICAgIC5tYXAoaXRlbSA9PiBnZXRGaWxlc0Zyb21JdGVtKGl0ZW0pKTtcblxuICAgICAgICAvLyBpZiBpcyBlbXB0eSwgc2VlIGlmIHdlIGNhbiBleHRyYWN0IHNvbWUgaW5mbyBmcm9tIHRoZSBmaWxlcyBwcm9wZXJ0eSBhcyBhIGZhbGxiYWNrXG4gICAgICAgIGlmICghcHJvbWlzZWRGaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHRlc3QgZm9yIGRpcmVjdG9yaWVzIChzaG91bGQgbm90IGJlIGFsbG93ZWQpXG4gICAgICAgICAgICAvLyBVc2UgRmlsZVJlYWRlciwgcHJvYmxlbSBpcyB0aGF0IHRoZSBmaWxlcyBwcm9wZXJ0eSBnZXRzIGxvc3QgaW4gdGhlIHByb2Nlc3NcbiAgICAgICAgICAgIHJlc29sdmUoZGF0YVRyYW5zZmVyLmZpbGVzID8gQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuZmlsZXMpIDogW10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZWRGaWxlcylcbiAgICAgICAgICAgIC50aGVuKHJldHVybmVkRmlsZUdyb3VwcyA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZmxhdHRlbiBncm91cHNcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybmVkRmlsZUdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZXMucHVzaC5hcHBseShmaWxlcywgZ3JvdXApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gZG9uZSAoZmlsdGVyIG91dCBlbXB0eSBmaWxlcykhXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgZmlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZmlsZSA9PiBmaWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmaWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGUuX3JlbGF0aXZlUGF0aCkgZmlsZS5fcmVsYXRpdmVQYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH0pO1xuXG5jb25zdCBpc0ZpbGVTeXN0ZW1JdGVtID0gaXRlbSA9PiB7XG4gICAgaWYgKGlzRW50cnkoaXRlbSkpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBnZXRBc0VudHJ5KGl0ZW0pO1xuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5pc0ZpbGUgfHwgZW50cnkuaXNEaXJlY3Rvcnk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW0ua2luZCA9PT0gJ2ZpbGUnO1xufTtcblxuY29uc3QgZ2V0RmlsZXNGcm9tSXRlbSA9IGl0ZW0gPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGlmIChpc0RpcmVjdG9yeUVudHJ5KGl0ZW0pKSB7XG4gICAgICAgICAgICBnZXRGaWxlc0luRGlyZWN0b3J5KGdldEFzRW50cnkoaXRlbSkpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoW2l0ZW0uZ2V0QXNGaWxlKCldKTtcbiAgICB9KTtcblxuY29uc3QgZ2V0RmlsZXNJbkRpcmVjdG9yeSA9IGVudHJ5ID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBmaWxlcyA9IFtdO1xuXG4gICAgICAgIC8vIHRoZSB0b3RhbCBlbnRyaWVzIHRvIHJlYWRcbiAgICAgICAgbGV0IGRpckNvdW50ZXIgPSAwO1xuICAgICAgICBsZXQgZmlsZUNvdW50ZXIgPSAwO1xuXG4gICAgICAgIGNvbnN0IHJlc29sdmVJZkRvbmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmlsZUNvdW50ZXIgPT09IDAgJiYgZGlyQ291bnRlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZmlsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHRoZSByZWN1cnNpdmUgZnVuY3Rpb25cbiAgICAgICAgY29uc3QgcmVhZEVudHJpZXMgPSBkaXJFbnRyeSA9PiB7XG4gICAgICAgICAgICBkaXJDb3VudGVyKys7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdG9yeVJlYWRlciA9IGRpckVudHJ5LmNyZWF0ZVJlYWRlcigpO1xuXG4gICAgICAgICAgICAvLyBkaXJlY3RvcmllcyBhcmUgcmV0dXJuZWQgaW4gYmF0Y2hlcywgd2UgbmVlZCB0byBwcm9jZXNzIGFsbCBiYXRjaGVzIGJlZm9yZSB3ZSdyZSBkb25lXG4gICAgICAgICAgICBjb25zdCByZWFkQmF0Y2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlyZWN0b3J5UmVhZGVyLnJlYWRFbnRyaWVzKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpckNvdW50ZXItLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWN1cnNpdmVseSByZWFkIG1vcmUgZGlyZWN0b3JpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRFbnRyaWVzKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhZCBhcyBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNvdW50ZXIrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmZpbGUoZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RlZEZpbGUgPSBjb3JyZWN0TWlzc2luZ0ZpbGVUeXBlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuZnVsbFBhdGgpIGNvcnJlY3RlZEZpbGUuX3JlbGF0aXZlUGF0aCA9IGVudHJ5LmZ1bGxQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKGNvcnJlY3RlZEZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ291bnRlci0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlSWZEb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0byBnZXQgbmV4dCBiYXRjaCBvZiBmaWxlc1xuICAgICAgICAgICAgICAgICAgICByZWFkQmF0Y2goKTtcbiAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gcmVhZCBmaXJzdCBiYXRjaCBvZiBmaWxlc1xuICAgICAgICAgICAgcmVhZEJhdGNoKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZ28hXG4gICAgICAgIHJlYWRFbnRyaWVzKGVudHJ5KTtcbiAgICB9KTtcblxuY29uc3QgY29ycmVjdE1pc3NpbmdGaWxlVHlwZSA9IGZpbGUgPT4ge1xuICAgIGlmIChmaWxlLnR5cGUubGVuZ3RoKSByZXR1cm4gZmlsZTtcbiAgICBjb25zdCBkYXRlID0gZmlsZS5sYXN0TW9kaWZpZWREYXRlO1xuICAgIGNvbnN0IG5hbWUgPSBmaWxlLm5hbWU7XG4gICAgY29uc3QgdHlwZSA9IGd1ZXNzdGltYXRlTWltZVR5cGUoZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKGZpbGUubmFtZSkpO1xuICAgIGlmICghdHlwZS5sZW5ndGgpIHJldHVybiBmaWxlO1xuICAgIGZpbGUgPSBmaWxlLnNsaWNlKDAsIGZpbGUuc2l6ZSwgdHlwZSk7XG4gICAgZmlsZS5uYW1lID0gbmFtZTtcbiAgICBmaWxlLmxhc3RNb2RpZmllZERhdGUgPSBkYXRlO1xuICAgIHJldHVybiBmaWxlO1xufTtcblxuY29uc3QgaXNEaXJlY3RvcnlFbnRyeSA9IGl0ZW0gPT4gaXNFbnRyeShpdGVtKSAmJiAoZ2V0QXNFbnRyeShpdGVtKSB8fCB7fSkuaXNEaXJlY3Rvcnk7XG5cbmNvbnN0IGlzRW50cnkgPSBpdGVtID0+ICd3ZWJraXRHZXRBc0VudHJ5JyBpbiBpdGVtO1xuXG5jb25zdCBnZXRBc0VudHJ5ID0gaXRlbSA9PiBpdGVtLndlYmtpdEdldEFzRW50cnkoKTtcblxuLyoqXG4gKiBFeHRyYWN0cyBsaW5rcyBmcm9tIGEgRGF0YVRyYW5zZmVyIG9iamVjdFxuICovXG5jb25zdCBnZXRMaW5rcyA9IGRhdGFUcmFuc2ZlciA9PiB7XG4gICAgbGV0IGxpbmtzID0gW107XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gbG9vayBpbiBtZXRhIGRhdGEgcHJvcGVydHlcbiAgICAgICAgbGlua3MgPSBnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhKGRhdGFUcmFuc2Zlcik7XG4gICAgICAgIGlmIChsaW5rcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5rcztcbiAgICAgICAgfVxuICAgICAgICBsaW5rcyA9IGdldExpbmtzRnJvbVRyYW5zZmVyVVJMRGF0YShkYXRhVHJhbnNmZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gbm9wZSBub3BlIG5vcGUgKHByb2JhYmx5IElFIHRyb3VibGUpXG4gICAgfVxuICAgIHJldHVybiBsaW5rcztcbn07XG5cbmNvbnN0IGdldExpbmtzRnJvbVRyYW5zZmVyVVJMRGF0YSA9IGRhdGFUcmFuc2ZlciA9PiB7XG4gICAgbGV0IGRhdGEgPSBkYXRhVHJhbnNmZXIuZ2V0RGF0YSgndXJsJyk7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW2RhdGFdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59O1xuXG5jb25zdCBnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhID0gZGF0YVRyYW5zZmVyID0+IHtcbiAgICBsZXQgZGF0YSA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L2h0bWwnKTtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBkYXRhLm1hdGNoKC9zcmNcXHMqPVxccypcIiguKz8pXCIvKTtcbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBbbWF0Y2hlc1sxXV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtdO1xufTtcblxuY29uc3QgZHJhZ05Ecm9wT2JzZXJ2ZXJzID0gW107XG5cbmNvbnN0IGV2ZW50UG9zaXRpb24gPSBlID0+ICh7XG4gICAgcGFnZUxlZnQ6IGUucGFnZVgsXG4gICAgcGFnZVRvcDogZS5wYWdlWSxcbiAgICBzY29wZUxlZnQ6IGUub2Zmc2V0WCB8fCBlLmxheWVyWCxcbiAgICBzY29wZVRvcDogZS5vZmZzZXRZIHx8IGUubGF5ZXJZLFxufSk7XG5cbmNvbnN0IGNyZWF0ZURyYWdORHJvcENsaWVudCA9IChlbGVtZW50LCBzY29wZVRvT2JzZXJ2ZSwgZmlsdGVyRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IG9ic2VydmVyID0gZ2V0RHJhZ05Ecm9wT2JzZXJ2ZXIoc2NvcGVUb09ic2VydmUpO1xuXG4gICAgY29uc3QgY2xpZW50ID0ge1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBmaWx0ZXJFbGVtZW50LFxuICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgb25kcm9wOiAoKSA9PiB7fSxcbiAgICAgICAgb25lbnRlcjogKCkgPT4ge30sXG4gICAgICAgIG9uZHJhZzogKCkgPT4ge30sXG4gICAgICAgIG9uZXhpdDogKCkgPT4ge30sXG4gICAgICAgIG9ubG9hZDogKCkgPT4ge30sXG4gICAgICAgIGFsbG93ZHJvcDogKCkgPT4ge30sXG4gICAgfTtcblxuICAgIGNsaWVudC5kZXN0cm95ID0gb2JzZXJ2ZXIuYWRkTGlzdGVuZXIoY2xpZW50KTtcblxuICAgIHJldHVybiBjbGllbnQ7XG59O1xuXG5jb25zdCBnZXREcmFnTkRyb3BPYnNlcnZlciA9IGVsZW1lbnQgPT4ge1xuICAgIC8vIHNlZSBpZiBhbHJlYWR5IGV4aXN0cywgaWYgc28sIHJldHVyblxuICAgIGNvbnN0IG9ic2VydmVyID0gZHJhZ05Ecm9wT2JzZXJ2ZXJzLmZpbmQoaXRlbSA9PiBpdGVtLmVsZW1lbnQgPT09IGVsZW1lbnQpO1xuICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIG5ldyBvYnNlcnZlciwgZG9lcyBub3QgeWV0IGV4aXN0IGZvciB0aGlzIGVsZW1lbnRcbiAgICBjb25zdCBuZXdPYnNlcnZlciA9IGNyZWF0ZURyYWdORHJvcE9ic2VydmVyKGVsZW1lbnQpO1xuICAgIGRyYWdORHJvcE9ic2VydmVycy5wdXNoKG5ld09ic2VydmVyKTtcbiAgICByZXR1cm4gbmV3T2JzZXJ2ZXI7XG59O1xuXG5jb25zdCBjcmVhdGVEcmFnTkRyb3BPYnNlcnZlciA9IGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IGNsaWVudHMgPSBbXTtcblxuICAgIGNvbnN0IHJvdXRlcyA9IHtcbiAgICAgICAgZHJhZ2VudGVyLFxuICAgICAgICBkcmFnb3ZlcixcbiAgICAgICAgZHJhZ2xlYXZlLFxuICAgICAgICBkcm9wLFxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVycyA9IHt9O1xuXG4gICAgZm9yaW4ocm91dGVzLCAoZXZlbnQsIGNyZWF0ZUhhbmRsZXIpID0+IHtcbiAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gY3JlYXRlSGFuZGxlcihlbGVtZW50LCBjbGllbnRzKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyc1tldmVudF0sIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG9ic2VydmVyID0ge1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBhZGRMaXN0ZW5lcjogY2xpZW50ID0+IHtcbiAgICAgICAgICAgIC8vIGFkZCBhcyBjbGllbnRcbiAgICAgICAgICAgIGNsaWVudHMucHVzaChjbGllbnQpO1xuXG4gICAgICAgICAgICAvLyByZXR1cm4gcmVtb3ZlTGlzdGVuZXIgZnVuY3Rpb25cbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsaWVudFxuICAgICAgICAgICAgICAgIGNsaWVudHMuc3BsaWNlKGNsaWVudHMuaW5kZXhPZihjbGllbnQpLCAxKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIG5vIG1vcmUgY2xpZW50cywgY2xlYW4gdXAgb2JzZXJ2ZXJcbiAgICAgICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ05Ecm9wT2JzZXJ2ZXJzLnNwbGljZShkcmFnTkRyb3BPYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlciksIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvcmluKHJvdXRlcywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyc1tldmVudF0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG9ic2VydmVyO1xufTtcblxuY29uc3QgZWxlbWVudEZyb21Qb2ludCA9IChyb290LCBwb2ludCkgPT4ge1xuICAgIGlmICghKCdlbGVtZW50RnJvbVBvaW50JyBpbiByb290KSkge1xuICAgICAgICByb290ID0gZG9jdW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiByb290LmVsZW1lbnRGcm9tUG9pbnQocG9pbnQueCwgcG9pbnQueSk7XG59O1xuXG5jb25zdCBpc0V2ZW50VGFyZ2V0ID0gKGUsIHRhcmdldCkgPT4ge1xuICAgIC8vIGdldCByb290XG4gICAgY29uc3Qgcm9vdCA9IGdldFJvb3ROb2RlKHRhcmdldCk7XG5cbiAgICAvLyBnZXQgZWxlbWVudCBhdCBwb3NpdGlvblxuICAgIC8vIGlmIHJvb3QgaXMgbm90IGFjdHVhbCBzaGFkb3cgRE9NIGFuZCBkb2VzIG5vdCBoYXZlIGVsZW1lbnRGcm9tUG9pbnQgbWV0aG9kLCB1c2UgdGhlIG9uZSBvbiBkb2N1bWVudFxuICAgIGNvbnN0IGVsZW1lbnRBdFBvc2l0aW9uID0gZWxlbWVudEZyb21Qb2ludChyb290LCB7XG4gICAgICAgIHg6IGUucGFnZVggLSB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgIHk6IGUucGFnZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgfSk7XG5cbiAgICAvLyB0ZXN0IGlmIHRhcmdldCBpcyB0aGUgZWxlbWVudCBvciBpZiBvbmUgb2YgaXRzIGNoaWxkcmVuIGlzXG4gICAgcmV0dXJuIGVsZW1lbnRBdFBvc2l0aW9uID09PSB0YXJnZXQgfHwgdGFyZ2V0LmNvbnRhaW5zKGVsZW1lbnRBdFBvc2l0aW9uKTtcbn07XG5cbmxldCBpbml0aWFsVGFyZ2V0ID0gbnVsbDtcblxuY29uc3Qgc2V0RHJvcEVmZmVjdCA9IChkYXRhVHJhbnNmZXIsIGVmZmVjdCkgPT4ge1xuICAgIC8vIGlzIGluIHRyeSBjYXRjaCBhcyBJRTExIHdpbGwgdGhyb3cgZXJyb3IgaWYgbm90XG4gICAgdHJ5IHtcbiAgICAgICAgZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBlZmZlY3Q7XG4gICAgfSBjYXRjaCAoZSkge31cbn07XG5cbmNvbnN0IGRyYWdlbnRlciA9IChyb290LCBjbGllbnRzKSA9PiBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpbml0aWFsVGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgICBjbGllbnRzLmZvckVhY2goY2xpZW50ID0+IHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBvbmVudGVyIH0gPSBjbGllbnQ7XG5cbiAgICAgICAgaWYgKGlzRXZlbnRUYXJnZXQoZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9ICdlbnRlcic7XG5cbiAgICAgICAgICAgIC8vIGZpcmUgZW50ZXIgZXZlbnRcbiAgICAgICAgICAgIG9uZW50ZXIoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmNvbnN0IGRyYWdvdmVyID0gKHJvb3QsIGNsaWVudHMpID0+IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuXG4gICAgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKGRhdGFUcmFuc2ZlcikudGhlbihpdGVtcyA9PiB7XG4gICAgICAgIGxldCBvdmVyRHJvcFRhcmdldCA9IGZhbHNlO1xuXG4gICAgICAgIGNsaWVudHMuc29tZShjbGllbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBmaWx0ZXJFbGVtZW50LCBlbGVtZW50LCBvbmVudGVyLCBvbmV4aXQsIG9uZHJhZywgYWxsb3dkcm9wIH0gPSBjbGllbnQ7XG5cbiAgICAgICAgICAgIC8vIGJ5IGRlZmF1bHQgd2UgY2FuIGRyb3BcbiAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnY29weScpO1xuXG4gICAgICAgICAgICAvLyBhbGxvdyB0cmFuc2ZlciBvZiB0aGVzZSBpdGVtc1xuICAgICAgICAgICAgY29uc3QgYWxsb3dzVHJhbnNmZXIgPSBhbGxvd2Ryb3AoaXRlbXMpO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHVzZWQgd2hlbiBjYW4gYmUgZHJvcHBlZCBvbiBwYWdlXG4gICAgICAgICAgICBpZiAoIWFsbG93c1RyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0YXJnZXR0aW5nIHRoaXMgY2xpZW50XG4gICAgICAgICAgICBpZiAoaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIG92ZXJEcm9wVGFyZ2V0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIGhhZCBubyBwcmV2aW91cyBzdGF0ZSwgbWVhbnMgd2UgYXJlIGVudGVyaW5nIHRoaXMgY2xpZW50XG4gICAgICAgICAgICAgICAgaWYgKGNsaWVudC5zdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQuc3RhdGUgPSAnZW50ZXInO1xuICAgICAgICAgICAgICAgICAgICBvbmVudGVyKGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm93IG92ZXIgZWxlbWVudCAobm8gbWF0dGVyIGlmIGl0IGFsbG93cyB0aGUgZHJvcCBvciBub3QpXG4gICAgICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gJ292ZXInO1xuXG4gICAgICAgICAgICAgICAgLy8gbmVlZHMgdG8gYWxsb3cgdHJhbnNmZXJcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhYWxsb3dzVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIG9uZHJhZyhldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIG92ZXIgYW4gZWxlbWVudCB0byBkcm9wXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckVsZW1lbnQgJiYgIW92ZXJEcm9wVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1pZ2h0IGhhdmUganVzdCBsZWZ0IHRoaXMgY2xpZW50P1xuICAgICAgICAgICAgICAgIGlmIChjbGllbnQuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgb25leGl0KGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBkcm9wID0gKHJvb3QsIGNsaWVudHMpID0+IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuXG4gICAgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKGRhdGFUcmFuc2ZlcikudGhlbihpdGVtcyA9PiB7XG4gICAgICAgIGNsaWVudHMuZm9yRWFjaChjbGllbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBmaWx0ZXJFbGVtZW50LCBlbGVtZW50LCBvbmRyb3AsIG9uZXhpdCwgYWxsb3dkcm9wIH0gPSBjbGllbnQ7XG5cbiAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGZpbHRlcmluZyBvbiBlbGVtZW50IHdlIG5lZWQgdG8gYmUgb3ZlciB0aGUgZWxlbWVudCB0byBkcm9wXG4gICAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBubyB0cmFuc2ZlciBmb3IgdGhpcyBjbGllbnRcbiAgICAgICAgICAgIGlmICghYWxsb3dkcm9wKGl0ZW1zKSkgcmV0dXJuIG9uZXhpdChldmVudFBvc2l0aW9uKGUpKTtcblxuICAgICAgICAgICAgLy8gd2UgY2FuIGRyb3AgdGhlc2UgaXRlbXMgb24gdGhpcyBjbGllbnRcbiAgICAgICAgICAgIG9uZHJvcChldmVudFBvc2l0aW9uKGUpLCBpdGVtcyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuY29uc3QgZHJhZ2xlYXZlID0gKHJvb3QsIGNsaWVudHMpID0+IGUgPT4ge1xuICAgIGlmIChpbml0aWFsVGFyZ2V0ICE9PSBlLnRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2xpZW50cy5mb3JFYWNoKGNsaWVudCA9PiB7XG4gICAgICAgIGNvbnN0IHsgb25leGl0IH0gPSBjbGllbnQ7XG5cbiAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcblxuICAgICAgICBvbmV4aXQoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVIb3BwZXIgPSAoc2NvcGUsIHZhbGlkYXRlSXRlbXMsIG9wdGlvbnMpID0+IHtcbiAgICAvLyBpcyBub3cgaG9wcGVyIHNjb3BlXG4gICAgc2NvcGUuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLWhvcHBlcicpO1xuXG4gICAgLy8gc2hvcnRjdXRzXG4gICAgY29uc3QgeyBjYXRjaGVzRHJvcHNPblBhZ2UsIHJlcXVpcmVzRHJvcE9uRWxlbWVudCwgZmlsdGVySXRlbXMgPSBpdGVtcyA9PiBpdGVtcyB9ID0gb3B0aW9ucztcblxuICAgIC8vIGNyZWF0ZSBhIGRuZCBjbGllbnRcbiAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVEcmFnTkRyb3BDbGllbnQoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBjYXRjaGVzRHJvcHNPblBhZ2UgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBzY29wZSxcbiAgICAgICAgcmVxdWlyZXNEcm9wT25FbGVtZW50XG4gICAgKTtcblxuICAgIC8vIGN1cnJlbnQgY2xpZW50IHN0YXRlXG4gICAgbGV0IGxhc3RTdGF0ZSA9ICcnO1xuICAgIGxldCBjdXJyZW50U3RhdGUgPSAnJztcblxuICAgIC8vIGRldGVybWluZXMgaWYgYSBmaWxlIG1heSBiZSBkcm9wcGVkXG4gICAgY2xpZW50LmFsbG93ZHJvcCA9IGl0ZW1zID0+IHtcbiAgICAgICAgLy8gVE9ETzogaWYgd2UgY2FuLCB0aHJvdyBlcnJvciB0byBpbmRpY2F0ZSB0aGUgaXRlbXMgY2Fubm90IGJ5IGRyb3BwZWRcblxuICAgICAgICByZXR1cm4gdmFsaWRhdGVJdGVtcyhmaWx0ZXJJdGVtcyhpdGVtcykpO1xuICAgIH07XG5cbiAgICBjbGllbnQub25kcm9wID0gKHBvc2l0aW9uLCBpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVySXRlbXMoaXRlbXMpO1xuXG4gICAgICAgIGlmICghdmFsaWRhdGVJdGVtcyhmaWx0ZXJlZEl0ZW1zKSkge1xuICAgICAgICAgICAgYXBpLm9uZHJhZ2VuZChwb3NpdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50U3RhdGUgPSAnZHJhZy1kcm9wJztcblxuICAgICAgICBhcGkub25sb2FkKGZpbHRlcmVkSXRlbXMsIHBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgY2xpZW50Lm9uZHJhZyA9IHBvc2l0aW9uID0+IHtcbiAgICAgICAgYXBpLm9uZHJhZyhwb3NpdGlvbik7XG4gICAgfTtcblxuICAgIGNsaWVudC5vbmVudGVyID0gcG9zaXRpb24gPT4ge1xuICAgICAgICBjdXJyZW50U3RhdGUgPSAnZHJhZy1vdmVyJztcblxuICAgICAgICBhcGkub25kcmFnc3RhcnQocG9zaXRpb24pO1xuICAgIH07XG5cbiAgICBjbGllbnQub25leGl0ID0gcG9zaXRpb24gPT4ge1xuICAgICAgICBjdXJyZW50U3RhdGUgPSAnZHJhZy1leGl0JztcblxuICAgICAgICBhcGkub25kcmFnZW5kKHBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBpID0ge1xuICAgICAgICB1cGRhdGVIb3BwZXJTdGF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAhPT0gY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZGF0YXNldC5ob3BwZXJTdGF0ZSA9IGN1cnJlbnRTdGF0ZTtcbiAgICAgICAgICAgICAgICBsYXN0U3RhdGUgPSBjdXJyZW50U3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9ubG9hZDogKCkgPT4ge30sXG4gICAgICAgIG9uZHJhZ3N0YXJ0OiAoKSA9PiB7fSxcbiAgICAgICAgb25kcmFnOiAoKSA9PiB7fSxcbiAgICAgICAgb25kcmFnZW5kOiAoKSA9PiB7fSxcbiAgICAgICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgICAgICAgLy8gZGVzdHJveSBjbGllbnRcbiAgICAgICAgICAgIGNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIHJldHVybiBhcGk7XG59O1xuXG5sZXQgbGlzdGVuaW5nID0gZmFsc2U7XG5jb25zdCBsaXN0ZW5lcnMkMSA9IFtdO1xuXG5jb25zdCBoYW5kbGVQYXN0ZSA9IGUgPT4ge1xuICAgIC8vIGlmIGlzIHBhc3RpbmcgaW4gaW5wdXQgb3IgdGV4dGFyZWEgYW5kIHRoZSB0YXJnZXQgaXMgb3V0c2lkZSBvZiBhIGZpbGVwb25kIHNjb3BlLCBpZ25vcmVcbiAgICBjb25zdCBhY3RpdmVFbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGFjdGl2ZUVsICYmIC90ZXh0YXJlYXxpbnB1dC9pLnRlc3QoYWN0aXZlRWwubm9kZU5hbWUpKSB7XG4gICAgICAgIC8vIHRlc3QgdGV4dGFyZWEgb3IgaW5wdXQgaXMgY29udGFpbmVkIGluIGZpbGVwb25kIHJvb3RcbiAgICAgICAgbGV0IGluU2NvcGUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBhY3RpdmVFbDtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmlsZXBvbmQtLXJvb3QnKSkge1xuICAgICAgICAgICAgICAgIGluU2NvcGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaW5TY29wZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhlLmNsaXBib2FyZERhdGEpLnRoZW4oZmlsZXMgPT4ge1xuICAgICAgICAvLyBubyBmaWxlcyByZWNlaXZlZFxuICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm90aWZ5IGxpc3RlbmVycyBvZiByZWNlaXZlZCBmaWxlc1xuICAgICAgICBsaXN0ZW5lcnMkMS5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGZpbGVzKSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBsaXN0ZW4gPSBjYiA9PiB7XG4gICAgLy8gY2FuJ3QgYWRkIHR3aWNlXG4gICAgaWYgKGxpc3RlbmVycyQxLmluY2x1ZGVzKGNiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYWRkIGluaXRpYWwgbGlzdGVuZXJcbiAgICBsaXN0ZW5lcnMkMS5wdXNoKGNiKTtcblxuICAgIC8vIHNldHVwIHBhc3RlIGxpc3RlbmVyIGZvciBlbnRpcmUgcGFnZVxuICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxpc3RlbmluZyA9IHRydWU7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBoYW5kbGVQYXN0ZSk7XG59O1xuXG5jb25zdCB1bmxpc3RlbiA9IGxpc3RlbmVyID0+IHtcbiAgICBhcnJheVJlbW92ZShsaXN0ZW5lcnMkMSwgbGlzdGVuZXJzJDEuaW5kZXhPZihsaXN0ZW5lcikpO1xuXG4gICAgLy8gY2xlYW4gdXBcbiAgICBpZiAobGlzdGVuZXJzJDEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgaGFuZGxlUGFzdGUpO1xuICAgICAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICB9XG59O1xuXG5jb25zdCBjcmVhdGVQYXN0ZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgY2IgPSBmaWxlcyA9PiB7XG4gICAgICAgIGFwaS5vbmxvYWQoZmlsZXMpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcGkgPSB7XG4gICAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgICAgIHVubGlzdGVuKGNiKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25sb2FkOiAoKSA9PiB7fSxcbiAgICB9O1xuXG4gICAgbGlzdGVuKGNiKTtcblxuICAgIHJldHVybiBhcGk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICovXG5jb25zdCBjcmVhdGUkZCA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICByb290LmVsZW1lbnQuaWQgPSBgZmlsZXBvbmQtLWFzc2lzdGFudC0ke3Byb3BzLmlkfWA7XG4gICAgYXR0cihyb290LmVsZW1lbnQsICdyb2xlJywgJ3N0YXR1cycpO1xuICAgIGF0dHIocm9vdC5lbGVtZW50LCAnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgIGF0dHIocm9vdC5lbGVtZW50LCAnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbn07XG5cbmxldCBhZGRGaWxlc05vdGlmaWNhdGlvblRpbWVvdXQgPSBudWxsO1xubGV0IG5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCA9IG51bGw7XG5cbmNvbnN0IGZpbGVuYW1lcyA9IFtdO1xuXG5jb25zdCBhc3Npc3QgPSAocm9vdCwgbWVzc2FnZSkgPT4ge1xuICAgIHJvb3QuZWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG59O1xuXG5jb25zdCBjbGVhciQxID0gcm9vdCA9PiB7XG4gICAgcm9vdC5lbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG59O1xuXG5jb25zdCBsaXN0TW9kaWZpZWQgPSAocm9vdCwgZmlsZW5hbWUsIGxhYmVsKSA9PiB7XG4gICAgY29uc3QgdG90YWwgPSByb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICBhc3Npc3QoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIGAke2xhYmVsfSAke2ZpbGVuYW1lfSwgJHt0b3RhbH0gJHtcbiAgICAgICAgICAgIHRvdGFsID09PSAxXG4gICAgICAgICAgICAgICAgPyByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9DT1VOVF9TSU5HVUxBUicpXG4gICAgICAgICAgICAgICAgOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9DT1VOVF9QTFVSQUwnKVxuICAgICAgICB9YFxuICAgICk7XG5cbiAgICAvLyBjbGVhciBncm91cCBhZnRlciBzZXQgYW1vdW50IG9mIHRpbWUgc28gdGhlIHN0YXR1cyBpcyBub3QgcmVhZCB0d2ljZVxuICAgIGNsZWFyVGltZW91dChub3RpZmljYXRpb25DbGVhclRpbWVvdXQpO1xuICAgIG5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhciQxKHJvb3QpO1xuICAgIH0sIDE1MDApO1xufTtcblxuY29uc3QgaXNVc2luZ0ZpbGVQb25kID0gcm9vdCA9PiByb290LmVsZW1lbnQucGFyZW50Tm9kZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcblxuY29uc3QgaXRlbUFkZGVkID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBpZiAoIWlzVXNpbmdGaWxlUG9uZChyb290KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcm9vdC5lbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgY29uc3QgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICBmaWxlbmFtZXMucHVzaChpdGVtLmZpbGVuYW1lKTtcblxuICAgIGNsZWFyVGltZW91dChhZGRGaWxlc05vdGlmaWNhdGlvblRpbWVvdXQpO1xuICAgIGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBsaXN0TW9kaWZpZWQocm9vdCwgZmlsZW5hbWVzLmpvaW4oJywgJyksIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0FEREVEJykpO1xuICAgICAgICBmaWxlbmFtZXMubGVuZ3RoID0gMDtcbiAgICB9LCA3NTApO1xufTtcblxuY29uc3QgaXRlbVJlbW92ZWQgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGlmICghaXNVc2luZ0ZpbGVQb25kKHJvb3QpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpdGVtID0gYWN0aW9uLml0ZW07XG4gICAgbGlzdE1vZGlmaWVkKHJvb3QsIGl0ZW0uZmlsZW5hbWUsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1JFTU9WRUQnKSk7XG59O1xuXG5jb25zdCBpdGVtUHJvY2Vzc2VkID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAvLyB3aWxsIGFsc28gbm90aWZ5IHRoZSB1c2VyIHdoZW4gRmlsZVBvbmQgaXMgbm90IGJlaW5nIHVzZWQsIGFzIHRoZSB1c2VyIG1pZ2h0IGJlIG9jY3VwaWVkIHdpdGggb3RoZXIgYWN0aXZpdGllcyB3aGlsZSB1cGxvYWRpbmcgYSBmaWxlXG5cbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaXRlbS5maWxlbmFtZTtcbiAgICBjb25zdCBsYWJlbCA9IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQ09NUExFVEUnKTtcblxuICAgIGFzc2lzdChyb290LCBgJHtmaWxlbmFtZX0gJHtsYWJlbH1gKTtcbn07XG5cbmNvbnN0IGl0ZW1Qcm9jZXNzZWRVbmRvID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaXRlbS5maWxlbmFtZTtcbiAgICBjb25zdCBsYWJlbCA9IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQUJPUlRFRCcpO1xuXG4gICAgYXNzaXN0KHJvb3QsIGAke2ZpbGVuYW1lfSAke2xhYmVsfWApO1xufTtcblxuY29uc3QgaXRlbUVycm9yID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaXRlbS5maWxlbmFtZTtcblxuICAgIC8vIHdpbGwgYWxzbyBub3RpZnkgdGhlIHVzZXIgd2hlbiBGaWxlUG9uZCBpcyBub3QgYmVpbmcgdXNlZCwgYXMgdGhlIHVzZXIgbWlnaHQgYmUgb2NjdXBpZWQgd2l0aCBvdGhlciBhY3Rpdml0aWVzIHdoaWxlIHVwbG9hZGluZyBhIGZpbGVcblxuICAgIGFzc2lzdChyb290LCBgJHthY3Rpb24uc3RhdHVzLm1haW59ICR7ZmlsZW5hbWV9ICR7YWN0aW9uLnN0YXR1cy5zdWJ9YCk7XG59O1xuXG5jb25zdCBhc3Npc3RhbnQgPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSRkLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfTE9BRF9JVEVNOiBpdGVtQWRkZWQsXG4gICAgICAgIERJRF9SRU1PVkVfSVRFTTogaXRlbVJlbW92ZWQsXG4gICAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWQsXG5cbiAgICAgICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogaXRlbVByb2Nlc3NlZFVuZG8sXG4gICAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkVW5kbyxcblxuICAgICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IGl0ZW1FcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogaXRlbUVycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBpdGVtRXJyb3IsXG4gICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IGl0ZW1FcnJvcixcbiAgICB9KSxcbiAgICB0YWc6ICdzcGFuJyxcbiAgICBuYW1lOiAnYXNzaXN0YW50Jyxcbn0pO1xuXG5jb25zdCB0b0NhbWVscyA9IChzdHJpbmcsIHNlcGFyYXRvciA9ICctJykgPT5cbiAgICBzdHJpbmcucmVwbGFjZShuZXcgUmVnRXhwKGAke3NlcGFyYXRvcn0uYCwgJ2cnKSwgc3ViID0+IHN1Yi5jaGFyQXQoMSkudG9VcHBlckNhc2UoKSk7XG5cbmNvbnN0IGRlYm91bmNlID0gKGZ1bmMsIGludGVydmFsID0gMTYsIGltbWlkaWF0ZU9ubHkgPSB0cnVlKSA9PiB7XG4gICAgbGV0IGxhc3QgPSBEYXRlLm5vdygpO1xuICAgIGxldCB0aW1lb3V0ID0gbnVsbDtcblxuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cbiAgICAgICAgY29uc3QgZGlzdCA9IERhdGUubm93KCkgLSBsYXN0O1xuXG4gICAgICAgIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgICAgICAgICAgbGFzdCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkaXN0IDwgaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZGVsYXkgYnkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBpbnRlcnZhbCBhbmQgZGlzdFxuICAgICAgICAgICAgLy8gZm9yIGV4YW1wbGU6IGlmIGRpc3RhbmNlIGlzIDEwIG1zIGFuZCBpbnRlcnZhbCBpcyAxNiBtcyxcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gd2FpdCBhbiBhZGRpdGlvbmFsIDZtcyBiZWZvcmUgY2FsbGluZyB0aGUgZnVuY3Rpb24pXG4gICAgICAgICAgICBpZiAoIWltbWlkaWF0ZU9ubHkpIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmbiwgaW50ZXJ2YWwgLSBkaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGdvIVxuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5jb25zdCBNQVhfRklMRVNfTElNSVQgPSAxMDAwMDAwO1xuXG5jb25zdCBwcmV2ZW50ID0gZSA9PiBlLnByZXZlbnREZWZhdWx0KCk7XG5cbmNvbnN0IGNyZWF0ZSRlID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIEFkZCBpZFxuICAgIGNvbnN0IGlkID0gcm9vdC5xdWVyeSgnR0VUX0lEJyk7XG4gICAgaWYgKGlkKSB7XG4gICAgICAgIHJvb3QuZWxlbWVudC5pZCA9IGlkO1xuICAgIH1cblxuICAgIC8vIEFkZCBjbGFzc05hbWVcbiAgICBjb25zdCBjbGFzc05hbWUgPSByb290LnF1ZXJ5KCdHRVRfQ0xBU1NfTkFNRScpO1xuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgLmZpbHRlcihuYW1lID0+IG5hbWUubGVuZ3RoKVxuICAgICAgICAgICAgLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBGaWVsZCBsYWJlbFxuICAgIHJvb3QucmVmLmxhYmVsID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGRyb3BMYWJlbCwge1xuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICB0cmFuc2xhdGVZOiBudWxsLFxuICAgICAgICAgICAgY2FwdGlvbjogcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0lETEUnKSxcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gTGlzdCBvZiBpdGVtc1xuICAgIHJvb3QucmVmLmxpc3QgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhsaXN0U2Nyb2xsZXIsIHsgdHJhbnNsYXRlWTogbnVsbCB9KSk7XG5cbiAgICAvLyBCYWNrZ3JvdW5kIHBhbmVsXG4gICAgcm9vdC5yZWYucGFuZWwgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhwYW5lbCwgeyBuYW1lOiAncGFuZWwtcm9vdCcgfSkpO1xuXG4gICAgLy8gQXNzaXN0YW50IG5vdGlmaWVzIGFzc2lzdGl2ZSB0ZWNoIHdoZW4gY29udGVudCBjaGFuZ2VzXG4gICAgcm9vdC5yZWYuYXNzaXN0YW50ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcoYXNzaXN0YW50LCB7IC4uLnByb3BzIH0pKTtcblxuICAgIC8vIERhdGFcbiAgICByb290LnJlZi5kYXRhID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcoZGF0YSwgeyAuLi5wcm9wcyB9KSk7XG5cbiAgICAvLyBNZWFzdXJlICh0ZXN0cyBpZiBmaXhlZCBoZWlnaHQgd2FzIHNldClcbiAgICAvLyBET0NUWVBFIG5lZWRzIHRvIGJlIHNldCBmb3IgdGhpcyB0byB3b3JrXG4gICAgcm9vdC5yZWYubWVhc3VyZSA9IGNyZWF0ZUVsZW1lbnQkMSgnZGl2Jyk7XG4gICAgcm9vdC5yZWYubWVhc3VyZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKHJvb3QucmVmLm1lYXN1cmUpO1xuXG4gICAgLy8gaW5mb3JtYXRpb24gb24gdGhlIHJvb3QgaGVpZ2h0IG9yIGZpeGVkIGhlaWdodCBzdGF0dXNcbiAgICByb290LnJlZi5ib3VuZHMgPSBudWxsO1xuXG4gICAgLy8gYXBwbHkgaW5pdGlhbCBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgcm9vdC5xdWVyeSgnR0VUX1NUWUxFUycpXG4gICAgICAgIC5maWx0ZXIoc3R5bGUgPT4gIWlzRW1wdHkoc3R5bGUudmFsdWUpKVxuICAgICAgICAubWFwKCh7IG5hbWUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0W25hbWVdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgLy8gZGV0ZXJtaW5lIGlmIHdpZHRoIGNoYW5nZWRcbiAgICByb290LnJlZi53aWR0aFByZXZpb3VzID0gbnVsbDtcbiAgICByb290LnJlZi53aWR0aFVwZGF0ZWQgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICAgIHJvb3QucmVmLnVwZGF0ZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1JFU0laRV9ST09UJyk7XG4gICAgfSwgMjUwKTtcblxuICAgIC8vIGhpc3Rvcnkgb2YgdXBkYXRlc1xuICAgIHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8gPSBudWxsO1xuICAgIHJvb3QucmVmLnVwZGF0ZUhpc3RvcnkgPSBbXTtcblxuICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nIGFuZCB6b29taW5nIG9uIGlPUyAob25seSBpZiBzdXBwb3J0cyBwb2ludGVyIGV2ZW50cywgZm9yIHRoZW4gd2UgY2FuIGVuYWJsZSByZW9yZGVyKVxuICAgIGNvbnN0IGNhbkhvdmVyID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwb2ludGVyOiBmaW5lKSBhbmQgKGhvdmVyOiBob3ZlciknKS5tYXRjaGVzO1xuICAgIGNvbnN0IGhhc1BvaW50ZXJFdmVudHMgPSAnUG9pbnRlckV2ZW50JyBpbiB3aW5kb3c7XG4gICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRU9SREVSJykgJiYgaGFzUG9pbnRlckV2ZW50cyAmJiAhY2FuSG92ZXIpIHtcbiAgICAgICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBwcmV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBhZGQgY3JlZGl0c1xuICAgIGNvbnN0IGNyZWRpdHMgPSByb290LnF1ZXJ5KCdHRVRfQ1JFRElUUycpO1xuICAgIGNvbnN0IGhhc0NyZWRpdHMgPSBjcmVkaXRzLmxlbmd0aCA9PT0gMjtcbiAgICBpZiAoaGFzQ3JlZGl0cykge1xuICAgICAgICBjb25zdCBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBmcmFnLmNsYXNzTmFtZSA9ICdmaWxlcG9uZC0tY3JlZGl0cyc7XG4gICAgICAgIGZyYWcuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIGZyYWcuaHJlZiA9IGNyZWRpdHNbMF07XG4gICAgICAgIGZyYWcudGFiaW5kZXggPSAtMTtcbiAgICAgICAgZnJhZy50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgZnJhZy5yZWwgPSAnbm9vcGVuZXIgbm9yZWZlcnJlcic7XG4gICAgICAgIGZyYWcudGV4dENvbnRlbnQgPSBjcmVkaXRzWzFdO1xuICAgICAgICByb290LmVsZW1lbnQuYXBwZW5kQ2hpbGQoZnJhZyk7XG4gICAgICAgIHJvb3QucmVmLmNyZWRpdHMgPSBmcmFnO1xuICAgIH1cbn07XG5cbmNvbnN0IHdyaXRlJDkgPSAoeyByb290LCBwcm9wcywgYWN0aW9ucyB9KSA9PiB7XG4gICAgLy8gcm91dGUgYWN0aW9uc1xuICAgIHJvdXRlJDUoeyByb290LCBwcm9wcywgYWN0aW9ucyB9KTtcblxuICAgIC8vIGFwcGx5IHN0eWxlIHByb3BlcnRpZXNcbiAgICBhY3Rpb25zXG4gICAgICAgIC5maWx0ZXIoYWN0aW9uID0+IC9eRElEX1NFVF9TVFlMRV8vLnRlc3QoYWN0aW9uLnR5cGUpKVxuICAgICAgICAuZmlsdGVyKGFjdGlvbiA9PiAhaXNFbXB0eShhY3Rpb24uZGF0YS52YWx1ZSkpXG4gICAgICAgIC5tYXAoKHsgdHlwZSwgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdG9DYW1lbHModHlwZS5zdWJzdHJpbmcoOCkudG9Mb3dlckNhc2UoKSwgJ18nKTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0W25hbWVdID0gZGF0YS52YWx1ZTtcbiAgICAgICAgICAgIHJvb3QuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgICAgICB9KTtcblxuICAgIGlmIChyb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgIGlmIChyb290LnJlY3QuZWxlbWVudC53aWR0aCAhPT0gcm9vdC5yZWYud2lkdGhQcmV2aW91cykge1xuICAgICAgICByb290LnJlZi53aWR0aFByZXZpb3VzID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGg7XG4gICAgICAgIHJvb3QucmVmLndpZHRoVXBkYXRlZCgpO1xuICAgIH1cblxuICAgIC8vIGdldCBib3ggYm91bmRzLCB3ZSBkbyB0aGlzIG9ubHkgb25jZVxuICAgIGxldCBib3VuZHMgPSByb290LnJlZi5ib3VuZHM7XG4gICAgaWYgKCFib3VuZHMpIHtcbiAgICAgICAgYm91bmRzID0gcm9vdC5yZWYuYm91bmRzID0gY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0KHJvb3QpO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgbWVhc3VyZSBlbGVtZW50XG4gICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVDaGlsZChyb290LnJlZi5tZWFzdXJlKTtcbiAgICAgICAgcm9vdC5yZWYubWVhc3VyZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZXMgdG8gdmFyaW91cyBoaWdoIGxldmVsIHBhcnRzIG9mIHRoZSB1cGxvYWQgdG9vbFxuICAgIGNvbnN0IHsgaG9wcGVyLCBsYWJlbCwgbGlzdCwgcGFuZWwgfSA9IHJvb3QucmVmO1xuXG4gICAgLy8gc2V0cyBjb3JyZWN0IHN0YXRlIHRvIGhvcHBlciBzY29wZVxuICAgIGlmIChob3BwZXIpIHtcbiAgICAgICAgaG9wcGVyLnVwZGF0ZUhvcHBlclN0YXRlKCk7XG4gICAgfVxuXG4gICAgLy8gYm9vbCB0byBpbmRpY2F0ZSBpZiB3ZSdyZSBmdWxsIG9yIG5vdFxuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gcm9vdC5xdWVyeSgnR0VUX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgIGNvbnN0IGlzTXVsdGlJdGVtID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG4gICAgY29uc3QgdG90YWxJdGVtcyA9IHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgIGNvbnN0IG1heEl0ZW1zID0gaXNNdWx0aUl0ZW0gPyByb290LnF1ZXJ5KCdHRVRfTUFYX0ZJTEVTJykgfHwgTUFYX0ZJTEVTX0xJTUlUIDogMTtcbiAgICBjb25zdCBhdE1heENhcGFjaXR5ID0gdG90YWxJdGVtcyA9PT0gbWF4SXRlbXM7XG5cbiAgICAvLyBhY3Rpb24gdXNlZCB0byBhZGQgaXRlbVxuICAgIGNvbnN0IGFkZEFjdGlvbiA9IGFjdGlvbnMuZmluZChhY3Rpb24gPT4gYWN0aW9uLnR5cGUgPT09ICdESURfQUREX0lURU0nKTtcblxuICAgIC8vIGlmIHJlYWNoZWQgbWF4IGNhcGFjaXR5IGFuZCB3ZSd2ZSBqdXN0IHJlYWNoZWQgaXRcbiAgICBpZiAoYXRNYXhDYXBhY2l0eSAmJiBhZGRBY3Rpb24pIHtcbiAgICAgICAgLy8gZ2V0IGludGVyYWN0aW9uIHR5cGVcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25NZXRob2QgPSBhZGRBY3Rpb24uZGF0YS5pbnRlcmFjdGlvbk1ldGhvZDtcblxuICAgICAgICAvLyBoaWRlIGxhYmVsXG4gICAgICAgIGxhYmVsLm9wYWNpdHkgPSAwO1xuXG4gICAgICAgIGlmIChpc011bHRpSXRlbSkge1xuICAgICAgICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IC00MDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQVBJKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwudHJhbnNsYXRlWCA9IDQwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQlJPV1NFKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IDQwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gMzA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFhdE1heENhcGFjaXR5KSB7XG4gICAgICAgIGxhYmVsLm9wYWNpdHkgPSAxO1xuICAgICAgICBsYWJlbC50cmFuc2xhdGVYID0gMDtcbiAgICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IDA7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdEl0ZW1NYXJnaW4gPSBjYWxjdWxhdGVMaXN0SXRlbU1hcmdpbihyb290KTtcblxuICAgIGNvbnN0IGxpc3RIZWlnaHQgPSBjYWxjdWxhdGVMaXN0SGVpZ2h0KHJvb3QpO1xuXG4gICAgY29uc3QgbGFiZWxIZWlnaHQgPSBsYWJlbC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgIGNvbnN0IGN1cnJlbnRMYWJlbEhlaWdodCA9ICFpc011bHRpSXRlbSB8fCBhdE1heENhcGFjaXR5ID8gMCA6IGxhYmVsSGVpZ2h0O1xuXG4gICAgY29uc3QgbGlzdE1hcmdpblRvcCA9IGF0TWF4Q2FwYWNpdHkgPyBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3AgOiAwO1xuICAgIGNvbnN0IGxpc3RNYXJnaW5Cb3R0b20gPSB0b3RhbEl0ZW1zID09PSAwID8gMCA6IGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbTtcblxuICAgIGNvbnN0IHZpc3VhbEhlaWdodCA9IGN1cnJlbnRMYWJlbEhlaWdodCArIGxpc3RNYXJnaW5Ub3AgKyBsaXN0SGVpZ2h0LnZpc3VhbCArIGxpc3RNYXJnaW5Cb3R0b207XG4gICAgY29uc3QgYm91bmRzSGVpZ2h0ID0gY3VycmVudExhYmVsSGVpZ2h0ICsgbGlzdE1hcmdpblRvcCArIGxpc3RIZWlnaHQuYm91bmRzICsgbGlzdE1hcmdpbkJvdHRvbTtcblxuICAgIC8vIGxpbmsgbGlzdCB0byBsYWJlbCBib3R0b20gcG9zaXRpb25cbiAgICBsaXN0LnRyYW5zbGF0ZVkgPVxuICAgICAgICBNYXRoLm1heCgwLCBjdXJyZW50TGFiZWxIZWlnaHQgLSBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3ApIC0gbGlzdEl0ZW1NYXJnaW4udG9wO1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgIC8vIGZpeGVkIGFzcGVjdCByYXRpb1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBoZWlnaHQgYmFzZWQgb24gd2lkdGhcbiAgICAgICAgY29uc3Qgd2lkdGggPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gd2lkdGggKiBhc3BlY3RSYXRpbztcblxuICAgICAgICAvLyBjbGVhciBoaXN0b3J5IGlmIGFzcGVjdCByYXRpbyBoYXMgY2hhbmdlZFxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8gIT09IHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8gPSBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgIHJvb3QucmVmLnVwZGF0ZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbWVtYmVyIHRoaXMgd2lkdGhcbiAgICAgICAgY29uc3QgaGlzdG9yeSA9IHJvb3QucmVmLnVwZGF0ZUhpc3Rvcnk7XG4gICAgICAgIGhpc3RvcnkucHVzaCh3aWR0aCk7XG5cbiAgICAgICAgY29uc3QgTUFYX0JPVU5DRVMgPSAyO1xuICAgICAgICBpZiAoaGlzdG9yeS5sZW5ndGggPiBNQVhfQk9VTkNFUyAqIDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGwgPSBoaXN0b3J5Lmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IGwgLSAxMDtcbiAgICAgICAgICAgIGxldCBib3VuY2VzID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBsOyBpID49IGJvdHRvbTsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlbaV0gPT09IGhpc3RvcnlbaSAtIDJdKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5jZXMrKztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYm91bmNlcyA+PSBNQVhfQk9VTkNFUykge1xuICAgICAgICAgICAgICAgICAgICAvLyBkb250IGFkanVzdCBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpeCBoZWlnaHQgb2YgcGFuZWwgc28gaXQgYWRoZXJlcyB0byBhc3BlY3QgcmF0aW9cbiAgICAgICAgcGFuZWwuc2NhbGFibGUgPSBmYWxzZTtcbiAgICAgICAgcGFuZWwuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8vIGF2YWlsYWJsZSBoZWlnaHQgZm9yIGxpc3RcbiAgICAgICAgY29uc3QgbGlzdEF2YWlsYWJsZUhlaWdodCA9XG4gICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBwYW5lbCBtaW51cyB0aGUgbGFiZWwgaGVpZ2h0XG4gICAgICAgICAgICBoZWlnaHQgLVxuICAgICAgICAgICAgY3VycmVudExhYmVsSGVpZ2h0IC1cbiAgICAgICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgICAgICAobGlzdE1hcmdpbkJvdHRvbSAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSkgLVxuICAgICAgICAgICAgLy8gaWYgd2UncmUgZnVsbCB3ZSBuZWVkIHRvIGxlYXZlIHNvbWUgcm9vbSBiZXR3ZWVuIHRoZSB0b3Agb2YgdGhlIHBhbmVsIGFuZCB0aGUgbGlzdFxuICAgICAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgICAgaWYgKGxpc3RIZWlnaHQudmlzdWFsID4gbGlzdEF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgICAgICAgbGlzdC5vdmVyZmxvdyA9IGxpc3RBdmFpbGFibGVIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBjb250YWluZXIgYm91bmRzIChzbyBwdXNoZXMgc2libGluZ3MgZG93bndhcmRzKVxuICAgICAgICByb290LmhlaWdodCA9IGhlaWdodDtcbiAgICB9IGVsc2UgaWYgKGJvdW5kcy5maXhlZEhlaWdodCkge1xuICAgICAgICAvLyBmaXhlZCBoZWlnaHRcblxuICAgICAgICAvLyBmaXggaGVpZ2h0IG9mIHBhbmVsXG4gICAgICAgIHBhbmVsLnNjYWxhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gYXZhaWxhYmxlIGhlaWdodCBmb3IgbGlzdFxuICAgICAgICBjb25zdCBsaXN0QXZhaWxhYmxlSGVpZ2h0ID1cbiAgICAgICAgICAgIC8vIHRoZSBoZWlnaHQgb2YgdGhlIHBhbmVsIG1pbnVzIHRoZSBsYWJlbCBoZWlnaHRcbiAgICAgICAgICAgIGJvdW5kcy5maXhlZEhlaWdodCAtXG4gICAgICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAgICAgLy8gdGhlIHJvb20gd2UgbGVhdmUgb3BlbiBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHRoZSBwYW5lbCBib3R0b21cbiAgICAgICAgICAgIChsaXN0TWFyZ2luQm90dG9tIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tKSAtXG4gICAgICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgICAgICAoYXRNYXhDYXBhY2l0eSA/IGxpc3RNYXJnaW5Ub3AgOiAwKTtcblxuICAgICAgICAvLyBzZXQgbGlzdCBoZWlnaHRcbiAgICAgICAgaWYgKGxpc3RIZWlnaHQudmlzdWFsID4gbGlzdEF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgICAgICAgbGlzdC5vdmVyZmxvdyA9IGxpc3RBdmFpbGFibGVIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gc2V0IGNvbnRhaW5lciBib3VuZHMgYXMgdGhlc2UgYXJlIGhhbmRsZXMgYnkgQ1NTIGZpeGVkIGhlaWdodFxuICAgIH0gZWxzZSBpZiAoYm91bmRzLmNhcHBlZEhlaWdodCkge1xuICAgICAgICAvLyBtYXgtaGVpZ2h0XG5cbiAgICAgICAgLy8gbm90IGEgZml4ZWQgaGVpZ2h0IHBhbmVsXG4gICAgICAgIGNvbnN0IGlzQ2FwcGVkSGVpZ2h0ID0gdmlzdWFsSGVpZ2h0ID49IGJvdW5kcy5jYXBwZWRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gTWF0aC5taW4oYm91bmRzLmNhcHBlZEhlaWdodCwgdmlzdWFsSGVpZ2h0KTtcbiAgICAgICAgcGFuZWwuc2NhbGFibGUgPSB0cnVlO1xuICAgICAgICBwYW5lbC5oZWlnaHQgPSBpc0NhcHBlZEhlaWdodFxuICAgICAgICAgICAgPyBwYW5lbEhlaWdodFxuICAgICAgICAgICAgOiBwYW5lbEhlaWdodCAtIGxpc3RJdGVtTWFyZ2luLnRvcCAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbTtcblxuICAgICAgICAvLyBhdmFpbGFibGUgaGVpZ2h0IGZvciBsaXN0XG4gICAgICAgIGNvbnN0IGxpc3RBdmFpbGFibGVIZWlnaHQgPVxuICAgICAgICAgICAgLy8gdGhlIGhlaWdodCBvZiB0aGUgcGFuZWwgbWludXMgdGhlIGxhYmVsIGhlaWdodFxuICAgICAgICAgICAgcGFuZWxIZWlnaHQgLVxuICAgICAgICAgICAgY3VycmVudExhYmVsSGVpZ2h0IC1cbiAgICAgICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgICAgICAobGlzdE1hcmdpbkJvdHRvbSAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSkgLVxuICAgICAgICAgICAgLy8gaWYgd2UncmUgZnVsbCB3ZSBuZWVkIHRvIGxlYXZlIHNvbWUgcm9vbSBiZXR3ZWVuIHRoZSB0b3Agb2YgdGhlIHBhbmVsIGFuZCB0aGUgbGlzdFxuICAgICAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgICAgLy8gc2V0IGxpc3QgaGVpZ2h0IChpZiBpcyBvdmVyZmxvd2luZylcbiAgICAgICAgaWYgKHZpc3VhbEhlaWdodCA+IGJvdW5kcy5jYXBwZWRIZWlnaHQgJiYgbGlzdEhlaWdodC52aXN1YWwgPiBsaXN0QXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbGlzdEF2YWlsYWJsZUhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGNvbnRhaW5lciBib3VuZHMgKHNvIHB1c2hlcyBzaWJsaW5ncyBkb3dud2FyZHMpXG4gICAgICAgIHJvb3QuaGVpZ2h0ID0gTWF0aC5taW4oXG4gICAgICAgICAgICBib3VuZHMuY2FwcGVkSGVpZ2h0LFxuICAgICAgICAgICAgYm91bmRzSGVpZ2h0IC0gbGlzdEl0ZW1NYXJnaW4udG9wIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmxleGlibGUgaGVpZ2h0XG5cbiAgICAgICAgLy8gbm90IGEgZml4ZWQgaGVpZ2h0IHBhbmVsXG4gICAgICAgIGNvbnN0IGl0ZW1NYXJnaW4gPSB0b3RhbEl0ZW1zID4gMCA/IGxpc3RJdGVtTWFyZ2luLnRvcCArIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSA6IDA7XG4gICAgICAgIHBhbmVsLnNjYWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgcGFuZWwuaGVpZ2h0ID0gTWF0aC5tYXgobGFiZWxIZWlnaHQsIHZpc3VhbEhlaWdodCAtIGl0ZW1NYXJnaW4pO1xuXG4gICAgICAgIC8vIHNldCBjb250YWluZXIgYm91bmRzIChzbyBwdXNoZXMgc2libGluZ3MgZG93bndhcmRzKVxuICAgICAgICByb290LmhlaWdodCA9IE1hdGgubWF4KGxhYmVsSGVpZ2h0LCBib3VuZHNIZWlnaHQgLSBpdGVtTWFyZ2luKTtcbiAgICB9XG5cbiAgICAvLyBtb3ZlIGNyZWRpdHMgdG8gYm90dG9tXG4gICAgaWYgKHJvb3QucmVmLmNyZWRpdHMgJiYgcGFuZWwuaGVpZ2h0Q3VycmVudClcbiAgICAgICAgcm9vdC5yZWYuY3JlZGl0cy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke3BhbmVsLmhlaWdodEN1cnJlbnR9cHgpYDtcbn07XG5cbmNvbnN0IGNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luID0gcm9vdCA9PiB7XG4gICAgY29uc3QgaXRlbSA9IHJvb3QucmVmLmxpc3QuY2hpbGRWaWV3c1swXS5jaGlsZFZpZXdzWzBdO1xuICAgIHJldHVybiBpdGVtXG4gICAgICAgID8ge1xuICAgICAgICAgICAgICB0b3A6IGl0ZW0ucmVjdC5lbGVtZW50Lm1hcmdpblRvcCxcbiAgICAgICAgICAgICAgYm90dG9tOiBpdGVtLnJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b20sXG4gICAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgfTtcbn07XG5cbmNvbnN0IGNhbGN1bGF0ZUxpc3RIZWlnaHQgPSByb290ID0+IHtcbiAgICBsZXQgdmlzdWFsID0gMDtcbiAgICBsZXQgYm91bmRzID0gMDtcblxuICAgIC8vIGdldCBmaWxlIGxpc3QgcmVmZXJlbmNlXG4gICAgY29uc3Qgc2Nyb2xsTGlzdCA9IHJvb3QucmVmLmxpc3Q7XG4gICAgY29uc3QgaXRlbUxpc3QgPSBzY3JvbGxMaXN0LmNoaWxkVmlld3NbMF07XG4gICAgY29uc3QgdmlzaWJsZUNoaWxkcmVuID0gaXRlbUxpc3QuY2hpbGRWaWV3cy5maWx0ZXIoY2hpbGQgPT4gY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodCk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSByb290XG4gICAgICAgIC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpXG4gICAgICAgIC5tYXAoaXRlbSA9PiB2aXNpYmxlQ2hpbGRyZW4uZmluZChjaGlsZCA9PiBjaGlsZC5pZCA9PT0gaXRlbS5pZCkpXG4gICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtKTtcblxuICAgIC8vIG5vIGNoaWxkcmVuLCBkb25lIVxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHJldHVybiB7IHZpc3VhbCwgYm91bmRzIH07XG5cbiAgICBjb25zdCBob3Jpem9udGFsU3BhY2UgPSBpdGVtTGlzdC5yZWN0LmVsZW1lbnQud2lkdGg7XG4gICAgY29uc3QgZHJhZ0luZGV4ID0gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihpdGVtTGlzdCwgY2hpbGRyZW4sIHNjcm9sbExpc3QuZHJhZ0Nvb3JkaW5hdGVzKTtcblxuICAgIGNvbnN0IGNoaWxkUmVjdCA9IGNoaWxkcmVuWzBdLnJlY3QuZWxlbWVudDtcblxuICAgIGNvbnN0IGl0ZW1WZXJ0aWNhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5Ub3AgKyBjaGlsZFJlY3QubWFyZ2luQm90dG9tO1xuICAgIGNvbnN0IGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpbkxlZnQgKyBjaGlsZFJlY3QubWFyZ2luUmlnaHQ7XG5cbiAgICBjb25zdCBpdGVtV2lkdGggPSBjaGlsZFJlY3Qud2lkdGggKyBpdGVtSG9yaXpvbnRhbE1hcmdpbjtcbiAgICBjb25zdCBpdGVtSGVpZ2h0ID0gY2hpbGRSZWN0LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcblxuICAgIGNvbnN0IG5ld0l0ZW0gPSB0eXBlb2YgZHJhZ0luZGV4ICE9PSAndW5kZWZpbmVkJyAmJiBkcmFnSW5kZXggPj0gMCA/IDEgOiAwO1xuICAgIGNvbnN0IHJlbW92ZWRJdGVtID0gY2hpbGRyZW4uZmluZChjaGlsZCA9PiBjaGlsZC5tYXJrZWRGb3JSZW1vdmFsICYmIGNoaWxkLm9wYWNpdHkgPCAwLjQ1KVxuICAgICAgICA/IC0xXG4gICAgICAgIDogMDtcbiAgICBjb25zdCB2ZXJ0aWNhbEl0ZW1Db3VudCA9IGNoaWxkcmVuLmxlbmd0aCArIG5ld0l0ZW0gKyByZW1vdmVkSXRlbTtcbiAgICBjb25zdCBpdGVtc1BlclJvdyA9IGdldEl0ZW1zUGVyUm93KGhvcml6b250YWxTcGFjZSwgaXRlbVdpZHRoKTtcblxuICAgIC8vIHN0YWNrXG4gICAgaWYgKGl0ZW1zUGVyUm93ID09PSAxKSB7XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBpdGVtLnJlY3QuZWxlbWVudC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgICAgICAgICBib3VuZHMgKz0gaGVpZ2h0O1xuICAgICAgICAgICAgdmlzdWFsICs9IGhlaWdodCAqIGl0ZW0ub3BhY2l0eTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGdyaWRcbiAgICBlbHNlIHtcbiAgICAgICAgYm91bmRzID0gTWF0aC5jZWlsKHZlcnRpY2FsSXRlbUNvdW50IC8gaXRlbXNQZXJSb3cpICogaXRlbUhlaWdodDtcbiAgICAgICAgdmlzdWFsID0gYm91bmRzO1xuICAgIH1cblxuICAgIHJldHVybiB7IHZpc3VhbCwgYm91bmRzIH07XG59O1xuXG5jb25zdCBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQgPSByb290ID0+IHtcbiAgICBjb25zdCBoZWlnaHQgPSByb290LnJlZi5tZWFzdXJlSGVpZ2h0IHx8IG51bGw7XG4gICAgY29uc3QgY2FwcGVkSGVpZ2h0ID0gcGFyc2VJbnQocm9vdC5zdHlsZS5tYXhIZWlnaHQsIDEwKSB8fCBudWxsO1xuICAgIGNvbnN0IGZpeGVkSGVpZ2h0ID0gaGVpZ2h0ID09PSAwID8gbnVsbCA6IGhlaWdodDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhcHBlZEhlaWdodCxcbiAgICAgICAgZml4ZWRIZWlnaHQsXG4gICAgfTtcbn07XG5cbmNvbnN0IGV4Y2VlZHNNYXhGaWxlcyA9IChyb290LCBpdGVtcykgPT4ge1xuICAgIGNvbnN0IGFsbG93UmVwbGFjZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRVBMQUNFJyk7XG4gICAgY29uc3QgYWxsb3dNdWx0aXBsZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19NVUxUSVBMRScpO1xuICAgIGNvbnN0IHRvdGFsSXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICBsZXQgbWF4SXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfTUFYX0ZJTEVTJyk7XG5cbiAgICAvLyB0b3RhbCBhbW91bnQgb2YgaXRlbXMgYmVpbmcgZHJhZ2dlZFxuICAgIGNvbnN0IHRvdGFsQnJvd3NlSXRlbXMgPSBpdGVtcy5sZW5ndGg7XG5cbiAgICAvLyBpZiBkb2VzIG5vdCBhbGxvdyBtdWx0aXBsZSBpdGVtcyBhbmQgZHJhZ2dpbmcgbW9yZSB0aGFuIG9uZSBpdGVtXG4gICAgaWYgKCFhbGxvd011bHRpcGxlICYmIHRvdGFsQnJvd3NlSXRlbXMgPiAxKSB7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9USFJPV19NQVhfRklMRVMnLCB7XG4gICAgICAgICAgICBzb3VyY2U6IGl0ZW1zLFxuICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCd3YXJuaW5nJywgMCwgJ01heCBmaWxlcycpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gbGltaXQgbWF4IGl0ZW1zIHRvIG9uZSBpZiBub3QgYWxsb3dlZCB0byBkcm9wIG11bHRpcGxlIGl0ZW1zXG4gICAgbWF4SXRlbXMgPSBhbGxvd011bHRpcGxlID8gbWF4SXRlbXMgOiAxO1xuXG4gICAgaWYgKCFhbGxvd011bHRpcGxlICYmIGFsbG93UmVwbGFjZSkge1xuICAgICAgICAvLyBUaGVyZSBpcyBvbmx5IG9uZSBpdGVtLCBzbyB0aGVyZSBpcyByb29tIHRvIHJlcGxhY2Ugb3IgYWRkIGFuIGl0ZW1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG5vIG1vcmUgcm9vbT9cbiAgICBjb25zdCBoYXNNYXhJdGVtcyA9IGlzSW50KG1heEl0ZW1zKTtcbiAgICBpZiAoaGFzTWF4SXRlbXMgJiYgdG90YWxJdGVtcyArIHRvdGFsQnJvd3NlSXRlbXMgPiBtYXhJdGVtcykge1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfVEhST1dfTUFYX0ZJTEVTJywge1xuICAgICAgICAgICAgc291cmNlOiBpdGVtcyxcbiAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnd2FybmluZycsIDAsICdNYXggZmlsZXMnKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGdldERyYWdJbmRleCA9IChsaXN0LCBjaGlsZHJlbiwgcG9zaXRpb24pID0+IHtcbiAgICBjb25zdCBpdGVtTGlzdCA9IGxpc3QuY2hpbGRWaWV3c1swXTtcbiAgICByZXR1cm4gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihpdGVtTGlzdCwgY2hpbGRyZW4sIHtcbiAgICAgICAgbGVmdDogcG9zaXRpb24uc2NvcGVMZWZ0IC0gaXRlbUxpc3QucmVjdC5lbGVtZW50LmxlZnQsXG4gICAgICAgIHRvcDpcbiAgICAgICAgICAgIHBvc2l0aW9uLnNjb3BlVG9wIC1cbiAgICAgICAgICAgIChsaXN0LnJlY3Qub3V0ZXIudG9wICsgbGlzdC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wICsgbGlzdC5yZWN0LmVsZW1lbnQuc2Nyb2xsVG9wKSxcbiAgICB9KTtcbn07XG5cbi8qKlxuICogRW5hYmxlIG9yIGRpc2FibGUgZmlsZSBkcm9wIGZ1bmN0aW9uYWxpdHlcbiAqL1xuY29uc3QgdG9nZ2xlRHJvcCA9IHJvb3QgPT4ge1xuICAgIGNvbnN0IGlzQWxsb3dlZCA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19EUk9QJyk7XG4gICAgY29uc3QgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIGNvbnN0IGVuYWJsZWQgPSBpc0FsbG93ZWQgJiYgIWlzRGlzYWJsZWQ7XG4gICAgaWYgKGVuYWJsZWQgJiYgIXJvb3QucmVmLmhvcHBlcikge1xuICAgICAgICBjb25zdCBob3BwZXIgPSBjcmVhdGVIb3BwZXIoXG4gICAgICAgICAgICByb290LmVsZW1lbnQsXG4gICAgICAgICAgICBpdGVtcyA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgcXVpY2sgdmFsaWRhdGlvbiBvZiBkcm9wcGVkIGl0ZW1zXG4gICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlRHJvcEZpbGUgPSByb290LnF1ZXJ5KCdHRVRfQkVGT1JFX0RST1BfRklMRScpIHx8ICgoKSA9PiB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vIGFsbCBpdGVtcyBzaG91bGQgYmUgdmFsaWRhdGVkIGJ5IGFsbCBmaWx0ZXJzIGFzIHZhbGlkXG4gICAgICAgICAgICAgICAgY29uc3QgZHJvcFZhbGlkYXRpb24gPSByb290LnF1ZXJ5KCdHRVRfRFJPUF9WQUxJREFUSU9OJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyb3BWYWxpZGF0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gaXRlbXMuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVycygnQUxMT1dfSE9QUEVSX0lURU0nLCBpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHJvb3QucXVlcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5ldmVyeShyZXN1bHQgPT4gcmVzdWx0ID09PSB0cnVlKSAmJiBiZWZvcmVEcm9wRmlsZShpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJJdGVtczogaXRlbXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZ25vcmVkRmlsZXMgPSByb290LnF1ZXJ5KCdHRVRfSUdOT1JFRF9GSUxFUycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmlsZShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhaWdub3JlZEZpbGVzLmluY2x1ZGVzKGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhdGNoZXNEcm9wc09uUGFnZTogcm9vdC5xdWVyeSgnR0VUX0RST1BfT05fUEFHRScpLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVzRHJvcE9uRWxlbWVudDogcm9vdC5xdWVyeSgnR0VUX0RST1BfT05fRUxFTUVOVCcpLFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGhvcHBlci5vbmxvYWQgPSAoaXRlbXMsIHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICAvLyBnZXQgaXRlbSBjaGlsZHJlbiBlbGVtZW50cyBhbmQgc29ydCBiYXNlZCBvbiBsaXN0IHNvcnRcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSByb290LnJlZi5saXN0LmNoaWxkVmlld3NbMF07XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlQ2hpbGRyZW4gPSBsaXN0LmNoaWxkVmlld3MuZmlsdGVyKGNoaWxkID0+IGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQpO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSByb290XG4gICAgICAgICAgICAgICAgLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJylcbiAgICAgICAgICAgICAgICAubWFwKGl0ZW0gPT4gdmlzaWJsZUNoaWxkcmVuLmZpbmQoY2hpbGQgPT4gY2hpbGQuaWQgPT09IGl0ZW0uaWQpKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtKTtcblxuICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignQUREX0lURU1TJywgaXRlbXMsIHsgZGlzcGF0Y2g6IHJvb3QuZGlzcGF0Y2ggfSkudGhlbihxdWV1ZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdGhlc2UgZmlsZXMgZG9uJ3QgZml0IHNvIHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgIGlmIChleGNlZWRzTWF4RmlsZXMocm9vdCwgcXVldWUpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBnb1xuICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogZ2V0RHJhZ0luZGV4KHJvb3QucmVmLmxpc3QsIGNoaWxkcmVuLCBwb3NpdGlvbiksXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5EUk9QLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUk9QJywgeyBwb3NpdGlvbiB9KTtcblxuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0VORF9EUkFHJywgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBob3BwZXIub25kcmFnc3RhcnQgPSBwb3NpdGlvbiA9PiB7XG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfU1RBUlRfRFJBRycsIHsgcG9zaXRpb24gfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaG9wcGVyLm9uZHJhZyA9IGRlYm91bmNlKHBvc2l0aW9uID0+IHtcbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUkFHJywgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaG9wcGVyLm9uZHJhZ2VuZCA9IHBvc2l0aW9uID0+IHtcbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9FTkRfRFJBRycsIHsgcG9zaXRpb24gfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcm9vdC5yZWYuaG9wcGVyID0gaG9wcGVyO1xuXG4gICAgICAgIHJvb3QucmVmLmRyaXAgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhkcmlwKSk7XG4gICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiByb290LnJlZi5ob3BwZXIpIHtcbiAgICAgICAgcm9vdC5yZWYuaG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgICAgcm9vdC5yZWYuaG9wcGVyID0gbnVsbDtcbiAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcocm9vdC5yZWYuZHJpcCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBFbmFibGUgb3IgZGlzYWJsZSBicm93c2UgZnVuY3Rpb25hbGl0eVxuICovXG5jb25zdCB0b2dnbGVCcm93c2UgPSAocm9vdCwgcHJvcHMpID0+IHtcbiAgICBjb25zdCBpc0FsbG93ZWQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfQlJPV1NFJyk7XG4gICAgY29uc3QgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIGNvbnN0IGVuYWJsZWQgPSBpc0FsbG93ZWQgJiYgIWlzRGlzYWJsZWQ7XG4gICAgaWYgKGVuYWJsZWQgJiYgIXJvb3QucmVmLmJyb3dzZXIpIHtcbiAgICAgICAgcm9vdC5yZWYuYnJvd3NlciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoYnJvd3Nlciwge1xuICAgICAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgICAgIG9ubG9hZDogaXRlbXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdBRERfSVRFTVMnLCBpdGVtcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g6IHJvb3QuZGlzcGF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocXVldWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlc2UgZmlsZXMgZG9uJ3QgZml0IHNvIHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNNYXhGaWxlcyhyb290LCBxdWV1ZSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGl0ZW1zIVxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnQUREX0lURU1TJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBxdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLkJST1dTRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAwXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiByb290LnJlZi5icm93c2VyKSB7XG4gICAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KHJvb3QucmVmLmJyb3dzZXIpO1xuICAgICAgICByb290LnJlZi5icm93c2VyID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEVuYWJsZSBvciBkaXNhYmxlIHBhc3RlIGZ1bmN0aW9uYWxpdHlcbiAqL1xuY29uc3QgdG9nZ2xlUGFzdGUgPSByb290ID0+IHtcbiAgICBjb25zdCBpc0FsbG93ZWQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUEFTVEUnKTtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgY29uc3QgZW5hYmxlZCA9IGlzQWxsb3dlZCAmJiAhaXNEaXNhYmxlZDtcbiAgICBpZiAoZW5hYmxlZCAmJiAhcm9vdC5yZWYucGFzdGVyKSB7XG4gICAgICAgIHJvb3QucmVmLnBhc3RlciA9IGNyZWF0ZVBhc3RlcigpO1xuICAgICAgICByb290LnJlZi5wYXN0ZXIub25sb2FkID0gaXRlbXMgPT4ge1xuICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignQUREX0lURU1TJywgaXRlbXMsIHsgZGlzcGF0Y2g6IHJvb3QuZGlzcGF0Y2ggfSkudGhlbihxdWV1ZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdGhlc2UgZmlsZXMgZG9uJ3QgZml0IHNvIHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgIGlmIChleGNlZWRzTWF4RmlsZXMocm9vdCwgcXVldWUpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbXMhXG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnQUREX0lURU1TJywge1xuICAgICAgICAgICAgICAgICAgICBpdGVtczogcXVldWUsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLlBBU1RFLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiByb290LnJlZi5wYXN0ZXIpIHtcbiAgICAgICAgcm9vdC5yZWYucGFzdGVyLmRlc3Ryb3koKTtcbiAgICAgICAgcm9vdC5yZWYucGFzdGVyID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJvdXRlIGFjdGlvbnNcbiAqL1xuY29uc3Qgcm91dGUkNSA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfU0VUX0FMTE9XX0JST1dTRTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgICB0b2dnbGVCcm93c2Uocm9vdCwgcHJvcHMpO1xuICAgIH0sXG4gICAgRElEX1NFVF9BTExPV19EUk9QOiAoeyByb290IH0pID0+IHtcbiAgICAgICAgdG9nZ2xlRHJvcChyb290KTtcbiAgICB9LFxuICAgIERJRF9TRVRfQUxMT1dfUEFTVEU6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICB0b2dnbGVQYXN0ZShyb290KTtcbiAgICB9LFxuICAgIERJRF9TRVRfRElTQUJMRUQ6ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgICAgdG9nZ2xlRHJvcChyb290KTtcbiAgICAgICAgdG9nZ2xlUGFzdGUocm9vdCk7XG4gICAgICAgIHRvZ2dsZUJyb3dzZShyb290LCBwcm9wcyk7XG4gICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRpc2FibGVkID0gJ2Rpc2FibGVkJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlbGV0ZSByb290LmVsZW1lbnQuZGF0YXNldC5kaXNhYmxlZDsgPD0gdGhpcyBkb2VzIG5vdCB3b3JrIG9uIGlPUyAxMFxuICAgICAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5jb25zdCByb290ID0gY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ3Jvb3QnLFxuICAgIHJlYWQ6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICBpZiAocm9vdC5yZWYubWVhc3VyZSkge1xuICAgICAgICAgICAgcm9vdC5yZWYubWVhc3VyZUhlaWdodCA9IHJvb3QucmVmLm1lYXN1cmUub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGNyZWF0ZSRlLFxuICAgIHdyaXRlOiB3cml0ZSQ5LFxuICAgIGRlc3Ryb3k6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICBpZiAocm9vdC5yZWYucGFzdGVyKSB7XG4gICAgICAgICAgICByb290LnJlZi5wYXN0ZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb290LnJlZi5ob3BwZXIpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLmhvcHBlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnQpO1xuICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZ2VzdHVyZXN0YXJ0JywgcHJldmVudCk7XG4gICAgfSxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ2hlaWdodCddLFxuICAgIH0sXG59KTtcblxuLy8gY3JlYXRlcyB0aGUgYXBwXG5jb25zdCBjcmVhdGVBcHAgPSAoaW5pdGlhbE9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIC8vIGxldCBlbGVtZW50XG4gICAgbGV0IG9yaWdpbmFsRWxlbWVudCA9IG51bGw7XG5cbiAgICAvLyBnZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG5cbiAgICAvLyBjcmVhdGUgdGhlIGRhdGEgc3RvcmUsIHRoaXMgd2lsbCBjb250YWluIGFsbCBvdXIgYXBwIGluZm9cbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICAgICAgICAvLyBpbml0aWFsIHN0YXRlIChzaG91bGQgYmUgc2VyaWFsaXphYmxlKVxuICAgICAgICBjcmVhdGVJbml0aWFsU3RhdGUoZGVmYXVsdE9wdGlvbnMpLFxuXG4gICAgICAgIC8vIHF1ZXJpZXNcbiAgICAgICAgW3F1ZXJpZXMsIGNyZWF0ZU9wdGlvblF1ZXJpZXMoZGVmYXVsdE9wdGlvbnMpXSxcblxuICAgICAgICAvLyBhY3Rpb24gaGFuZGxlcnNcbiAgICAgICAgW2FjdGlvbnMsIGNyZWF0ZU9wdGlvbkFjdGlvbnMoZGVmYXVsdE9wdGlvbnMpXVxuICAgICk7XG5cbiAgICAvLyBzZXQgaW5pdGlhbCBvcHRpb25zXG4gICAgc3RvcmUuZGlzcGF0Y2goJ1NFVF9PUFRJT05TJywgeyBvcHRpb25zOiBpbml0aWFsT3B0aW9ucyB9KTtcblxuICAgIC8vIGtpY2sgdGhyZWFkIGlmIHZpc2liaWxpdHkgY2hhbmdlc1xuICAgIGNvbnN0IHZpc2liaWxpdHlIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSByZXR1cm47XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKCdLSUNLJyk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eUhhbmRsZXIpO1xuXG4gICAgLy8gcmUtcmVuZGVyIG9uIHdpbmRvdyByZXNpemUgc3RhcnQgYW5kIGZpbmlzaFxuICAgIGxldCByZXNpemVEb25lVGltZXIgPSBudWxsO1xuICAgIGxldCBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgbGV0IGlzUmVzaXppbmdIb3Jpem9udGFsbHkgPSBmYWxzZTtcbiAgICBsZXQgaW5pdGlhbFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICBsZXQgY3VycmVudFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICBjb25zdCByZXNpemVIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWlzUmVzaXppbmcpIHtcbiAgICAgICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVEb25lVGltZXIpO1xuICAgICAgICByZXNpemVEb25lVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGluaXRpYWxXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50V2luZG93V2lkdGggPSBudWxsO1xuICAgICAgICAgICAgaWYgKGlzUmVzaXppbmdIb3Jpem9udGFsbHkpIHtcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9TVE9QX1JFU0laRScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA1MDApO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuXG4gICAgLy8gcmVuZGVyIGluaXRpYWwgdmlld1xuICAgIGNvbnN0IHZpZXcgPSByb290KHN0b3JlLCB7IGlkOiBnZXRVbmlxdWVJZCgpIH0pO1xuXG4gICAgLy9cbiAgICAvLyBQUklWQVRFIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICBsZXQgaXNSZXN0aW5nID0gZmFsc2U7XG4gICAgbGV0IGlzSGlkZGVuID0gZmFsc2U7XG5cbiAgICBjb25zdCByZWFkV3JpdGVBcGkgPSB7XG4gICAgICAgIC8vIG5lY2Vzc2FyeSBmb3IgdXBkYXRlIGxvb3BcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZHMgZnJvbSBkb20gKG5ldmVyIGNhbGwgbWFudWFsbHkpXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfcmVhZDogKCkgPT4ge1xuICAgICAgICAgICAgLy8gdGVzdCBpZiB3ZSdyZSByZXNpemluZyBob3Jpem9udGFsbHlcbiAgICAgICAgICAgIC8vIFRPRE86IHNlZSBpZiB3ZSBjYW4gb3B0aW1pemUgdGhpcyBieSBtZWFzdXJpbmcgcm9vdCByZWN0XG4gICAgICAgICAgICBpZiAoaXNSZXNpemluZykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgIGlmICghaW5pdGlhbFdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxXaW5kb3dXaWR0aCA9IGN1cnJlbnRXaW5kb3dXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzUmVzaXppbmdIb3Jpem9udGFsbHkgJiYgY3VycmVudFdpbmRvd1dpZHRoICE9PSBpbml0aWFsV2luZG93V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9TVEFSVF9SRVNJWkUnKTtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXNpemluZ0hvcml6b250YWxseSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNIaWRkZW4gJiYgaXNSZXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gdGVzdCBpZiBpcyBubyBsb25nZXIgaGlkZGVuXG4gICAgICAgICAgICAgICAgaXNSZXN0aW5nID0gdmlldy5lbGVtZW50Lm9mZnNldFBhcmVudCA9PT0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgcmVzdGluZywgbm8gbmVlZCB0byByZWFkIGFzIG51bWJlcnMgd2lsbCBzdGlsbCBhbGwgYmUgY29ycmVjdFxuICAgICAgICAgICAgaWYgKGlzUmVzdGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyByZWFkIHZpZXcgZGF0YVxuICAgICAgICAgICAgdmlldy5fcmVhZCgpO1xuXG4gICAgICAgICAgICAvLyBpZiBpcyBoaWRkZW4gd2UgbmVlZCB0byBrbm93IHNvIHdlIGV4aXQgcmVzdCBtb2RlIHdoZW4gcmV2ZWFsZWRcbiAgICAgICAgICAgIGlzSGlkZGVuID0gdmlldy5yZWN0LmVsZW1lbnQuaGlkZGVuO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcml0ZXMgdG8gZG9tIChuZXZlciBjYWxsIG1hbnVhbGx5KVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3dyaXRlOiB0cyA9PiB7XG4gICAgICAgICAgICAvLyBnZXQgYWxsIGFjdGlvbnMgZnJvbSBzdG9yZVxuICAgICAgICAgICAgY29uc3QgYWN0aW9ucyA9IHN0b3JlXG4gICAgICAgICAgICAgICAgLnByb2Nlc3NBY3Rpb25RdWV1ZSgpXG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHNldCBhY3Rpb25zICh0aGVzZSB3aWxsIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciBESURfU0VUKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoYWN0aW9uID0+ICEvXlNFVF8vLnRlc3QoYWN0aW9uLnR5cGUpKTtcblxuICAgICAgICAgICAgLy8gaWYgd2FzIGlkbGluZyBhbmQgbm8gYWN0aW9ucyBzdG9wIGhlcmVcbiAgICAgICAgICAgIGlmIChpc1Jlc3RpbmcgJiYgIWFjdGlvbnMubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIHNvbWUgYWN0aW9ucyBtaWdodCB0cmlnZ2VyIGV2ZW50c1xuICAgICAgICAgICAgcm91dGVBY3Rpb25zVG9FdmVudHMoYWN0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdmlld1xuICAgICAgICAgICAgaXNSZXN0aW5nID0gdmlldy5fd3JpdGUodHMsIGFjdGlvbnMsIGlzUmVzaXppbmdIb3Jpem9udGFsbHkpO1xuXG4gICAgICAgICAgICAvLyB3aWxsIGNsZWFuIHVwIGFsbCBhcmNoaXZlZCBpdGVtc1xuICAgICAgICAgICAgcmVtb3ZlUmVsZWFzZWRJdGVtcyhzdG9yZS5xdWVyeSgnR0VUX0lURU1TJykpO1xuXG4gICAgICAgICAgICAvLyBub3cgaWRsaW5nXG4gICAgICAgICAgICBpZiAoaXNSZXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHJvY2Vzc0Rpc3BhdGNoUXVldWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy9cbiAgICAvLyBFWFBPU0UgRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIGNvbnN0IGNyZWF0ZUV2ZW50ID0gbmFtZSA9PiBkYXRhID0+IHtcbiAgICAgICAgLy8gY3JlYXRlIGRlZmF1bHQgZXZlbnRcbiAgICAgICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICAgICAgICB0eXBlOiBuYW1lLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIG5vIGRhdGEgdG8gYWRkXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29weSByZWxldmFudCBwcm9wc1xuICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnZXJyb3InKSkge1xuICAgICAgICAgICAgZXZlbnQuZXJyb3IgPSBkYXRhLmVycm9yID8geyAuLi5kYXRhLmVycm9yIH0gOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICBldmVudC5zdGF0dXMgPSB7IC4uLmRhdGEuc3RhdHVzIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5maWxlKSB7XG4gICAgICAgICAgICBldmVudC5vdXRwdXQgPSBkYXRhLmZpbGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbmx5IHNvdXJjZSBpcyBhdmFpbGFibGUsIGVsc2UgYWRkIGl0ZW0gaWYgcG9zc2libGVcbiAgICAgICAgaWYgKGRhdGEuc291cmNlKSB7XG4gICAgICAgICAgICBldmVudC5maWxlID0gZGF0YS5zb3VyY2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5pdGVtIHx8IGRhdGEuaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhLml0ZW0gPyBkYXRhLml0ZW0gOiBzdG9yZS5xdWVyeSgnR0VUX0lURU0nLCBkYXRhLmlkKTtcbiAgICAgICAgICAgIGV2ZW50LmZpbGUgPSBpdGVtID8gY3JlYXRlSXRlbUFQSShpdGVtKSA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYXAgYWxsIGl0ZW1zIGluIGEgcG9zc2libGUgaXRlbXMgYXJyYXlcbiAgICAgICAgaWYgKGRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgIGV2ZW50Lml0ZW1zID0gZGF0YS5pdGVtcy5tYXAoY3JlYXRlSXRlbUFQSSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgcHJvZ3Jlc3MgZXZlbnQgYWRkIHRoZSBwcm9ncmVzcyBhbW91bnRcbiAgICAgICAgaWYgKC9wcm9ncmVzcy8udGVzdChuYW1lKSkge1xuICAgICAgICAgICAgZXZlbnQucHJvZ3Jlc3MgPSBkYXRhLnByb2dyZXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29weSByZWxldmFudCBwcm9wc1xuICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnb3JpZ2luJykgJiYgZGF0YS5oYXNPd25Qcm9wZXJ0eSgndGFyZ2V0JykpIHtcbiAgICAgICAgICAgIGV2ZW50Lm9yaWdpbiA9IGRhdGEub3JpZ2luO1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gZGF0YS50YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGV2ZW50Um91dGVzID0ge1xuICAgICAgICBESURfREVTVFJPWTogY3JlYXRlRXZlbnQoJ2Rlc3Ryb3knKSxcblxuICAgICAgICBESURfSU5JVDogY3JlYXRlRXZlbnQoJ2luaXQnKSxcblxuICAgICAgICBESURfVEhST1dfTUFYX0ZJTEVTOiBjcmVhdGVFdmVudCgnd2FybmluZycpLFxuXG4gICAgICAgIERJRF9JTklUX0lURU06IGNyZWF0ZUV2ZW50KCdpbml0ZmlsZScpLFxuICAgICAgICBESURfU1RBUlRfSVRFTV9MT0FEOiBjcmVhdGVFdmVudCgnYWRkZmlsZXN0YXJ0JyksXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTOiBjcmVhdGVFdmVudCgnYWRkZmlsZXByb2dyZXNzJyksXG4gICAgICAgIERJRF9MT0FEX0lURU06IGNyZWF0ZUV2ZW50KCdhZGRmaWxlJyksXG5cbiAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogW2NyZWF0ZUV2ZW50KCdlcnJvcicpLCBjcmVhdGVFdmVudCgnYWRkZmlsZScpXSxcblxuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBbY3JlYXRlRXZlbnQoJ2Vycm9yJyksIGNyZWF0ZUV2ZW50KCdhZGRmaWxlJyldLFxuXG4gICAgICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogW2NyZWF0ZUV2ZW50KCdlcnJvcicpLCBjcmVhdGVFdmVudCgncmVtb3ZlZmlsZScpXSxcblxuICAgICAgICBESURfUFJFUEFSRV9PVVRQVVQ6IGNyZWF0ZUV2ZW50KCdwcmVwYXJlZmlsZScpLFxuXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXN0YXJ0JyksXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVwcm9ncmVzcycpLFxuICAgICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVhYm9ydCcpLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGUnKSxcbiAgICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lOR19BTEw6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXMnKSxcbiAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXJldmVydCcpLFxuXG4gICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IFtjcmVhdGVFdmVudCgnZXJyb3InKSwgY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlJyldLFxuXG4gICAgICAgIERJRF9SRU1PVkVfSVRFTTogY3JlYXRlRXZlbnQoJ3JlbW92ZWZpbGUnKSxcblxuICAgICAgICBESURfVVBEQVRFX0lURU1TOiBjcmVhdGVFdmVudCgndXBkYXRlZmlsZXMnKSxcblxuICAgICAgICBESURfQUNUSVZBVEVfSVRFTTogY3JlYXRlRXZlbnQoJ2FjdGl2YXRlZmlsZScpLFxuXG4gICAgICAgIERJRF9SRU9SREVSX0lURU1TOiBjcmVhdGVFdmVudCgncmVvcmRlcmZpbGVzJyksXG4gICAgfTtcblxuICAgIGNvbnN0IGV4cG9zZUV2ZW50ID0gZXZlbnQgPT4ge1xuICAgICAgICAvLyBjcmVhdGUgZXZlbnQgb2JqZWN0IHRvIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgY29uc3QgZGV0YWlsID0geyBwb25kOiBleHBvcnRzLCAuLi5ldmVudCB9O1xuICAgICAgICBkZWxldGUgZGV0YWlsLnR5cGU7XG4gICAgICAgIHZpZXcuZWxlbWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KGBGaWxlUG9uZDoke2V2ZW50LnR5cGV9YCwge1xuICAgICAgICAgICAgICAgIC8vIGV2ZW50IGluZm9cbiAgICAgICAgICAgICAgICBkZXRhaWwsXG5cbiAgICAgICAgICAgICAgICAvLyBldmVudCBiZWhhdmlvdXJcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29tcG9zZWQ6IHRydWUsIC8vIHRyaWdnZXJzIGxpc3RlbmVycyBvdXRzaWRlIG9mIHNoYWRvdyByb290XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGV2ZW50IG9iamVjdCB0byBwYXJhbXMgdXNlZCBmb3IgYG9uKClgIGV2ZW50IGhhbmRsZXJzIGFuZCBjYWxsYmFja3MgYG9uaW5pdCgpYFxuICAgICAgICBjb25zdCBwYXJhbXMgPSBbXTtcblxuICAgICAgICAvLyBpZiBpcyBwb3NzaWJsZSBlcnJvciBldmVudCwgbWFrZSBpdCB0aGUgZmlyc3QgcGFyYW1cbiAgICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KCdlcnJvcicpKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChldmVudC5lcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaWxlIGlzIGFsd2F5cyBzZWN0aW9uXG4gICAgICAgIGlmIChldmVudC5oYXNPd25Qcm9wZXJ0eSgnZmlsZScpKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChldmVudC5maWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFwcGVuZCBvdGhlciBwcm9wc1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsndHlwZScsICdlcnJvcicsICdmaWxlJ107XG4gICAgICAgIE9iamVjdC5rZXlzKGV2ZW50KVxuICAgICAgICAgICAgLmZpbHRlcihrZXkgPT4gIWZpbHRlcmVkLmluY2x1ZGVzKGtleSkpXG4gICAgICAgICAgICAuZm9yRWFjaChrZXkgPT4gcGFyYW1zLnB1c2goZXZlbnRba2V5XSkpO1xuXG4gICAgICAgIC8vIG9uKHR5cGUsICgpID0+IHsgfSlcbiAgICAgICAgZXhwb3J0cy5maXJlKGV2ZW50LnR5cGUsIC4uLnBhcmFtcyk7XG5cbiAgICAgICAgLy8gb25pbml0ID0gKCkgPT4ge31cbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHN0b3JlLnF1ZXJ5KGBHRVRfT04ke2V2ZW50LnR5cGUudG9VcHBlckNhc2UoKX1gKTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoLi4ucGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByb3V0ZUFjdGlvbnNUb0V2ZW50cyA9IGFjdGlvbnMgPT4ge1xuICAgICAgICBpZiAoIWFjdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIGFjdGlvbnNcbiAgICAgICAgICAgIC5maWx0ZXIoYWN0aW9uID0+IGV2ZW50Um91dGVzW2FjdGlvbi50eXBlXSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGFjdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGVzID0gZXZlbnRSb3V0ZXNbYWN0aW9uLnR5cGVdO1xuICAgICAgICAgICAgICAgIChBcnJheS5pc0FycmF5KHJvdXRlcykgPyByb3V0ZXMgOiBbcm91dGVzXSkuZm9yRWFjaChyb3V0ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXNuJ3QgZmFudGFzdGljLCBidXQgYmVjYXVzZSBvZiB0aGUgc3RhY2tpbmcgb2Ygc2V0dGltZW91dHMgcGx1Z2lucyBjYW4gaGFuZGxlIHRoZSBkaWRfbG9hZCBiZWZvcmUgdGhlIGRpZF9pbml0XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0RJRF9JTklUX0lURU0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvc2VFdmVudChyb3V0ZShhY3Rpb24uZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3NlRXZlbnQocm91dGUoYWN0aW9uLmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy9cbiAgICAvLyBQVUJMSUMgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIGNvbnN0IHNldE9wdGlvbnMgPSBvcHRpb25zID0+IHN0b3JlLmRpc3BhdGNoKCdTRVRfT1BUSU9OUycsIHsgb3B0aW9ucyB9KTtcblxuICAgIGNvbnN0IGdldEZpbGUgPSBxdWVyeSA9PiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNJywgcXVlcnkpO1xuXG4gICAgY29uc3QgcHJlcGFyZUZpbGUgPSBxdWVyeSA9PlxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BSRVBBUkUnLCB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgc3VjY2VzczogaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsdXJlOiBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGFkZEZpbGUgPSAoc291cmNlLCBvcHRpb25zID0ge30pID0+XG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGFkZEZpbGVzKFt7IHNvdXJjZSwgb3B0aW9ucyB9XSwgeyBpbmRleDogb3B0aW9ucy5pbmRleCB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGl0ZW1zID0+IHJlc29sdmUoaXRlbXMgJiYgaXRlbXNbMF0pKVxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGlzRmlsZVBvbmRGaWxlID0gb2JqID0+IG9iai5maWxlICYmIG9iai5pZDtcblxuICAgIGNvbnN0IHJlbW92ZUZpbGUgPSAocXVlcnksIG9wdGlvbnMpID0+IHtcbiAgICAgICAgLy8gaWYgb25seSBwYXNzZWQgb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JyAmJiAhaXNGaWxlUG9uZEZpbGUocXVlcnkpICYmICFvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gcXVlcnk7XG4gICAgICAgICAgICBxdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlcXVlc3QgaXRlbSByZW1vdmFsXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgLi4ub3B0aW9ucywgcXVlcnkgfSk7XG5cbiAgICAgICAgLy8gc2VlIGlmIGl0ZW0gaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICByZXR1cm4gc3RvcmUucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTScsIHF1ZXJ5KSA9PT0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgYWRkRmlsZXMgPSAoLi4uYXJncykgPT5cbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlcyA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgICAgICAvLyB1c2VyIHBhc3NlZCBhIHNvdXJjZXMgYXJyYXlcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoLmFwcGx5KHNvdXJjZXMsIGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgYXJnc1sxXSB8fCB7fSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHVzZXIgcGFzc2VkIHNvdXJjZXMgYXMgYXJndW1lbnRzLCBsYXN0IG9uZSBtaWdodCBiZSBvcHRpb25zIG9iamVjdFxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RBcmd1bWVudCA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxhc3RBcmd1bWVudCA9PT0gJ29iamVjdCcgJiYgIShsYXN0QXJndW1lbnQgaW5zdGFuY2VvZiBCbG9iKSkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIGFyZ3MucG9wKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFkZCByZXN0IHRvIHNvdXJjZXNcbiAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goLi4uYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHNvdXJjZXMsXG4gICAgICAgICAgICAgICAgaW5kZXg6IG9wdGlvbnMuaW5kZXgsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLkFQSSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgIGZhaWx1cmU6IHJlamVjdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGdldEZpbGVzID0gKCkgPT4gc3RvcmUucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKTtcblxuICAgIGNvbnN0IHByb2Nlc3NGaWxlID0gcXVlcnkgPT5cbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbHVyZTogZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBwcmVwYXJlRmlsZXMgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xuICAgICAgICBjb25zdCBpdGVtcyA9IHF1ZXJpZXMubGVuZ3RoID8gcXVlcmllcyA6IGdldEZpbGVzKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcy5tYXAocHJlcGFyZUZpbGUpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcHJvY2Vzc0ZpbGVzID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcmllcyA9IEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogYXJncztcbiAgICAgICAgaWYgKCFxdWVyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBnZXRGaWxlcygpLmZpbHRlcihcbiAgICAgICAgICAgICAgICBpdGVtID0+XG4gICAgICAgICAgICAgICAgICAgICEoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuSURMRSAmJiBpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCkgJiZcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgIT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lORyAmJlxuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFICYmXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVzLm1hcChwcm9jZXNzRmlsZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChxdWVyaWVzLm1hcChwcm9jZXNzRmlsZSkpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVGaWxlcyA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHF1ZXJpZXMgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG5cbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmICh0eXBlb2YgcXVlcmllc1txdWVyaWVzLmxlbmd0aCAtIDFdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHF1ZXJpZXMucG9wKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3NbMV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxlcyA9IGdldEZpbGVzKCk7XG5cbiAgICAgICAgaWYgKCFxdWVyaWVzLmxlbmd0aCkgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVzLm1hcChmaWxlID0+IHJlbW92ZUZpbGUoZmlsZSwgb3B0aW9ucykpKTtcblxuICAgICAgICAvLyB3aGVuIHJlbW92aW5nIGJ5IGluZGV4IHRoZSBpbmRleGVzIHNoaWZ0IGFmdGVyIGVhY2ggZmlsZSByZW1vdmFsIHNvIHdlIG5lZWQgdG8gY29udmVydCBpbmRleGVzIHRvIGlkc1xuICAgICAgICBjb25zdCBtYXBwZWRRdWVyaWVzID0gcXVlcmllc1xuICAgICAgICAgICAgLm1hcChxdWVyeSA9PiAoaXNOdW1iZXIocXVlcnkpID8gKGZpbGVzW3F1ZXJ5XSA/IGZpbGVzW3F1ZXJ5XS5pZCA6IG51bGwpIDogcXVlcnkpKVxuICAgICAgICAgICAgLmZpbHRlcihxdWVyeSA9PiBxdWVyeSk7XG5cbiAgICAgICAgcmV0dXJuIG1hcHBlZFF1ZXJpZXMubWFwKHEgPT4gcmVtb3ZlRmlsZShxLCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGV4cG9ydHMgPSB7XG4gICAgICAgIC8vIHN1cHBvcnRzIGV2ZW50c1xuICAgICAgICAuLi5vbigpLFxuXG4gICAgICAgIC8vIGluamVjdCBwcml2YXRlIGFwaSBtZXRob2RzXG4gICAgICAgIC4uLnJlYWRXcml0ZUFwaSxcblxuICAgICAgICAvLyBpbmplY3QgYWxsIGdldHRlcnMgYW5kIHNldHRlcnNcbiAgICAgICAgLi4uY3JlYXRlT3B0aW9uQVBJKHN0b3JlLCBkZWZhdWx0T3B0aW9ucyksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlIG9wdGlvbnMgZGVmaW5lZCBpbiBvcHRpb25zIG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0T3B0aW9ucyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZCB0aGUgZ2l2ZW4gZmlsZVxuICAgICAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHNvdXJjZSBvZiB0aGUgZmlsZSAoZWl0aGVyIGEgRmlsZSwgYmFzZTY0IGRhdGEgdXJpIG9yIHVybClcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBvYmplY3QsIHsgaW5kZXg6IDAgfVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkRmlsZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZCB0aGUgZ2l2ZW4gZmlsZXNcbiAgICAgICAgICogQHBhcmFtIHNvdXJjZXMgLSB0aGUgc291cmNlcyBvZiB0aGUgZmlsZXMgdG8gbG9hZFxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9iamVjdCwgeyBpbmRleDogMCB9XG4gICAgICAgICAqL1xuICAgICAgICBhZGRGaWxlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZmlsZSBvYmplY3RzIG1hdGNoaW5nIHRoZSBnaXZlbiBxdWVyeVxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCB9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGxvYWQgZmlsZSB3aXRoIGdpdmVuIG5hbWVcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IHsgc3RyaW5nLCBudW1iZXIsIG51bGwgIH1cbiAgICAgICAgICovXG4gICAgICAgIHByb2Nlc3NGaWxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXF1ZXN0IHByZXBhcmUgb3V0cHV0IGZvciBmaWxlIHdpdGggZ2l2ZW4gbmFtZVxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCAgfVxuICAgICAgICAgKi9cbiAgICAgICAgcHJlcGFyZUZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgYSBmaWxlIGJ5IGl0cyBuYW1lXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsICB9XG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVGaWxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyBhIGZpbGUgdG8gYSBuZXcgbG9jYXRpb24gaW4gdGhlIGZpbGVzIGxpc3RcbiAgICAgICAgICovXG4gICAgICAgIG1vdmVGaWxlOiAocXVlcnksIGluZGV4KSA9PiBzdG9yZS5kaXNwYXRjaCgnTU9WRV9JVEVNJywgeyBxdWVyeSwgaW5kZXggfSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYWxsIGZpbGVzICh3cmFwcGVkIGluIHB1YmxpYyBhcGkpXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWxlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhcnRzIHVwbG9hZGluZyBhbGwgZmlsZXNcbiAgICAgICAgICovXG4gICAgICAgIHByb2Nlc3NGaWxlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xlYXJzIGFsbCBmaWxlcyBmcm9tIHRoZSBmaWxlcyBsaXN0XG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVGaWxlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhcnRzIHByZXBhcmluZyBvdXRwdXQgb2YgYWxsIGZpbGVzXG4gICAgICAgICAqL1xuICAgICAgICBwcmVwYXJlRmlsZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvcnQgbGlzdCBvZiBmaWxlc1xuICAgICAgICAgKi9cbiAgICAgICAgc29ydDogY29tcGFyZSA9PiBzdG9yZS5kaXNwYXRjaCgnU09SVCcsIHsgY29tcGFyZSB9KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQnJvd3NlIHRoZSBmaWxlIHN5c3RlbSBmb3IgYSBmaWxlXG4gICAgICAgICAqL1xuICAgICAgICBicm93c2U6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIG5lZWRzIHRvIGJlIHRyaWdnZXIgZGlyZWN0bHkgYXMgdXNlciBhY3Rpb24gbmVlZHMgdG8gYmUgdHJhY2VhYmxlIChpcyBub3QgdHJhY2VhYmxlIGluIHJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHZpZXcuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPWZpbGVdJyk7XG4gICAgICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95cyB0aGUgYXBwXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICAgICAgICAvLyByZXF1ZXN0IGRlc3RydWN0aW9uXG4gICAgICAgICAgICBleHBvcnRzLmZpcmUoJ2Rlc3Ryb3knLCB2aWV3LmVsZW1lbnQpO1xuXG4gICAgICAgICAgICAvLyBzdG9wIGFjdGl2ZSBwcm9jZXNzZXMgKGZpbGUgdXBsb2FkcywgZmV0Y2hlcywgc3R1ZmYgbGlrZSB0aGF0KVxuICAgICAgICAgICAgLy8gbG9vcCBvdmVyIGl0ZW1zIGFuZCBkZXBlbmRpbmcgb24gc3RhdGVzIGNhbGwgYWJvcnQgZm9yIG9uZ29pbmcgcHJvY2Vzc2VzXG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQUJPUlRfQUxMJyk7XG5cbiAgICAgICAgICAgIC8vIGRlc3Ryb3kgdmlld1xuICAgICAgICAgICAgdmlldy5fZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAvLyBzdG9wIGxpc3RlbmluZyB0byByZXNpemVcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcblxuICAgICAgICAgICAgLy8gc3RvcCBsaXN0ZW5pbmcgdG8gdGhlIHZpc2libGl0eWNoYW5nZSBldmVudFxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHZpc2liaWxpdHlIYW5kbGVyKTtcblxuICAgICAgICAgICAgLy8gZGlzcGF0Y2ggZGVzdHJveVxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9ERVNUUk9ZJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc2VydHMgdGhlIHBsdWdpbiBiZWZvcmUgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBpbnNlcnRCZWZvcmU6IGVsZW1lbnQgPT4gaW5zZXJ0QmVmb3JlKHZpZXcuZWxlbWVudCwgZWxlbWVudCksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc2VydHMgdGhlIHBsdWdpbiBhZnRlciB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGluc2VydEFmdGVyOiBlbGVtZW50ID0+IGluc2VydEFmdGVyKHZpZXcuZWxlbWVudCwgZWxlbWVudCksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFwcGVuZHMgdGhlIHBsdWdpbiB0byB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGFwcGVuZFRvOiBlbGVtZW50ID0+IGVsZW1lbnQuYXBwZW5kQ2hpbGQodmlldy5lbGVtZW50KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwbGFjZXMgYW4gZWxlbWVudCB3aXRoIHRoZSBhcHBcbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VFbGVtZW50OiBlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIC8vIGluc2VydCB0aGUgYXBwIGJlZm9yZSB0aGUgZWxlbWVudFxuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKHZpZXcuZWxlbWVudCwgZWxlbWVudCk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgb3JpZ2luYWwgZWxlbWVudFxuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAvLyByZW1lbWJlciBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAgICBvcmlnaW5hbEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXN0b3JlcyB0aGUgb3JpZ2luYWwgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgcmVzdG9yZUVsZW1lbnQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBubyBlbGVtZW50IHRvIHJlc3RvcmVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVzdG9yZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAgICBpbnNlcnRBZnRlcihvcmlnaW5hbEVsZW1lbnQsIHZpZXcuZWxlbWVudCk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBvdXIgZWxlbWVudFxuICAgICAgICAgICAgdmlldy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodmlldy5lbGVtZW50KTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZVxuICAgICAgICAgICAgb3JpZ2luYWxFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBhcHAgcm9vdCBpcyBhdHRhY2hlZCB0byBnaXZlbiBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBpc0F0dGFjaGVkVG86IGVsZW1lbnQgPT4gdmlldy5lbGVtZW50ID09PSBlbGVtZW50IHx8IG9yaWdpbmFsRWxlbWVudCA9PT0gZWxlbWVudCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgcm9vdCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHZpZXcuZWxlbWVudCxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCBwb25kIHN0YXR1c1xuICAgICAgICAgKi9cbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHN0b3JlLnF1ZXJ5KCdHRVRfU1RBVFVTJyksXG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIERvbmUhXG4gICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9JTklUJyk7XG5cbiAgICAvLyBjcmVhdGUgYWN0dWFsIGFwaSBvYmplY3RcbiAgICByZXR1cm4gY3JlYXRlT2JqZWN0KGV4cG9ydHMpO1xufTtcblxuY29uc3QgY3JlYXRlQXBwT2JqZWN0ID0gKGN1c3RvbU9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge307XG4gICAgZm9yaW4oZ2V0T3B0aW9ucygpLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBkZWZhdWx0T3B0aW9uc1trZXldID0gdmFsdWVbMF07XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgYXBwIG9wdGlvbnNcbiAgICBjb25zdCBhcHAgPSBjcmVhdGVBcHAoe1xuICAgICAgICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG5cbiAgICAgICAgLy8gY3VzdG9tIG9wdGlvbnNcbiAgICAgICAgLi4uY3VzdG9tT3B0aW9ucyxcbiAgICB9KTtcblxuICAgIC8vIHJldHVybiB0aGUgcGx1Z2luIGluc3RhbmNlXG4gICAgcmV0dXJuIGFwcDtcbn07XG5cbmNvbnN0IGxvd2VyQ2FzZUZpcnN0TGV0dGVyID0gc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblxuY29uc3QgYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lID0gYXR0cmlidXRlTmFtZSA9PiB0b0NhbWVscyhhdHRyaWJ1dGVOYW1lLnJlcGxhY2UoL15kYXRhLS8sICcnKSk7XG5cbmNvbnN0IG1hcE9iamVjdCA9IChvYmplY3QsIHByb3BlcnR5TWFwKSA9PiB7XG4gICAgLy8gcmVtb3ZlIHVud2FudGVkXG4gICAgZm9yaW4ocHJvcGVydHlNYXAsIChzZWxlY3RvciwgbWFwcGluZykgPT4ge1xuICAgICAgICBmb3JpbihvYmplY3QsIChwcm9wZXJ0eSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSByZWdleHAgc2hvcnRjdXRcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yUmVnRXhwID0gbmV3IFJlZ0V4cChzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIC8vIHRlc3RzIGlmXG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gc2VsZWN0b3JSZWdFeHAudGVzdChwcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgIC8vIG5vIG1hdGNoLCBza2lwXG4gICAgICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBtYXBwaW5nLCB0aGUgb3JpZ2luYWwgcHJvcGVydHkgaXMgYWx3YXlzIHJlbW92ZWRcbiAgICAgICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuXG4gICAgICAgICAgICAvLyBzaG91bGQgb25seSByZW1vdmUsIHdlIGRvbmUhXG4gICAgICAgICAgICBpZiAobWFwcGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1vdmUgdmFsdWUgdG8gbmV3IHByb3BlcnR5XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobWFwcGluZykpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RbbWFwcGluZ10gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1vdmUgdG8gZ3JvdXBcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbWFwcGluZy5ncm91cDtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChtYXBwaW5nKSAmJiAhb2JqZWN0W2dyb3VwXSkge1xuICAgICAgICAgICAgICAgIG9iamVjdFtncm91cF0gPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqZWN0W2dyb3VwXVtsb3dlckNhc2VGaXJzdExldHRlcihwcm9wZXJ0eS5yZXBsYWNlKHNlbGVjdG9yUmVnRXhwLCAnJykpXSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBkbyBzdWJtYXBwaW5nXG4gICAgICAgIGlmIChtYXBwaW5nLm1hcHBpbmcpIHtcbiAgICAgICAgICAgIG1hcE9iamVjdChvYmplY3RbbWFwcGluZy5ncm91cF0sIG1hcHBpbmcubWFwcGluZyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmNvbnN0IGdldEF0dHJpYnV0ZXNBc09iamVjdCA9IChub2RlLCBhdHRyaWJ1dGVNYXBwaW5nID0ge30pID0+IHtcbiAgICAvLyB0dXJuIGF0dHJpYnV0ZXMgaW50byBvYmplY3RcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XG4gICAgZm9yaW4obm9kZS5hdHRyaWJ1dGVzLCBpbmRleCA9PiB7XG4gICAgICAgIGF0dHJpYnV0ZXMucHVzaChub2RlLmF0dHJpYnV0ZXNbaW5kZXhdKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG91dHB1dCA9IGF0dHJpYnV0ZXNcbiAgICAgICAgLmZpbHRlcihhdHRyaWJ1dGUgPT4gYXR0cmlidXRlLm5hbWUpXG4gICAgICAgIC5yZWR1Y2UoKG9iaiwgYXR0cmlidXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHIobm9kZSwgYXR0cmlidXRlLm5hbWUpO1xuXG4gICAgICAgICAgICBvYmpbYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lKGF0dHJpYnV0ZS5uYW1lKV0gPVxuICAgICAgICAgICAgICAgIHZhbHVlID09PSBhdHRyaWJ1dGUubmFtZSA/IHRydWUgOiB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0sIHt9KTtcblxuICAgIC8vIGRvIG1hcHBpbmcgb2Ygb2JqZWN0IHByb3BlcnRpZXNcbiAgICBtYXBPYmplY3Qob3V0cHV0LCBhdHRyaWJ1dGVNYXBwaW5nKTtcblxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuXG5jb25zdCBjcmVhdGVBcHBBdEVsZW1lbnQgPSAoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgLy8gaG93IGF0dHJpYnV0ZXMgb2YgdGhlIGlucHV0IGVsZW1lbnQgYXJlIG1hcHBlZCB0byB0aGUgb3B0aW9ucyBmb3IgdGhlIHBsdWdpblxuICAgIGNvbnN0IGF0dHJpYnV0ZU1hcHBpbmcgPSB7XG4gICAgICAgIC8vIHRyYW5zbGF0ZSB0byBvdGhlciBuYW1lXG4gICAgICAgICdeY2xhc3MkJzogJ2NsYXNzTmFtZScsXG4gICAgICAgICdebXVsdGlwbGUkJzogJ2FsbG93TXVsdGlwbGUnLFxuICAgICAgICAnXmNhcHR1cmUkJzogJ2NhcHR1cmVNZXRob2QnLFxuICAgICAgICAnXndlYmtpdGRpcmVjdG9yeSQnOiAnYWxsb3dEaXJlY3Rvcmllc09ubHknLFxuXG4gICAgICAgIC8vIGdyb3VwIHVuZGVyIHNpbmdsZSBwcm9wZXJ0eVxuICAgICAgICAnXnNlcnZlcic6IHtcbiAgICAgICAgICAgIGdyb3VwOiAnc2VydmVyJyxcbiAgICAgICAgICAgIG1hcHBpbmc6IHtcbiAgICAgICAgICAgICAgICAnXnByb2Nlc3MnOiB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiAncHJvY2VzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnXnJldmVydCc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdyZXZlcnQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ15mZXRjaCc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdmZXRjaCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnXnJlc3RvcmUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiAncmVzdG9yZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnXmxvYWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiAnbG9hZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gZG9uJ3QgaW5jbHVkZSBpbiBvYmplY3RcbiAgICAgICAgJ150eXBlJCc6IGZhbHNlLFxuICAgICAgICAnXmZpbGVzJCc6IGZhbHNlLFxuICAgIH07XG5cbiAgICAvLyBhZGQgYWRkaXRpb25hbCBvcHRpb24gdHJhbnNsYXRvcnNcbiAgICBhcHBseUZpbHRlcnMoJ1NFVF9BVFRSSUJVVEVfVE9fT1BUSU9OX01BUCcsIGF0dHJpYnV0ZU1hcHBpbmcpO1xuXG4gICAgLy8gY3JlYXRlIGZpbmFsIG9wdGlvbnMgb2JqZWN0IGJ5IHNldHRpbmcgb3B0aW9ucyBvYmplY3QgYW5kIHRoZW4gb3ZlcnJpZGluZyBvcHRpb25zIHN1cHBsaWVkIG9uIGVsZW1lbnRcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgIH07XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVPcHRpb25zID0gZ2V0QXR0cmlidXRlc0FzT2JqZWN0KFxuICAgICAgICBlbGVtZW50Lm5vZGVOYW1lID09PSAnRklFTERTRVQnID8gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPWZpbGVdJykgOiBlbGVtZW50LFxuICAgICAgICBhdHRyaWJ1dGVNYXBwaW5nXG4gICAgKTtcblxuICAgIC8vIG1lcmdlIHdpdGggb3B0aW9ucyBvYmplY3RcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVPcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGlmIChpc09iamVjdChhdHRyaWJ1dGVPcHRpb25zW2tleV0pKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG1lcmdlZE9wdGlvbnNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRPcHRpb25zW2tleV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkT3B0aW9uc1trZXldLCBhdHRyaWJ1dGVPcHRpb25zW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVyZ2VkT3B0aW9uc1trZXldID0gYXR0cmlidXRlT3B0aW9uc1trZXldO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBpZiBwYXJlbnQgaXMgYSBmaWVsZHNldCwgZ2V0IGZpbGVzIGZyb20gcGFyZW50IGJ5IHNlbGVjdGluZyBhbGwgaW5wdXQgZmllbGRzIHRoYXQgYXJlIG5vdCBmaWxlIHVwbG9hZCBmaWVsZHNcbiAgICAvLyB0aGVzZSB3aWxsIHRoZW4gYmUgYXV0b21hdGljYWxseSBzZXQgdG8gdGhlIGluaXRpYWwgZmlsZXNcbiAgICBtZXJnZWRPcHRpb25zLmZpbGVzID0gKG9wdGlvbnMuZmlsZXMgfHwgW10pLmNvbmNhdChcbiAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Om5vdChbdHlwZT1maWxlXSknKSkubWFwKGlucHV0ID0+ICh7XG4gICAgICAgICAgICBzb3VyY2U6IGlucHV0LnZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IGlucHV0LmRhdGFzZXQudHlwZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKVxuICAgICk7XG5cbiAgICAvLyBidWlsZCBwbHVnaW5cbiAgICBjb25zdCBhcHAgPSBjcmVhdGVBcHBPYmplY3QobWVyZ2VkT3B0aW9ucyk7XG5cbiAgICAvLyBhZGQgYWxyZWFkeSBzZWxlY3RlZCBmaWxlc1xuICAgIGlmIChlbGVtZW50LmZpbGVzKSB7XG4gICAgICAgIEFycmF5LmZyb20oZWxlbWVudC5maWxlcykuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgICAgIGFwcC5hZGRGaWxlKGZpbGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyByZXBsYWNlIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgIGFwcC5yZXBsYWNlRWxlbWVudChlbGVtZW50KTtcblxuICAgIC8vIGV4cG9zZVxuICAgIHJldHVybiBhcHA7XG59O1xuXG4vLyBpZiBhbiBlbGVtZW50IGlzIHBhc3NlZCwgd2UgY3JlYXRlIHRoZSBpbnN0YW5jZSBhdCB0aGF0IGVsZW1lbnQsIGlmIG5vdCwgd2UganVzdCBjcmVhdGUgYW4gdXAgb2JqZWN0XG5jb25zdCBjcmVhdGVBcHAkMSA9ICguLi5hcmdzKSA9PlxuICAgIGlzTm9kZShhcmdzWzBdKSA/IGNyZWF0ZUFwcEF0RWxlbWVudCguLi5hcmdzKSA6IGNyZWF0ZUFwcE9iamVjdCguLi5hcmdzKTtcblxuY29uc3QgUFJJVkFURV9NRVRIT0RTID0gWydmaXJlJywgJ19yZWFkJywgJ193cml0ZSddO1xuXG5jb25zdCBjcmVhdGVBcHBBUEkgPSBhcHAgPT4ge1xuICAgIGNvbnN0IGFwaSA9IHt9O1xuXG4gICAgY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdChhcHAsIGFwaSwgUFJJVkFURV9NRVRIT0RTKTtcblxuICAgIHJldHVybiBhcGk7XG59O1xuXG4vKipcbiAqIFJlcGxhY2VzIHBsYWNlaG9sZGVycyBpbiBnaXZlbiBzdHJpbmcgd2l0aCByZXBsYWNlbWVudHNcbiAqIEBwYXJhbSBzdHJpbmcgLSBcIkZvbyB7YmFyfVwiXCJcbiAqIEBwYXJhbSByZXBsYWNlbWVudHMgLSB7IFwiYmFyXCI6IDEwIH1cbiAqL1xuY29uc3QgcmVwbGFjZUluU3RyaW5nID0gKHN0cmluZywgcmVwbGFjZW1lbnRzKSA9PlxuICAgIHN0cmluZy5yZXBsYWNlKC8oPzp7KFthLXpBLVpdKyl9KS9nLCAobWF0Y2gsIGdyb3VwKSA9PiByZXBsYWNlbWVudHNbZ3JvdXBdKTtcblxuY29uc3QgY3JlYXRlV29ya2VyID0gZm4gPT4ge1xuICAgIGNvbnN0IHdvcmtlckJsb2IgPSBuZXcgQmxvYihbJygnLCBmbi50b1N0cmluZygpLCAnKSgpJ10sIHtcbiAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnLFxuICAgIH0pO1xuICAgIGNvbnN0IHdvcmtlclVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwod29ya2VyQmxvYik7XG4gICAgY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJVUkwpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNmZXI6IChtZXNzYWdlLCBjYikgPT4ge30sXG4gICAgICAgIHBvc3Q6IChtZXNzYWdlLCBjYiwgdHJhbnNmZXJMaXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGdldFVuaXF1ZUlkKCk7XG5cbiAgICAgICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBjYihlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFuc2Zlckxpc3RcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIHRlcm1pbmF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCBsb2FkSW1hZ2UgPSB1cmwgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0pO1xuXG5jb25zdCByZW5hbWVGaWxlID0gKGZpbGUsIG5hbWUpID0+IHtcbiAgICBjb25zdCByZW5hbWVkRmlsZSA9IGZpbGUuc2xpY2UoMCwgZmlsZS5zaXplLCBmaWxlLnR5cGUpO1xuICAgIHJlbmFtZWRGaWxlLmxhc3RNb2RpZmllZERhdGUgPSBmaWxlLmxhc3RNb2RpZmllZERhdGU7XG4gICAgcmVuYW1lZEZpbGUubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHJlbmFtZWRGaWxlO1xufTtcblxuY29uc3QgY29weUZpbGUgPSBmaWxlID0+IHJlbmFtZUZpbGUoZmlsZSwgZmlsZS5uYW1lKTtcblxuLy8gYWxyZWFkeSByZWdpc3RlcmVkIHBsdWdpbnMgKGNhbid0IHJlZ2lzdGVyIHR3aWNlKVxuY29uc3QgcmVnaXN0ZXJlZFBsdWdpbnMgPSBbXTtcblxuLy8gcGFzcyB1dGlscyB0byBwbHVnaW5cbmNvbnN0IGNyZWF0ZUFwcFBsdWdpbiA9IHBsdWdpbiA9PiB7XG4gICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgaWYgKHJlZ2lzdGVyZWRQbHVnaW5zLmluY2x1ZGVzKHBsdWdpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlbWVtYmVyIHRoaXMgcGx1Z2luXG4gICAgcmVnaXN0ZXJlZFBsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgLy8gc2V0dXAhXG4gICAgY29uc3QgcGx1Z2luT3V0bGluZSA9IHBsdWdpbih7XG4gICAgICAgIGFkZEZpbHRlcixcbiAgICAgICAgdXRpbHM6IHtcbiAgICAgICAgICAgIFR5cGUsXG4gICAgICAgICAgICBmb3JpbixcbiAgICAgICAgICAgIGlzU3RyaW5nLFxuICAgICAgICAgICAgaXNGaWxlLFxuICAgICAgICAgICAgdG9OYXR1cmFsRmlsZVNpemUsXG4gICAgICAgICAgICByZXBsYWNlSW5TdHJpbmcsXG4gICAgICAgICAgICBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUsXG4gICAgICAgICAgICBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24sXG4gICAgICAgICAgICBndWVzc3RpbWF0ZU1pbWVUeXBlLFxuICAgICAgICAgICAgZ2V0RmlsZUZyb21CbG9iLFxuICAgICAgICAgICAgZ2V0RmlsZW5hbWVGcm9tVVJMLFxuICAgICAgICAgICAgY3JlYXRlUm91dGUsXG4gICAgICAgICAgICBjcmVhdGVXb3JrZXIsXG4gICAgICAgICAgICBjcmVhdGVWaWV3LFxuICAgICAgICAgICAgY3JlYXRlSXRlbUFQSSxcbiAgICAgICAgICAgIGxvYWRJbWFnZSxcbiAgICAgICAgICAgIGNvcHlGaWxlLFxuICAgICAgICAgICAgcmVuYW1lRmlsZSxcbiAgICAgICAgICAgIGNyZWF0ZUJsb2IsXG4gICAgICAgICAgICBhcHBseUZpbHRlckNoYWluLFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcsXG4gICAgICAgIH0sXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBmaWxlQWN0aW9uQnV0dG9uLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gYWRkIHBsdWdpbiBvcHRpb25zIHRvIGRlZmF1bHQgb3B0aW9uc1xuICAgIGV4dGVuZERlZmF1bHRPcHRpb25zKHBsdWdpbk91dGxpbmUub3B0aW9ucyk7XG59O1xuXG4vLyBmZWF0dXJlIGRldGVjdGlvbiB1c2VkIGJ5IHN1cHBvcnRlZCgpIG1ldGhvZFxuY29uc3QgaXNPcGVyYU1pbmkgPSAoKSA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhbWluaSkgPT09ICdbb2JqZWN0IE9wZXJhTWluaV0nO1xuY29uc3QgaGFzUHJvbWlzZXMgPSAoKSA9PiAnUHJvbWlzZScgaW4gd2luZG93O1xuY29uc3QgaGFzQmxvYlNsaWNlID0gKCkgPT4gJ3NsaWNlJyBpbiBCbG9iLnByb3RvdHlwZTtcbmNvbnN0IGhhc0NyZWF0ZU9iamVjdFVSTCA9ICgpID0+ICdVUkwnIGluIHdpbmRvdyAmJiAnY3JlYXRlT2JqZWN0VVJMJyBpbiB3aW5kb3cuVVJMO1xuY29uc3QgaGFzVmlzaWJpbGl0eSA9ICgpID0+ICd2aXNpYmlsaXR5U3RhdGUnIGluIGRvY3VtZW50O1xuY29uc3QgaGFzVGltaW5nID0gKCkgPT4gJ3BlcmZvcm1hbmNlJyBpbiB3aW5kb3c7IC8vIGlPUyA4LnhcbmNvbnN0IGhhc0NTU1N1cHBvcnRzID0gKCkgPT4gJ3N1cHBvcnRzJyBpbiAod2luZG93LkNTUyB8fCB7fSk7IC8vIHVzZSB0byBkZXRlY3QgU2FmYXJpIDkrXG5jb25zdCBpc0lFMTEgPSAoKSA9PiAvTVNJRXxUcmlkZW50Ly50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcblxuY29uc3Qgc3VwcG9ydGVkID0gKCgpID0+IHtcbiAgICAvLyBSdW5zIGltbWVkaWF0ZWx5IGFuZCB0aGVuIHJlbWVtYmVycyByZXN1bHQgZm9yIHN1YnNlcXVlbnQgY2FsbHNcbiAgICBjb25zdCBpc1N1cHBvcnRlZCA9XG4gICAgICAgIC8vIEhhcyB0byBiZSBhIGJyb3dzZXJcbiAgICAgICAgaXNCcm93c2VyKCkgJiZcbiAgICAgICAgLy8gQ2FuJ3QgcnVuIG9uIE9wZXJhIE1pbmkgZHVlIHRvIGxhY2sgb2YgZXZlcnl0aGluZ1xuICAgICAgICAhaXNPcGVyYU1pbmkoKSAmJlxuICAgICAgICAvLyBSZXF1aXJlIHRoZXNlIEFQSXMgdG8gZmVhdHVyZSBkZXRlY3QgYSBtb2Rlcm4gYnJvd3NlclxuICAgICAgICBoYXNWaXNpYmlsaXR5KCkgJiZcbiAgICAgICAgaGFzUHJvbWlzZXMoKSAmJlxuICAgICAgICBoYXNCbG9iU2xpY2UoKSAmJlxuICAgICAgICBoYXNDcmVhdGVPYmplY3RVUkwoKSAmJlxuICAgICAgICBoYXNUaW1pbmcoKSAmJlxuICAgICAgICAvLyBkb2Vzbid0IG5lZWQgQ1NTU3VwcG9ydHMgYnV0IGlzIGEgZ29vZCB3YXkgdG8gZGV0ZWN0IFNhZmFyaSA5KyAod2UgZG8gd2FudCB0byBzdXBwb3J0IElFMTEgdGhvdWdoKVxuICAgICAgICAoaGFzQ1NTU3VwcG9ydHMoKSB8fCBpc0lFMTEoKSk7XG5cbiAgICByZXR1cm4gKCkgPT4gaXNTdXBwb3J0ZWQ7XG59KSgpO1xuXG4vKipcbiAqIFBsdWdpbiBpbnRlcm5hbCBzdGF0ZSAob3ZlciBhbGwgaW5zdGFuY2VzKVxuICovXG5jb25zdCBzdGF0ZSA9IHtcbiAgICAvLyBhY3RpdmUgYXBwIGluc3RhbmNlcywgdXNlZCB0byByZWRyYXcgdGhlIGFwcHMgYW5kIHRvIGZpbmQgdGhlIGxhdGVyXG4gICAgYXBwczogW10sXG59O1xuXG4vLyBwbHVnaW4gbmFtZVxuY29uc3QgbmFtZSA9ICdmaWxlcG9uZCc7XG5cbi8qKlxuICogUHVibGljIFBsdWdpbiBtZXRob2RzXG4gKi9cbmNvbnN0IGZuID0gKCkgPT4ge307XG5sZXQgU3RhdHVzJDEgPSB7fTtcbmxldCBGaWxlU3RhdHVzID0ge307XG5sZXQgRmlsZU9yaWdpbiQxID0ge307XG5sZXQgT3B0aW9uVHlwZXMgPSB7fTtcbmxldCBjcmVhdGUkZiA9IGZuO1xubGV0IGRlc3Ryb3kgPSBmbjtcbmxldCBwYXJzZSA9IGZuO1xubGV0IGZpbmQgPSBmbjtcbmxldCByZWdpc3RlclBsdWdpbiA9IGZuO1xubGV0IGdldE9wdGlvbnMkMSA9IGZuO1xubGV0IHNldE9wdGlvbnMkMSA9IGZuO1xuXG4vLyBpZiBub3Qgc3VwcG9ydGVkLCBubyBBUElcbmlmIChzdXBwb3J0ZWQoKSkge1xuICAgIC8vIHN0YXJ0IHBhaW50ZXIgYW5kIGZpcmUgbG9hZCBldmVudFxuICAgIGNyZWF0ZVBhaW50ZXIoXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChhcHAgPT4gYXBwLl9yZWFkKCkpO1xuICAgICAgICB9LFxuICAgICAgICB0cyA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5hcHBzLmZvckVhY2goYXBwID0+IGFwcC5fd3JpdGUodHMpKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBmaXJlIGxvYWRlZCBldmVudCBzbyB3ZSBrbm93IHdoZW4gRmlsZVBvbmQgaXMgYXZhaWxhYmxlXG4gICAgY29uc3QgZGlzcGF0Y2ggPSAoKSA9PiB7XG4gICAgICAgIC8vIGxldCBvdGhlcnMga25vdyB3ZSBoYXZlIGFyZWEgcmVhZHlcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6bG9hZGVkJywge1xuICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWQsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZTogY3JlYXRlJGYsXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3ksXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlLFxuICAgICAgICAgICAgICAgICAgICBmaW5kLFxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlclBsdWdpbixcbiAgICAgICAgICAgICAgICAgICAgc2V0T3B0aW9uczogc2V0T3B0aW9ucyQxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGNsZWFuIHVwIGV2ZW50XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBkaXNwYXRjaCk7XG4gICAgfTtcblxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGluZycpIHtcbiAgICAgICAgLy8gbW92ZSB0byBiYWNrIG9mIGV4ZWN1dGlvbiBxdWV1ZSwgRmlsZVBvbmQgc2hvdWxkIGhhdmUgYmVlbiBleHBvcnRlZCBieSB0aGVuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZGlzcGF0Y2goKSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRpc3BhdGNoKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGVzIHRoZSBPcHRpb25UeXBlcyBvYmplY3QgYmFzZWQgb24gdGhlIGN1cnJlbnQgb3B0aW9uc1xuICAgIGNvbnN0IHVwZGF0ZU9wdGlvblR5cGVzID0gKCkgPT5cbiAgICAgICAgZm9yaW4oZ2V0T3B0aW9ucygpLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgT3B0aW9uVHlwZXNba2V5XSA9IHZhbHVlWzFdO1xuICAgICAgICB9KTtcblxuICAgIFN0YXR1cyQxID0geyAuLi5TdGF0dXMgfTtcbiAgICBGaWxlT3JpZ2luJDEgPSB7IC4uLkZpbGVPcmlnaW4gfTtcbiAgICBGaWxlU3RhdHVzID0geyAuLi5JdGVtU3RhdHVzIH07XG5cbiAgICBPcHRpb25UeXBlcyA9IHt9O1xuICAgIHVwZGF0ZU9wdGlvblR5cGVzKCk7XG5cbiAgICAvLyBjcmVhdGUgbWV0aG9kLCBjcmVhdGVzIGFwcHMgYW5kIGFkZHMgdGhlbSB0byB0aGUgYXBwIGFycmF5XG4gICAgY3JlYXRlJGYgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBhcHAgPSBjcmVhdGVBcHAkMSguLi5hcmdzKTtcbiAgICAgICAgYXBwLm9uKCdkZXN0cm95JywgZGVzdHJveSk7XG4gICAgICAgIHN0YXRlLmFwcHMucHVzaChhcHApO1xuICAgICAgICByZXR1cm4gY3JlYXRlQXBwQVBJKGFwcCk7XG4gICAgfTtcblxuICAgIC8vIGRlc3Ryb3lzIGFwcHMgYW5kIHJlbW92ZXMgdGhlbSBmcm9tIHRoZSBhcHAgYXJyYXlcbiAgICBkZXN0cm95ID0gaG9vayA9PiB7XG4gICAgICAgIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgYXBwIHdhcyBkZXN0cm95ZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgIGNvbnN0IGluZGV4VG9SZW1vdmUgPSBzdGF0ZS5hcHBzLmZpbmRJbmRleChhcHAgPT4gYXBwLmlzQXR0YWNoZWRUbyhob29rKSk7XG4gICAgICAgIGlmIChpbmRleFRvUmVtb3ZlID49IDApIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGFwcHNcbiAgICAgICAgICAgIGNvbnN0IGFwcCA9IHN0YXRlLmFwcHMuc3BsaWNlKGluZGV4VG9SZW1vdmUsIDEpWzBdO1xuXG4gICAgICAgICAgICAvLyByZXN0b3JlIG9yaWdpbmFsIGRvbSBlbGVtZW50XG4gICAgICAgICAgICBhcHAucmVzdG9yZUVsZW1lbnQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIHBhcnNlcyB0aGUgZ2l2ZW4gY29udGV4dCBmb3IgcGx1Z2lucyAoZG9lcyBub3QgaW5jbHVkZSB0aGUgY29udGV4dCBlbGVtZW50IGl0c2VsZilcbiAgICBwYXJzZSA9IGNvbnRleHQgPT4ge1xuICAgICAgICAvLyBnZXQgYWxsIHBvc3NpYmxlIGhvb2tzXG4gICAgICAgIGNvbnN0IG1hdGNoZWRIb29rcyA9IEFycmF5LmZyb20oY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtuYW1lfWApKTtcblxuICAgICAgICAvLyBmaWx0ZXIgb3V0IGFscmVhZHkgYWN0aXZlIGhvb2tzXG4gICAgICAgIGNvbnN0IG5ld0hvb2tzID0gbWF0Y2hlZEhvb2tzLmZpbHRlcihcbiAgICAgICAgICAgIG5ld0hvb2sgPT4gIXN0YXRlLmFwcHMuZmluZChhcHAgPT4gYXBwLmlzQXR0YWNoZWRUbyhuZXdIb29rKSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBjcmVhdGUgbmV3IGluc3RhbmNlIGZvciBlYWNoIGhvb2tcbiAgICAgICAgcmV0dXJuIG5ld0hvb2tzLm1hcChob29rID0+IGNyZWF0ZSRmKGhvb2spKTtcbiAgICB9O1xuXG4gICAgLy8gcmV0dXJucyBhbiBhcHAgYmFzZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgaG9va1xuICAgIGZpbmQgPSBob29rID0+IHtcbiAgICAgICAgY29uc3QgYXBwID0gc3RhdGUuYXBwcy5maW5kKGFwcCA9PiBhcHAuaXNBdHRhY2hlZFRvKGhvb2spKTtcbiAgICAgICAgaWYgKCFhcHApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVBcHBBUEkoYXBwKTtcbiAgICB9O1xuXG4gICAgLy8gYWRkcyBhIHBsdWdpbiBleHRlbnNpb25cbiAgICByZWdpc3RlclBsdWdpbiA9ICguLi5wbHVnaW5zKSA9PiB7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHBsdWdpbnNcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGNyZWF0ZUFwcFBsdWdpbik7XG5cbiAgICAgICAgLy8gdXBkYXRlIE9wdGlvblR5cGVzLCBlYWNoIHBsdWdpbiBtaWdodCBoYXZlIGV4dGVuZGVkIHRoZSBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgdXBkYXRlT3B0aW9uVHlwZXMoKTtcbiAgICB9O1xuXG4gICAgZ2V0T3B0aW9ucyQxID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBvcHRzID0ge307XG4gICAgICAgIGZvcmluKGdldE9wdGlvbnMoKSwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIG9wdHNba2V5XSA9IHZhbHVlWzBdO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfTtcblxuICAgIHNldE9wdGlvbnMkMSA9IG9wdHMgPT4ge1xuICAgICAgICBpZiAoaXNPYmplY3Qob3B0cykpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBleGlzdGluZyBwbHVnaW5zXG4gICAgICAgICAgICBzdGF0ZS5hcHBzLmZvckVhY2goYXBwID0+IHtcbiAgICAgICAgICAgICAgICBhcHAuc2V0T3B0aW9ucyhvcHRzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBvdmVycmlkZSBkZWZhdWx0c1xuICAgICAgICAgICAgc2V0T3B0aW9ucyhvcHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiBuZXcgb3B0aW9uc1xuICAgICAgICByZXR1cm4gZ2V0T3B0aW9ucyQxKCk7XG4gICAgfTtcbn1cblxuZXhwb3J0IHtcbiAgICBGaWxlT3JpZ2luJDEgYXMgRmlsZU9yaWdpbixcbiAgICBGaWxlU3RhdHVzLFxuICAgIE9wdGlvblR5cGVzLFxuICAgIFN0YXR1cyQxIGFzIFN0YXR1cyxcbiAgICBjcmVhdGUkZiBhcyBjcmVhdGUsXG4gICAgZGVzdHJveSxcbiAgICBmaW5kLFxuICAgIGdldE9wdGlvbnMkMSBhcyBnZXRPcHRpb25zLFxuICAgIHBhcnNlLFxuICAgIHJlZ2lzdGVyUGx1Z2luLFxuICAgIHNldE9wdGlvbnMkMSBhcyBzZXRPcHRpb25zLFxuICAgIHN1cHBvcnRlZCxcbn07XG4iLCAiLyohXG4gKiBDcm9wcGVyLmpzIHYxLjYuMVxuICogaHR0cHM6Ly9mZW5neXVhbmNoZW4uZ2l0aHViLmlvL2Nyb3BwZXJqc1xuICpcbiAqIENvcHlyaWdodCAyMDE1LXByZXNlbnQgQ2hlbiBGZW5neXVhblxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKlxuICogRGF0ZTogMjAyMy0wOS0xN1QwMzo0NDoxOS44NjBaXG4gKi9cblxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7XG4gIHZhciB0ID0gT2JqZWN0LmtleXMoZSk7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO1xuICAgIHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTtcbiAgICB9KSksIHQucHVzaC5hcHBseSh0LCBvKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKGUpIHtcbiAgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHtcbiAgICB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307XG4gICAgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIF90eXBlb2Yobykge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykge1xuICAgIHJldHVybiB0eXBlb2YgbztcbiAgfSA6IGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87XG4gIH0sIF90eXBlb2Yobyk7XG59XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuICByZXR1cm4gYXJyMjtcbn1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAodHlwZW9mIHJlcyAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlcztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG59XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufVxuXG52YXIgSVNfQlJPV1NFUiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xudmFyIFdJTkRPVyA9IElTX0JST1dTRVIgPyB3aW5kb3cgOiB7fTtcbnZhciBJU19UT1VDSF9ERVZJQ0UgPSBJU19CUk9XU0VSICYmIFdJTkRPVy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyAnb250b3VjaHN0YXJ0JyBpbiBXSU5ET1cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogZmFsc2U7XG52YXIgSEFTX1BPSU5URVJfRVZFTlQgPSBJU19CUk9XU0VSID8gJ1BvaW50ZXJFdmVudCcgaW4gV0lORE9XIDogZmFsc2U7XG52YXIgTkFNRVNQQUNFID0gJ2Nyb3BwZXInO1xuXG4vLyBBY3Rpb25zXG52YXIgQUNUSU9OX0FMTCA9ICdhbGwnO1xudmFyIEFDVElPTl9DUk9QID0gJ2Nyb3AnO1xudmFyIEFDVElPTl9NT1ZFID0gJ21vdmUnO1xudmFyIEFDVElPTl9aT09NID0gJ3pvb20nO1xudmFyIEFDVElPTl9FQVNUID0gJ2UnO1xudmFyIEFDVElPTl9XRVNUID0gJ3cnO1xudmFyIEFDVElPTl9TT1VUSCA9ICdzJztcbnZhciBBQ1RJT05fTk9SVEggPSAnbic7XG52YXIgQUNUSU9OX05PUlRIX0VBU1QgPSAnbmUnO1xudmFyIEFDVElPTl9OT1JUSF9XRVNUID0gJ253JztcbnZhciBBQ1RJT05fU09VVEhfRUFTVCA9ICdzZSc7XG52YXIgQUNUSU9OX1NPVVRIX1dFU1QgPSAnc3cnO1xuXG4vLyBDbGFzc2VzXG52YXIgQ0xBU1NfQ1JPUCA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItY3JvcFwiKTtcbnZhciBDTEFTU19ESVNBQkxFRCA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItZGlzYWJsZWRcIik7XG52YXIgQ0xBU1NfSElEREVOID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1oaWRkZW5cIik7XG52YXIgQ0xBU1NfSElERSA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItaGlkZVwiKTtcbnZhciBDTEFTU19JTlZJU0lCTEUgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWludmlzaWJsZVwiKTtcbnZhciBDTEFTU19NT0RBTCA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItbW9kYWxcIik7XG52YXIgQ0xBU1NfTU9WRSA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItbW92ZVwiKTtcblxuLy8gRGF0YSBrZXlzXG52YXIgREFUQV9BQ1RJT04gPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiQWN0aW9uXCIpO1xudmFyIERBVEFfUFJFVklFVyA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCJQcmV2aWV3XCIpO1xuXG4vLyBEcmFnIG1vZGVzXG52YXIgRFJBR19NT0RFX0NST1AgPSAnY3JvcCc7XG52YXIgRFJBR19NT0RFX01PVkUgPSAnbW92ZSc7XG52YXIgRFJBR19NT0RFX05PTkUgPSAnbm9uZSc7XG5cbi8vIEV2ZW50c1xudmFyIEVWRU5UX0NST1AgPSAnY3JvcCc7XG52YXIgRVZFTlRfQ1JPUF9FTkQgPSAnY3JvcGVuZCc7XG52YXIgRVZFTlRfQ1JPUF9NT1ZFID0gJ2Nyb3Btb3ZlJztcbnZhciBFVkVOVF9DUk9QX1NUQVJUID0gJ2Nyb3BzdGFydCc7XG52YXIgRVZFTlRfREJMQ0xJQ0sgPSAnZGJsY2xpY2snO1xudmFyIEVWRU5UX1RPVUNIX1NUQVJUID0gSVNfVE9VQ0hfREVWSUNFID8gJ3RvdWNoc3RhcnQnIDogJ21vdXNlZG93bic7XG52YXIgRVZFTlRfVE9VQ0hfTU9WRSA9IElTX1RPVUNIX0RFVklDRSA/ICd0b3VjaG1vdmUnIDogJ21vdXNlbW92ZSc7XG52YXIgRVZFTlRfVE9VQ0hfRU5EID0gSVNfVE9VQ0hfREVWSUNFID8gJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJyA6ICdtb3VzZXVwJztcbnZhciBFVkVOVF9QT0lOVEVSX0RPV04gPSBIQVNfUE9JTlRFUl9FVkVOVCA/ICdwb2ludGVyZG93bicgOiBFVkVOVF9UT1VDSF9TVEFSVDtcbnZhciBFVkVOVF9QT0lOVEVSX01PVkUgPSBIQVNfUE9JTlRFUl9FVkVOVCA/ICdwb2ludGVybW92ZScgOiBFVkVOVF9UT1VDSF9NT1ZFO1xudmFyIEVWRU5UX1BPSU5URVJfVVAgPSBIQVNfUE9JTlRFUl9FVkVOVCA/ICdwb2ludGVydXAgcG9pbnRlcmNhbmNlbCcgOiBFVkVOVF9UT1VDSF9FTkQ7XG52YXIgRVZFTlRfUkVBRFkgPSAncmVhZHknO1xudmFyIEVWRU5UX1JFU0laRSA9ICdyZXNpemUnO1xudmFyIEVWRU5UX1dIRUVMID0gJ3doZWVsJztcbnZhciBFVkVOVF9aT09NID0gJ3pvb20nO1xuXG4vLyBNaW1lIHR5cGVzXG52YXIgTUlNRV9UWVBFX0pQRUcgPSAnaW1hZ2UvanBlZyc7XG5cbi8vIFJlZ0V4cHNcbnZhciBSRUdFWFBfQUNUSU9OUyA9IC9eZXx3fHN8bnxzZXxzd3xuZXxud3xhbGx8Y3JvcHxtb3ZlfHpvb20kLztcbnZhciBSRUdFWFBfREFUQV9VUkwgPSAvXmRhdGE6LztcbnZhciBSRUdFWFBfREFUQV9VUkxfSlBFRyA9IC9eZGF0YTppbWFnZVxcL2pwZWc7YmFzZTY0LC87XG52YXIgUkVHRVhQX1RBR19OQU1FID0gL15pbWd8Y2FudmFzJC9pO1xuXG4vLyBNaXNjXG4vLyBJbnNwaXJlZCBieSB0aGUgZGVmYXVsdCB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgY2FudmFzIGVsZW1lbnQuXG52YXIgTUlOX0NPTlRBSU5FUl9XSURUSCA9IDIwMDtcbnZhciBNSU5fQ09OVEFJTkVSX0hFSUdIVCA9IDEwMDtcblxudmFyIERFRkFVTFRTID0ge1xuICAvLyBEZWZpbmUgdGhlIHZpZXcgbW9kZSBvZiB0aGUgY3JvcHBlclxuICB2aWV3TW9kZTogMCxcbiAgLy8gMCwgMSwgMiwgM1xuXG4gIC8vIERlZmluZSB0aGUgZHJhZ2dpbmcgbW9kZSBvZiB0aGUgY3JvcHBlclxuICBkcmFnTW9kZTogRFJBR19NT0RFX0NST1AsXG4gIC8vICdjcm9wJywgJ21vdmUnIG9yICdub25lJ1xuXG4gIC8vIERlZmluZSB0aGUgaW5pdGlhbCBhc3BlY3QgcmF0aW8gb2YgdGhlIGNyb3AgYm94XG4gIGluaXRpYWxBc3BlY3RSYXRpbzogTmFOLFxuICAvLyBEZWZpbmUgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgY3JvcCBib3hcbiAgYXNwZWN0UmF0aW86IE5hTixcbiAgLy8gQW4gb2JqZWN0IHdpdGggdGhlIHByZXZpb3VzIGNyb3BwaW5nIHJlc3VsdCBkYXRhXG4gIGRhdGE6IG51bGwsXG4gIC8vIEEgc2VsZWN0b3IgZm9yIGFkZGluZyBleHRyYSBjb250YWluZXJzIHRvIHByZXZpZXdcbiAgcHJldmlldzogJycsXG4gIC8vIFJlLXJlbmRlciB0aGUgY3JvcHBlciB3aGVuIHJlc2l6ZSB0aGUgd2luZG93XG4gIHJlc3BvbnNpdmU6IHRydWUsXG4gIC8vIFJlc3RvcmUgdGhlIGNyb3BwZWQgYXJlYSBhZnRlciByZXNpemUgdGhlIHdpbmRvd1xuICByZXN0b3JlOiB0cnVlLFxuICAvLyBDaGVjayBpZiB0aGUgY3VycmVudCBpbWFnZSBpcyBhIGNyb3NzLW9yaWdpbiBpbWFnZVxuICBjaGVja0Nyb3NzT3JpZ2luOiB0cnVlLFxuICAvLyBDaGVjayB0aGUgY3VycmVudCBpbWFnZSdzIEV4aWYgT3JpZW50YXRpb24gaW5mb3JtYXRpb25cbiAgY2hlY2tPcmllbnRhdGlvbjogdHJ1ZSxcbiAgLy8gU2hvdyB0aGUgYmxhY2sgbW9kYWxcbiAgbW9kYWw6IHRydWUsXG4gIC8vIFNob3cgdGhlIGRhc2hlZCBsaW5lcyBmb3IgZ3VpZGluZ1xuICBndWlkZXM6IHRydWUsXG4gIC8vIFNob3cgdGhlIGNlbnRlciBpbmRpY2F0b3IgZm9yIGd1aWRpbmdcbiAgY2VudGVyOiB0cnVlLFxuICAvLyBTaG93IHRoZSB3aGl0ZSBtb2RhbCB0byBoaWdobGlnaHQgdGhlIGNyb3AgYm94XG4gIGhpZ2hsaWdodDogdHJ1ZSxcbiAgLy8gU2hvdyB0aGUgZ3JpZCBiYWNrZ3JvdW5kXG4gIGJhY2tncm91bmQ6IHRydWUsXG4gIC8vIEVuYWJsZSB0byBjcm9wIHRoZSBpbWFnZSBhdXRvbWF0aWNhbGx5IHdoZW4gaW5pdGlhbGl6ZVxuICBhdXRvQ3JvcDogdHJ1ZSxcbiAgLy8gRGVmaW5lIHRoZSBwZXJjZW50YWdlIG9mIGF1dG9tYXRpYyBjcm9wcGluZyBhcmVhIHdoZW4gaW5pdGlhbGl6ZXNcbiAgYXV0b0Nyb3BBcmVhOiAwLjgsXG4gIC8vIEVuYWJsZSB0byBtb3ZlIHRoZSBpbWFnZVxuICBtb3ZhYmxlOiB0cnVlLFxuICAvLyBFbmFibGUgdG8gcm90YXRlIHRoZSBpbWFnZVxuICByb3RhdGFibGU6IHRydWUsXG4gIC8vIEVuYWJsZSB0byBzY2FsZSB0aGUgaW1hZ2VcbiAgc2NhbGFibGU6IHRydWUsXG4gIC8vIEVuYWJsZSB0byB6b29tIHRoZSBpbWFnZVxuICB6b29tYWJsZTogdHJ1ZSxcbiAgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlIGJ5IGRyYWdnaW5nIHRvdWNoXG4gIHpvb21PblRvdWNoOiB0cnVlLFxuICAvLyBFbmFibGUgdG8gem9vbSB0aGUgaW1hZ2UgYnkgd2hlZWxpbmcgbW91c2VcbiAgem9vbU9uV2hlZWw6IHRydWUsXG4gIC8vIERlZmluZSB6b29tIHJhdGlvIHdoZW4gem9vbSB0aGUgaW1hZ2UgYnkgd2hlZWxpbmcgbW91c2VcbiAgd2hlZWxab29tUmF0aW86IDAuMSxcbiAgLy8gRW5hYmxlIHRvIG1vdmUgdGhlIGNyb3AgYm94XG4gIGNyb3BCb3hNb3ZhYmxlOiB0cnVlLFxuICAvLyBFbmFibGUgdG8gcmVzaXplIHRoZSBjcm9wIGJveFxuICBjcm9wQm94UmVzaXphYmxlOiB0cnVlLFxuICAvLyBUb2dnbGUgZHJhZyBtb2RlIGJldHdlZW4gXCJjcm9wXCIgYW5kIFwibW92ZVwiIHdoZW4gY2xpY2sgdHdpY2Ugb24gdGhlIGNyb3BwZXJcbiAgdG9nZ2xlRHJhZ01vZGVPbkRibGNsaWNrOiB0cnVlLFxuICAvLyBTaXplIGxpbWl0YXRpb25cbiAgbWluQ2FudmFzV2lkdGg6IDAsXG4gIG1pbkNhbnZhc0hlaWdodDogMCxcbiAgbWluQ3JvcEJveFdpZHRoOiAwLFxuICBtaW5Dcm9wQm94SGVpZ2h0OiAwLFxuICBtaW5Db250YWluZXJXaWR0aDogTUlOX0NPTlRBSU5FUl9XSURUSCxcbiAgbWluQ29udGFpbmVySGVpZ2h0OiBNSU5fQ09OVEFJTkVSX0hFSUdIVCxcbiAgLy8gU2hvcnRjdXRzIG9mIGV2ZW50c1xuICByZWFkeTogbnVsbCxcbiAgY3JvcHN0YXJ0OiBudWxsLFxuICBjcm9wbW92ZTogbnVsbCxcbiAgY3JvcGVuZDogbnVsbCxcbiAgY3JvcDogbnVsbCxcbiAgem9vbTogbnVsbFxufTtcblxudmFyIFRFTVBMQVRFID0gJzxkaXYgY2xhc3M9XCJjcm9wcGVyLWNvbnRhaW5lclwiIHRvdWNoLWFjdGlvbj1cIm5vbmVcIj4nICsgJzxkaXYgY2xhc3M9XCJjcm9wcGVyLXdyYXAtYm94XCI+JyArICc8ZGl2IGNsYXNzPVwiY3JvcHBlci1jYW52YXNcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImNyb3BwZXItZHJhZy1ib3hcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJjcm9wcGVyLWNyb3AtYm94XCI+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItdmlldy1ib3hcIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItZGFzaGVkIGRhc2hlZC1oXCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWRhc2hlZCBkYXNoZWQtdlwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1jZW50ZXJcIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItZmFjZVwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1saW5lIGxpbmUtZVwiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJlXCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWxpbmUgbGluZS1uXCIgZGF0YS1jcm9wcGVyLWFjdGlvbj1cIm5cIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItbGluZSBsaW5lLXdcIiBkYXRhLWNyb3BwZXItYWN0aW9uPVwid1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1saW5lIGxpbmUtc1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJzXCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLXBvaW50IHBvaW50LWVcIiBkYXRhLWNyb3BwZXItYWN0aW9uPVwiZVwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1uXCIgZGF0YS1jcm9wcGVyLWFjdGlvbj1cIm5cIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtd1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJ3XCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLXBvaW50IHBvaW50LXNcIiBkYXRhLWNyb3BwZXItYWN0aW9uPVwic1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1uZVwiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJuZVwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1ud1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJud1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1zd1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJzd1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1zZVwiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJzZVwiPjwvc3Bhbj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JztcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgbm90IGEgbnVtYmVyLlxuICovXG52YXIgaXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgV0lORE9XLmlzTmFOO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFpc05hTih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgcG9zaXRpdmUgbnVtYmVyLlxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBwb3NpdGl2ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAqL1xudmFyIGlzUG9zaXRpdmVOdW1iZXIgPSBmdW5jdGlvbiBpc1Bvc2l0aXZlTnVtYmVyKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA+IDAgJiYgdmFsdWUgPCBJbmZpbml0eTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIHVuZGVmaW5lZC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIHVuZGVmaW5lZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gb2JqZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGw7XG59XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgX2NvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvdHlwZSA9IF9jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgcmV0dXJuIF9jb25zdHJ1Y3RvciAmJiBwcm90b3R5cGUgJiYgaGFzT3duUHJvcGVydHkuY2FsbChwcm90b3R5cGUsICdpc1Byb3RvdHlwZU9mJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5LWxpa2Ugb3IgaXRlcmFibGUgb2JqZWN0IHRvIGFuIGFycmF5LlxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5LlxuICovXG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh2YWx1ZSkgOiBzbGljZS5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIHRoZSBnaXZlbiBkYXRhLlxuICogQHBhcmFtIHsqfSBkYXRhIC0gVGhlIGRhdGEgdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIHByb2Nlc3MgZnVuY3Rpb24gZm9yIGVhY2ggZWxlbWVudC5cbiAqIEByZXR1cm5zIHsqfSBUaGUgb3JpZ2luYWwgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChkYXRhLCBjYWxsYmFjaykge1xuICBpZiAoZGF0YSAmJiBpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpIHx8IGlzTnVtYmVyKGRhdGEubGVuZ3RoKSAvKiBhcnJheS1saWtlICovKSB7XG4gICAgICB0b0FycmF5KGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChkYXRhLCB2YWx1ZSwga2V5LCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKGRhdGEsIGRhdGFba2V5XSwga2V5LCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBFeHRlbmQgdGhlIGdpdmVuIG9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvYmplY3QgdG8gZXh0ZW5kLlxuICogQHBhcmFtIHsqfSBhcmdzIC0gVGhlIHJlc3Qgb2JqZWN0cyBmb3IgbWVyZ2luZyB0byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBleHRlbmRlZCBvYmplY3QuXG4gKi9cbnZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIGlmIChpc09iamVjdCh0YXJnZXQpICYmIGFyZ3MubGVuZ3RoID4gMCkge1xuICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICBpZiAoaXNPYmplY3QoYXJnKSkge1xuICAgICAgICBPYmplY3Qua2V5cyhhcmcpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gYXJnW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xudmFyIFJFR0VYUF9ERUNJTUFMUyA9IC9cXC5cXGQqKD86MHw5KXsxMn1cXGQqJC87XG5cbi8qKlxuICogTm9ybWFsaXplIGRlY2ltYWwgbnVtYmVyLlxuICogQ2hlY2sgb3V0IHtAbGluayBodHRwczovLzAuMzAwMDAwMDAwMDAwMDAwMDQuY29tL31cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBub3JtYWxpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3RpbWVzPTEwMDAwMDAwMDAwMF0gLSBUaGUgdGltZXMgZm9yIG5vcm1hbGl6aW5nLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBudW1iZXIuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIodmFsdWUpIHtcbiAgdmFyIHRpbWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwMDAwMDAwMDA7XG4gIHJldHVybiBSRUdFWFBfREVDSU1BTFMudGVzdCh2YWx1ZSkgPyBNYXRoLnJvdW5kKHZhbHVlICogdGltZXMpIC8gdGltZXMgOiB2YWx1ZTtcbn1cbnZhciBSRUdFWFBfU1VGRklYID0gL153aWR0aHxoZWlnaHR8bGVmdHx0b3B8bWFyZ2luTGVmdHxtYXJnaW5Ub3AkLztcblxuLyoqXG4gKiBBcHBseSBzdHlsZXMgdG8gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVzIC0gVGhlIHN0eWxlcyBmb3IgYXBwbHlpbmcuXG4gKi9cbmZ1bmN0aW9uIHNldFN0eWxlKGVsZW1lbnQsIHN0eWxlcykge1xuICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICBmb3JFYWNoKHN0eWxlcywgZnVuY3Rpb24gKHZhbHVlLCBwcm9wZXJ0eSkge1xuICAgIGlmIChSRUdFWFBfU1VGRklYLnRlc3QocHJvcGVydHkpICYmIGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSBcIlwiLmNvbmNhdCh2YWx1ZSwgXCJweFwiKTtcbiAgICB9XG4gICAgc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiBlbGVtZW50IGhhcyBhIHNwZWNpYWwgY2xhc3MuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBjaGVjay5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBjbGFzcyB0byBzZWFyY2guXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNwZWNpYWwgY2xhc3Mgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCB2YWx1ZSkge1xuICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QgPyBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyh2YWx1ZSkgOiBlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKHZhbHVlKSA+IC0xO1xufVxuXG4vKipcbiAqIEFkZCBjbGFzc2VzIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIHRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGNsYXNzZXMgdG8gYmUgYWRkZWQuXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzTnVtYmVyKGVsZW1lbnQubGVuZ3RoKSkge1xuICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIGFkZENsYXNzKGVsZW0sIHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnRyaW0oKTtcbiAgaWYgKCFjbGFzc05hbWUpIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IHZhbHVlO1xuICB9IGVsc2UgaWYgKGNsYXNzTmFtZS5pbmRleE9mKHZhbHVlKSA8IDApIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiXCIuY29uY2F0KGNsYXNzTmFtZSwgXCIgXCIpLmNvbmNhdCh2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgY2xhc3NlcyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIHRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGNsYXNzZXMgdG8gYmUgcmVtb3ZlZC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgdmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaXNOdW1iZXIoZWxlbWVudC5sZW5ndGgpKSB7XG4gICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgcmVtb3ZlQ2xhc3MoZWxlbSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodmFsdWUpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZih2YWx1ZSkgPj0gMCkge1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSh2YWx1ZSwgJycpO1xuICB9XG59XG5cbi8qKlxuICogQWRkIG9yIHJlbW92ZSBjbGFzc2VzIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgY2xhc3NlcyB0byBiZSB0b2dnbGVkLlxuICogQHBhcmFtIHtib29sZWFufSBhZGRlZCAtIEFkZCBvbmx5LlxuICovXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyhlbGVtZW50LCB2YWx1ZSwgYWRkZWQpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaXNOdW1iZXIoZWxlbWVudC5sZW5ndGgpKSB7XG4gICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgdG9nZ2xlQ2xhc3MoZWxlbSwgdmFsdWUsIGFkZGVkKTtcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJRTEwLTExIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgc2Vjb25kIHBhcmFtZXRlciBvZiBgY2xhc3NMaXN0LnRvZ2dsZWBcbiAgaWYgKGFkZGVkKSB7XG4gICAgYWRkQ2xhc3MoZWxlbWVudCwgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIHZhbHVlKTtcbiAgfVxufVxudmFyIFJFR0VYUF9DQU1FTF9DQVNFID0gLyhbYS16XFxkXSkoW0EtWl0pL2c7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBnaXZlbiBzdHJpbmcgZnJvbSBjYW1lbENhc2UgdG8ga2ViYWItY2FzZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSB0cmFuc2Zvcm1lZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gdG9QYXJhbUNhc2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoUkVHRVhQX0NBTUVMX0NBU0UsICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG59XG5cbi8qKlxuICogR2V0IGRhdGEgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIGRhdGEga2V5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBkYXRhIHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXREYXRhKGVsZW1lbnQsIG5hbWUpIHtcbiAgaWYgKGlzT2JqZWN0KGVsZW1lbnRbbmFtZV0pKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07XG4gIH1cbiAgaWYgKGVsZW1lbnQuZGF0YXNldCkge1xuICAgIHJldHVybiBlbGVtZW50LmRhdGFzZXRbbmFtZV07XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIi5jb25jYXQodG9QYXJhbUNhc2UobmFtZSkpKTtcbn1cblxuLyoqXG4gKiBTZXQgZGF0YSB0byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIGRhdGEga2V5IHRvIHNldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIC0gVGhlIGRhdGEgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHNldERhdGEoZWxlbWVudCwgbmFtZSwgZGF0YSkge1xuICBpZiAoaXNPYmplY3QoZGF0YSkpIHtcbiAgICBlbGVtZW50W25hbWVdID0gZGF0YTtcbiAgfSBlbHNlIGlmIChlbGVtZW50LmRhdGFzZXQpIHtcbiAgICBlbGVtZW50LmRhdGFzZXRbbmFtZV0gPSBkYXRhO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1cIi5jb25jYXQodG9QYXJhbUNhc2UobmFtZSkpLCBkYXRhKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBkYXRhIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBkYXRhIGtleSB0byByZW1vdmUuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICBpZiAoaXNPYmplY3QoZWxlbWVudFtuYW1lXSkpIHtcbiAgICB0cnkge1xuICAgICAgZGVsZXRlIGVsZW1lbnRbbmFtZV07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGVsZW1lbnRbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGVsZW1lbnQuZGF0YXNldCkge1xuICAgIC8vICMxMjggU2FmYXJpIG5vdCBhbGxvd3MgdG8gZGVsZXRlIGRhdGFzZXQgcHJvcGVydHlcbiAgICB0cnkge1xuICAgICAgZGVsZXRlIGVsZW1lbnQuZGF0YXNldFtuYW1lXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZWxlbWVudC5kYXRhc2V0W25hbWVdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtXCIuY29uY2F0KHRvUGFyYW1DYXNlKG5hbWUpKSk7XG4gIH1cbn1cbnZhciBSRUdFWFBfU1BBQ0VTID0gL1xcc1xccyovO1xudmFyIG9uY2VTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgaWYgKElTX0JST1dTRVIpIHtcbiAgICB2YXIgb25jZSA9IGZhbHNlO1xuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKCkge307XG4gICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdvbmNlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBvbmNlO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogVGhpcyBzZXR0ZXIgY2FuIGZpeCBhIGBUeXBlRXJyb3JgIGluIHN0cmljdCBtb2RlXG4gICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRXJyb3JzL0dldHRlcl9vbmx5fVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXRcbiAgICAgICAqL1xuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgb25jZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFdJTkRPVy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIFdJTkRPVy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0JywgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBzdXBwb3J0ZWQ7XG59KCk7XG5cbi8qKlxuICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGZyb20gdGhlIHRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGV2ZW50IHR5cGUocykuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBldmVudCBsaXN0ZW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIGV2ZW50IG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgdmFyIGhhbmRsZXIgPSBsaXN0ZW5lcjtcbiAgdHlwZS50cmltKCkuc3BsaXQoUkVHRVhQX1NQQUNFUykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoIW9uY2VTdXBwb3J0ZWQpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBlbGVtZW50Lmxpc3RlbmVycztcbiAgICAgIGlmIChsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzW2V2ZW50XSAmJiBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXSkge1xuICAgICAgICBoYW5kbGVyID0gbGlzdGVuZXJzW2V2ZW50XVtsaXN0ZW5lcl07XG4gICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGxpc3RlbmVyc1tldmVudF0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhsaXN0ZW5lcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBlbGVtZW50Lmxpc3RlbmVycztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIHRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGV2ZW50IHR5cGUocykuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBldmVudCBsaXN0ZW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIGV2ZW50IG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgdmFyIF9oYW5kbGVyID0gbGlzdGVuZXI7XG4gIHR5cGUudHJpbSgpLnNwbGl0KFJFR0VYUF9TUEFDRVMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKG9wdGlvbnMub25jZSAmJiAhb25jZVN1cHBvcnRlZCkge1xuICAgICAgdmFyIF9lbGVtZW50JGxpc3RlbmVycyA9IGVsZW1lbnQubGlzdGVuZXJzLFxuICAgICAgICBsaXN0ZW5lcnMgPSBfZWxlbWVudCRsaXN0ZW5lcnMgPT09IHZvaWQgMCA/IHt9IDogX2VsZW1lbnQkbGlzdGVuZXJzO1xuICAgICAgX2hhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBkZWxldGUgbGlzdGVuZXJzW2V2ZW50XVtsaXN0ZW5lcl07XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgX2hhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgIH1cbiAgICAgICAgbGlzdGVuZXIuYXBwbHkoZWxlbWVudCwgYXJncyk7XG4gICAgICB9O1xuICAgICAgaWYgKCFsaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIGxpc3RlbmVyc1tldmVudF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdID0gX2hhbmRsZXI7XG4gICAgICBlbGVtZW50Lmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICB9XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBfaGFuZGxlciwgb3B0aW9ucyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGV2ZW50IG9uIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBldmVudCB0eXBlKHMpLlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgYWRkaXRpb25hbCBldmVudCBkYXRhLlxuICogQHJldHVybnMge2Jvb2xlYW59IEluZGljYXRlIGlmIHRoZSBldmVudCBpcyBkZWZhdWx0IHByZXZlbnRlZCBvciBub3QuXG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgdHlwZSwgZGF0YSkge1xuICB2YXIgZXZlbnQ7XG5cbiAgLy8gRXZlbnQgYW5kIEN1c3RvbUV2ZW50IG9uIElFOS0xMSBhcmUgZ2xvYmFsIG9iamVjdHMsIG5vdCBjb25zdHJ1Y3RvcnNcbiAgaWYgKGlzRnVuY3Rpb24oRXZlbnQpICYmIGlzRnVuY3Rpb24oQ3VzdG9tRXZlbnQpKSB7XG4gICAgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgZGV0YWlsOiBkYXRhLFxuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgIGV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLCB0cnVlLCB0cnVlLCBkYXRhKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG9mZnNldCBiYXNlIG9uIHRoZSBkb2N1bWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvZmZzZXQgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0KGVsZW1lbnQpIHtcbiAgdmFyIGJveCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7XG4gICAgbGVmdDogYm94LmxlZnQgKyAod2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQpLFxuICAgIHRvcDogYm94LnRvcCArICh3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wKVxuICB9O1xufVxudmFyIGxvY2F0aW9uID0gV0lORE9XLmxvY2F0aW9uO1xudmFyIFJFR0VYUF9PUklHSU5TID0gL14oXFx3KzopXFwvXFwvKFteOi8/I10qKTo/KFxcZCopL2k7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIFVSTCBpcyBhIGNyb3NzIG9yaWdpbiBVUkwuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHRhcmdldCBVUkwuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIFVSTCBpcyBhIGNyb3NzIG9yaWdpbiBVUkwsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNDcm9zc09yaWdpblVSTCh1cmwpIHtcbiAgdmFyIHBhcnRzID0gdXJsLm1hdGNoKFJFR0VYUF9PUklHSU5TKTtcbiAgcmV0dXJuIHBhcnRzICE9PSBudWxsICYmIChwYXJ0c1sxXSAhPT0gbG9jYXRpb24ucHJvdG9jb2wgfHwgcGFydHNbMl0gIT09IGxvY2F0aW9uLmhvc3RuYW1lIHx8IHBhcnRzWzNdICE9PSBsb2NhdGlvbi5wb3J0KTtcbn1cblxuLyoqXG4gKiBBZGQgdGltZXN0YW1wIHRvIHRoZSBnaXZlbiBVUkwuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHRhcmdldCBVUkwuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVzdWx0IFVSTC5cbiAqL1xuZnVuY3Rpb24gYWRkVGltZXN0YW1wKHVybCkge1xuICB2YXIgdGltZXN0YW1wID0gXCJ0aW1lc3RhbXA9XCIuY29uY2F0KG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgcmV0dXJuIHVybCArICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyB0aW1lc3RhbXA7XG59XG5cbi8qKlxuICogR2V0IHRyYW5zZm9ybXMgYmFzZSBvbiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIFRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmcgY29udGFpbnMgdHJhbnNmb3JtIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtcyhfcmVmKSB7XG4gIHZhciByb3RhdGUgPSBfcmVmLnJvdGF0ZSxcbiAgICBzY2FsZVggPSBfcmVmLnNjYWxlWCxcbiAgICBzY2FsZVkgPSBfcmVmLnNjYWxlWSxcbiAgICB0cmFuc2xhdGVYID0gX3JlZi50cmFuc2xhdGVYLFxuICAgIHRyYW5zbGF0ZVkgPSBfcmVmLnRyYW5zbGF0ZVk7XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgaWYgKGlzTnVtYmVyKHRyYW5zbGF0ZVgpICYmIHRyYW5zbGF0ZVggIT09IDApIHtcbiAgICB2YWx1ZXMucHVzaChcInRyYW5zbGF0ZVgoXCIuY29uY2F0KHRyYW5zbGF0ZVgsIFwicHgpXCIpKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodHJhbnNsYXRlWSkgJiYgdHJhbnNsYXRlWSAhPT0gMCkge1xuICAgIHZhbHVlcy5wdXNoKFwidHJhbnNsYXRlWShcIi5jb25jYXQodHJhbnNsYXRlWSwgXCJweClcIikpO1xuICB9XG5cbiAgLy8gUm90YXRlIHNob3VsZCBjb21lIGZpcnN0IGJlZm9yZSBzY2FsZSB0byBtYXRjaCBvcmllbnRhdGlvbiB0cmFuc2Zvcm1cbiAgaWYgKGlzTnVtYmVyKHJvdGF0ZSkgJiYgcm90YXRlICE9PSAwKSB7XG4gICAgdmFsdWVzLnB1c2goXCJyb3RhdGUoXCIuY29uY2F0KHJvdGF0ZSwgXCJkZWcpXCIpKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIoc2NhbGVYKSAmJiBzY2FsZVggIT09IDEpIHtcbiAgICB2YWx1ZXMucHVzaChcInNjYWxlWChcIi5jb25jYXQoc2NhbGVYLCBcIilcIikpO1xuICB9XG4gIGlmIChpc051bWJlcihzY2FsZVkpICYmIHNjYWxlWSAhPT0gMSkge1xuICAgIHZhbHVlcy5wdXNoKFwic2NhbGVZKFwiLmNvbmNhdChzY2FsZVksIFwiKVwiKSk7XG4gIH1cbiAgdmFyIHRyYW5zZm9ybSA9IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXMuam9pbignICcpIDogJ25vbmUnO1xuICByZXR1cm4ge1xuICAgIFdlYmtpdFRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgIG1zVHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1cbiAgfTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1heCByYXRpbyBvZiBhIGdyb3VwIG9mIHBvaW50ZXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IHBvaW50ZXJzIC0gVGhlIHRhcmdldCBwb2ludGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSByZXN1bHQgcmF0aW8uXG4gKi9cbmZ1bmN0aW9uIGdldE1heFpvb21SYXRpbyhwb2ludGVycykge1xuICB2YXIgcG9pbnRlcnMyID0gX29iamVjdFNwcmVhZDIoe30sIHBvaW50ZXJzKTtcbiAgdmFyIG1heFJhdGlvID0gMDtcbiAgZm9yRWFjaChwb2ludGVycywgZnVuY3Rpb24gKHBvaW50ZXIsIHBvaW50ZXJJZCkge1xuICAgIGRlbGV0ZSBwb2ludGVyczJbcG9pbnRlcklkXTtcbiAgICBmb3JFYWNoKHBvaW50ZXJzMiwgZnVuY3Rpb24gKHBvaW50ZXIyKSB7XG4gICAgICB2YXIgeDEgPSBNYXRoLmFicyhwb2ludGVyLnN0YXJ0WCAtIHBvaW50ZXIyLnN0YXJ0WCk7XG4gICAgICB2YXIgeTEgPSBNYXRoLmFicyhwb2ludGVyLnN0YXJ0WSAtIHBvaW50ZXIyLnN0YXJ0WSk7XG4gICAgICB2YXIgeDIgPSBNYXRoLmFicyhwb2ludGVyLmVuZFggLSBwb2ludGVyMi5lbmRYKTtcbiAgICAgIHZhciB5MiA9IE1hdGguYWJzKHBvaW50ZXIuZW5kWSAtIHBvaW50ZXIyLmVuZFkpO1xuICAgICAgdmFyIHoxID0gTWF0aC5zcXJ0KHgxICogeDEgKyB5MSAqIHkxKTtcbiAgICAgIHZhciB6MiA9IE1hdGguc3FydCh4MiAqIHgyICsgeTIgKiB5Mik7XG4gICAgICB2YXIgcmF0aW8gPSAoejIgLSB6MSkgLyB6MTtcbiAgICAgIGlmIChNYXRoLmFicyhyYXRpbykgPiBNYXRoLmFicyhtYXhSYXRpbykpIHtcbiAgICAgICAgbWF4UmF0aW8gPSByYXRpbztcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBtYXhSYXRpbztcbn1cblxuLyoqXG4gKiBHZXQgYSBwb2ludGVyIGZyb20gYW4gZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gVGhlIHRhcmdldCBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGVuZE9ubHkgLSBJbmRpY2F0ZXMgaWYgb25seSByZXR1cm5zIHRoZSBlbmQgcG9pbnQgY29vcmRpbmF0ZSBvciBub3QuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IHBvaW50ZXIgY29udGFpbnMgc3RhcnQgYW5kL29yIGVuZCBwb2ludCBjb29yZGluYXRlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0UG9pbnRlcihfcmVmMiwgZW5kT25seSkge1xuICB2YXIgcGFnZVggPSBfcmVmMi5wYWdlWCxcbiAgICBwYWdlWSA9IF9yZWYyLnBhZ2VZO1xuICB2YXIgZW5kID0ge1xuICAgIGVuZFg6IHBhZ2VYLFxuICAgIGVuZFk6IHBhZ2VZXG4gIH07XG4gIHJldHVybiBlbmRPbmx5ID8gZW5kIDogX29iamVjdFNwcmVhZDIoe1xuICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgc3RhcnRZOiBwYWdlWVxuICB9LCBlbmQpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY2VudGVyIHBvaW50IGNvb3JkaW5hdGUgb2YgYSBncm91cCBvZiBwb2ludGVycy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVycyAtIFRoZSB0YXJnZXQgcG9pbnRlcnMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgY2VudGVyIHBvaW50IGNvb3JkaW5hdGUuXG4gKi9cbmZ1bmN0aW9uIGdldFBvaW50ZXJzQ2VudGVyKHBvaW50ZXJzKSB7XG4gIHZhciBwYWdlWCA9IDA7XG4gIHZhciBwYWdlWSA9IDA7XG4gIHZhciBjb3VudCA9IDA7XG4gIGZvckVhY2gocG9pbnRlcnMsIGZ1bmN0aW9uIChfcmVmMykge1xuICAgIHZhciBzdGFydFggPSBfcmVmMy5zdGFydFgsXG4gICAgICBzdGFydFkgPSBfcmVmMy5zdGFydFk7XG4gICAgcGFnZVggKz0gc3RhcnRYO1xuICAgIHBhZ2VZICs9IHN0YXJ0WTtcbiAgICBjb3VudCArPSAxO1xuICB9KTtcbiAgcGFnZVggLz0gY291bnQ7XG4gIHBhZ2VZIC89IGNvdW50O1xuICByZXR1cm4ge1xuICAgIHBhZ2VYOiBwYWdlWCxcbiAgICBwYWdlWTogcGFnZVlcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1heCBzaXplcyBpbiBhIHJlY3RhbmdsZSB1bmRlciB0aGUgZ2l2ZW4gYXNwZWN0IHJhdGlvLlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgb3JpZ2luYWwgc2l6ZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3R5cGU9J2NvbnRhaW4nXSAtIFRoZSBhZGp1c3QgdHlwZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHQgc2l6ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldEFkanVzdGVkU2l6ZXMoX3JlZjQpIHtcbiAgdmFyIGFzcGVjdFJhdGlvID0gX3JlZjQuYXNwZWN0UmF0aW8sXG4gICAgaGVpZ2h0ID0gX3JlZjQuaGVpZ2h0LFxuICAgIHdpZHRoID0gX3JlZjQud2lkdGg7XG4gIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnY29udGFpbic7XG4gIHZhciBpc1ZhbGlkV2lkdGggPSBpc1Bvc2l0aXZlTnVtYmVyKHdpZHRoKTtcbiAgdmFyIGlzVmFsaWRIZWlnaHQgPSBpc1Bvc2l0aXZlTnVtYmVyKGhlaWdodCk7XG4gIGlmIChpc1ZhbGlkV2lkdGggJiYgaXNWYWxpZEhlaWdodCkge1xuICAgIHZhciBhZGp1c3RlZFdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgaWYgKHR5cGUgPT09ICdjb250YWluJyAmJiBhZGp1c3RlZFdpZHRoID4gd2lkdGggfHwgdHlwZSA9PT0gJ2NvdmVyJyAmJiBhZGp1c3RlZFdpZHRoIDwgd2lkdGgpIHtcbiAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzVmFsaWRXaWR0aCkge1xuICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gIH0gZWxzZSBpZiAoaXNWYWxpZEhlaWdodCkge1xuICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG5ldyBzaXplcyBvZiBhIHJlY3RhbmdsZSBhZnRlciByb3RhdGVkLlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgb3JpZ2luYWwgc2l6ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IHNpemVzLlxuICovXG5mdW5jdGlvbiBnZXRSb3RhdGVkU2l6ZXMoX3JlZjUpIHtcbiAgdmFyIHdpZHRoID0gX3JlZjUud2lkdGgsXG4gICAgaGVpZ2h0ID0gX3JlZjUuaGVpZ2h0LFxuICAgIGRlZ3JlZSA9IF9yZWY1LmRlZ3JlZTtcbiAgZGVncmVlID0gTWF0aC5hYnMoZGVncmVlKSAlIDE4MDtcbiAgaWYgKGRlZ3JlZSA9PT0gOTApIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IGhlaWdodCxcbiAgICAgIGhlaWdodDogd2lkdGhcbiAgICB9O1xuICB9XG4gIHZhciBhcmMgPSBkZWdyZWUgJSA5MCAqIE1hdGguUEkgLyAxODA7XG4gIHZhciBzaW5BcmMgPSBNYXRoLnNpbihhcmMpO1xuICB2YXIgY29zQXJjID0gTWF0aC5jb3MoYXJjKTtcbiAgdmFyIG5ld1dpZHRoID0gd2lkdGggKiBjb3NBcmMgKyBoZWlnaHQgKiBzaW5BcmM7XG4gIHZhciBuZXdIZWlnaHQgPSB3aWR0aCAqIHNpbkFyYyArIGhlaWdodCAqIGNvc0FyYztcbiAgcmV0dXJuIGRlZ3JlZSA+IDkwID8ge1xuICAgIHdpZHRoOiBuZXdIZWlnaHQsXG4gICAgaGVpZ2h0OiBuZXdXaWR0aFxuICB9IDoge1xuICAgIHdpZHRoOiBuZXdXaWR0aCxcbiAgICBoZWlnaHQ6IG5ld0hlaWdodFxuICB9O1xufVxuXG4vKipcbiAqIEdldCBhIGNhbnZhcyB3aGljaCBkcmV3IHRoZSBnaXZlbiBpbWFnZS5cbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2UgLSBUaGUgaW1hZ2UgZm9yIGRyYXdpbmcuXG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhIC0gVGhlIGltYWdlIGRhdGEuXG4gKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRGF0YSAtIFRoZSBjYW52YXMgZGF0YS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSByZXN1bHQgY2FudmFzLlxuICovXG5mdW5jdGlvbiBnZXRTb3VyY2VDYW52YXMoaW1hZ2UsIF9yZWY2LCBfcmVmNywgX3JlZjgpIHtcbiAgdmFyIGltYWdlQXNwZWN0UmF0aW8gPSBfcmVmNi5hc3BlY3RSYXRpbyxcbiAgICBpbWFnZU5hdHVyYWxXaWR0aCA9IF9yZWY2Lm5hdHVyYWxXaWR0aCxcbiAgICBpbWFnZU5hdHVyYWxIZWlnaHQgPSBfcmVmNi5uYXR1cmFsSGVpZ2h0LFxuICAgIF9yZWY2JHJvdGF0ZSA9IF9yZWY2LnJvdGF0ZSxcbiAgICByb3RhdGUgPSBfcmVmNiRyb3RhdGUgPT09IHZvaWQgMCA/IDAgOiBfcmVmNiRyb3RhdGUsXG4gICAgX3JlZjYkc2NhbGVYID0gX3JlZjYuc2NhbGVYLFxuICAgIHNjYWxlWCA9IF9yZWY2JHNjYWxlWCA9PT0gdm9pZCAwID8gMSA6IF9yZWY2JHNjYWxlWCxcbiAgICBfcmVmNiRzY2FsZVkgPSBfcmVmNi5zY2FsZVksXG4gICAgc2NhbGVZID0gX3JlZjYkc2NhbGVZID09PSB2b2lkIDAgPyAxIDogX3JlZjYkc2NhbGVZO1xuICB2YXIgYXNwZWN0UmF0aW8gPSBfcmVmNy5hc3BlY3RSYXRpbyxcbiAgICBuYXR1cmFsV2lkdGggPSBfcmVmNy5uYXR1cmFsV2lkdGgsXG4gICAgbmF0dXJhbEhlaWdodCA9IF9yZWY3Lm5hdHVyYWxIZWlnaHQ7XG4gIHZhciBfcmVmOCRmaWxsQ29sb3IgPSBfcmVmOC5maWxsQ29sb3IsXG4gICAgZmlsbENvbG9yID0gX3JlZjgkZmlsbENvbG9yID09PSB2b2lkIDAgPyAndHJhbnNwYXJlbnQnIDogX3JlZjgkZmlsbENvbG9yLFxuICAgIF9yZWY4JGltYWdlU21vb3RoaW5nRSA9IF9yZWY4LmltYWdlU21vb3RoaW5nRW5hYmxlZCxcbiAgICBpbWFnZVNtb290aGluZ0VuYWJsZWQgPSBfcmVmOCRpbWFnZVNtb290aGluZ0UgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmOCRpbWFnZVNtb290aGluZ0UsXG4gICAgX3JlZjgkaW1hZ2VTbW9vdGhpbmdRID0gX3JlZjguaW1hZ2VTbW9vdGhpbmdRdWFsaXR5LFxuICAgIGltYWdlU21vb3RoaW5nUXVhbGl0eSA9IF9yZWY4JGltYWdlU21vb3RoaW5nUSA9PT0gdm9pZCAwID8gJ2xvdycgOiBfcmVmOCRpbWFnZVNtb290aGluZ1EsXG4gICAgX3JlZjgkbWF4V2lkdGggPSBfcmVmOC5tYXhXaWR0aCxcbiAgICBtYXhXaWR0aCA9IF9yZWY4JG1heFdpZHRoID09PSB2b2lkIDAgPyBJbmZpbml0eSA6IF9yZWY4JG1heFdpZHRoLFxuICAgIF9yZWY4JG1heEhlaWdodCA9IF9yZWY4Lm1heEhlaWdodCxcbiAgICBtYXhIZWlnaHQgPSBfcmVmOCRtYXhIZWlnaHQgPT09IHZvaWQgMCA/IEluZmluaXR5IDogX3JlZjgkbWF4SGVpZ2h0LFxuICAgIF9yZWY4JG1pbldpZHRoID0gX3JlZjgubWluV2lkdGgsXG4gICAgbWluV2lkdGggPSBfcmVmOCRtaW5XaWR0aCA9PT0gdm9pZCAwID8gMCA6IF9yZWY4JG1pbldpZHRoLFxuICAgIF9yZWY4JG1pbkhlaWdodCA9IF9yZWY4Lm1pbkhlaWdodCxcbiAgICBtaW5IZWlnaHQgPSBfcmVmOCRtaW5IZWlnaHQgPT09IHZvaWQgMCA/IDAgOiBfcmVmOCRtaW5IZWlnaHQ7XG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgdmFyIG1heFNpemVzID0gZ2V0QWRqdXN0ZWRTaXplcyh7XG4gICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgIHdpZHRoOiBtYXhXaWR0aCxcbiAgICBoZWlnaHQ6IG1heEhlaWdodFxuICB9KTtcbiAgdmFyIG1pblNpemVzID0gZ2V0QWRqdXN0ZWRTaXplcyh7XG4gICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgIHdpZHRoOiBtaW5XaWR0aCxcbiAgICBoZWlnaHQ6IG1pbkhlaWdodFxuICB9LCAnY292ZXInKTtcbiAgdmFyIHdpZHRoID0gTWF0aC5taW4obWF4U2l6ZXMud2lkdGgsIE1hdGgubWF4KG1pblNpemVzLndpZHRoLCBuYXR1cmFsV2lkdGgpKTtcbiAgdmFyIGhlaWdodCA9IE1hdGgubWluKG1heFNpemVzLmhlaWdodCwgTWF0aC5tYXgobWluU2l6ZXMuaGVpZ2h0LCBuYXR1cmFsSGVpZ2h0KSk7XG5cbiAgLy8gTm90ZTogc2hvdWxkIGFsd2F5cyB1c2UgaW1hZ2UncyBuYXR1cmFsIHNpemVzIGZvciBkcmF3aW5nIGFzXG4gIC8vIGltYWdlRGF0YS5uYXR1cmFsV2lkdGggPT09IGNhbnZhc0RhdGEubmF0dXJhbEhlaWdodCB3aGVuIHJvdGF0ZSAlIDE4MCA9PT0gOTBcbiAgdmFyIGRlc3RNYXhTaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgIGFzcGVjdFJhdGlvOiBpbWFnZUFzcGVjdFJhdGlvLFxuICAgIHdpZHRoOiBtYXhXaWR0aCxcbiAgICBoZWlnaHQ6IG1heEhlaWdodFxuICB9KTtcbiAgdmFyIGRlc3RNaW5TaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgIGFzcGVjdFJhdGlvOiBpbWFnZUFzcGVjdFJhdGlvLFxuICAgIHdpZHRoOiBtaW5XaWR0aCxcbiAgICBoZWlnaHQ6IG1pbkhlaWdodFxuICB9LCAnY292ZXInKTtcbiAgdmFyIGRlc3RXaWR0aCA9IE1hdGgubWluKGRlc3RNYXhTaXplcy53aWR0aCwgTWF0aC5tYXgoZGVzdE1pblNpemVzLndpZHRoLCBpbWFnZU5hdHVyYWxXaWR0aCkpO1xuICB2YXIgZGVzdEhlaWdodCA9IE1hdGgubWluKGRlc3RNYXhTaXplcy5oZWlnaHQsIE1hdGgubWF4KGRlc3RNaW5TaXplcy5oZWlnaHQsIGltYWdlTmF0dXJhbEhlaWdodCkpO1xuICB2YXIgcGFyYW1zID0gWy1kZXN0V2lkdGggLyAyLCAtZGVzdEhlaWdodCAvIDIsIGRlc3RXaWR0aCwgZGVzdEhlaWdodF07XG4gIGNhbnZhcy53aWR0aCA9IG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIod2lkdGgpO1xuICBjYW52YXMuaGVpZ2h0ID0gbm9ybWFsaXplRGVjaW1hbE51bWJlcihoZWlnaHQpO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgY29udGV4dC5zYXZlKCk7XG4gIGNvbnRleHQudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gIGNvbnRleHQucm90YXRlKHJvdGF0ZSAqIE1hdGguUEkgLyAxODApO1xuICBjb250ZXh0LnNjYWxlKHNjYWxlWCwgc2NhbGVZKTtcbiAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBpbWFnZVNtb290aGluZ0VuYWJsZWQ7XG4gIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gaW1hZ2VTbW9vdGhpbmdRdWFsaXR5O1xuICBjb250ZXh0LmRyYXdJbWFnZS5hcHBseShjb250ZXh0LCBbaW1hZ2VdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKHBhcmFtKSk7XG4gIH0pKSkpO1xuICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgcmV0dXJuIGNhbnZhcztcbn1cbnZhciBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG4vKipcbiAqIEdldCBzdHJpbmcgZnJvbSBjaGFyIGNvZGUgaW4gZGF0YSB2aWV3LlxuICogQHBhcmFtIHtEYXRhVmlld30gZGF0YVZpZXcgLSBUaGUgZGF0YSB2aWV3IGZvciByZWFkLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gVGhlIHN0YXJ0IGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCAtIFRoZSByZWFkIGxlbmd0aC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZWFkIHJlc3VsdC5cbiAqL1xuZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbUNoYXJDb2RlKGRhdGFWaWV3LCBzdGFydCwgbGVuZ3RoKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgbGVuZ3RoICs9IHN0YXJ0O1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHN0ciArPSBmcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoaSkpO1xuICB9XG4gIHJldHVybiBzdHI7XG59XG52YXIgUkVHRVhQX0RBVEFfVVJMX0hFQUQgPSAvXmRhdGE6LiosLztcblxuLyoqXG4gKiBUcmFuc2Zvcm0gRGF0YSBVUkwgdG8gYXJyYXkgYnVmZmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVUkwgLSBUaGUgRGF0YSBVUkwgdG8gdHJhbnNmb3JtLlxuICogQHJldHVybnMge0FycmF5QnVmZmVyfSBUaGUgcmVzdWx0IGFycmF5IGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gZGF0YVVSTFRvQXJyYXlCdWZmZXIoZGF0YVVSTCkge1xuICB2YXIgYmFzZTY0ID0gZGF0YVVSTC5yZXBsYWNlKFJFR0VYUF9EQVRBX1VSTF9IRUFELCAnJyk7XG4gIHZhciBiaW5hcnkgPSBhdG9iKGJhc2U2NCk7XG4gIHZhciBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihiaW5hcnkubGVuZ3RoKTtcbiAgdmFyIHVpbnQ4ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICBmb3JFYWNoKHVpbnQ4LCBmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICB1aW50OFtpXSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkpO1xuICB9KTtcbiAgcmV0dXJuIGFycmF5QnVmZmVyO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhcnJheSBidWZmZXIgdG8gRGF0YSBVUkwuXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciAtIFRoZSBhcnJheSBidWZmZXIgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtzdHJpbmd9IG1pbWVUeXBlIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgRGF0YSBVUkwuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVzdWx0IERhdGEgVVJMLlxuICovXG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvRGF0YVVSTChhcnJheUJ1ZmZlciwgbWltZVR5cGUpIHtcbiAgdmFyIGNodW5rcyA9IFtdO1xuXG4gIC8vIENodW5rIFR5cGVkIEFycmF5IGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UgKCM0MzUpXG4gIHZhciBjaHVua1NpemUgPSA4MTkyO1xuICB2YXIgdWludDggPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG4gIHdoaWxlICh1aW50OC5sZW5ndGggPiAwKSB7XG4gICAgLy8gWFhYOiBCYWJlbCdzIGB0b0NvbnN1bWFibGVBcnJheWAgaGVscGVyIHdpbGwgdGhyb3cgZXJyb3IgaW4gSUUgb3IgU2FmYXJpIDlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgIGNodW5rcy5wdXNoKGZyb21DaGFyQ29kZS5hcHBseShudWxsLCB0b0FycmF5KHVpbnQ4LnN1YmFycmF5KDAsIGNodW5rU2l6ZSkpKSk7XG4gICAgdWludDggPSB1aW50OC5zdWJhcnJheShjaHVua1NpemUpO1xuICB9XG4gIHJldHVybiBcImRhdGE6XCIuY29uY2F0KG1pbWVUeXBlLCBcIjtiYXNlNjQsXCIpLmNvbmNhdChidG9hKGNodW5rcy5qb2luKCcnKSkpO1xufVxuXG4vKipcbiAqIEdldCBvcmllbnRhdGlvbiB2YWx1ZSBmcm9tIGdpdmVuIGFycmF5IGJ1ZmZlci5cbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byByZWFkLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIHJlYWQgb3JpZW50YXRpb24gdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHJlc2V0QW5kR2V0T3JpZW50YXRpb24oYXJyYXlCdWZmZXIpIHtcbiAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgdmFyIG9yaWVudGF0aW9uO1xuXG4gIC8vIElnbm9yZXMgcmFuZ2UgZXJyb3Igd2hlbiB0aGUgaW1hZ2UgZG9lcyBub3QgaGF2ZSBjb3JyZWN0IEV4aWYgaW5mb3JtYXRpb25cbiAgdHJ5IHtcbiAgICB2YXIgbGl0dGxlRW5kaWFuO1xuICAgIHZhciBhcHAxU3RhcnQ7XG4gICAgdmFyIGlmZFN0YXJ0O1xuXG4gICAgLy8gT25seSBoYW5kbGUgSlBFRyBpbWFnZSAoc3RhcnQgYnkgMHhGRkQ4KVxuICAgIGlmIChkYXRhVmlldy5nZXRVaW50OCgwKSA9PT0gMHhGRiAmJiBkYXRhVmlldy5nZXRVaW50OCgxKSA9PT0gMHhEOCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGRhdGFWaWV3LmJ5dGVMZW5ndGg7XG4gICAgICB2YXIgb2Zmc2V0ID0gMjtcbiAgICAgIHdoaWxlIChvZmZzZXQgKyAxIDwgbGVuZ3RoKSB7XG4gICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OChvZmZzZXQpID09PSAweEZGICYmIGRhdGFWaWV3LmdldFVpbnQ4KG9mZnNldCArIDEpID09PSAweEUxKSB7XG4gICAgICAgICAgYXBwMVN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXBwMVN0YXJ0KSB7XG4gICAgICB2YXIgZXhpZklEQ29kZSA9IGFwcDFTdGFydCArIDQ7XG4gICAgICB2YXIgdGlmZk9mZnNldCA9IGFwcDFTdGFydCArIDEwO1xuICAgICAgaWYgKGdldFN0cmluZ0Zyb21DaGFyQ29kZShkYXRhVmlldywgZXhpZklEQ29kZSwgNCkgPT09ICdFeGlmJykge1xuICAgICAgICB2YXIgZW5kaWFubmVzcyA9IGRhdGFWaWV3LmdldFVpbnQxNih0aWZmT2Zmc2V0KTtcbiAgICAgICAgbGl0dGxlRW5kaWFuID0gZW5kaWFubmVzcyA9PT0gMHg0OTQ5O1xuICAgICAgICBpZiAobGl0dGxlRW5kaWFuIHx8IGVuZGlhbm5lc3MgPT09IDB4NEQ0RCAvKiBiaWdFbmRpYW4gKi8pIHtcbiAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDE2KHRpZmZPZmZzZXQgKyAyLCBsaXR0bGVFbmRpYW4pID09PSAweDAwMkEpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdElGRE9mZnNldCA9IGRhdGFWaWV3LmdldFVpbnQzMih0aWZmT2Zmc2V0ICsgNCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgIGlmIChmaXJzdElGRE9mZnNldCA+PSAweDAwMDAwMDA4KSB7XG4gICAgICAgICAgICAgIGlmZFN0YXJ0ID0gdGlmZk9mZnNldCArIGZpcnN0SUZET2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaWZkU3RhcnQpIHtcbiAgICAgIHZhciBfbGVuZ3RoID0gZGF0YVZpZXcuZ2V0VWludDE2KGlmZFN0YXJ0LCBsaXR0bGVFbmRpYW4pO1xuICAgICAgdmFyIF9vZmZzZXQ7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBfbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgX29mZnNldCA9IGlmZFN0YXJ0ICsgaSAqIDEyICsgMjtcbiAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQxNihfb2Zmc2V0LCBsaXR0bGVFbmRpYW4pID09PSAweDAxMTIgLyogT3JpZW50YXRpb24gKi8pIHtcbiAgICAgICAgICAvLyA4IGlzIHRoZSBvZmZzZXQgb2YgdGhlIGN1cnJlbnQgdGFnJ3MgdmFsdWVcbiAgICAgICAgICBfb2Zmc2V0ICs9IDg7XG5cbiAgICAgICAgICAvLyBHZXQgdGhlIG9yaWdpbmFsIG9yaWVudGF0aW9uIHZhbHVlXG4gICAgICAgICAgb3JpZW50YXRpb24gPSBkYXRhVmlldy5nZXRVaW50MTYoX29mZnNldCwgbGl0dGxlRW5kaWFuKTtcblxuICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBvcmllbnRhdGlvbiB3aXRoIGl0cyBkZWZhdWx0IHZhbHVlXG4gICAgICAgICAgZGF0YVZpZXcuc2V0VWludDE2KF9vZmZzZXQsIDEsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgb3JpZW50YXRpb24gPSAxO1xuICB9XG4gIHJldHVybiBvcmllbnRhdGlvbjtcbn1cblxuLyoqXG4gKiBQYXJzZSBFeGlmIE9yaWVudGF0aW9uIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IG9yaWVudGF0aW9uIC0gVGhlIG9yaWVudGF0aW9uIHRvIHBhcnNlLlxuICogQHJldHVybnMge09iamVjdH0gVGhlIHBhcnNlZCByZXN1bHQuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlT3JpZW50YXRpb24ob3JpZW50YXRpb24pIHtcbiAgdmFyIHJvdGF0ZSA9IDA7XG4gIHZhciBzY2FsZVggPSAxO1xuICB2YXIgc2NhbGVZID0gMTtcbiAgc3dpdGNoIChvcmllbnRhdGlvbikge1xuICAgIC8vIEZsaXAgaG9yaXpvbnRhbFxuICAgIGNhc2UgMjpcbiAgICAgIHNjYWxlWCA9IC0xO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyBSb3RhdGUgbGVmdCAxODBcdTAwQjBcbiAgICBjYXNlIDM6XG4gICAgICByb3RhdGUgPSAtMTgwO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyBGbGlwIHZlcnRpY2FsXG4gICAgY2FzZSA0OlxuICAgICAgc2NhbGVZID0gLTE7XG4gICAgICBicmVhaztcblxuICAgIC8vIEZsaXAgdmVydGljYWwgYW5kIHJvdGF0ZSByaWdodCA5MFx1MDBCMFxuICAgIGNhc2UgNTpcbiAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgc2NhbGVZID0gLTE7XG4gICAgICBicmVhaztcblxuICAgIC8vIFJvdGF0ZSByaWdodCA5MFx1MDBCMFxuICAgIGNhc2UgNjpcbiAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyBGbGlwIGhvcml6b250YWwgYW5kIHJvdGF0ZSByaWdodCA5MFx1MDBCMFxuICAgIGNhc2UgNzpcbiAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgc2NhbGVYID0gLTE7XG4gICAgICBicmVhaztcblxuICAgIC8vIFJvdGF0ZSBsZWZ0IDkwXHUwMEIwXG4gICAgY2FzZSA4OlxuICAgICAgcm90YXRlID0gLTkwO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByb3RhdGU6IHJvdGF0ZSxcbiAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICBzY2FsZVk6IHNjYWxlWVxuICB9O1xufVxuXG52YXIgcmVuZGVyID0ge1xuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB0aGlzLmluaXRDb250YWluZXIoKTtcbiAgICB0aGlzLmluaXRDYW52YXMoKTtcbiAgICB0aGlzLmluaXRDcm9wQm94KCk7XG4gICAgdGhpcy5yZW5kZXJDYW52YXMoKTtcbiAgICBpZiAodGhpcy5jcm9wcGVkKSB7XG4gICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICB9XG4gIH0sXG4gIGluaXRDb250YWluZXI6IGZ1bmN0aW9uIGluaXRDb250YWluZXIoKSB7XG4gICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICBjcm9wcGVyID0gdGhpcy5jcm9wcGVyO1xuICAgIHZhciBtaW5XaWR0aCA9IE51bWJlcihvcHRpb25zLm1pbkNvbnRhaW5lcldpZHRoKTtcbiAgICB2YXIgbWluSGVpZ2h0ID0gTnVtYmVyKG9wdGlvbnMubWluQ29udGFpbmVySGVpZ2h0KTtcbiAgICBhZGRDbGFzcyhjcm9wcGVyLCBDTEFTU19ISURERU4pO1xuICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIENMQVNTX0hJRERFTik7XG4gICAgdmFyIGNvbnRhaW5lckRhdGEgPSB7XG4gICAgICB3aWR0aDogTWF0aC5tYXgoY29udGFpbmVyLm9mZnNldFdpZHRoLCBtaW5XaWR0aCA+PSAwID8gbWluV2lkdGggOiBNSU5fQ09OVEFJTkVSX1dJRFRIKSxcbiAgICAgIGhlaWdodDogTWF0aC5tYXgoY29udGFpbmVyLm9mZnNldEhlaWdodCwgbWluSGVpZ2h0ID49IDAgPyBtaW5IZWlnaHQgOiBNSU5fQ09OVEFJTkVSX0hFSUdIVClcbiAgICB9O1xuICAgIHRoaXMuY29udGFpbmVyRGF0YSA9IGNvbnRhaW5lckRhdGE7XG4gICAgc2V0U3R5bGUoY3JvcHBlciwge1xuICAgICAgd2lkdGg6IGNvbnRhaW5lckRhdGEud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNvbnRhaW5lckRhdGEuaGVpZ2h0XG4gICAgfSk7XG4gICAgYWRkQ2xhc3MoZWxlbWVudCwgQ0xBU1NfSElEREVOKTtcbiAgICByZW1vdmVDbGFzcyhjcm9wcGVyLCBDTEFTU19ISURERU4pO1xuICB9LFxuICAvLyBDYW52YXMgKGltYWdlIHdyYXBwZXIpXG4gIGluaXRDYW52YXM6IGZ1bmN0aW9uIGluaXRDYW52YXMoKSB7XG4gICAgdmFyIGNvbnRhaW5lckRhdGEgPSB0aGlzLmNvbnRhaW5lckRhdGEsXG4gICAgICBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTtcbiAgICB2YXIgdmlld01vZGUgPSB0aGlzLm9wdGlvbnMudmlld01vZGU7XG4gICAgdmFyIHJvdGF0ZWQgPSBNYXRoLmFicyhpbWFnZURhdGEucm90YXRlKSAlIDE4MCA9PT0gOTA7XG4gICAgdmFyIG5hdHVyYWxXaWR0aCA9IHJvdGF0ZWQgPyBpbWFnZURhdGEubmF0dXJhbEhlaWdodCA6IGltYWdlRGF0YS5uYXR1cmFsV2lkdGg7XG4gICAgdmFyIG5hdHVyYWxIZWlnaHQgPSByb3RhdGVkID8gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aCA6IGltYWdlRGF0YS5uYXR1cmFsSGVpZ2h0O1xuICAgIHZhciBhc3BlY3RSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7XG4gICAgdmFyIGNhbnZhc1dpZHRoID0gY29udGFpbmVyRGF0YS53aWR0aDtcbiAgICB2YXIgY2FudmFzSGVpZ2h0ID0gY29udGFpbmVyRGF0YS5oZWlnaHQ7XG4gICAgaWYgKGNvbnRhaW5lckRhdGEuaGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBjb250YWluZXJEYXRhLndpZHRoKSB7XG4gICAgICBpZiAodmlld01vZGUgPT09IDMpIHtcbiAgICAgICAgY2FudmFzV2lkdGggPSBjb250YWluZXJEYXRhLmhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzSGVpZ2h0ID0gY29udGFpbmVyRGF0YS53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmlld01vZGUgPT09IDMpIHtcbiAgICAgIGNhbnZhc0hlaWdodCA9IGNvbnRhaW5lckRhdGEud2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICB9IGVsc2Uge1xuICAgICAgY2FudmFzV2lkdGggPSBjb250YWluZXJEYXRhLmhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICB2YXIgY2FudmFzRGF0YSA9IHtcbiAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgIG5hdHVyYWxXaWR0aDogbmF0dXJhbFdpZHRoLFxuICAgICAgbmF0dXJhbEhlaWdodDogbmF0dXJhbEhlaWdodCxcbiAgICAgIHdpZHRoOiBjYW52YXNXaWR0aCxcbiAgICAgIGhlaWdodDogY2FudmFzSGVpZ2h0XG4gICAgfTtcbiAgICB0aGlzLmNhbnZhc0RhdGEgPSBjYW52YXNEYXRhO1xuICAgIHRoaXMubGltaXRlZCA9IHZpZXdNb2RlID09PSAxIHx8IHZpZXdNb2RlID09PSAyO1xuICAgIHRoaXMubGltaXRDYW52YXModHJ1ZSwgdHJ1ZSk7XG4gICAgY2FudmFzRGF0YS53aWR0aCA9IE1hdGgubWluKE1hdGgubWF4KGNhbnZhc0RhdGEud2lkdGgsIGNhbnZhc0RhdGEubWluV2lkdGgpLCBjYW52YXNEYXRhLm1heFdpZHRoKTtcbiAgICBjYW52YXNEYXRhLmhlaWdodCA9IE1hdGgubWluKE1hdGgubWF4KGNhbnZhc0RhdGEuaGVpZ2h0LCBjYW52YXNEYXRhLm1pbkhlaWdodCksIGNhbnZhc0RhdGEubWF4SGVpZ2h0KTtcbiAgICBjYW52YXNEYXRhLmxlZnQgPSAoY29udGFpbmVyRGF0YS53aWR0aCAtIGNhbnZhc0RhdGEud2lkdGgpIC8gMjtcbiAgICBjYW52YXNEYXRhLnRvcCA9IChjb250YWluZXJEYXRhLmhlaWdodCAtIGNhbnZhc0RhdGEuaGVpZ2h0KSAvIDI7XG4gICAgY2FudmFzRGF0YS5vbGRMZWZ0ID0gY2FudmFzRGF0YS5sZWZ0O1xuICAgIGNhbnZhc0RhdGEub2xkVG9wID0gY2FudmFzRGF0YS50b3A7XG4gICAgdGhpcy5pbml0aWFsQ2FudmFzRGF0YSA9IGFzc2lnbih7fSwgY2FudmFzRGF0YSk7XG4gIH0sXG4gIGxpbWl0Q2FudmFzOiBmdW5jdGlvbiBsaW1pdENhbnZhcyhzaXplTGltaXRlZCwgcG9zaXRpb25MaW1pdGVkKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBjb250YWluZXJEYXRhID0gdGhpcy5jb250YWluZXJEYXRhLFxuICAgICAgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YSxcbiAgICAgIGNyb3BCb3hEYXRhID0gdGhpcy5jcm9wQm94RGF0YTtcbiAgICB2YXIgdmlld01vZGUgPSBvcHRpb25zLnZpZXdNb2RlO1xuICAgIHZhciBhc3BlY3RSYXRpbyA9IGNhbnZhc0RhdGEuYXNwZWN0UmF0aW87XG4gICAgdmFyIGNyb3BwZWQgPSB0aGlzLmNyb3BwZWQgJiYgY3JvcEJveERhdGE7XG4gICAgaWYgKHNpemVMaW1pdGVkKSB7XG4gICAgICB2YXIgbWluQ2FudmFzV2lkdGggPSBOdW1iZXIob3B0aW9ucy5taW5DYW52YXNXaWR0aCkgfHwgMDtcbiAgICAgIHZhciBtaW5DYW52YXNIZWlnaHQgPSBOdW1iZXIob3B0aW9ucy5taW5DYW52YXNIZWlnaHQpIHx8IDA7XG4gICAgICBpZiAodmlld01vZGUgPiAxKSB7XG4gICAgICAgIG1pbkNhbnZhc1dpZHRoID0gTWF0aC5tYXgobWluQ2FudmFzV2lkdGgsIGNvbnRhaW5lckRhdGEud2lkdGgpO1xuICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBNYXRoLm1heChtaW5DYW52YXNIZWlnaHQsIGNvbnRhaW5lckRhdGEuaGVpZ2h0KTtcbiAgICAgICAgaWYgKHZpZXdNb2RlID09PSAzKSB7XG4gICAgICAgICAgaWYgKG1pbkNhbnZhc0hlaWdodCAqIGFzcGVjdFJhdGlvID4gbWluQ2FudmFzV2lkdGgpIHtcbiAgICAgICAgICAgIG1pbkNhbnZhc1dpZHRoID0gbWluQ2FudmFzSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IG1pbkNhbnZhc1dpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZpZXdNb2RlID4gMCkge1xuICAgICAgICBpZiAobWluQ2FudmFzV2lkdGgpIHtcbiAgICAgICAgICBtaW5DYW52YXNXaWR0aCA9IE1hdGgubWF4KG1pbkNhbnZhc1dpZHRoLCBjcm9wcGVkID8gY3JvcEJveERhdGEud2lkdGggOiAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChtaW5DYW52YXNIZWlnaHQpIHtcbiAgICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBNYXRoLm1heChtaW5DYW52YXNIZWlnaHQsIGNyb3BwZWQgPyBjcm9wQm94RGF0YS5oZWlnaHQgOiAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChjcm9wcGVkKSB7XG4gICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBjcm9wQm94RGF0YS53aWR0aDtcbiAgICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBjcm9wQm94RGF0YS5oZWlnaHQ7XG4gICAgICAgICAgaWYgKG1pbkNhbnZhc0hlaWdodCAqIGFzcGVjdFJhdGlvID4gbWluQ2FudmFzV2lkdGgpIHtcbiAgICAgICAgICAgIG1pbkNhbnZhc1dpZHRoID0gbWluQ2FudmFzSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IG1pbkNhbnZhc1dpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXMgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgICB3aWR0aDogbWluQ2FudmFzV2lkdGgsXG4gICAgICAgIGhlaWdodDogbWluQ2FudmFzSGVpZ2h0XG4gICAgICB9KTtcbiAgICAgIG1pbkNhbnZhc1dpZHRoID0gX2dldEFkanVzdGVkU2l6ZXMud2lkdGg7XG4gICAgICBtaW5DYW52YXNIZWlnaHQgPSBfZ2V0QWRqdXN0ZWRTaXplcy5oZWlnaHQ7XG4gICAgICBjYW52YXNEYXRhLm1pbldpZHRoID0gbWluQ2FudmFzV2lkdGg7XG4gICAgICBjYW52YXNEYXRhLm1pbkhlaWdodCA9IG1pbkNhbnZhc0hlaWdodDtcbiAgICAgIGNhbnZhc0RhdGEubWF4V2lkdGggPSBJbmZpbml0eTtcbiAgICAgIGNhbnZhc0RhdGEubWF4SGVpZ2h0ID0gSW5maW5pdHk7XG4gICAgfVxuICAgIGlmIChwb3NpdGlvbkxpbWl0ZWQpIHtcbiAgICAgIGlmICh2aWV3TW9kZSA+IChjcm9wcGVkID8gMCA6IDEpKSB7XG4gICAgICAgIHZhciBuZXdDYW52YXNMZWZ0ID0gY29udGFpbmVyRGF0YS53aWR0aCAtIGNhbnZhc0RhdGEud2lkdGg7XG4gICAgICAgIHZhciBuZXdDYW52YXNUb3AgPSBjb250YWluZXJEYXRhLmhlaWdodCAtIGNhbnZhc0RhdGEuaGVpZ2h0O1xuICAgICAgICBjYW52YXNEYXRhLm1pbkxlZnQgPSBNYXRoLm1pbigwLCBuZXdDYW52YXNMZWZ0KTtcbiAgICAgICAgY2FudmFzRGF0YS5taW5Ub3AgPSBNYXRoLm1pbigwLCBuZXdDYW52YXNUb3ApO1xuICAgICAgICBjYW52YXNEYXRhLm1heExlZnQgPSBNYXRoLm1heCgwLCBuZXdDYW52YXNMZWZ0KTtcbiAgICAgICAgY2FudmFzRGF0YS5tYXhUb3AgPSBNYXRoLm1heCgwLCBuZXdDYW52YXNUb3ApO1xuICAgICAgICBpZiAoY3JvcHBlZCAmJiB0aGlzLmxpbWl0ZWQpIHtcbiAgICAgICAgICBjYW52YXNEYXRhLm1pbkxlZnQgPSBNYXRoLm1pbihjcm9wQm94RGF0YS5sZWZ0LCBjcm9wQm94RGF0YS5sZWZ0ICsgKGNyb3BCb3hEYXRhLndpZHRoIC0gY2FudmFzRGF0YS53aWR0aCkpO1xuICAgICAgICAgIGNhbnZhc0RhdGEubWluVG9wID0gTWF0aC5taW4oY3JvcEJveERhdGEudG9wLCBjcm9wQm94RGF0YS50b3AgKyAoY3JvcEJveERhdGEuaGVpZ2h0IC0gY2FudmFzRGF0YS5oZWlnaHQpKTtcbiAgICAgICAgICBjYW52YXNEYXRhLm1heExlZnQgPSBjcm9wQm94RGF0YS5sZWZ0O1xuICAgICAgICAgIGNhbnZhc0RhdGEubWF4VG9wID0gY3JvcEJveERhdGEudG9wO1xuICAgICAgICAgIGlmICh2aWV3TW9kZSA9PT0gMikge1xuICAgICAgICAgICAgaWYgKGNhbnZhc0RhdGEud2lkdGggPj0gY29udGFpbmVyRGF0YS53aWR0aCkge1xuICAgICAgICAgICAgICBjYW52YXNEYXRhLm1pbkxlZnQgPSBNYXRoLm1pbigwLCBuZXdDYW52YXNMZWZ0KTtcbiAgICAgICAgICAgICAgY2FudmFzRGF0YS5tYXhMZWZ0ID0gTWF0aC5tYXgoMCwgbmV3Q2FudmFzTGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FudmFzRGF0YS5oZWlnaHQgPj0gY29udGFpbmVyRGF0YS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgY2FudmFzRGF0YS5taW5Ub3AgPSBNYXRoLm1pbigwLCBuZXdDYW52YXNUb3ApO1xuICAgICAgICAgICAgICBjYW52YXNEYXRhLm1heFRvcCA9IE1hdGgubWF4KDAsIG5ld0NhbnZhc1RvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW52YXNEYXRhLm1pbkxlZnQgPSAtY2FudmFzRGF0YS53aWR0aDtcbiAgICAgICAgY2FudmFzRGF0YS5taW5Ub3AgPSAtY2FudmFzRGF0YS5oZWlnaHQ7XG4gICAgICAgIGNhbnZhc0RhdGEubWF4TGVmdCA9IGNvbnRhaW5lckRhdGEud2lkdGg7XG4gICAgICAgIGNhbnZhc0RhdGEubWF4VG9wID0gY29udGFpbmVyRGF0YS5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZW5kZXJDYW52YXM6IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhjaGFuZ2VkLCB0cmFuc2Zvcm1lZCkge1xuICAgIHZhciBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhLFxuICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG4gICAgaWYgKHRyYW5zZm9ybWVkKSB7XG4gICAgICB2YXIgX2dldFJvdGF0ZWRTaXplcyA9IGdldFJvdGF0ZWRTaXplcyh7XG4gICAgICAgICAgd2lkdGg6IGltYWdlRGF0YS5uYXR1cmFsV2lkdGggKiBNYXRoLmFicyhpbWFnZURhdGEuc2NhbGVYIHx8IDEpLFxuICAgICAgICAgIGhlaWdodDogaW1hZ2VEYXRhLm5hdHVyYWxIZWlnaHQgKiBNYXRoLmFicyhpbWFnZURhdGEuc2NhbGVZIHx8IDEpLFxuICAgICAgICAgIGRlZ3JlZTogaW1hZ2VEYXRhLnJvdGF0ZSB8fCAwXG4gICAgICAgIH0pLFxuICAgICAgICBuYXR1cmFsV2lkdGggPSBfZ2V0Um90YXRlZFNpemVzLndpZHRoLFxuICAgICAgICBuYXR1cmFsSGVpZ2h0ID0gX2dldFJvdGF0ZWRTaXplcy5oZWlnaHQ7XG4gICAgICB2YXIgd2lkdGggPSBjYW52YXNEYXRhLndpZHRoICogKG5hdHVyYWxXaWR0aCAvIGNhbnZhc0RhdGEubmF0dXJhbFdpZHRoKTtcbiAgICAgIHZhciBoZWlnaHQgPSBjYW52YXNEYXRhLmhlaWdodCAqIChuYXR1cmFsSGVpZ2h0IC8gY2FudmFzRGF0YS5uYXR1cmFsSGVpZ2h0KTtcbiAgICAgIGNhbnZhc0RhdGEubGVmdCAtPSAod2lkdGggLSBjYW52YXNEYXRhLndpZHRoKSAvIDI7XG4gICAgICBjYW52YXNEYXRhLnRvcCAtPSAoaGVpZ2h0IC0gY2FudmFzRGF0YS5oZWlnaHQpIC8gMjtcbiAgICAgIGNhbnZhc0RhdGEud2lkdGggPSB3aWR0aDtcbiAgICAgIGNhbnZhc0RhdGEuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgY2FudmFzRGF0YS5hc3BlY3RSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7XG4gICAgICBjYW52YXNEYXRhLm5hdHVyYWxXaWR0aCA9IG5hdHVyYWxXaWR0aDtcbiAgICAgIGNhbnZhc0RhdGEubmF0dXJhbEhlaWdodCA9IG5hdHVyYWxIZWlnaHQ7XG4gICAgICB0aGlzLmxpbWl0Q2FudmFzKHRydWUsIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKGNhbnZhc0RhdGEud2lkdGggPiBjYW52YXNEYXRhLm1heFdpZHRoIHx8IGNhbnZhc0RhdGEud2lkdGggPCBjYW52YXNEYXRhLm1pbldpZHRoKSB7XG4gICAgICBjYW52YXNEYXRhLmxlZnQgPSBjYW52YXNEYXRhLm9sZExlZnQ7XG4gICAgfVxuICAgIGlmIChjYW52YXNEYXRhLmhlaWdodCA+IGNhbnZhc0RhdGEubWF4SGVpZ2h0IHx8IGNhbnZhc0RhdGEuaGVpZ2h0IDwgY2FudmFzRGF0YS5taW5IZWlnaHQpIHtcbiAgICAgIGNhbnZhc0RhdGEudG9wID0gY2FudmFzRGF0YS5vbGRUb3A7XG4gICAgfVxuICAgIGNhbnZhc0RhdGEud2lkdGggPSBNYXRoLm1pbihNYXRoLm1heChjYW52YXNEYXRhLndpZHRoLCBjYW52YXNEYXRhLm1pbldpZHRoKSwgY2FudmFzRGF0YS5tYXhXaWR0aCk7XG4gICAgY2FudmFzRGF0YS5oZWlnaHQgPSBNYXRoLm1pbihNYXRoLm1heChjYW52YXNEYXRhLmhlaWdodCwgY2FudmFzRGF0YS5taW5IZWlnaHQpLCBjYW52YXNEYXRhLm1heEhlaWdodCk7XG4gICAgdGhpcy5saW1pdENhbnZhcyhmYWxzZSwgdHJ1ZSk7XG4gICAgY2FudmFzRGF0YS5sZWZ0ID0gTWF0aC5taW4oTWF0aC5tYXgoY2FudmFzRGF0YS5sZWZ0LCBjYW52YXNEYXRhLm1pbkxlZnQpLCBjYW52YXNEYXRhLm1heExlZnQpO1xuICAgIGNhbnZhc0RhdGEudG9wID0gTWF0aC5taW4oTWF0aC5tYXgoY2FudmFzRGF0YS50b3AsIGNhbnZhc0RhdGEubWluVG9wKSwgY2FudmFzRGF0YS5tYXhUb3ApO1xuICAgIGNhbnZhc0RhdGEub2xkTGVmdCA9IGNhbnZhc0RhdGEubGVmdDtcbiAgICBjYW52YXNEYXRhLm9sZFRvcCA9IGNhbnZhc0RhdGEudG9wO1xuICAgIHNldFN0eWxlKHRoaXMuY2FudmFzLCBhc3NpZ24oe1xuICAgICAgd2lkdGg6IGNhbnZhc0RhdGEud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNhbnZhc0RhdGEuaGVpZ2h0XG4gICAgfSwgZ2V0VHJhbnNmb3Jtcyh7XG4gICAgICB0cmFuc2xhdGVYOiBjYW52YXNEYXRhLmxlZnQsXG4gICAgICB0cmFuc2xhdGVZOiBjYW52YXNEYXRhLnRvcFxuICAgIH0pKSk7XG4gICAgdGhpcy5yZW5kZXJJbWFnZShjaGFuZ2VkKTtcbiAgICBpZiAodGhpcy5jcm9wcGVkICYmIHRoaXMubGltaXRlZCkge1xuICAgICAgdGhpcy5saW1pdENyb3BCb3godHJ1ZSwgdHJ1ZSk7XG4gICAgfVxuICB9LFxuICByZW5kZXJJbWFnZTogZnVuY3Rpb24gcmVuZGVySW1hZ2UoY2hhbmdlZCkge1xuICAgIHZhciBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhLFxuICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG4gICAgdmFyIHdpZHRoID0gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aCAqIChjYW52YXNEYXRhLndpZHRoIC8gY2FudmFzRGF0YS5uYXR1cmFsV2lkdGgpO1xuICAgIHZhciBoZWlnaHQgPSBpbWFnZURhdGEubmF0dXJhbEhlaWdodCAqIChjYW52YXNEYXRhLmhlaWdodCAvIGNhbnZhc0RhdGEubmF0dXJhbEhlaWdodCk7XG4gICAgYXNzaWduKGltYWdlRGF0YSwge1xuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICBsZWZ0OiAoY2FudmFzRGF0YS53aWR0aCAtIHdpZHRoKSAvIDIsXG4gICAgICB0b3A6IChjYW52YXNEYXRhLmhlaWdodCAtIGhlaWdodCkgLyAyXG4gICAgfSk7XG4gICAgc2V0U3R5bGUodGhpcy5pbWFnZSwgYXNzaWduKHtcbiAgICAgIHdpZHRoOiBpbWFnZURhdGEud2lkdGgsXG4gICAgICBoZWlnaHQ6IGltYWdlRGF0YS5oZWlnaHRcbiAgICB9LCBnZXRUcmFuc2Zvcm1zKGFzc2lnbih7XG4gICAgICB0cmFuc2xhdGVYOiBpbWFnZURhdGEubGVmdCxcbiAgICAgIHRyYW5zbGF0ZVk6IGltYWdlRGF0YS50b3BcbiAgICB9LCBpbWFnZURhdGEpKSkpO1xuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICB0aGlzLm91dHB1dCgpO1xuICAgIH1cbiAgfSxcbiAgaW5pdENyb3BCb3g6IGZ1bmN0aW9uIGluaXRDcm9wQm94KCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YTtcbiAgICB2YXIgYXNwZWN0UmF0aW8gPSBvcHRpb25zLmFzcGVjdFJhdGlvIHx8IG9wdGlvbnMuaW5pdGlhbEFzcGVjdFJhdGlvO1xuICAgIHZhciBhdXRvQ3JvcEFyZWEgPSBOdW1iZXIob3B0aW9ucy5hdXRvQ3JvcEFyZWEpIHx8IDAuODtcbiAgICB2YXIgY3JvcEJveERhdGEgPSB7XG4gICAgICB3aWR0aDogY2FudmFzRGF0YS53aWR0aCxcbiAgICAgIGhlaWdodDogY2FudmFzRGF0YS5oZWlnaHRcbiAgICB9O1xuICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgaWYgKGNhbnZhc0RhdGEuaGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBjYW52YXNEYXRhLndpZHRoKSB7XG4gICAgICAgIGNyb3BCb3hEYXRhLmhlaWdodCA9IGNyb3BCb3hEYXRhLndpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjcm9wQm94RGF0YS53aWR0aCA9IGNyb3BCb3hEYXRhLmhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNyb3BCb3hEYXRhID0gY3JvcEJveERhdGE7XG4gICAgdGhpcy5saW1pdENyb3BCb3godHJ1ZSwgdHJ1ZSk7XG5cbiAgICAvLyBJbml0aWFsaXplIGF1dG8gY3JvcCBhcmVhXG4gICAgY3JvcEJveERhdGEud2lkdGggPSBNYXRoLm1pbihNYXRoLm1heChjcm9wQm94RGF0YS53aWR0aCwgY3JvcEJveERhdGEubWluV2lkdGgpLCBjcm9wQm94RGF0YS5tYXhXaWR0aCk7XG4gICAgY3JvcEJveERhdGEuaGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5tYXgoY3JvcEJveERhdGEuaGVpZ2h0LCBjcm9wQm94RGF0YS5taW5IZWlnaHQpLCBjcm9wQm94RGF0YS5tYXhIZWlnaHQpO1xuXG4gICAgLy8gVGhlIHdpZHRoL2hlaWdodCBvZiBhdXRvIGNyb3AgYXJlYSBtdXN0IGxhcmdlIHRoYW4gXCJtaW5XaWR0aC9IZWlnaHRcIlxuICAgIGNyb3BCb3hEYXRhLndpZHRoID0gTWF0aC5tYXgoY3JvcEJveERhdGEubWluV2lkdGgsIGNyb3BCb3hEYXRhLndpZHRoICogYXV0b0Nyb3BBcmVhKTtcbiAgICBjcm9wQm94RGF0YS5oZWlnaHQgPSBNYXRoLm1heChjcm9wQm94RGF0YS5taW5IZWlnaHQsIGNyb3BCb3hEYXRhLmhlaWdodCAqIGF1dG9Dcm9wQXJlYSk7XG4gICAgY3JvcEJveERhdGEubGVmdCA9IGNhbnZhc0RhdGEubGVmdCArIChjYW52YXNEYXRhLndpZHRoIC0gY3JvcEJveERhdGEud2lkdGgpIC8gMjtcbiAgICBjcm9wQm94RGF0YS50b3AgPSBjYW52YXNEYXRhLnRvcCArIChjYW52YXNEYXRhLmhlaWdodCAtIGNyb3BCb3hEYXRhLmhlaWdodCkgLyAyO1xuICAgIGNyb3BCb3hEYXRhLm9sZExlZnQgPSBjcm9wQm94RGF0YS5sZWZ0O1xuICAgIGNyb3BCb3hEYXRhLm9sZFRvcCA9IGNyb3BCb3hEYXRhLnRvcDtcbiAgICB0aGlzLmluaXRpYWxDcm9wQm94RGF0YSA9IGFzc2lnbih7fSwgY3JvcEJveERhdGEpO1xuICB9LFxuICBsaW1pdENyb3BCb3g6IGZ1bmN0aW9uIGxpbWl0Q3JvcEJveChzaXplTGltaXRlZCwgcG9zaXRpb25MaW1pdGVkKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBjb250YWluZXJEYXRhID0gdGhpcy5jb250YWluZXJEYXRhLFxuICAgICAgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YSxcbiAgICAgIGNyb3BCb3hEYXRhID0gdGhpcy5jcm9wQm94RGF0YSxcbiAgICAgIGxpbWl0ZWQgPSB0aGlzLmxpbWl0ZWQ7XG4gICAgdmFyIGFzcGVjdFJhdGlvID0gb3B0aW9ucy5hc3BlY3RSYXRpbztcbiAgICBpZiAoc2l6ZUxpbWl0ZWQpIHtcbiAgICAgIHZhciBtaW5Dcm9wQm94V2lkdGggPSBOdW1iZXIob3B0aW9ucy5taW5Dcm9wQm94V2lkdGgpIHx8IDA7XG4gICAgICB2YXIgbWluQ3JvcEJveEhlaWdodCA9IE51bWJlcihvcHRpb25zLm1pbkNyb3BCb3hIZWlnaHQpIHx8IDA7XG4gICAgICB2YXIgbWF4Q3JvcEJveFdpZHRoID0gbGltaXRlZCA/IE1hdGgubWluKGNvbnRhaW5lckRhdGEud2lkdGgsIGNhbnZhc0RhdGEud2lkdGgsIGNhbnZhc0RhdGEud2lkdGggKyBjYW52YXNEYXRhLmxlZnQsIGNvbnRhaW5lckRhdGEud2lkdGggLSBjYW52YXNEYXRhLmxlZnQpIDogY29udGFpbmVyRGF0YS53aWR0aDtcbiAgICAgIHZhciBtYXhDcm9wQm94SGVpZ2h0ID0gbGltaXRlZCA/IE1hdGgubWluKGNvbnRhaW5lckRhdGEuaGVpZ2h0LCBjYW52YXNEYXRhLmhlaWdodCwgY2FudmFzRGF0YS5oZWlnaHQgKyBjYW52YXNEYXRhLnRvcCwgY29udGFpbmVyRGF0YS5oZWlnaHQgLSBjYW52YXNEYXRhLnRvcCkgOiBjb250YWluZXJEYXRhLmhlaWdodDtcblxuICAgICAgLy8gVGhlIG1pbi9tYXhDcm9wQm94V2lkdGgvSGVpZ2h0IG11c3QgYmUgbGVzcyB0aGFuIGNvbnRhaW5lcidzIHdpZHRoL2hlaWdodFxuICAgICAgbWluQ3JvcEJveFdpZHRoID0gTWF0aC5taW4obWluQ3JvcEJveFdpZHRoLCBjb250YWluZXJEYXRhLndpZHRoKTtcbiAgICAgIG1pbkNyb3BCb3hIZWlnaHQgPSBNYXRoLm1pbihtaW5Dcm9wQm94SGVpZ2h0LCBjb250YWluZXJEYXRhLmhlaWdodCk7XG4gICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgaWYgKG1pbkNyb3BCb3hXaWR0aCAmJiBtaW5Dcm9wQm94SGVpZ2h0KSB7XG4gICAgICAgICAgaWYgKG1pbkNyb3BCb3hIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IG1pbkNyb3BCb3hXaWR0aCkge1xuICAgICAgICAgICAgbWluQ3JvcEJveEhlaWdodCA9IG1pbkNyb3BCb3hXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtaW5Dcm9wQm94V2lkdGggPSBtaW5Dcm9wQm94SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1pbkNyb3BCb3hXaWR0aCkge1xuICAgICAgICAgIG1pbkNyb3BCb3hIZWlnaHQgPSBtaW5Dcm9wQm94V2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIGlmIChtaW5Dcm9wQm94SGVpZ2h0KSB7XG4gICAgICAgICAgbWluQ3JvcEJveFdpZHRoID0gbWluQ3JvcEJveEhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhDcm9wQm94SGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBtYXhDcm9wQm94V2lkdGgpIHtcbiAgICAgICAgICBtYXhDcm9wQm94SGVpZ2h0ID0gbWF4Q3JvcEJveFdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF4Q3JvcEJveFdpZHRoID0gbWF4Q3JvcEJveEhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBtaW5XaWR0aC9IZWlnaHQgbXVzdCBiZSBsZXNzIHRoYW4gbWF4V2lkdGgvSGVpZ2h0XG4gICAgICBjcm9wQm94RGF0YS5taW5XaWR0aCA9IE1hdGgubWluKG1pbkNyb3BCb3hXaWR0aCwgbWF4Q3JvcEJveFdpZHRoKTtcbiAgICAgIGNyb3BCb3hEYXRhLm1pbkhlaWdodCA9IE1hdGgubWluKG1pbkNyb3BCb3hIZWlnaHQsIG1heENyb3BCb3hIZWlnaHQpO1xuICAgICAgY3JvcEJveERhdGEubWF4V2lkdGggPSBtYXhDcm9wQm94V2lkdGg7XG4gICAgICBjcm9wQm94RGF0YS5tYXhIZWlnaHQgPSBtYXhDcm9wQm94SGVpZ2h0O1xuICAgIH1cbiAgICBpZiAocG9zaXRpb25MaW1pdGVkKSB7XG4gICAgICBpZiAobGltaXRlZCkge1xuICAgICAgICBjcm9wQm94RGF0YS5taW5MZWZ0ID0gTWF0aC5tYXgoMCwgY2FudmFzRGF0YS5sZWZ0KTtcbiAgICAgICAgY3JvcEJveERhdGEubWluVG9wID0gTWF0aC5tYXgoMCwgY2FudmFzRGF0YS50b3ApO1xuICAgICAgICBjcm9wQm94RGF0YS5tYXhMZWZ0ID0gTWF0aC5taW4oY29udGFpbmVyRGF0YS53aWR0aCwgY2FudmFzRGF0YS5sZWZ0ICsgY2FudmFzRGF0YS53aWR0aCkgLSBjcm9wQm94RGF0YS53aWR0aDtcbiAgICAgICAgY3JvcEJveERhdGEubWF4VG9wID0gTWF0aC5taW4oY29udGFpbmVyRGF0YS5oZWlnaHQsIGNhbnZhc0RhdGEudG9wICsgY2FudmFzRGF0YS5oZWlnaHQpIC0gY3JvcEJveERhdGEuaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3JvcEJveERhdGEubWluTGVmdCA9IDA7XG4gICAgICAgIGNyb3BCb3hEYXRhLm1pblRvcCA9IDA7XG4gICAgICAgIGNyb3BCb3hEYXRhLm1heExlZnQgPSBjb250YWluZXJEYXRhLndpZHRoIC0gY3JvcEJveERhdGEud2lkdGg7XG4gICAgICAgIGNyb3BCb3hEYXRhLm1heFRvcCA9IGNvbnRhaW5lckRhdGEuaGVpZ2h0IC0gY3JvcEJveERhdGEuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyQ3JvcEJveDogZnVuY3Rpb24gcmVuZGVyQ3JvcEJveCgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGNvbnRhaW5lckRhdGEgPSB0aGlzLmNvbnRhaW5lckRhdGEsXG4gICAgICBjcm9wQm94RGF0YSA9IHRoaXMuY3JvcEJveERhdGE7XG4gICAgaWYgKGNyb3BCb3hEYXRhLndpZHRoID4gY3JvcEJveERhdGEubWF4V2lkdGggfHwgY3JvcEJveERhdGEud2lkdGggPCBjcm9wQm94RGF0YS5taW5XaWR0aCkge1xuICAgICAgY3JvcEJveERhdGEubGVmdCA9IGNyb3BCb3hEYXRhLm9sZExlZnQ7XG4gICAgfVxuICAgIGlmIChjcm9wQm94RGF0YS5oZWlnaHQgPiBjcm9wQm94RGF0YS5tYXhIZWlnaHQgfHwgY3JvcEJveERhdGEuaGVpZ2h0IDwgY3JvcEJveERhdGEubWluSGVpZ2h0KSB7XG4gICAgICBjcm9wQm94RGF0YS50b3AgPSBjcm9wQm94RGF0YS5vbGRUb3A7XG4gICAgfVxuICAgIGNyb3BCb3hEYXRhLndpZHRoID0gTWF0aC5taW4oTWF0aC5tYXgoY3JvcEJveERhdGEud2lkdGgsIGNyb3BCb3hEYXRhLm1pbldpZHRoKSwgY3JvcEJveERhdGEubWF4V2lkdGgpO1xuICAgIGNyb3BCb3hEYXRhLmhlaWdodCA9IE1hdGgubWluKE1hdGgubWF4KGNyb3BCb3hEYXRhLmhlaWdodCwgY3JvcEJveERhdGEubWluSGVpZ2h0KSwgY3JvcEJveERhdGEubWF4SGVpZ2h0KTtcbiAgICB0aGlzLmxpbWl0Q3JvcEJveChmYWxzZSwgdHJ1ZSk7XG4gICAgY3JvcEJveERhdGEubGVmdCA9IE1hdGgubWluKE1hdGgubWF4KGNyb3BCb3hEYXRhLmxlZnQsIGNyb3BCb3hEYXRhLm1pbkxlZnQpLCBjcm9wQm94RGF0YS5tYXhMZWZ0KTtcbiAgICBjcm9wQm94RGF0YS50b3AgPSBNYXRoLm1pbihNYXRoLm1heChjcm9wQm94RGF0YS50b3AsIGNyb3BCb3hEYXRhLm1pblRvcCksIGNyb3BCb3hEYXRhLm1heFRvcCk7XG4gICAgY3JvcEJveERhdGEub2xkTGVmdCA9IGNyb3BCb3hEYXRhLmxlZnQ7XG4gICAgY3JvcEJveERhdGEub2xkVG9wID0gY3JvcEJveERhdGEudG9wO1xuICAgIGlmIChvcHRpb25zLm1vdmFibGUgJiYgb3B0aW9ucy5jcm9wQm94TW92YWJsZSkge1xuICAgICAgLy8gVHVybiB0byBtb3ZlIHRoZSBjYW52YXMgd2hlbiB0aGUgY3JvcCBib3ggaXMgZXF1YWwgdG8gdGhlIGNvbnRhaW5lclxuICAgICAgc2V0RGF0YSh0aGlzLmZhY2UsIERBVEFfQUNUSU9OLCBjcm9wQm94RGF0YS53aWR0aCA+PSBjb250YWluZXJEYXRhLndpZHRoICYmIGNyb3BCb3hEYXRhLmhlaWdodCA+PSBjb250YWluZXJEYXRhLmhlaWdodCA/IEFDVElPTl9NT1ZFIDogQUNUSU9OX0FMTCk7XG4gICAgfVxuICAgIHNldFN0eWxlKHRoaXMuY3JvcEJveCwgYXNzaWduKHtcbiAgICAgIHdpZHRoOiBjcm9wQm94RGF0YS53aWR0aCxcbiAgICAgIGhlaWdodDogY3JvcEJveERhdGEuaGVpZ2h0XG4gICAgfSwgZ2V0VHJhbnNmb3Jtcyh7XG4gICAgICB0cmFuc2xhdGVYOiBjcm9wQm94RGF0YS5sZWZ0LFxuICAgICAgdHJhbnNsYXRlWTogY3JvcEJveERhdGEudG9wXG4gICAgfSkpKTtcbiAgICBpZiAodGhpcy5jcm9wcGVkICYmIHRoaXMubGltaXRlZCkge1xuICAgICAgdGhpcy5saW1pdENhbnZhcyh0cnVlLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLm91dHB1dCgpO1xuICAgIH1cbiAgfSxcbiAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQoKSB7XG4gICAgdGhpcy5wcmV2aWV3KCk7XG4gICAgZGlzcGF0Y2hFdmVudCh0aGlzLmVsZW1lbnQsIEVWRU5UX0NST1AsIHRoaXMuZ2V0RGF0YSgpKTtcbiAgfVxufTtcblxudmFyIHByZXZpZXcgPSB7XG4gIGluaXRQcmV2aWV3OiBmdW5jdGlvbiBpbml0UHJldmlldygpIHtcbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgIGNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICB2YXIgcHJldmlldyA9IHRoaXMub3B0aW9ucy5wcmV2aWV3O1xuICAgIHZhciB1cmwgPSBjcm9zc09yaWdpbiA/IHRoaXMuY3Jvc3NPcmlnaW5VcmwgOiB0aGlzLnVybDtcbiAgICB2YXIgYWx0ID0gZWxlbWVudC5hbHQgfHwgJ1RoZSBpbWFnZSB0byBwcmV2aWV3JztcbiAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpZiAoY3Jvc3NPcmlnaW4pIHtcbiAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgfVxuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgICBpbWFnZS5hbHQgPSBhbHQ7XG4gICAgdGhpcy52aWV3Qm94LmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICB0aGlzLnZpZXdCb3hJbWFnZSA9IGltYWdlO1xuICAgIGlmICghcHJldmlldykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJldmlld3MgPSBwcmV2aWV3O1xuICAgIGlmICh0eXBlb2YgcHJldmlldyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHByZXZpZXdzID0gZWxlbWVudC5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocHJldmlldyk7XG4gICAgfSBlbHNlIGlmIChwcmV2aWV3LnF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgIHByZXZpZXdzID0gW3ByZXZpZXddO1xuICAgIH1cbiAgICB0aGlzLnByZXZpZXdzID0gcHJldmlld3M7XG4gICAgZm9yRWFjaChwcmV2aWV3cywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgIC8vIFNhdmUgdGhlIG9yaWdpbmFsIHNpemUgZm9yIHJlY292ZXJcbiAgICAgIHNldERhdGEoZWwsIERBVEFfUFJFVklFVywge1xuICAgICAgICB3aWR0aDogZWwub2Zmc2V0V2lkdGgsXG4gICAgICAgIGhlaWdodDogZWwub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBodG1sOiBlbC5pbm5lckhUTUxcbiAgICAgIH0pO1xuICAgICAgaWYgKGNyb3NzT3JpZ2luKSB7XG4gICAgICAgIGltZy5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgfVxuICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgIGltZy5hbHQgPSBhbHQ7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3ZlcnJpZGUgaW1nIGVsZW1lbnQgc3R5bGVzXG4gICAgICAgKiBBZGQgYGRpc3BsYXk6YmxvY2tgIHRvIGF2b2lkIG1hcmdpbiB0b3AgaXNzdWVcbiAgICAgICAqIEFkZCBgaGVpZ2h0OmF1dG9gIHRvIG92ZXJyaWRlIGBoZWlnaHRgIGF0dHJpYnV0ZSBvbiBJRThcbiAgICAgICAqIChPY2N1ciBvbmx5IHdoZW4gbWFyZ2luLXRvcCA8PSAtaGVpZ2h0KVxuICAgICAgICovXG4gICAgICBpbWcuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OmJsb2NrOycgKyAnd2lkdGg6MTAwJTsnICsgJ2hlaWdodDphdXRvOycgKyAnbWluLXdpZHRoOjAhaW1wb3J0YW50OycgKyAnbWluLWhlaWdodDowIWltcG9ydGFudDsnICsgJ21heC13aWR0aDpub25lIWltcG9ydGFudDsnICsgJ21heC1oZWlnaHQ6bm9uZSFpbXBvcnRhbnQ7JyArICdpbWFnZS1vcmllbnRhdGlvbjowZGVnIWltcG9ydGFudDtcIic7XG4gICAgICBlbC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGVsLmFwcGVuZENoaWxkKGltZyk7XG4gICAgfSk7XG4gIH0sXG4gIHJlc2V0UHJldmlldzogZnVuY3Rpb24gcmVzZXRQcmV2aWV3KCkge1xuICAgIGZvckVhY2godGhpcy5wcmV2aWV3cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShlbGVtZW50LCBEQVRBX1BSRVZJRVcpO1xuICAgICAgc2V0U3R5bGUoZWxlbWVudCwge1xuICAgICAgICB3aWR0aDogZGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBkYXRhLmhlaWdodFxuICAgICAgfSk7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IGRhdGEuaHRtbDtcbiAgICAgIHJlbW92ZURhdGEoZWxlbWVudCwgREFUQV9QUkVWSUVXKTtcbiAgICB9KTtcbiAgfSxcbiAgcHJldmlldzogZnVuY3Rpb24gcHJldmlldygpIHtcbiAgICB2YXIgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGEsXG4gICAgICBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhLFxuICAgICAgY3JvcEJveERhdGEgPSB0aGlzLmNyb3BCb3hEYXRhO1xuICAgIHZhciBjcm9wQm94V2lkdGggPSBjcm9wQm94RGF0YS53aWR0aCxcbiAgICAgIGNyb3BCb3hIZWlnaHQgPSBjcm9wQm94RGF0YS5oZWlnaHQ7XG4gICAgdmFyIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodDtcbiAgICB2YXIgbGVmdCA9IGNyb3BCb3hEYXRhLmxlZnQgLSBjYW52YXNEYXRhLmxlZnQgLSBpbWFnZURhdGEubGVmdDtcbiAgICB2YXIgdG9wID0gY3JvcEJveERhdGEudG9wIC0gY2FudmFzRGF0YS50b3AgLSBpbWFnZURhdGEudG9wO1xuICAgIGlmICghdGhpcy5jcm9wcGVkIHx8IHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U3R5bGUodGhpcy52aWV3Qm94SW1hZ2UsIGFzc2lnbih7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH0sIGdldFRyYW5zZm9ybXMoYXNzaWduKHtcbiAgICAgIHRyYW5zbGF0ZVg6IC1sZWZ0LFxuICAgICAgdHJhbnNsYXRlWTogLXRvcFxuICAgIH0sIGltYWdlRGF0YSkpKSk7XG4gICAgZm9yRWFjaCh0aGlzLnByZXZpZXdzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKGVsZW1lbnQsIERBVEFfUFJFVklFVyk7XG4gICAgICB2YXIgb3JpZ2luYWxXaWR0aCA9IGRhdGEud2lkdGg7XG4gICAgICB2YXIgb3JpZ2luYWxIZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgIHZhciBuZXdXaWR0aCA9IG9yaWdpbmFsV2lkdGg7XG4gICAgICB2YXIgbmV3SGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQ7XG4gICAgICB2YXIgcmF0aW8gPSAxO1xuICAgICAgaWYgKGNyb3BCb3hXaWR0aCkge1xuICAgICAgICByYXRpbyA9IG9yaWdpbmFsV2lkdGggLyBjcm9wQm94V2lkdGg7XG4gICAgICAgIG5ld0hlaWdodCA9IGNyb3BCb3hIZWlnaHQgKiByYXRpbztcbiAgICAgIH1cbiAgICAgIGlmIChjcm9wQm94SGVpZ2h0ICYmIG5ld0hlaWdodCA+IG9yaWdpbmFsSGVpZ2h0KSB7XG4gICAgICAgIHJhdGlvID0gb3JpZ2luYWxIZWlnaHQgLyBjcm9wQm94SGVpZ2h0O1xuICAgICAgICBuZXdXaWR0aCA9IGNyb3BCb3hXaWR0aCAqIHJhdGlvO1xuICAgICAgICBuZXdIZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcbiAgICAgIH1cbiAgICAgIHNldFN0eWxlKGVsZW1lbnQsIHtcbiAgICAgICAgd2lkdGg6IG5ld1dpZHRoLFxuICAgICAgICBoZWlnaHQ6IG5ld0hlaWdodFxuICAgICAgfSk7XG4gICAgICBzZXRTdHlsZShlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVswXSwgYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IHdpZHRoICogcmF0aW8sXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ICogcmF0aW9cbiAgICAgIH0sIGdldFRyYW5zZm9ybXMoYXNzaWduKHtcbiAgICAgICAgdHJhbnNsYXRlWDogLWxlZnQgKiByYXRpbyxcbiAgICAgICAgdHJhbnNsYXRlWTogLXRvcCAqIHJhdGlvXG4gICAgICB9LCBpbWFnZURhdGEpKSkpO1xuICAgIH0pO1xuICB9XG59O1xuXG52YXIgZXZlbnRzID0ge1xuICBiaW5kOiBmdW5jdGlvbiBiaW5kKCkge1xuICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGNyb3BwZXIgPSB0aGlzLmNyb3BwZXI7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wc3RhcnQpKSB7XG4gICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX1NUQVJULCBvcHRpb25zLmNyb3BzdGFydCk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuY3JvcG1vdmUpKSB7XG4gICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX01PVkUsIG9wdGlvbnMuY3JvcG1vdmUpO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNyb3BlbmQpKSB7XG4gICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX0VORCwgb3B0aW9ucy5jcm9wZW5kKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wKSkge1xuICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfQ1JPUCwgb3B0aW9ucy5jcm9wKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy56b29tKSkge1xuICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfWk9PTSwgb3B0aW9ucy56b29tKTtcbiAgICB9XG4gICAgYWRkTGlzdGVuZXIoY3JvcHBlciwgRVZFTlRfUE9JTlRFUl9ET1dOLCB0aGlzLm9uQ3JvcFN0YXJ0ID0gdGhpcy5jcm9wU3RhcnQuYmluZCh0aGlzKSk7XG4gICAgaWYgKG9wdGlvbnMuem9vbWFibGUgJiYgb3B0aW9ucy56b29tT25XaGVlbCkge1xuICAgICAgYWRkTGlzdGVuZXIoY3JvcHBlciwgRVZFTlRfV0hFRUwsIHRoaXMub25XaGVlbCA9IHRoaXMud2hlZWwuYmluZCh0aGlzKSwge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnRvZ2dsZURyYWdNb2RlT25EYmxjbGljaykge1xuICAgICAgYWRkTGlzdGVuZXIoY3JvcHBlciwgRVZFTlRfREJMQ0xJQ0ssIHRoaXMub25EYmxjbGljayA9IHRoaXMuZGJsY2xpY2suYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIGFkZExpc3RlbmVyKGVsZW1lbnQub3duZXJEb2N1bWVudCwgRVZFTlRfUE9JTlRFUl9NT1ZFLCB0aGlzLm9uQ3JvcE1vdmUgPSB0aGlzLmNyb3BNb3ZlLmJpbmQodGhpcykpO1xuICAgIGFkZExpc3RlbmVyKGVsZW1lbnQub3duZXJEb2N1bWVudCwgRVZFTlRfUE9JTlRFUl9VUCwgdGhpcy5vbkNyb3BFbmQgPSB0aGlzLmNyb3BFbmQuYmluZCh0aGlzKSk7XG4gICAgaWYgKG9wdGlvbnMucmVzcG9uc2l2ZSkge1xuICAgICAgYWRkTGlzdGVuZXIod2luZG93LCBFVkVOVF9SRVNJWkUsIHRoaXMub25SZXNpemUgPSB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH0sXG4gIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkge1xuICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGNyb3BwZXIgPSB0aGlzLmNyb3BwZXI7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wc3RhcnQpKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX1NUQVJULCBvcHRpb25zLmNyb3BzdGFydCk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuY3JvcG1vdmUpKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX01PVkUsIG9wdGlvbnMuY3JvcG1vdmUpO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNyb3BlbmQpKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX0VORCwgb3B0aW9ucy5jcm9wZW5kKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wKSkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfQ1JPUCwgb3B0aW9ucy5jcm9wKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy56b29tKSkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfWk9PTSwgb3B0aW9ucy56b29tKTtcbiAgICB9XG4gICAgcmVtb3ZlTGlzdGVuZXIoY3JvcHBlciwgRVZFTlRfUE9JTlRFUl9ET1dOLCB0aGlzLm9uQ3JvcFN0YXJ0KTtcbiAgICBpZiAob3B0aW9ucy56b29tYWJsZSAmJiBvcHRpb25zLnpvb21PbldoZWVsKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcihjcm9wcGVyLCBFVkVOVF9XSEVFTCwgdGhpcy5vbldoZWVsLCB7XG4gICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudG9nZ2xlRHJhZ01vZGVPbkRibGNsaWNrKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcihjcm9wcGVyLCBFVkVOVF9EQkxDTElDSywgdGhpcy5vbkRibGNsaWNrKTtcbiAgICB9XG4gICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudC5vd25lckRvY3VtZW50LCBFVkVOVF9QT0lOVEVSX01PVkUsIHRoaXMub25Dcm9wTW92ZSk7XG4gICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudC5vd25lckRvY3VtZW50LCBFVkVOVF9QT0lOVEVSX1VQLCB0aGlzLm9uQ3JvcEVuZCk7XG4gICAgaWYgKG9wdGlvbnMucmVzcG9uc2l2ZSkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXIod2luZG93LCBFVkVOVF9SRVNJWkUsIHRoaXMub25SZXNpemUpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIGhhbmRsZXJzID0ge1xuICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgY29udGFpbmVyRGF0YSA9IHRoaXMuY29udGFpbmVyRGF0YTtcbiAgICB2YXIgcmF0aW9YID0gY29udGFpbmVyLm9mZnNldFdpZHRoIC8gY29udGFpbmVyRGF0YS53aWR0aDtcbiAgICB2YXIgcmF0aW9ZID0gY29udGFpbmVyLm9mZnNldEhlaWdodCAvIGNvbnRhaW5lckRhdGEuaGVpZ2h0O1xuICAgIHZhciByYXRpbyA9IE1hdGguYWJzKHJhdGlvWCAtIDEpID4gTWF0aC5hYnMocmF0aW9ZIC0gMSkgPyByYXRpb1ggOiByYXRpb1k7XG5cbiAgICAvLyBSZXNpemUgd2hlbiB3aWR0aCBjaGFuZ2VkIG9yIGhlaWdodCBjaGFuZ2VkXG4gICAgaWYgKHJhdGlvICE9PSAxKSB7XG4gICAgICB2YXIgY2FudmFzRGF0YTtcbiAgICAgIHZhciBjcm9wQm94RGF0YTtcbiAgICAgIGlmIChvcHRpb25zLnJlc3RvcmUpIHtcbiAgICAgICAgY2FudmFzRGF0YSA9IHRoaXMuZ2V0Q2FudmFzRGF0YSgpO1xuICAgICAgICBjcm9wQm94RGF0YSA9IHRoaXMuZ2V0Q3JvcEJveERhdGEoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICBpZiAob3B0aW9ucy5yZXN0b3JlKSB7XG4gICAgICAgIHRoaXMuc2V0Q2FudmFzRGF0YShmb3JFYWNoKGNhbnZhc0RhdGEsIGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgY2FudmFzRGF0YVtpXSA9IG4gKiByYXRpbztcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnNldENyb3BCb3hEYXRhKGZvckVhY2goY3JvcEJveERhdGEsIGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgY3JvcEJveERhdGFbaV0gPSBuICogcmF0aW87XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGRibGNsaWNrOiBmdW5jdGlvbiBkYmxjbGljaygpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCB0aGlzLm9wdGlvbnMuZHJhZ01vZGUgPT09IERSQUdfTU9ERV9OT05FKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0RHJhZ01vZGUoaGFzQ2xhc3ModGhpcy5kcmFnQm94LCBDTEFTU19DUk9QKSA/IERSQUdfTU9ERV9NT1ZFIDogRFJBR19NT0RFX0NST1ApO1xuICB9LFxuICB3aGVlbDogZnVuY3Rpb24gd2hlZWwoZXZlbnQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByYXRpbyA9IE51bWJlcih0aGlzLm9wdGlvbnMud2hlZWxab29tUmF0aW8pIHx8IDAuMTtcbiAgICB2YXIgZGVsdGEgPSAxO1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBMaW1pdCB3aGVlbCBzcGVlZCB0byBwcmV2ZW50IHpvb20gdG9vIGZhc3QgKCMyMSlcbiAgICBpZiAodGhpcy53aGVlbGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLndoZWVsaW5nID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLndoZWVsaW5nID0gZmFsc2U7XG4gICAgfSwgNTApO1xuICAgIGlmIChldmVudC5kZWx0YVkpIHtcbiAgICAgIGRlbHRhID0gZXZlbnQuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LndoZWVsRGVsdGEpIHtcbiAgICAgIGRlbHRhID0gLWV2ZW50LndoZWVsRGVsdGEgLyAxMjA7XG4gICAgfSBlbHNlIGlmIChldmVudC5kZXRhaWwpIHtcbiAgICAgIGRlbHRhID0gZXZlbnQuZGV0YWlsID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gICAgdGhpcy56b29tKC1kZWx0YSAqIHJhdGlvLCBldmVudCk7XG4gIH0sXG4gIGNyb3BTdGFydDogZnVuY3Rpb24gY3JvcFN0YXJ0KGV2ZW50KSB7XG4gICAgdmFyIGJ1dHRvbnMgPSBldmVudC5idXR0b25zLFxuICAgICAgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgIGlmICh0aGlzLmRpc2FibGVkXG5cbiAgICAvLyBIYW5kbGUgbW91c2UgZXZlbnQgYW5kIHBvaW50ZXIgZXZlbnQgYW5kIGlnbm9yZSB0b3VjaCBldmVudFxuICAgIHx8IChldmVudC50eXBlID09PSAnbW91c2Vkb3duJyB8fCBldmVudC50eXBlID09PSAncG9pbnRlcmRvd24nICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSAmJiAoXG4gICAgLy8gTm8gcHJpbWFyeSBidXR0b24gKFVzdWFsbHkgdGhlIGxlZnQgYnV0dG9uKVxuICAgIGlzTnVtYmVyKGJ1dHRvbnMpICYmIGJ1dHRvbnMgIT09IDEgfHwgaXNOdW1iZXIoYnV0dG9uKSAmJiBidXR0b24gIT09IDBcblxuICAgIC8vIE9wZW4gY29udGV4dCBtZW51XG4gICAgfHwgZXZlbnQuY3RybEtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgdmFyIGFjdGlvbjtcbiAgICBpZiAoZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgIC8vIEhhbmRsZSB0b3VjaCBldmVudFxuICAgICAgZm9yRWFjaChldmVudC5jaGFuZ2VkVG91Y2hlcywgZnVuY3Rpb24gKHRvdWNoKSB7XG4gICAgICAgIHBvaW50ZXJzW3RvdWNoLmlkZW50aWZpZXJdID0gZ2V0UG9pbnRlcih0b3VjaCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSGFuZGxlIG1vdXNlIGV2ZW50IGFuZCBwb2ludGVyIGV2ZW50XG4gICAgICBwb2ludGVyc1tldmVudC5wb2ludGVySWQgfHwgMF0gPSBnZXRQb2ludGVyKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHBvaW50ZXJzKS5sZW5ndGggPiAxICYmIG9wdGlvbnMuem9vbWFibGUgJiYgb3B0aW9ucy56b29tT25Ub3VjaCkge1xuICAgICAgYWN0aW9uID0gQUNUSU9OX1pPT007XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvbiA9IGdldERhdGEoZXZlbnQudGFyZ2V0LCBEQVRBX0FDVElPTik7XG4gICAgfVxuICAgIGlmICghUkVHRVhQX0FDVElPTlMudGVzdChhY3Rpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkaXNwYXRjaEV2ZW50KHRoaXMuZWxlbWVudCwgRVZFTlRfQ1JPUF9TVEFSVCwge1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBhY3Rpb246IGFjdGlvblxuICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbGluZSBpcyByZXF1aXJlZCBmb3IgcHJldmVudGluZyBwYWdlIHpvb21pbmcgaW4gaU9TIGJyb3dzZXJzXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICB0aGlzLmNyb3BwaW5nID0gZmFsc2U7XG4gICAgaWYgKGFjdGlvbiA9PT0gQUNUSU9OX0NST1ApIHtcbiAgICAgIHRoaXMuY3JvcHBpbmcgPSB0cnVlO1xuICAgICAgYWRkQ2xhc3ModGhpcy5kcmFnQm94LCBDTEFTU19NT0RBTCk7XG4gICAgfVxuICB9LFxuICBjcm9wTW92ZTogZnVuY3Rpb24gY3JvcE1vdmUoZXZlbnQpIHtcbiAgICB2YXIgYWN0aW9uID0gdGhpcy5hY3Rpb247XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgIWFjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQodGhpcy5lbGVtZW50LCBFVkVOVF9DUk9QX01PVkUsIHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgYWN0aW9uOiBhY3Rpb25cbiAgICB9KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICBmb3JFYWNoKGV2ZW50LmNoYW5nZWRUb3VjaGVzLCBmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHBhcmFtZXRlciBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCAoIzQzMilcbiAgICAgICAgYXNzaWduKHBvaW50ZXJzW3RvdWNoLmlkZW50aWZpZXJdIHx8IHt9LCBnZXRQb2ludGVyKHRvdWNoLCB0cnVlKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzaWduKHBvaW50ZXJzW2V2ZW50LnBvaW50ZXJJZCB8fCAwXSB8fCB7fSwgZ2V0UG9pbnRlcihldmVudCwgdHJ1ZSkpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZShldmVudCk7XG4gIH0sXG4gIGNyb3BFbmQ6IGZ1bmN0aW9uIGNyb3BFbmQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYWN0aW9uID0gdGhpcy5hY3Rpb24sXG4gICAgICBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICBmb3JFYWNoKGV2ZW50LmNoYW5nZWRUb3VjaGVzLCBmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgICAgZGVsZXRlIHBvaW50ZXJzW3RvdWNoLmlkZW50aWZpZXJdO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBwb2ludGVyc1tldmVudC5wb2ludGVySWQgfHwgMF07XG4gICAgfVxuICAgIGlmICghYWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFPYmplY3Qua2V5cyhwb2ludGVycykubGVuZ3RoKSB7XG4gICAgICB0aGlzLmFjdGlvbiA9ICcnO1xuICAgIH1cbiAgICBpZiAodGhpcy5jcm9wcGluZykge1xuICAgICAgdGhpcy5jcm9wcGluZyA9IGZhbHNlO1xuICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5kcmFnQm94LCBDTEFTU19NT0RBTCwgdGhpcy5jcm9wcGVkICYmIHRoaXMub3B0aW9ucy5tb2RhbCk7XG4gICAgfVxuICAgIGRpc3BhdGNoRXZlbnQodGhpcy5lbGVtZW50LCBFVkVOVF9DUk9QX0VORCwge1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICBhY3Rpb246IGFjdGlvblxuICAgIH0pO1xuICB9XG59O1xuXG52YXIgY2hhbmdlID0ge1xuICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShldmVudCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YSxcbiAgICAgIGNvbnRhaW5lckRhdGEgPSB0aGlzLmNvbnRhaW5lckRhdGEsXG4gICAgICBjcm9wQm94RGF0YSA9IHRoaXMuY3JvcEJveERhdGEsXG4gICAgICBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgdmFyIGFjdGlvbiA9IHRoaXMuYWN0aW9uO1xuICAgIHZhciBhc3BlY3RSYXRpbyA9IG9wdGlvbnMuYXNwZWN0UmF0aW87XG4gICAgdmFyIGxlZnQgPSBjcm9wQm94RGF0YS5sZWZ0LFxuICAgICAgdG9wID0gY3JvcEJveERhdGEudG9wLFxuICAgICAgd2lkdGggPSBjcm9wQm94RGF0YS53aWR0aCxcbiAgICAgIGhlaWdodCA9IGNyb3BCb3hEYXRhLmhlaWdodDtcbiAgICB2YXIgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG4gICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgICB2YXIgbWluTGVmdCA9IDA7XG4gICAgdmFyIG1pblRvcCA9IDA7XG4gICAgdmFyIG1heFdpZHRoID0gY29udGFpbmVyRGF0YS53aWR0aDtcbiAgICB2YXIgbWF4SGVpZ2h0ID0gY29udGFpbmVyRGF0YS5oZWlnaHQ7XG4gICAgdmFyIHJlbmRlcmFibGUgPSB0cnVlO1xuICAgIHZhciBvZmZzZXQ7XG5cbiAgICAvLyBMb2NraW5nIGFzcGVjdCByYXRpbyBpbiBcImZyZWUgbW9kZVwiIGJ5IGhvbGRpbmcgc2hpZnQga2V5XG4gICAgaWYgKCFhc3BlY3RSYXRpbyAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgYXNwZWN0UmF0aW8gPSB3aWR0aCAmJiBoZWlnaHQgPyB3aWR0aCAvIGhlaWdodCA6IDE7XG4gICAgfVxuICAgIGlmICh0aGlzLmxpbWl0ZWQpIHtcbiAgICAgIG1pbkxlZnQgPSBjcm9wQm94RGF0YS5taW5MZWZ0O1xuICAgICAgbWluVG9wID0gY3JvcEJveERhdGEubWluVG9wO1xuICAgICAgbWF4V2lkdGggPSBtaW5MZWZ0ICsgTWF0aC5taW4oY29udGFpbmVyRGF0YS53aWR0aCwgY2FudmFzRGF0YS53aWR0aCwgY2FudmFzRGF0YS5sZWZ0ICsgY2FudmFzRGF0YS53aWR0aCk7XG4gICAgICBtYXhIZWlnaHQgPSBtaW5Ub3AgKyBNYXRoLm1pbihjb250YWluZXJEYXRhLmhlaWdodCwgY2FudmFzRGF0YS5oZWlnaHQsIGNhbnZhc0RhdGEudG9wICsgY2FudmFzRGF0YS5oZWlnaHQpO1xuICAgIH1cbiAgICB2YXIgcG9pbnRlciA9IHBvaW50ZXJzW09iamVjdC5rZXlzKHBvaW50ZXJzKVswXV07XG4gICAgdmFyIHJhbmdlID0ge1xuICAgICAgeDogcG9pbnRlci5lbmRYIC0gcG9pbnRlci5zdGFydFgsXG4gICAgICB5OiBwb2ludGVyLmVuZFkgLSBwb2ludGVyLnN0YXJ0WVxuICAgIH07XG4gICAgdmFyIGNoZWNrID0gZnVuY3Rpb24gY2hlY2soc2lkZSkge1xuICAgICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgIGNhc2UgQUNUSU9OX0VBU1Q6XG4gICAgICAgICAgaWYgKHJpZ2h0ICsgcmFuZ2UueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICByYW5nZS54ID0gbWF4V2lkdGggLSByaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQUNUSU9OX1dFU1Q6XG4gICAgICAgICAgaWYgKGxlZnQgKyByYW5nZS54IDwgbWluTGVmdCkge1xuICAgICAgICAgICAgcmFuZ2UueCA9IG1pbkxlZnQgLSBsZWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBQ1RJT05fTk9SVEg6XG4gICAgICAgICAgaWYgKHRvcCArIHJhbmdlLnkgPCBtaW5Ub3ApIHtcbiAgICAgICAgICAgIHJhbmdlLnkgPSBtaW5Ub3AgLSB0b3A7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFDVElPTl9TT1VUSDpcbiAgICAgICAgICBpZiAoYm90dG9tICsgcmFuZ2UueSA+IG1heEhlaWdodCkge1xuICAgICAgICAgICAgcmFuZ2UueSA9IG1heEhlaWdodCAtIGJvdHRvbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgLy8gTW92ZSBjcm9wIGJveFxuICAgICAgY2FzZSBBQ1RJT05fQUxMOlxuICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gUmVzaXplIGNyb3AgYm94XG4gICAgICBjYXNlIEFDVElPTl9FQVNUOlxuICAgICAgICBpZiAocmFuZ2UueCA+PSAwICYmIChyaWdodCA+PSBtYXhXaWR0aCB8fCBhc3BlY3RSYXRpbyAmJiAodG9wIDw9IG1pblRvcCB8fCBib3R0b20gPj0gbWF4SGVpZ2h0KSkpIHtcbiAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2soQUNUSU9OX0VBU1QpO1xuICAgICAgICB3aWR0aCArPSByYW5nZS54O1xuICAgICAgICBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX1dFU1Q7XG4gICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIHRvcCArPSAoY3JvcEJveERhdGEuaGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEFDVElPTl9OT1JUSDpcbiAgICAgICAgaWYgKHJhbmdlLnkgPD0gMCAmJiAodG9wIDw9IG1pblRvcCB8fCBhc3BlY3RSYXRpbyAmJiAobGVmdCA8PSBtaW5MZWZ0IHx8IHJpZ2h0ID49IG1heFdpZHRoKSkpIHtcbiAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2soQUNUSU9OX05PUlRIKTtcbiAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9TT1VUSDtcbiAgICAgICAgICBoZWlnaHQgPSAtaGVpZ2h0O1xuICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICBsZWZ0ICs9IChjcm9wQm94RGF0YS53aWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEFDVElPTl9XRVNUOlxuICAgICAgICBpZiAocmFuZ2UueCA8PSAwICYmIChsZWZ0IDw9IG1pbkxlZnQgfHwgYXNwZWN0UmF0aW8gJiYgKHRvcCA8PSBtaW5Ub3AgfHwgYm90dG9tID49IG1heEhlaWdodCkpKSB7XG4gICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrKEFDVElPTl9XRVNUKTtcbiAgICAgICAgd2lkdGggLT0gcmFuZ2UueDtcbiAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX0VBU1Q7XG4gICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIHRvcCArPSAoY3JvcEJveERhdGEuaGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEFDVElPTl9TT1VUSDpcbiAgICAgICAgaWYgKHJhbmdlLnkgPj0gMCAmJiAoYm90dG9tID49IG1heEhlaWdodCB8fCBhc3BlY3RSYXRpbyAmJiAobGVmdCA8PSBtaW5MZWZ0IHx8IHJpZ2h0ID49IG1heFdpZHRoKSkpIHtcbiAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2soQUNUSU9OX1NPVVRIKTtcbiAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG4gICAgICAgIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX05PUlRIO1xuICAgICAgICAgIGhlaWdodCA9IC1oZWlnaHQ7XG4gICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIGxlZnQgKz0gKGNyb3BCb3hEYXRhLndpZHRoIC0gd2lkdGgpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQUNUSU9OX05PUlRIX0VBU1Q6XG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGlmIChyYW5nZS55IDw9IDAgJiYgKHRvcCA8PSBtaW5Ub3AgfHwgcmlnaHQgPj0gbWF4V2lkdGgpKSB7XG4gICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2soQUNUSU9OX05PUlRIKTtcbiAgICAgICAgICBoZWlnaHQgLT0gcmFuZ2UueTtcbiAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrKEFDVElPTl9OT1JUSCk7XG4gICAgICAgICAgY2hlY2soQUNUSU9OX0VBU1QpO1xuICAgICAgICAgIGlmIChyYW5nZS54ID49IDApIHtcbiAgICAgICAgICAgIGlmIChyaWdodCA8IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnkgPD0gMCAmJiB0b3AgPD0gbWluVG9wKSB7XG4gICAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJhbmdlLnkgPD0gMCkge1xuICAgICAgICAgICAgaWYgKHRvcCA+IG1pblRvcCkge1xuICAgICAgICAgICAgICBoZWlnaHQgLT0gcmFuZ2UueTtcbiAgICAgICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3aWR0aCA8IDAgJiYgaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9TT1VUSF9XRVNUO1xuICAgICAgICAgIGhlaWdodCA9IC1oZWlnaHQ7XG4gICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICB9IGVsc2UgaWYgKHdpZHRoIDwgMCkge1xuICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9OT1JUSF9XRVNUO1xuICAgICAgICAgIHdpZHRoID0gLXdpZHRoO1xuICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9TT1VUSF9FQVNUO1xuICAgICAgICAgIGhlaWdodCA9IC1oZWlnaHQ7XG4gICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQUNUSU9OX05PUlRIX1dFU1Q6XG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGlmIChyYW5nZS55IDw9IDAgJiYgKHRvcCA8PSBtaW5Ub3AgfHwgbGVmdCA8PSBtaW5MZWZ0KSkge1xuICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrKEFDVElPTl9OT1JUSCk7XG4gICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICBsZWZ0ICs9IGNyb3BCb3hEYXRhLndpZHRoIC0gd2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2soQUNUSU9OX05PUlRIKTtcbiAgICAgICAgICBjaGVjayhBQ1RJT05fV0VTVCk7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPD0gMCkge1xuICAgICAgICAgICAgaWYgKGxlZnQgPiBtaW5MZWZ0KSB7XG4gICAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA8PSAwICYmIHRvcCA8PSBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCAtPSByYW5nZS54O1xuICAgICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmFuZ2UueSA8PSAwKSB7XG4gICAgICAgICAgICBpZiAodG9wID4gbWluVG9wKSB7XG4gICAgICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoIDwgMCAmJiBoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX1NPVVRIX0VBU1Q7XG4gICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICB3aWR0aCA9IC13aWR0aDtcbiAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX05PUlRIX0VBU1Q7XG4gICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX1NPVVRIX1dFU1Q7XG4gICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBBQ1RJT05fU09VVEhfV0VTVDpcbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPD0gMCAmJiAobGVmdCA8PSBtaW5MZWZ0IHx8IGJvdHRvbSA+PSBtYXhIZWlnaHQpKSB7XG4gICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2soQUNUSU9OX1dFU1QpO1xuICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2soQUNUSU9OX1NPVVRIKTtcbiAgICAgICAgICBjaGVjayhBQ1RJT05fV0VTVCk7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPD0gMCkge1xuICAgICAgICAgICAgaWYgKGxlZnQgPiBtaW5MZWZ0KSB7XG4gICAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA+PSAwICYmIGJvdHRvbSA+PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCAtPSByYW5nZS54O1xuICAgICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmFuZ2UueSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoYm90dG9tIDwgbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgIGhlaWdodCArPSByYW5nZS55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgKz0gcmFuZ2UueTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoIDwgMCAmJiBoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX05PUlRIX0VBU1Q7XG4gICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICB3aWR0aCA9IC13aWR0aDtcbiAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX1NPVVRIX0VBU1Q7XG4gICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgYWN0aW9uID0gQUNUSU9OX05PUlRIX1dFU1Q7XG4gICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBBQ1RJT05fU09VVEhfRUFTVDpcbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPj0gMCAmJiAocmlnaHQgPj0gbWF4V2lkdGggfHwgYm90dG9tID49IG1heEhlaWdodCkpIHtcbiAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVjayhBQ1RJT05fRUFTVCk7XG4gICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcbiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrKEFDVElPTl9TT1VUSCk7XG4gICAgICAgICAgY2hlY2soQUNUSU9OX0VBU1QpO1xuICAgICAgICAgIGlmIChyYW5nZS54ID49IDApIHtcbiAgICAgICAgICAgIGlmIChyaWdodCA8IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnkgPj0gMCAmJiBib3R0b20gPj0gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJhbmdlLnkgPj0gMCkge1xuICAgICAgICAgICAgaWYgKGJvdHRvbSA8IG1heEhlaWdodCkge1xuICAgICAgICAgICAgICBoZWlnaHQgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3aWR0aCA8IDAgJiYgaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9OT1JUSF9XRVNUO1xuICAgICAgICAgIGhlaWdodCA9IC1oZWlnaHQ7XG4gICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICB9IGVsc2UgaWYgKHdpZHRoIDwgMCkge1xuICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9TT1VUSF9XRVNUO1xuICAgICAgICAgIHdpZHRoID0gLXdpZHRoO1xuICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9OT1JUSF9FQVNUO1xuICAgICAgICAgIGhlaWdodCA9IC1oZWlnaHQ7XG4gICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgLy8gTW92ZSBjYW52YXNcbiAgICAgIGNhc2UgQUNUSU9OX01PVkU6XG4gICAgICAgIHRoaXMubW92ZShyYW5nZS54LCByYW5nZS55KTtcbiAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gWm9vbSBjYW52YXNcbiAgICAgIGNhc2UgQUNUSU9OX1pPT006XG4gICAgICAgIHRoaXMuem9vbShnZXRNYXhab29tUmF0aW8ocG9pbnRlcnMpLCBldmVudCk7XG4gICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIENyZWF0ZSBjcm9wIGJveFxuICAgICAgY2FzZSBBQ1RJT05fQ1JPUDpcbiAgICAgICAgaWYgKCFyYW5nZS54IHx8ICFyYW5nZS55KSB7XG4gICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGdldE9mZnNldCh0aGlzLmNyb3BwZXIpO1xuICAgICAgICBsZWZ0ID0gcG9pbnRlci5zdGFydFggLSBvZmZzZXQubGVmdDtcbiAgICAgICAgdG9wID0gcG9pbnRlci5zdGFydFkgLSBvZmZzZXQudG9wO1xuICAgICAgICB3aWR0aCA9IGNyb3BCb3hEYXRhLm1pbldpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjcm9wQm94RGF0YS5taW5IZWlnaHQ7XG4gICAgICAgIGlmIChyYW5nZS54ID4gMCkge1xuICAgICAgICAgIGFjdGlvbiA9IHJhbmdlLnkgPiAwID8gQUNUSU9OX1NPVVRIX0VBU1QgOiBBQ1RJT05fTk9SVEhfRUFTVDtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS54IDwgMCkge1xuICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgYWN0aW9uID0gcmFuZ2UueSA+IDAgPyBBQ1RJT05fU09VVEhfV0VTVCA6IEFDVElPTl9OT1JUSF9XRVNUO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZS55IDwgMCkge1xuICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IHRoZSBjcm9wIGJveCBpZiBpcyBoaWRkZW5cbiAgICAgICAgaWYgKCF0aGlzLmNyb3BwZWQpIHtcbiAgICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmNyb3BCb3gsIENMQVNTX0hJRERFTik7XG4gICAgICAgICAgdGhpcy5jcm9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodGhpcy5saW1pdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmxpbWl0Q3JvcEJveCh0cnVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChyZW5kZXJhYmxlKSB7XG4gICAgICBjcm9wQm94RGF0YS53aWR0aCA9IHdpZHRoO1xuICAgICAgY3JvcEJveERhdGEuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgY3JvcEJveERhdGEubGVmdCA9IGxlZnQ7XG4gICAgICBjcm9wQm94RGF0YS50b3AgPSB0b3A7XG4gICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIHRoaXMucmVuZGVyQ3JvcEJveCgpO1xuICAgIH1cblxuICAgIC8vIE92ZXJyaWRlXG4gICAgZm9yRWFjaChwb2ludGVycywgZnVuY3Rpb24gKHApIHtcbiAgICAgIHAuc3RhcnRYID0gcC5lbmRYO1xuICAgICAgcC5zdGFydFkgPSBwLmVuZFk7XG4gICAgfSk7XG4gIH1cbn07XG5cbnZhciBtZXRob2RzID0ge1xuICAvLyBTaG93IHRoZSBjcm9wIGJveCBtYW51YWxseVxuICBjcm9wOiBmdW5jdGlvbiBjcm9wKCkge1xuICAgIGlmICh0aGlzLnJlYWR5ICYmICF0aGlzLmNyb3BwZWQgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuY3JvcHBlZCA9IHRydWU7XG4gICAgICB0aGlzLmxpbWl0Q3JvcEJveCh0cnVlLCB0cnVlKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubW9kYWwpIHtcbiAgICAgICAgYWRkQ2xhc3ModGhpcy5kcmFnQm94LCBDTEFTU19NT0RBTCk7XG4gICAgICB9XG4gICAgICByZW1vdmVDbGFzcyh0aGlzLmNyb3BCb3gsIENMQVNTX0hJRERFTik7XG4gICAgICB0aGlzLnNldENyb3BCb3hEYXRhKHRoaXMuaW5pdGlhbENyb3BCb3hEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8vIFJlc2V0IHRoZSBpbWFnZSBhbmQgY3JvcCBib3ggdG8gdGhlaXIgaW5pdGlhbCBzdGF0ZXNcbiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnJlYWR5ICYmICF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLmltYWdlRGF0YSA9IGFzc2lnbih7fSwgdGhpcy5pbml0aWFsSW1hZ2VEYXRhKTtcbiAgICAgIHRoaXMuY2FudmFzRGF0YSA9IGFzc2lnbih7fSwgdGhpcy5pbml0aWFsQ2FudmFzRGF0YSk7XG4gICAgICB0aGlzLmNyb3BCb3hEYXRhID0gYXNzaWduKHt9LCB0aGlzLmluaXRpYWxDcm9wQm94RGF0YSk7XG4gICAgICB0aGlzLnJlbmRlckNhbnZhcygpO1xuICAgICAgaWYgKHRoaXMuY3JvcHBlZCkge1xuICAgICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8vIENsZWFyIHRoZSBjcm9wIGJveFxuICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKHRoaXMuY3JvcHBlZCAmJiAhdGhpcy5kaXNhYmxlZCkge1xuICAgICAgYXNzaWduKHRoaXMuY3JvcEJveERhdGEsIHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY3JvcHBlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgICB0aGlzLmxpbWl0Q2FudmFzKHRydWUsIHRydWUpO1xuXG4gICAgICAvLyBSZW5kZXIgY2FudmFzIGFmdGVyIGNyb3AgYm94IHJlbmRlcmVkXG4gICAgICB0aGlzLnJlbmRlckNhbnZhcygpO1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5kcmFnQm94LCBDTEFTU19NT0RBTCk7XG4gICAgICBhZGRDbGFzcyh0aGlzLmNyb3BCb3gsIENMQVNTX0hJRERFTik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvKipcbiAgICogUmVwbGFjZSB0aGUgaW1hZ2UncyBzcmMgYW5kIHJlYnVpbGQgdGhlIGNyb3BwZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBuZXcgVVJMLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXNTYW1lU2l6ZV0gLSBJbmRpY2F0ZSBpZiB0aGUgbmV3IGltYWdlIGhhcyB0aGUgc2FtZSBzaXplIGFzIHRoZSBvbGQgb25lLlxuICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgKi9cbiAgcmVwbGFjZTogZnVuY3Rpb24gcmVwbGFjZSh1cmwpIHtcbiAgICB2YXIgaGFzU2FtZVNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiB1cmwpIHtcbiAgICAgIGlmICh0aGlzLmlzSW1nKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zcmMgPSB1cmw7XG4gICAgICB9XG4gICAgICBpZiAoaGFzU2FtZVNpemUpIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdXJsO1xuICAgICAgICBpZiAodGhpcy5yZWFkeSkge1xuICAgICAgICAgIHRoaXMudmlld0JveEltYWdlLnNyYyA9IHVybDtcbiAgICAgICAgICBmb3JFYWNoKHRoaXMucHJldmlld3MsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVswXS5zcmMgPSB1cmw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmlzSW1nKSB7XG4gICAgICAgICAgdGhpcy5yZXBsYWNlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnVuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMubG9hZCh1cmwpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgLy8gRW5hYmxlICh1bmZyZWV6ZSkgdGhlIGNyb3BwZXJcbiAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgaWYgKHRoaXMucmVhZHkgJiYgdGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5jcm9wcGVyLCBDTEFTU19ESVNBQkxFRCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvLyBEaXNhYmxlIChmcmVlemUpIHRoZSBjcm9wcGVyXG4gIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgaWYgKHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgYWRkQ2xhc3ModGhpcy5jcm9wcGVyLCBDTEFTU19ESVNBQkxFRCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvKipcbiAgICogRGVzdHJveSB0aGUgY3JvcHBlciBhbmQgcmVtb3ZlIHRoZSBpbnN0YW5jZSBmcm9tIHRoZSBpbWFnZVxuICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgKi9cbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICBpZiAoIWVsZW1lbnRbTkFNRVNQQUNFXSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGVsZW1lbnRbTkFNRVNQQUNFXSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5pc0ltZyAmJiB0aGlzLnJlcGxhY2VkKSB7XG4gICAgICBlbGVtZW50LnNyYyA9IHRoaXMub3JpZ2luYWxVcmw7XG4gICAgfVxuICAgIHRoaXMudW5jcmVhdGUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgLyoqXG4gICAqIE1vdmUgdGhlIGNhbnZhcyB3aXRoIHJlbGF0aXZlIG9mZnNldHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggLSBUaGUgcmVsYXRpdmUgb2Zmc2V0IGRpc3RhbmNlIG9uIHRoZSB4LWF4aXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0WT1vZmZzZXRYXSAtIFRoZSByZWxhdGl2ZSBvZmZzZXQgZGlzdGFuY2Ugb24gdGhlIHktYXhpcy5cbiAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICovXG4gIG1vdmU6IGZ1bmN0aW9uIG1vdmUob2Zmc2V0WCkge1xuICAgIHZhciBvZmZzZXRZID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBvZmZzZXRYO1xuICAgIHZhciBfdGhpcyRjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhLFxuICAgICAgbGVmdCA9IF90aGlzJGNhbnZhc0RhdGEubGVmdCxcbiAgICAgIHRvcCA9IF90aGlzJGNhbnZhc0RhdGEudG9wO1xuICAgIHJldHVybiB0aGlzLm1vdmVUbyhpc1VuZGVmaW5lZChvZmZzZXRYKSA/IG9mZnNldFggOiBsZWZ0ICsgTnVtYmVyKG9mZnNldFgpLCBpc1VuZGVmaW5lZChvZmZzZXRZKSA/IG9mZnNldFkgOiB0b3AgKyBOdW1iZXIob2Zmc2V0WSkpO1xuICB9LFxuICAvKipcbiAgICogTW92ZSB0aGUgY2FudmFzIHRvIGFuIGFic29sdXRlIHBvaW50XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIHgtYXhpcyBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBUaGUgeS1heGlzIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAqL1xuICBtb3ZlVG86IGZ1bmN0aW9uIG1vdmVUbyh4KSB7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHg7XG4gICAgdmFyIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGE7XG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICB4ID0gTnVtYmVyKHgpO1xuICAgIHkgPSBOdW1iZXIoeSk7XG4gICAgaWYgKHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5vcHRpb25zLm1vdmFibGUpIHtcbiAgICAgIGlmIChpc051bWJlcih4KSkge1xuICAgICAgICBjYW52YXNEYXRhLmxlZnQgPSB4O1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc051bWJlcih5KSkge1xuICAgICAgICBjYW52YXNEYXRhLnRvcCA9IHk7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXModHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvKipcbiAgICogWm9vbSB0aGUgY2FudmFzIHdpdGggYSByZWxhdGl2ZSByYXRpb1xuICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gLSBUaGUgdGFyZ2V0IHJhdGlvLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBfb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBpZiBhbnkuXG4gICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAqL1xuICB6b29tOiBmdW5jdGlvbiB6b29tKHJhdGlvLCBfb3JpZ2luYWxFdmVudCkge1xuICAgIHZhciBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhO1xuICAgIHJhdGlvID0gTnVtYmVyKHJhdGlvKTtcbiAgICBpZiAocmF0aW8gPCAwKSB7XG4gICAgICByYXRpbyA9IDEgLyAoMSAtIHJhdGlvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmF0aW8gPSAxICsgcmF0aW87XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnpvb21UbyhjYW52YXNEYXRhLndpZHRoICogcmF0aW8gLyBjYW52YXNEYXRhLm5hdHVyYWxXaWR0aCwgbnVsbCwgX29yaWdpbmFsRXZlbnQpO1xuICB9LFxuICAvKipcbiAgICogWm9vbSB0aGUgY2FudmFzIHRvIGFuIGFic29sdXRlIHJhdGlvXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYXRpbyAtIFRoZSB0YXJnZXQgcmF0aW8uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwaXZvdCAtIFRoZSB6b29tIHBpdm90IHBvaW50IGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7RXZlbnR9IF9vcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGlmIGFueS5cbiAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICovXG4gIHpvb21UbzogZnVuY3Rpb24gem9vbVRvKHJhdGlvLCBwaXZvdCwgX29yaWdpbmFsRXZlbnQpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGE7XG4gICAgdmFyIHdpZHRoID0gY2FudmFzRGF0YS53aWR0aCxcbiAgICAgIGhlaWdodCA9IGNhbnZhc0RhdGEuaGVpZ2h0LFxuICAgICAgbmF0dXJhbFdpZHRoID0gY2FudmFzRGF0YS5uYXR1cmFsV2lkdGgsXG4gICAgICBuYXR1cmFsSGVpZ2h0ID0gY2FudmFzRGF0YS5uYXR1cmFsSGVpZ2h0O1xuICAgIHJhdGlvID0gTnVtYmVyKHJhdGlvKTtcbiAgICBpZiAocmF0aW8gPj0gMCAmJiB0aGlzLnJlYWR5ICYmICF0aGlzLmRpc2FibGVkICYmIG9wdGlvbnMuem9vbWFibGUpIHtcbiAgICAgIHZhciBuZXdXaWR0aCA9IG5hdHVyYWxXaWR0aCAqIHJhdGlvO1xuICAgICAgdmFyIG5ld0hlaWdodCA9IG5hdHVyYWxIZWlnaHQgKiByYXRpbztcbiAgICAgIGlmIChkaXNwYXRjaEV2ZW50KHRoaXMuZWxlbWVudCwgRVZFTlRfWk9PTSwge1xuICAgICAgICByYXRpbzogcmF0aW8sXG4gICAgICAgIG9sZFJhdGlvOiB3aWR0aCAvIG5hdHVyYWxXaWR0aCxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogX29yaWdpbmFsRXZlbnRcbiAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmIChfb3JpZ2luYWxFdmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0T2Zmc2V0KHRoaXMuY3JvcHBlcik7XG4gICAgICAgIHZhciBjZW50ZXIgPSBwb2ludGVycyAmJiBPYmplY3Qua2V5cyhwb2ludGVycykubGVuZ3RoID8gZ2V0UG9pbnRlcnNDZW50ZXIocG9pbnRlcnMpIDoge1xuICAgICAgICAgIHBhZ2VYOiBfb3JpZ2luYWxFdmVudC5wYWdlWCxcbiAgICAgICAgICBwYWdlWTogX29yaWdpbmFsRXZlbnQucGFnZVlcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBab29tIGZyb20gdGhlIHRyaWdnZXJpbmcgcG9pbnQgb2YgdGhlIGV2ZW50XG4gICAgICAgIGNhbnZhc0RhdGEubGVmdCAtPSAobmV3V2lkdGggLSB3aWR0aCkgKiAoKGNlbnRlci5wYWdlWCAtIG9mZnNldC5sZWZ0IC0gY2FudmFzRGF0YS5sZWZ0KSAvIHdpZHRoKTtcbiAgICAgICAgY2FudmFzRGF0YS50b3AgLT0gKG5ld0hlaWdodCAtIGhlaWdodCkgKiAoKGNlbnRlci5wYWdlWSAtIG9mZnNldC50b3AgLSBjYW52YXNEYXRhLnRvcCkgLyBoZWlnaHQpO1xuICAgICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHBpdm90KSAmJiBpc051bWJlcihwaXZvdC54KSAmJiBpc051bWJlcihwaXZvdC55KSkge1xuICAgICAgICBjYW52YXNEYXRhLmxlZnQgLT0gKG5ld1dpZHRoIC0gd2lkdGgpICogKChwaXZvdC54IC0gY2FudmFzRGF0YS5sZWZ0KSAvIHdpZHRoKTtcbiAgICAgICAgY2FudmFzRGF0YS50b3AgLT0gKG5ld0hlaWdodCAtIGhlaWdodCkgKiAoKHBpdm90LnkgLSBjYW52YXNEYXRhLnRvcCkgLyBoZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gWm9vbSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGNhbnZhc1xuICAgICAgICBjYW52YXNEYXRhLmxlZnQgLT0gKG5ld1dpZHRoIC0gd2lkdGgpIC8gMjtcbiAgICAgICAgY2FudmFzRGF0YS50b3AgLT0gKG5ld0hlaWdodCAtIGhlaWdodCkgLyAyO1xuICAgICAgfVxuICAgICAgY2FudmFzRGF0YS53aWR0aCA9IG5ld1dpZHRoO1xuICAgICAgY2FudmFzRGF0YS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8qKlxuICAgKiBSb3RhdGUgdGhlIGNhbnZhcyB3aXRoIGEgcmVsYXRpdmUgZGVncmVlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWUgLSBUaGUgcm90YXRlIGRlZ3JlZS5cbiAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICovXG4gIHJvdGF0ZTogZnVuY3Rpb24gcm90YXRlKGRlZ3JlZSkge1xuICAgIHJldHVybiB0aGlzLnJvdGF0ZVRvKCh0aGlzLmltYWdlRGF0YS5yb3RhdGUgfHwgMCkgKyBOdW1iZXIoZGVncmVlKSk7XG4gIH0sXG4gIC8qKlxuICAgKiBSb3RhdGUgdGhlIGNhbnZhcyB0byBhbiBhYnNvbHV0ZSBkZWdyZWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZSAtIFRoZSByb3RhdGUgZGVncmVlLlxuICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgKi9cbiAgcm90YXRlVG86IGZ1bmN0aW9uIHJvdGF0ZVRvKGRlZ3JlZSkge1xuICAgIGRlZ3JlZSA9IE51bWJlcihkZWdyZWUpO1xuICAgIGlmIChpc051bWJlcihkZWdyZWUpICYmIHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5vcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgdGhpcy5pbWFnZURhdGEucm90YXRlID0gZGVncmVlICUgMzYwO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXModHJ1ZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvKipcbiAgICogU2NhbGUgdGhlIGltYWdlIG9uIHRoZSB4LWF4aXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBUaGUgc2NhbGUgcmF0aW8gb24gdGhlIHgtYXhpcy5cbiAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICovXG4gIHNjYWxlWDogZnVuY3Rpb24gc2NhbGVYKF9zY2FsZVgpIHtcbiAgICB2YXIgc2NhbGVZID0gdGhpcy5pbWFnZURhdGEuc2NhbGVZO1xuICAgIHJldHVybiB0aGlzLnNjYWxlKF9zY2FsZVgsIGlzTnVtYmVyKHNjYWxlWSkgPyBzY2FsZVkgOiAxKTtcbiAgfSxcbiAgLyoqXG4gICAqIFNjYWxlIHRoZSBpbWFnZSBvbiB0aGUgeS1heGlzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gVGhlIHNjYWxlIHJhdGlvIG9uIHRoZSB5LWF4aXMuXG4gICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAqL1xuICBzY2FsZVk6IGZ1bmN0aW9uIHNjYWxlWShfc2NhbGVZKSB7XG4gICAgdmFyIHNjYWxlWCA9IHRoaXMuaW1hZ2VEYXRhLnNjYWxlWDtcbiAgICByZXR1cm4gdGhpcy5zY2FsZShpc051bWJlcihzY2FsZVgpID8gc2NhbGVYIDogMSwgX3NjYWxlWSk7XG4gIH0sXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgaW1hZ2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFRoZSBzY2FsZSByYXRpbyBvbiB0aGUgeC1heGlzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT1zY2FsZVhdIC0gVGhlIHNjYWxlIHJhdGlvIG9uIHRoZSB5LWF4aXMuXG4gICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAqL1xuICBzY2FsZTogZnVuY3Rpb24gc2NhbGUoc2NhbGVYKSB7XG4gICAgdmFyIHNjYWxlWSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogc2NhbGVYO1xuICAgIHZhciBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTtcbiAgICB2YXIgdHJhbnNmb3JtZWQgPSBmYWxzZTtcbiAgICBzY2FsZVggPSBOdW1iZXIoc2NhbGVYKTtcbiAgICBzY2FsZVkgPSBOdW1iZXIoc2NhbGVZKTtcbiAgICBpZiAodGhpcy5yZWFkeSAmJiAhdGhpcy5kaXNhYmxlZCAmJiB0aGlzLm9wdGlvbnMuc2NhbGFibGUpIHtcbiAgICAgIGlmIChpc051bWJlcihzY2FsZVgpKSB7XG4gICAgICAgIGltYWdlRGF0YS5zY2FsZVggPSBzY2FsZVg7XG4gICAgICAgIHRyYW5zZm9ybWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc051bWJlcihzY2FsZVkpKSB7XG4gICAgICAgIGltYWdlRGF0YS5zY2FsZVkgPSBzY2FsZVk7XG4gICAgICAgIHRyYW5zZm9ybWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm1lZCkge1xuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNyb3BwZWQgYXJlYSBwb3NpdGlvbiBhbmQgc2l6ZSBkYXRhIChiYXNlIG9uIHRoZSBvcmlnaW5hbCBpbWFnZSlcbiAgICogQHBhcmFtIHtib29sZWFufSBbcm91bmRlZD1mYWxzZV0gLSBJbmRpY2F0ZSBpZiByb3VuZCB0aGUgZGF0YSB2YWx1ZXMgb3Igbm90LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IGNyb3BwZWQgZGF0YS5cbiAgICovXG4gIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gICAgdmFyIHJvdW5kZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGEsXG4gICAgICBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhLFxuICAgICAgY3JvcEJveERhdGEgPSB0aGlzLmNyb3BCb3hEYXRhO1xuICAgIHZhciBkYXRhO1xuICAgIGlmICh0aGlzLnJlYWR5ICYmIHRoaXMuY3JvcHBlZCkge1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgeDogY3JvcEJveERhdGEubGVmdCAtIGNhbnZhc0RhdGEubGVmdCxcbiAgICAgICAgeTogY3JvcEJveERhdGEudG9wIC0gY2FudmFzRGF0YS50b3AsXG4gICAgICAgIHdpZHRoOiBjcm9wQm94RGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjcm9wQm94RGF0YS5oZWlnaHRcbiAgICAgIH07XG4gICAgICB2YXIgcmF0aW8gPSBpbWFnZURhdGEud2lkdGggLyBpbWFnZURhdGEubmF0dXJhbFdpZHRoO1xuICAgICAgZm9yRWFjaChkYXRhLCBmdW5jdGlvbiAobiwgaSkge1xuICAgICAgICBkYXRhW2ldID0gbiAvIHJhdGlvO1xuICAgICAgfSk7XG4gICAgICBpZiAocm91bmRlZCkge1xuICAgICAgICAvLyBJbiBjYXNlIHJvdW5kaW5nIG9mZiBsZWFkcyB0byBleHRyYSAxcHggaW4gcmlnaHQgb3IgYm90dG9tIGJvcmRlclxuICAgICAgICAvLyB3ZSBzaG91bGQgcm91bmQgdGhlIHRvcC1sZWZ0IGNvcm5lciBhbmQgdGhlIGRpbWVuc2lvbiAoIzM0MykuXG4gICAgICAgIHZhciBib3R0b20gPSBNYXRoLnJvdW5kKGRhdGEueSArIGRhdGEuaGVpZ2h0KTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gTWF0aC5yb3VuZChkYXRhLnggKyBkYXRhLndpZHRoKTtcbiAgICAgICAgZGF0YS54ID0gTWF0aC5yb3VuZChkYXRhLngpO1xuICAgICAgICBkYXRhLnkgPSBNYXRoLnJvdW5kKGRhdGEueSk7XG4gICAgICAgIGRhdGEud2lkdGggPSByaWdodCAtIGRhdGEueDtcbiAgICAgICAgZGF0YS5oZWlnaHQgPSBib3R0b20gLSBkYXRhLnk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgZGF0YS5yb3RhdGUgPSBpbWFnZURhdGEucm90YXRlIHx8IDA7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNjYWxhYmxlKSB7XG4gICAgICBkYXRhLnNjYWxlWCA9IGltYWdlRGF0YS5zY2FsZVggfHwgMTtcbiAgICAgIGRhdGEuc2NhbGVZID0gaW1hZ2VEYXRhLnNjYWxlWSB8fCAxO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbiAgLyoqXG4gICAqIFNldCB0aGUgY3JvcHBlZCBhcmVhIHBvc2l0aW9uIGFuZCBzaXplIHdpdGggbmV3IGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgbmV3IGRhdGEuXG4gICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAqL1xuICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGltYWdlRGF0YSA9IHRoaXMuaW1hZ2VEYXRhLFxuICAgICAgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YTtcbiAgICB2YXIgY3JvcEJveERhdGEgPSB7fTtcbiAgICBpZiAodGhpcy5yZWFkeSAmJiAhdGhpcy5kaXNhYmxlZCAmJiBpc1BsYWluT2JqZWN0KGRhdGEpKSB7XG4gICAgICB2YXIgdHJhbnNmb3JtZWQgPSBmYWxzZTtcbiAgICAgIGlmIChvcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS5yb3RhdGUpICYmIGRhdGEucm90YXRlICE9PSBpbWFnZURhdGEucm90YXRlKSB7XG4gICAgICAgICAgaW1hZ2VEYXRhLnJvdGF0ZSA9IGRhdGEucm90YXRlO1xuICAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuc2NhbGFibGUpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuc2NhbGVYKSAmJiBkYXRhLnNjYWxlWCAhPT0gaW1hZ2VEYXRhLnNjYWxlWCkge1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVggPSBkYXRhLnNjYWxlWDtcbiAgICAgICAgICB0cmFuc2Zvcm1lZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuc2NhbGVZKSAmJiBkYXRhLnNjYWxlWSAhPT0gaW1hZ2VEYXRhLnNjYWxlWSkge1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVkgPSBkYXRhLnNjYWxlWTtcbiAgICAgICAgICB0cmFuc2Zvcm1lZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm1lZCkge1xuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHZhciByYXRpbyA9IGltYWdlRGF0YS53aWR0aCAvIGltYWdlRGF0YS5uYXR1cmFsV2lkdGg7XG4gICAgICBpZiAoaXNOdW1iZXIoZGF0YS54KSkge1xuICAgICAgICBjcm9wQm94RGF0YS5sZWZ0ID0gZGF0YS54ICogcmF0aW8gKyBjYW52YXNEYXRhLmxlZnQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNOdW1iZXIoZGF0YS55KSkge1xuICAgICAgICBjcm9wQm94RGF0YS50b3AgPSBkYXRhLnkgKiByYXRpbyArIGNhbnZhc0RhdGEudG9wO1xuICAgICAgfVxuICAgICAgaWYgKGlzTnVtYmVyKGRhdGEud2lkdGgpKSB7XG4gICAgICAgIGNyb3BCb3hEYXRhLndpZHRoID0gZGF0YS53aWR0aCAqIHJhdGlvO1xuICAgICAgfVxuICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuaGVpZ2h0KSkge1xuICAgICAgICBjcm9wQm94RGF0YS5oZWlnaHQgPSBkYXRhLmhlaWdodCAqIHJhdGlvO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRDcm9wQm94RGF0YShjcm9wQm94RGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvKipcbiAgICogR2V0IHRoZSBjb250YWluZXIgc2l6ZSBkYXRhLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IGNvbnRhaW5lciBkYXRhLlxuICAgKi9cbiAgZ2V0Q29udGFpbmVyRGF0YTogZnVuY3Rpb24gZ2V0Q29udGFpbmVyRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSA/IGFzc2lnbih7fSwgdGhpcy5jb250YWluZXJEYXRhKSA6IHt9O1xuICB9LFxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBwb3NpdGlvbiBhbmQgc2l6ZSBkYXRhLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IGltYWdlIGRhdGEuXG4gICAqL1xuICBnZXRJbWFnZURhdGE6IGZ1bmN0aW9uIGdldEltYWdlRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplZCA/IGFzc2lnbih7fSwgdGhpcy5pbWFnZURhdGEpIDoge307XG4gIH0sXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNhbnZhcyBwb3NpdGlvbiBhbmQgc2l6ZSBkYXRhLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IGNhbnZhcyBkYXRhLlxuICAgKi9cbiAgZ2V0Q2FudmFzRGF0YTogZnVuY3Rpb24gZ2V0Q2FudmFzRGF0YSgpIHtcbiAgICB2YXIgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YTtcbiAgICB2YXIgZGF0YSA9IHt9O1xuICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICBmb3JFYWNoKFsnbGVmdCcsICd0b3AnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ25hdHVyYWxXaWR0aCcsICduYXR1cmFsSGVpZ2h0J10sIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIGRhdGFbbl0gPSBjYW52YXNEYXRhW25dO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuICAvKipcbiAgICogU2V0IHRoZSBjYW52YXMgcG9zaXRpb24gYW5kIHNpemUgd2l0aCBuZXcgZGF0YS5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgbmV3IGNhbnZhcyBkYXRhLlxuICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgKi9cbiAgc2V0Q2FudmFzRGF0YTogZnVuY3Rpb24gc2V0Q2FudmFzRGF0YShkYXRhKSB7XG4gICAgdmFyIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGE7XG4gICAgdmFyIGFzcGVjdFJhdGlvID0gY2FudmFzRGF0YS5hc3BlY3RSYXRpbztcbiAgICBpZiAodGhpcy5yZWFkeSAmJiAhdGhpcy5kaXNhYmxlZCAmJiBpc1BsYWluT2JqZWN0KGRhdGEpKSB7XG4gICAgICBpZiAoaXNOdW1iZXIoZGF0YS5sZWZ0KSkge1xuICAgICAgICBjYW52YXNEYXRhLmxlZnQgPSBkYXRhLmxlZnQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNOdW1iZXIoZGF0YS50b3ApKSB7XG4gICAgICAgIGNhbnZhc0RhdGEudG9wID0gZGF0YS50b3A7XG4gICAgICB9XG4gICAgICBpZiAoaXNOdW1iZXIoZGF0YS53aWR0aCkpIHtcbiAgICAgICAgY2FudmFzRGF0YS53aWR0aCA9IGRhdGEud2lkdGg7XG4gICAgICAgIGNhbnZhc0RhdGEuaGVpZ2h0ID0gZGF0YS53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfSBlbHNlIGlmIChpc051bWJlcihkYXRhLmhlaWdodCkpIHtcbiAgICAgICAgY2FudmFzRGF0YS5oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgICAgY2FudmFzRGF0YS53aWR0aCA9IGRhdGEuaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNyb3AgYm94IHBvc2l0aW9uIGFuZCBzaXplIGRhdGEuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHQgY3JvcCBib3ggZGF0YS5cbiAgICovXG4gIGdldENyb3BCb3hEYXRhOiBmdW5jdGlvbiBnZXRDcm9wQm94RGF0YSgpIHtcbiAgICB2YXIgY3JvcEJveERhdGEgPSB0aGlzLmNyb3BCb3hEYXRhO1xuICAgIHZhciBkYXRhO1xuICAgIGlmICh0aGlzLnJlYWR5ICYmIHRoaXMuY3JvcHBlZCkge1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgbGVmdDogY3JvcEJveERhdGEubGVmdCxcbiAgICAgICAgdG9wOiBjcm9wQm94RGF0YS50b3AsXG4gICAgICAgIHdpZHRoOiBjcm9wQm94RGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjcm9wQm94RGF0YS5oZWlnaHRcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBkYXRhIHx8IHt9O1xuICB9LFxuICAvKipcbiAgICogU2V0IHRoZSBjcm9wIGJveCBwb3NpdGlvbiBhbmQgc2l6ZSB3aXRoIG5ldyBkYXRhLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFRoZSBuZXcgY3JvcCBib3ggZGF0YS5cbiAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICovXG4gIHNldENyb3BCb3hEYXRhOiBmdW5jdGlvbiBzZXRDcm9wQm94RGF0YShkYXRhKSB7XG4gICAgdmFyIGNyb3BCb3hEYXRhID0gdGhpcy5jcm9wQm94RGF0YTtcbiAgICB2YXIgYXNwZWN0UmF0aW8gPSB0aGlzLm9wdGlvbnMuYXNwZWN0UmF0aW87XG4gICAgdmFyIHdpZHRoQ2hhbmdlZDtcbiAgICB2YXIgaGVpZ2h0Q2hhbmdlZDtcbiAgICBpZiAodGhpcy5yZWFkeSAmJiB0aGlzLmNyb3BwZWQgJiYgIXRoaXMuZGlzYWJsZWQgJiYgaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgICAgaWYgKGlzTnVtYmVyKGRhdGEubGVmdCkpIHtcbiAgICAgICAgY3JvcEJveERhdGEubGVmdCA9IGRhdGEubGVmdDtcbiAgICAgIH1cbiAgICAgIGlmIChpc051bWJlcihkYXRhLnRvcCkpIHtcbiAgICAgICAgY3JvcEJveERhdGEudG9wID0gZGF0YS50b3A7XG4gICAgICB9XG4gICAgICBpZiAoaXNOdW1iZXIoZGF0YS53aWR0aCkgJiYgZGF0YS53aWR0aCAhPT0gY3JvcEJveERhdGEud2lkdGgpIHtcbiAgICAgICAgd2lkdGhDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY3JvcEJveERhdGEud2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuaGVpZ2h0KSAmJiBkYXRhLmhlaWdodCAhPT0gY3JvcEJveERhdGEuaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodENoYW5nZWQgPSB0cnVlO1xuICAgICAgICBjcm9wQm94RGF0YS5oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICBpZiAod2lkdGhDaGFuZ2VkKSB7XG4gICAgICAgICAgY3JvcEJveERhdGEuaGVpZ2h0ID0gY3JvcEJveERhdGEud2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIGlmIChoZWlnaHRDaGFuZ2VkKSB7XG4gICAgICAgICAgY3JvcEJveERhdGEud2lkdGggPSBjcm9wQm94RGF0YS5oZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICAvKipcbiAgICogR2V0IGEgY2FudmFzIGRyYXduIHRoZSBjcm9wcGVkIGltYWdlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIC0gVGhlIGNvbmZpZyBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IC0gVGhlIHJlc3VsdCBjYW52YXMuXG4gICAqL1xuICBnZXRDcm9wcGVkQ2FudmFzOiBmdW5jdGlvbiBnZXRDcm9wcGVkQ2FudmFzKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBpZiAoIXRoaXMucmVhZHkgfHwgIXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhO1xuICAgIHZhciBzb3VyY2UgPSBnZXRTb3VyY2VDYW52YXModGhpcy5pbWFnZSwgdGhpcy5pbWFnZURhdGEsIGNhbnZhc0RhdGEsIG9wdGlvbnMpO1xuXG4gICAgLy8gUmV0dXJucyB0aGUgc291cmNlIGNhbnZhcyBpZiBpdCBpcyBub3QgY3JvcHBlZC5cbiAgICBpZiAoIXRoaXMuY3JvcHBlZCkge1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gICAgdmFyIF90aGlzJGdldERhdGEgPSB0aGlzLmdldERhdGEob3B0aW9ucy5yb3VuZGVkKSxcbiAgICAgIGluaXRpYWxYID0gX3RoaXMkZ2V0RGF0YS54LFxuICAgICAgaW5pdGlhbFkgPSBfdGhpcyRnZXREYXRhLnksXG4gICAgICBpbml0aWFsV2lkdGggPSBfdGhpcyRnZXREYXRhLndpZHRoLFxuICAgICAgaW5pdGlhbEhlaWdodCA9IF90aGlzJGdldERhdGEuaGVpZ2h0O1xuICAgIHZhciByYXRpbyA9IHNvdXJjZS53aWR0aCAvIE1hdGguZmxvb3IoY2FudmFzRGF0YS5uYXR1cmFsV2lkdGgpO1xuICAgIGlmIChyYXRpbyAhPT0gMSkge1xuICAgICAgaW5pdGlhbFggKj0gcmF0aW87XG4gICAgICBpbml0aWFsWSAqPSByYXRpbztcbiAgICAgIGluaXRpYWxXaWR0aCAqPSByYXRpbztcbiAgICAgIGluaXRpYWxIZWlnaHQgKj0gcmF0aW87XG4gICAgfVxuICAgIHZhciBhc3BlY3RSYXRpbyA9IGluaXRpYWxXaWR0aCAvIGluaXRpYWxIZWlnaHQ7XG4gICAgdmFyIG1heFNpemVzID0gZ2V0QWRqdXN0ZWRTaXplcyh7XG4gICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICB3aWR0aDogb3B0aW9ucy5tYXhXaWR0aCB8fCBJbmZpbml0eSxcbiAgICAgIGhlaWdodDogb3B0aW9ucy5tYXhIZWlnaHQgfHwgSW5maW5pdHlcbiAgICB9KTtcbiAgICB2YXIgbWluU2l6ZXMgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgIHdpZHRoOiBvcHRpb25zLm1pbldpZHRoIHx8IDAsXG4gICAgICBoZWlnaHQ6IG9wdGlvbnMubWluSGVpZ2h0IHx8IDBcbiAgICB9LCAnY292ZXInKTtcbiAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXMgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCB8fCAocmF0aW8gIT09IDEgPyBzb3VyY2Uud2lkdGggOiBpbml0aWFsV2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0IHx8IChyYXRpbyAhPT0gMSA/IHNvdXJjZS5oZWlnaHQgOiBpbml0aWFsSGVpZ2h0KVxuICAgICAgfSksXG4gICAgICB3aWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX2dldEFkanVzdGVkU2l6ZXMuaGVpZ2h0O1xuICAgIHdpZHRoID0gTWF0aC5taW4obWF4U2l6ZXMud2lkdGgsIE1hdGgubWF4KG1pblNpemVzLndpZHRoLCB3aWR0aCkpO1xuICAgIGhlaWdodCA9IE1hdGgubWluKG1heFNpemVzLmhlaWdodCwgTWF0aC5tYXgobWluU2l6ZXMuaGVpZ2h0LCBoZWlnaHQpKTtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjYW52YXMud2lkdGggPSBub3JtYWxpemVEZWNpbWFsTnVtYmVyKHdpZHRoKTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gbm9ybWFsaXplRGVjaW1hbE51bWJlcihoZWlnaHQpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gb3B0aW9ucy5maWxsQ29sb3IgfHwgJ3RyYW5zcGFyZW50JztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBfb3B0aW9ucyRpbWFnZVNtb290aGkgPSBvcHRpb25zLmltYWdlU21vb3RoaW5nRW5hYmxlZCxcbiAgICAgIGltYWdlU21vb3RoaW5nRW5hYmxlZCA9IF9vcHRpb25zJGltYWdlU21vb3RoaSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGltYWdlU21vb3RoaSxcbiAgICAgIGltYWdlU21vb3RoaW5nUXVhbGl0eSA9IG9wdGlvbnMuaW1hZ2VTbW9vdGhpbmdRdWFsaXR5O1xuICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gaW1hZ2VTbW9vdGhpbmdFbmFibGVkO1xuICAgIGlmIChpbWFnZVNtb290aGluZ1F1YWxpdHkpIHtcbiAgICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gaW1hZ2VTbW9vdGhpbmdRdWFsaXR5O1xuICAgIH1cblxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuZHJhd0ltYWdlXG4gICAgdmFyIHNvdXJjZVdpZHRoID0gc291cmNlLndpZHRoO1xuICAgIHZhciBzb3VyY2VIZWlnaHQgPSBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgLy8gU291cmNlIGNhbnZhcyBwYXJhbWV0ZXJzXG4gICAgdmFyIHNyY1ggPSBpbml0aWFsWDtcbiAgICB2YXIgc3JjWSA9IGluaXRpYWxZO1xuICAgIHZhciBzcmNXaWR0aDtcbiAgICB2YXIgc3JjSGVpZ2h0O1xuXG4gICAgLy8gRGVzdGluYXRpb24gY2FudmFzIHBhcmFtZXRlcnNcbiAgICB2YXIgZHN0WDtcbiAgICB2YXIgZHN0WTtcbiAgICB2YXIgZHN0V2lkdGg7XG4gICAgdmFyIGRzdEhlaWdodDtcbiAgICBpZiAoc3JjWCA8PSAtaW5pdGlhbFdpZHRoIHx8IHNyY1ggPiBzb3VyY2VXaWR0aCkge1xuICAgICAgc3JjWCA9IDA7XG4gICAgICBzcmNXaWR0aCA9IDA7XG4gICAgICBkc3RYID0gMDtcbiAgICAgIGRzdFdpZHRoID0gMDtcbiAgICB9IGVsc2UgaWYgKHNyY1ggPD0gMCkge1xuICAgICAgZHN0WCA9IC1zcmNYO1xuICAgICAgc3JjWCA9IDA7XG4gICAgICBzcmNXaWR0aCA9IE1hdGgubWluKHNvdXJjZVdpZHRoLCBpbml0aWFsV2lkdGggKyBzcmNYKTtcbiAgICAgIGRzdFdpZHRoID0gc3JjV2lkdGg7XG4gICAgfSBlbHNlIGlmIChzcmNYIDw9IHNvdXJjZVdpZHRoKSB7XG4gICAgICBkc3RYID0gMDtcbiAgICAgIHNyY1dpZHRoID0gTWF0aC5taW4oaW5pdGlhbFdpZHRoLCBzb3VyY2VXaWR0aCAtIHNyY1gpO1xuICAgICAgZHN0V2lkdGggPSBzcmNXaWR0aDtcbiAgICB9XG4gICAgaWYgKHNyY1dpZHRoIDw9IDAgfHwgc3JjWSA8PSAtaW5pdGlhbEhlaWdodCB8fCBzcmNZID4gc291cmNlSGVpZ2h0KSB7XG4gICAgICBzcmNZID0gMDtcbiAgICAgIHNyY0hlaWdodCA9IDA7XG4gICAgICBkc3RZID0gMDtcbiAgICAgIGRzdEhlaWdodCA9IDA7XG4gICAgfSBlbHNlIGlmIChzcmNZIDw9IDApIHtcbiAgICAgIGRzdFkgPSAtc3JjWTtcbiAgICAgIHNyY1kgPSAwO1xuICAgICAgc3JjSGVpZ2h0ID0gTWF0aC5taW4oc291cmNlSGVpZ2h0LCBpbml0aWFsSGVpZ2h0ICsgc3JjWSk7XG4gICAgICBkc3RIZWlnaHQgPSBzcmNIZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChzcmNZIDw9IHNvdXJjZUhlaWdodCkge1xuICAgICAgZHN0WSA9IDA7XG4gICAgICBzcmNIZWlnaHQgPSBNYXRoLm1pbihpbml0aWFsSGVpZ2h0LCBzb3VyY2VIZWlnaHQgLSBzcmNZKTtcbiAgICAgIGRzdEhlaWdodCA9IHNyY0hlaWdodDtcbiAgICB9XG4gICAgdmFyIHBhcmFtcyA9IFtzcmNYLCBzcmNZLCBzcmNXaWR0aCwgc3JjSGVpZ2h0XTtcblxuICAgIC8vIEF2b2lkIFwiSW5kZXhTaXplRXJyb3JcIlxuICAgIGlmIChkc3RXaWR0aCA+IDAgJiYgZHN0SGVpZ2h0ID4gMCkge1xuICAgICAgdmFyIHNjYWxlID0gd2lkdGggLyBpbml0aWFsV2lkdGg7XG4gICAgICBwYXJhbXMucHVzaChkc3RYICogc2NhbGUsIGRzdFkgKiBzY2FsZSwgZHN0V2lkdGggKiBzY2FsZSwgZHN0SGVpZ2h0ICogc2NhbGUpO1xuICAgIH1cblxuICAgIC8vIEFsbCB0aGUgbnVtZXJpY2FsIHBhcmFtZXRlcnMgc2hvdWxkIGJlIGludGVnZXIgZm9yIGBkcmF3SW1hZ2VgXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zlbmd5dWFuY2hlbi9jcm9wcGVyL2lzc3Vlcy80NzZcbiAgICBjb250ZXh0LmRyYXdJbWFnZS5hcHBseShjb250ZXh0LCBbc291cmNlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKHBhcmFtKSk7XG4gICAgfSkpKSk7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfSxcbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBjcm9wIGJveC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdFJhdGlvIC0gVGhlIG5ldyBhc3BlY3QgcmF0aW8uXG4gICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAqL1xuICBzZXRBc3BlY3RSYXRpbzogZnVuY3Rpb24gc2V0QXNwZWN0UmF0aW8oYXNwZWN0UmF0aW8pIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgIWlzVW5kZWZpbmVkKGFzcGVjdFJhdGlvKSkge1xuICAgICAgLy8gMCAtPiBOYU5cbiAgICAgIG9wdGlvbnMuYXNwZWN0UmF0aW8gPSBNYXRoLm1heCgwLCBhc3BlY3RSYXRpbykgfHwgTmFOO1xuICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgdGhpcy5pbml0Q3JvcEJveCgpO1xuICAgICAgICBpZiAodGhpcy5jcm9wcGVkKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIGRyYWcgbW9kZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBUaGUgbmV3IGRyYWcgbW9kZS5cbiAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICovXG4gIHNldERyYWdNb2RlOiBmdW5jdGlvbiBzZXREcmFnTW9kZShtb2RlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBkcmFnQm94ID0gdGhpcy5kcmFnQm94LFxuICAgICAgZmFjZSA9IHRoaXMuZmFjZTtcbiAgICBpZiAodGhpcy5yZWFkeSAmJiAhdGhpcy5kaXNhYmxlZCkge1xuICAgICAgdmFyIGNyb3BwYWJsZSA9IG1vZGUgPT09IERSQUdfTU9ERV9DUk9QO1xuICAgICAgdmFyIG1vdmFibGUgPSBvcHRpb25zLm1vdmFibGUgJiYgbW9kZSA9PT0gRFJBR19NT0RFX01PVkU7XG4gICAgICBtb2RlID0gY3JvcHBhYmxlIHx8IG1vdmFibGUgPyBtb2RlIDogRFJBR19NT0RFX05PTkU7XG4gICAgICBvcHRpb25zLmRyYWdNb2RlID0gbW9kZTtcbiAgICAgIHNldERhdGEoZHJhZ0JveCwgREFUQV9BQ1RJT04sIG1vZGUpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0JveCwgQ0xBU1NfQ1JPUCwgY3JvcHBhYmxlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKGRyYWdCb3gsIENMQVNTX01PVkUsIG1vdmFibGUpO1xuICAgICAgaWYgKCFvcHRpb25zLmNyb3BCb3hNb3ZhYmxlKSB7XG4gICAgICAgIC8vIFN5bmMgZHJhZyBtb2RlIHRvIGNyb3AgYm94IHdoZW4gaXQgaXMgbm90IG1vdmFibGVcbiAgICAgICAgc2V0RGF0YShmYWNlLCBEQVRBX0FDVElPTiwgbW9kZSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGZhY2UsIENMQVNTX0NST1AsIGNyb3BwYWJsZSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGZhY2UsIENMQVNTX01PVkUsIG1vdmFibGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxudmFyIEFub3RoZXJDcm9wcGVyID0gV0lORE9XLkNyb3BwZXI7XG52YXIgQ3JvcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQ3JvcHBlci5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIHRhcmdldCBlbGVtZW50IGZvciBjcm9wcGluZy5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSAtIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBDcm9wcGVyKGVsZW1lbnQpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENyb3BwZXIpO1xuICAgIGlmICghZWxlbWVudCB8fCAhUkVHRVhQX1RBR19OQU1FLnRlc3QoZWxlbWVudC50YWdOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZmlyc3QgYXJndW1lbnQgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYW4gPGltZz4gb3IgPGNhbnZhcz4gZWxlbWVudC4nKTtcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIERFRkFVTFRTLCBpc1BsYWluT2JqZWN0KG9wdGlvbnMpICYmIG9wdGlvbnMpO1xuICAgIHRoaXMuY3JvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnBvaW50ZXJzID0ge307XG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgIHRoaXMucmVsb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5yZXBsYWNlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2l6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNpemluZyA9IGZhbHNlO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhDcm9wcGVyLCBbe1xuICAgIGtleTogXCJpbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgIHZhciB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgdXJsO1xuICAgICAgaWYgKGVsZW1lbnRbTkFNRVNQQUNFXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbGVtZW50W05BTUVTUEFDRV0gPSB0aGlzO1xuICAgICAgaWYgKHRhZ05hbWUgPT09ICdpbWcnKSB7XG4gICAgICAgIHRoaXMuaXNJbWcgPSB0cnVlO1xuXG4gICAgICAgIC8vIGUuZy46IFwiaW1nL3BpY3R1cmUuanBnXCJcbiAgICAgICAgdXJsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpIHx8ICcnO1xuICAgICAgICB0aGlzLm9yaWdpbmFsVXJsID0gdXJsO1xuXG4gICAgICAgIC8vIFN0b3Agd2hlbiBpdCdzIGEgYmxhbmsgaW1hZ2VcbiAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlLmcuOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1nL3BpY3R1cmUuanBnXCJcbiAgICAgICAgdXJsID0gZWxlbWVudC5zcmM7XG4gICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdjYW52YXMnICYmIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICB1cmwgPSBlbGVtZW50LnRvRGF0YVVSTCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2FkKHVybCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZCh1cmwpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgIHRoaXMuaW1hZ2VEYXRhID0ge307XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIGlmICghb3B0aW9ucy5yb3RhdGFibGUgJiYgIW9wdGlvbnMuc2NhbGFibGUpIHtcbiAgICAgICAgb3B0aW9ucy5jaGVja09yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE9ubHkgSUUxMCsgc3VwcG9ydHMgVHlwZWQgQXJyYXlzXG4gICAgICBpZiAoIW9wdGlvbnMuY2hlY2tPcmllbnRhdGlvbiB8fCAhd2luZG93LkFycmF5QnVmZmVyKSB7XG4gICAgICAgIHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBEZXRlY3QgdGhlIG1pbWUgdHlwZSBvZiB0aGUgaW1hZ2UgZGlyZWN0bHkgaWYgaXQgaXMgYSBEYXRhIFVSTFxuICAgICAgaWYgKFJFR0VYUF9EQVRBX1VSTC50ZXN0KHVybCkpIHtcbiAgICAgICAgLy8gUmVhZCBBcnJheUJ1ZmZlciBmcm9tIERhdGEgVVJMIG9mIEpQRUcgaW1hZ2VzIGRpcmVjdGx5IGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICAgICAgaWYgKFJFR0VYUF9EQVRBX1VSTF9KUEVHLnRlc3QodXJsKSkge1xuICAgICAgICAgIHRoaXMucmVhZChkYXRhVVJMVG9BcnJheUJ1ZmZlcih1cmwpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGEgSlBFRyBpbWFnZSBtYXkgY29udGFpbnMgRXhpZiBPcmllbnRhdGlvbiBpbmZvcm1hdGlvbixcbiAgICAgICAgICAvLyB0aGUgcmVzdCB0eXBlcyBvZiBEYXRhIFVSTHMgYXJlIG5vdCBuZWNlc3NhcnkgdG8gY2hlY2sgb3JpZW50YXRpb24gYXQgYWxsLlxuICAgICAgICAgIHRoaXMuY2xvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIDEuIERldGVjdCB0aGUgbWltZSB0eXBlIG9mIHRoZSBpbWFnZSBieSBhIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAgLy8gMi4gTG9hZCB0aGUgaW1hZ2UgYXMgQXJyYXlCdWZmZXIgZm9yIHJlYWRpbmcgb3JpZW50YXRpb24gaWYgaXRzIGEgSlBFRyBpbWFnZS5cbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMucmVsb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMueGhyID0geGhyO1xuXG4gICAgICAvLyAxLiBDcm9zcyBvcmlnaW4gcmVxdWVzdHMgYXJlIG9ubHkgc3VwcG9ydGVkIGZvciBwcm90b2NvbCBzY2hlbWVzOlxuICAgICAgLy8gaHR0cCwgaHR0cHMsIGRhdGEsIGNocm9tZSwgY2hyb21lLWV4dGVuc2lvbi5cbiAgICAgIC8vIDIuIEFjY2VzcyB0byBYTUxIdHRwUmVxdWVzdCBmcm9tIGEgRGF0YSBVUkwgd2lsbCBiZSBibG9ja2VkIGJ5IENPUlMgcG9saWN5XG4gICAgICAvLyBpbiBzb21lIGJyb3dzZXJzIGFzIElFMTEgYW5kIFNhZmFyaS5cbiAgICAgIHhoci5vbmFib3J0ID0gY2xvbmU7XG4gICAgICB4aHIub25lcnJvciA9IGNsb25lO1xuICAgICAgeGhyLm9udGltZW91dCA9IGNsb25lO1xuICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGRpcmVjdGx5IGlmIGl0IG5vdCBhIEpQRUcgaW1hZ2UgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICAgICAgICBpZiAoeGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKSAhPT0gTUlNRV9UWVBFX0pQRUcpIHtcbiAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnJlYWQoeGhyLnJlc3BvbnNlKTtcbiAgICAgIH07XG4gICAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5yZWxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMueGhyID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIC8vIEJ1c3QgY2FjaGUgd2hlbiB0aGVyZSBpcyBhIFwiY3Jvc3NPcmlnaW5cIiBwcm9wZXJ0eSB0byBhdm9pZCBicm93c2VyIGNhY2hlIGVycm9yXG4gICAgICBpZiAob3B0aW9ucy5jaGVja0Nyb3NzT3JpZ2luICYmIGlzQ3Jvc3NPcmlnaW5VUkwodXJsKSAmJiBlbGVtZW50LmNyb3NzT3JpZ2luKSB7XG4gICAgICAgIHVybCA9IGFkZFRpbWVzdGFtcCh1cmwpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgdGhpcmQgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGZvciBhdm9pZGluZyBzaWRlLWVmZmVjdCAoIzY4MilcbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZWxlbWVudC5jcm9zc09yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscyc7XG4gICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTtcblxuICAgICAgLy8gUmVzZXQgdGhlIG9yaWVudGF0aW9uIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIDFcbiAgICAgIC8vIGFzIHNvbWUgaU9TIGJyb3dzZXJzIHdpbGwgcmVuZGVyIGltYWdlIHdpdGggaXRzIG9yaWVudGF0aW9uXG4gICAgICB2YXIgb3JpZW50YXRpb24gPSByZXNldEFuZEdldE9yaWVudGF0aW9uKGFycmF5QnVmZmVyKTtcbiAgICAgIHZhciByb3RhdGUgPSAwO1xuICAgICAgdmFyIHNjYWxlWCA9IDE7XG4gICAgICB2YXIgc2NhbGVZID0gMTtcbiAgICAgIGlmIChvcmllbnRhdGlvbiA+IDEpIHtcbiAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgVVJMIHdoaWNoIGhhcyB0aGUgZGVmYXVsdCBvcmllbnRhdGlvbiB2YWx1ZVxuICAgICAgICB0aGlzLnVybCA9IGFycmF5QnVmZmVyVG9EYXRhVVJMKGFycmF5QnVmZmVyLCBNSU1FX1RZUEVfSlBFRyk7XG4gICAgICAgIHZhciBfcGFyc2VPcmllbnRhdGlvbiA9IHBhcnNlT3JpZW50YXRpb24ob3JpZW50YXRpb24pO1xuICAgICAgICByb3RhdGUgPSBfcGFyc2VPcmllbnRhdGlvbi5yb3RhdGU7XG4gICAgICAgIHNjYWxlWCA9IF9wYXJzZU9yaWVudGF0aW9uLnNjYWxlWDtcbiAgICAgICAgc2NhbGVZID0gX3BhcnNlT3JpZW50YXRpb24uc2NhbGVZO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMucm90YXRhYmxlKSB7XG4gICAgICAgIGltYWdlRGF0YS5yb3RhdGUgPSByb3RhdGU7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgICBpbWFnZURhdGEuc2NhbGVYID0gc2NhbGVYO1xuICAgICAgICBpbWFnZURhdGEuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgfVxuICAgICAgdGhpcy5jbG9uZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9uZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICB1cmwgPSB0aGlzLnVybDtcbiAgICAgIHZhciBjcm9zc09yaWdpbiA9IGVsZW1lbnQuY3Jvc3NPcmlnaW47XG4gICAgICB2YXIgY3Jvc3NPcmlnaW5VcmwgPSB1cmw7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNoZWNrQ3Jvc3NPcmlnaW4gJiYgaXNDcm9zc09yaWdpblVSTCh1cmwpKSB7XG4gICAgICAgIGlmICghY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICBjcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVzdCBjYWNoZSB3aGVuIHRoZXJlIGlzIG5vdCBhIFwiY3Jvc3NPcmlnaW5cIiBwcm9wZXJ0eSAoIzUxOSlcbiAgICAgICAgY3Jvc3NPcmlnaW5VcmwgPSBhZGRUaW1lc3RhbXAodXJsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgIHRoaXMuY3Jvc3NPcmlnaW5VcmwgPSBjcm9zc09yaWdpblVybDtcbiAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgaWYgKGNyb3NzT3JpZ2luKSB7XG4gICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICB9XG4gICAgICBpbWFnZS5zcmMgPSBjcm9zc09yaWdpblVybCB8fCB1cmw7XG4gICAgICBpbWFnZS5hbHQgPSBlbGVtZW50LmFsdCB8fCAnVGhlIGltYWdlIHRvIGNyb3AnO1xuICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgICAgaW1hZ2Uub25sb2FkID0gdGhpcy5zdGFydC5iaW5kKHRoaXMpO1xuICAgICAgaW1hZ2Uub25lcnJvciA9IHRoaXMuc3RvcC5iaW5kKHRoaXMpO1xuICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX0hJREUpO1xuICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpbWFnZSwgZWxlbWVudC5uZXh0U2libGluZyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlO1xuICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgdGhpcy5zaXppbmcgPSB0cnVlO1xuXG4gICAgICAvLyBNYXRjaCBhbGwgYnJvd3NlcnMgdGhhdCB1c2UgV2ViS2l0IGFzIHRoZSBsYXlvdXQgZW5naW5lIGluIGlPUyBkZXZpY2VzLFxuICAgICAgLy8gc3VjaCBhcyBTYWZhcmkgZm9yIGlPUywgQ2hyb21lIGZvciBpT1MsIGFuZCBpbi1hcHAgYnJvd3NlcnMuXG4gICAgICB2YXIgaXNJT1NXZWJLaXQgPSBXSU5ET1cubmF2aWdhdG9yICYmIC8oPzppUGFkfGlQaG9uZXxpUG9kKS4qP0FwcGxlV2ViS2l0L2kudGVzdChXSU5ET1cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIGRvbmUobmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0KSB7XG4gICAgICAgIGFzc2lnbihfdGhpczIuaW1hZ2VEYXRhLCB7XG4gICAgICAgICAgbmF0dXJhbFdpZHRoOiBuYXR1cmFsV2lkdGgsXG4gICAgICAgICAgbmF0dXJhbEhlaWdodDogbmF0dXJhbEhlaWdodCxcbiAgICAgICAgICBhc3BlY3RSYXRpbzogbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMyLmluaXRpYWxJbWFnZURhdGEgPSBhc3NpZ24oe30sIF90aGlzMi5pbWFnZURhdGEpO1xuICAgICAgICBfdGhpczIuc2l6aW5nID0gZmFsc2U7XG4gICAgICAgIF90aGlzMi5zaXplZCA9IHRydWU7XG4gICAgICAgIF90aGlzMi5idWlsZCgpO1xuICAgICAgfTtcblxuICAgICAgLy8gTW9zdCBtb2Rlcm4gYnJvd3NlcnMgKGV4Y2VwdHMgaU9TIFdlYktpdClcbiAgICAgIGlmIChpbWFnZS5uYXR1cmFsV2lkdGggJiYgIWlzSU9TV2ViS2l0KSB7XG4gICAgICAgIGRvbmUoaW1hZ2UubmF0dXJhbFdpZHRoLCBpbWFnZS5uYXR1cmFsSGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHNpemluZ0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgdGhpcy5zaXppbmdJbWFnZSA9IHNpemluZ0ltYWdlO1xuICAgICAgc2l6aW5nSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkb25lKHNpemluZ0ltYWdlLndpZHRoLCBzaXppbmdJbWFnZS5oZWlnaHQpO1xuICAgICAgICBpZiAoIWlzSU9TV2ViS2l0KSB7XG4gICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChzaXppbmdJbWFnZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzaXppbmdJbWFnZS5zcmMgPSBpbWFnZS5zcmM7XG5cbiAgICAgIC8vIGlPUyBXZWJLaXQgd2lsbCBjb252ZXJ0IHRoZSBpbWFnZSBhdXRvbWF0aWNhbGx5XG4gICAgICAvLyB3aXRoIGl0cyBvcmllbnRhdGlvbiBvbmNlIGFwcGVuZCBpdCBpbnRvIERPTSAoIzI3OSlcbiAgICAgIGlmICghaXNJT1NXZWJLaXQpIHtcbiAgICAgICAgc2l6aW5nSW1hZ2Uuc3R5bGUuY3NzVGV4dCA9ICdsZWZ0OjA7JyArICdtYXgtaGVpZ2h0Om5vbmUhaW1wb3J0YW50OycgKyAnbWF4LXdpZHRoOm5vbmUhaW1wb3J0YW50OycgKyAnbWluLWhlaWdodDowIWltcG9ydGFudDsnICsgJ21pbi13aWR0aDowIWltcG9ydGFudDsnICsgJ29wYWNpdHk6MDsnICsgJ3Bvc2l0aW9uOmFic29sdXRlOycgKyAndG9wOjA7JyArICd6LWluZGV4Oi0xOyc7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc2l6aW5nSW1hZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdG9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlO1xuICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgaW1hZ2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbWFnZSk7XG4gICAgICB0aGlzLmltYWdlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYnVpbGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGQoKSB7XG4gICAgICBpZiAoIXRoaXMuc2l6ZWQgfHwgdGhpcy5yZWFkeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlO1xuXG4gICAgICAvLyBDcmVhdGUgY3JvcHBlciBlbGVtZW50c1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIHZhciB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gVEVNUExBVEU7XG4gICAgICB2YXIgY3JvcHBlciA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItY29udGFpbmVyXCIpKTtcbiAgICAgIHZhciBjYW52YXMgPSBjcm9wcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItY2FudmFzXCIpKTtcbiAgICAgIHZhciBkcmFnQm94ID0gY3JvcHBlci5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWRyYWctYm94XCIpKTtcbiAgICAgIHZhciBjcm9wQm94ID0gY3JvcHBlci5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWNyb3AtYm94XCIpKTtcbiAgICAgIHZhciBmYWNlID0gY3JvcEJveC5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWZhY2VcIikpO1xuICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICB0aGlzLmNyb3BwZXIgPSBjcm9wcGVyO1xuICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICB0aGlzLmRyYWdCb3ggPSBkcmFnQm94O1xuICAgICAgdGhpcy5jcm9wQm94ID0gY3JvcEJveDtcbiAgICAgIHRoaXMudmlld0JveCA9IGNyb3BwZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi12aWV3LWJveFwiKSk7XG4gICAgICB0aGlzLmZhY2UgPSBmYWNlO1xuICAgICAgY2FudmFzLmFwcGVuZENoaWxkKGltYWdlKTtcblxuICAgICAgLy8gSGlkZSB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAgICAgIGFkZENsYXNzKGVsZW1lbnQsIENMQVNTX0hJRERFTik7XG5cbiAgICAgIC8vIEluc2VydHMgdGhlIGNyb3BwZXIgYWZ0ZXIgdG8gdGhlIGN1cnJlbnQgaW1hZ2VcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY3JvcHBlciwgZWxlbWVudC5uZXh0U2libGluZyk7XG5cbiAgICAgIC8vIFNob3cgdGhlIGhpZGRlbiBpbWFnZVxuICAgICAgcmVtb3ZlQ2xhc3MoaW1hZ2UsIENMQVNTX0hJREUpO1xuICAgICAgdGhpcy5pbml0UHJldmlldygpO1xuICAgICAgdGhpcy5iaW5kKCk7XG4gICAgICBvcHRpb25zLmluaXRpYWxBc3BlY3RSYXRpbyA9IE1hdGgubWF4KDAsIG9wdGlvbnMuaW5pdGlhbEFzcGVjdFJhdGlvKSB8fCBOYU47XG4gICAgICBvcHRpb25zLmFzcGVjdFJhdGlvID0gTWF0aC5tYXgoMCwgb3B0aW9ucy5hc3BlY3RSYXRpbykgfHwgTmFOO1xuICAgICAgb3B0aW9ucy52aWV3TW9kZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDMsIE1hdGgucm91bmQob3B0aW9ucy52aWV3TW9kZSkpKSB8fCAwO1xuICAgICAgYWRkQ2xhc3MoY3JvcEJveCwgQ0xBU1NfSElEREVOKTtcbiAgICAgIGlmICghb3B0aW9ucy5ndWlkZXMpIHtcbiAgICAgICAgYWRkQ2xhc3MoY3JvcEJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItZGFzaGVkXCIpKSwgQ0xBU1NfSElEREVOKTtcbiAgICAgIH1cbiAgICAgIGlmICghb3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgICAgYWRkQ2xhc3MoY3JvcEJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItY2VudGVyXCIpKSwgQ0xBU1NfSElEREVOKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmJhY2tncm91bmQpIHtcbiAgICAgICAgYWRkQ2xhc3MoY3JvcHBlciwgXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1iZ1wiKSk7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMuaGlnaGxpZ2h0KSB7XG4gICAgICAgIGFkZENsYXNzKGZhY2UsIENMQVNTX0lOVklTSUJMRSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5jcm9wQm94TW92YWJsZSkge1xuICAgICAgICBhZGRDbGFzcyhmYWNlLCBDTEFTU19NT1ZFKTtcbiAgICAgICAgc2V0RGF0YShmYWNlLCBEQVRBX0FDVElPTiwgQUNUSU9OX0FMTCk7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMuY3JvcEJveFJlc2l6YWJsZSkge1xuICAgICAgICBhZGRDbGFzcyhjcm9wQm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1saW5lXCIpKSwgQ0xBU1NfSElEREVOKTtcbiAgICAgICAgYWRkQ2xhc3MoY3JvcEJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItcG9pbnRcIikpLCBDTEFTU19ISURERU4pO1xuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgICAgdGhpcy5zZXREcmFnTW9kZShvcHRpb25zLmRyYWdNb2RlKTtcbiAgICAgIGlmIChvcHRpb25zLmF1dG9Dcm9wKSB7XG4gICAgICAgIHRoaXMuY3JvcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXREYXRhKG9wdGlvbnMuZGF0YSk7XG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnJlYWR5KSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9SRUFEWSwgb3B0aW9ucy5yZWFkeSwge1xuICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1JFQURZKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW5idWlsZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmJ1aWxkKCkge1xuICAgICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICB0aGlzLnJlc2V0UHJldmlldygpO1xuICAgICAgdmFyIHBhcmVudE5vZGUgPSB0aGlzLmNyb3BwZXIucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jcm9wcGVyKTtcbiAgICAgIH1cbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCwgQ0xBU1NfSElEREVOKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW5jcmVhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5jcmVhdGUoKSB7XG4gICAgICBpZiAodGhpcy5yZWFkeSkge1xuICAgICAgICB0aGlzLnVuYnVpbGQoKTtcbiAgICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNyb3BwZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zaXppbmcpIHtcbiAgICAgICAgdGhpcy5zaXppbmdJbWFnZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNpemluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNpemVkID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVsb2FkaW5nKSB7XG4gICAgICAgIHRoaXMueGhyLm9uYWJvcnQgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmltYWdlKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbm8gY29uZmxpY3QgY3JvcHBlciBjbGFzcy5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gVGhlIGNyb3BwZXIgY2xhc3MuXG4gICAgICovXG4gIH1dLCBbe1xuICAgIGtleTogXCJub0NvbmZsaWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICB3aW5kb3cuQ3JvcHBlciA9IEFub3RoZXJDcm9wcGVyO1xuICAgICAgcmV0dXJuIENyb3BwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBkZWZhdWx0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgbmV3IGRlZmF1bHQgb3B0aW9ucy5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJzZXREZWZhdWx0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0cyhvcHRpb25zKSB7XG4gICAgICBhc3NpZ24oREVGQVVMVFMsIGlzUGxhaW5PYmplY3Qob3B0aW9ucykgJiYgb3B0aW9ucyk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDcm9wcGVyO1xufSgpO1xuYXNzaWduKENyb3BwZXIucHJvdG90eXBlLCByZW5kZXIsIHByZXZpZXcsIGV2ZW50cywgaGFuZGxlcnMsIGNoYW5nZSwgbWV0aG9kcyk7XG5cbmV4cG9ydCB7IENyb3BwZXIgYXMgZGVmYXVsdCB9O1xuIiwgIi8qIVxuICogRmlsZVBvbmRQbHVnaW5GaWxlVmFsaWRhdGVTaXplIDIuMi44XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmNvbnN0IHBsdWdpbiA9ICh7IGFkZEZpbHRlciwgdXRpbHMgfSkgPT4ge1xuICAgIC8vIGdldCBxdWljayByZWZlcmVuY2UgdG8gVHlwZSB1dGlsc1xuICAgIGNvbnN0IHsgVHlwZSwgcmVwbGFjZUluU3RyaW5nLCB0b05hdHVyYWxGaWxlU2l6ZSB9ID0gdXRpbHM7XG5cbiAgICAvLyBmaWx0ZXJpbmcgaWYgYW4gaXRlbSBpcyBhbGxvd2VkIGluIGhvcHBlclxuICAgIGFkZEZpbHRlcignQUxMT1dfSE9QUEVSX0lURU0nLCAoZmlsZSwgeyBxdWVyeSB9KSA9PiB7XG4gICAgICAgIGlmICghcXVlcnkoJ0dFVF9BTExPV19GSUxFX1NJWkVfVkFMSURBVElPTicpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNpemVNYXggPSBxdWVyeSgnR0VUX01BWF9GSUxFX1NJWkUnKTtcbiAgICAgICAgaWYgKHNpemVNYXggIT09IG51bGwgJiYgZmlsZS5zaXplID4gc2l6ZU1heCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2l6ZU1pbiA9IHF1ZXJ5KCdHRVRfTUlOX0ZJTEVfU0laRScpO1xuICAgICAgICBpZiAoc2l6ZU1pbiAhPT0gbnVsbCAmJiBmaWxlLnNpemUgPCBzaXplTWluKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIGNhbGxlZCBmb3IgZWFjaCBmaWxlIHRoYXQgaXMgbG9hZGVkXG4gICAgLy8gcmlnaHQgYmVmb3JlIGl0IGlzIHNldCB0byB0aGUgaXRlbSBzdGF0ZVxuICAgIC8vIHNob3VsZCByZXR1cm4gYSBwcm9taXNlXG4gICAgYWRkRmlsdGVyKFxuICAgICAgICAnTE9BRF9GSUxFJyxcbiAgICAgICAgKGZpbGUsIHsgcXVlcnkgfSkgPT5cbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpZiBub3QgYWxsb3dlZCwgYWxsIGZpbmUsIGV4aXRcbiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9TSVpFX1ZBTElEQVRJT04nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBmaWxlIHNob3VsZCBiZSBmaWx0ZXJlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVGaWx0ZXIgPSBxdWVyeSgnR0VUX0ZJTEVfVkFMSURBVEVfU0laRV9GSUxURVInKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZUZpbHRlciAmJiAhZmlsZUZpbHRlcihmaWxlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZWplY3Qgb3IgcmVzb2x2ZSBiYXNlZCBvbiBmaWxlIHNpemVcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplTWF4ID0gcXVlcnkoJ0dFVF9NQVhfRklMRV9TSVpFJyk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemVNYXggIT09IG51bGwgJiYgZmlsZS5zaXplID4gc2l6ZU1heCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbjogcXVlcnkoJ0dFVF9MQUJFTF9NQVhfRklMRV9TSVpFX0VYQ0VFREVEJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiByZXBsYWNlSW5TdHJpbmcocXVlcnkoJ0dFVF9MQUJFTF9NQVhfRklMRV9TSVpFJyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNpemU6IHRvTmF0dXJhbEZpbGVTaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZU1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9TSVpFX0JBU0UnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9TSVpFX0xBQkVMUycsIHF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZWplY3Qgb3IgcmVzb2x2ZSBiYXNlZCBvbiBmaWxlIHNpemVcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplTWluID0gcXVlcnkoJ0dFVF9NSU5fRklMRV9TSVpFJyk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemVNaW4gIT09IG51bGwgJiYgZmlsZS5zaXplIDwgc2l6ZU1pbikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbjogcXVlcnkoJ0dFVF9MQUJFTF9NSU5fRklMRV9TSVpFX0VYQ0VFREVEJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiByZXBsYWNlSW5TdHJpbmcocXVlcnkoJ0dFVF9MQUJFTF9NSU5fRklMRV9TSVpFJyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNpemU6IHRvTmF0dXJhbEZpbGVTaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZU1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9TSVpFX0JBU0UnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9TSVpFX0xBQkVMUycsIHF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXR1cm5zIHRoZSBjdXJyZW50IG9wdGlvbiB2YWx1ZVxuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsU2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX1RPVEFMX0ZJTEVfU0laRScpO1xuICAgICAgICAgICAgICAgIGlmICh0b3RhbFNpemVNYXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBjdXJyZW50IHRvdGFsIGZpbGUgc2l6ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VG90YWxTaXplID0gcXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKS5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG90YWwgKyBpdGVtLmZpbGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIHNpemUgb2YgdGhlIG5ldyBmaWxlXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VG90YWxTaXplID4gdG90YWxTaXplTWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluOiBxdWVyeSgnR0VUX0xBQkVMX01BWF9UT1RBTF9GSUxFX1NJWkVfRVhDRUVERUQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiByZXBsYWNlSW5TdHJpbmcocXVlcnkoJ0dFVF9MQUJFTF9NQVhfVE9UQUxfRklMRV9TSVpFJyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzaXplOiB0b05hdHVyYWxGaWxlU2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFNpemVNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9TSVpFX0JBU0UnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfU0laRV9MQUJFTFMnLCBxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGZpbGUgaXMgZmluZSwgbGV0J3MgcGFzcyBpdCBiYWNrXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICAgIH0pXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZpbGUgdHlwZSB2YWxpZGF0aW9uXG4gICAgICAgICAgICBhbGxvd0ZpbGVTaXplVmFsaWRhdGlvbjogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgICAgIC8vIE1heCBpbmRpdmlkdWFsIGZpbGUgc2l6ZSBpbiBieXRlc1xuICAgICAgICAgICAgbWF4RmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgICAgIC8vIE1pbiBpbmRpdmlkdWFsIGZpbGUgc2l6ZSBpbiBieXRlc1xuICAgICAgICAgICAgbWluRmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgICAgIC8vIE1heCB0b3RhbCBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgICAgICAgIG1heFRvdGFsRmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgICAgIC8vIEZpbHRlciB0aGUgZmlsZXMgdGhhdCBuZWVkIHRvIGJlIHZhbGlkYXRlZCBmb3Igc2l6ZVxuICAgICAgICAgICAgZmlsZVZhbGlkYXRlU2l6ZUZpbHRlcjogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgICAgICAgICAvLyBlcnJvciBsYWJlbHNcbiAgICAgICAgICAgIGxhYmVsTWluRmlsZVNpemVFeGNlZWRlZDogWydGaWxlIGlzIHRvbyBzbWFsbCcsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgICAgIGxhYmVsTWluRmlsZVNpemU6IFsnTWluaW11bSBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAgICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiBbJ0ZpbGUgaXMgdG9vIGxhcmdlJywgVHlwZS5TVFJJTkddLFxuICAgICAgICAgICAgbGFiZWxNYXhGaWxlU2l6ZTogWydNYXhpbXVtIGZpbGUgc2l6ZSBpcyB7ZmlsZXNpemV9JywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgICAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogWydNYXhpbXVtIHRvdGFsIHNpemUgZXhjZWVkZWQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgICAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6IFsnTWF4aW11bSB0b3RhbCBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbmNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuaWYgKGlzQnJvd3Nlcikge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luO1xuIiwgIi8qIVxuICogRmlsZVBvbmRQbHVnaW5GaWxlVmFsaWRhdGVUeXBlIDEuMi44XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmNvbnN0IHBsdWdpbiA9ICh7IGFkZEZpbHRlciwgdXRpbHMgfSkgPT4ge1xuICAvLyBnZXQgcXVpY2sgcmVmZXJlbmNlIHRvIFR5cGUgdXRpbHNcbiAgY29uc3Qge1xuICAgIFR5cGUsXG4gICAgaXNTdHJpbmcsXG4gICAgcmVwbGFjZUluU3RyaW5nLFxuICAgIGd1ZXNzdGltYXRlTWltZVR5cGUsXG4gICAgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lLFxuICAgIGdldEZpbGVuYW1lRnJvbVVSTFxuICB9ID0gdXRpbHM7XG5cbiAgY29uc3QgbWltZVR5cGVNYXRjaGVzV2lsZENhcmQgPSAobWltZVR5cGUsIHdpbGRjYXJkKSA9PiB7XG4gICAgY29uc3QgbWltZVR5cGVHcm91cCA9ICgvXlteL10rLy5leGVjKG1pbWVUeXBlKSB8fCBbXSkucG9wKCk7IC8vIGltYWdlL3BuZyAtPiBpbWFnZVxuICAgIGNvbnN0IHdpbGRjYXJkR3JvdXAgPSB3aWxkY2FyZC5zbGljZSgwLCAtMik7IC8vIGltYWdlLyogLT4gaW1hZ2VcbiAgICByZXR1cm4gbWltZVR5cGVHcm91cCA9PT0gd2lsZGNhcmRHcm91cDtcbiAgfTtcblxuICBjb25zdCBpc1ZhbGlkTWltZVR5cGUgPSAoYWNjZXB0ZWRUeXBlcywgdXNlcklucHV0VHlwZSkgPT5cbiAgICBhY2NlcHRlZFR5cGVzLnNvbWUoYWNjZXB0ZWRUeXBlID0+IHtcbiAgICAgIC8vIGFjY2VwdGVkIGlzIHdpbGRjYXJkIG1pbWUgdHlwZVxuICAgICAgaWYgKC9cXCokLy50ZXN0KGFjY2VwdGVkVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIG1pbWVUeXBlTWF0Y2hlc1dpbGRDYXJkKHVzZXJJbnB1dFR5cGUsIGFjY2VwdGVkVHlwZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlzIG5vcm1hbCBtaW1lIHR5cGVcbiAgICAgIHJldHVybiBhY2NlcHRlZFR5cGUgPT09IHVzZXJJbnB1dFR5cGU7XG4gICAgfSk7XG5cbiAgY29uc3QgZ2V0SXRlbVR5cGUgPSBpdGVtID0+IHtcbiAgICAvLyBpZiB0aGUgaXRlbSBpcyBhIHVybCB3ZSBndWVzcyB0aGUgbWltZSB0eXBlIGJ5IHRoZSBleHRlbnNpb25cbiAgICBsZXQgdHlwZSA9ICcnO1xuICAgIGlmIChpc1N0cmluZyhpdGVtKSkge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBnZXRGaWxlbmFtZUZyb21VUkwoaXRlbSk7XG4gICAgICBjb25zdCBleHRlbnNpb24gPSBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoZmlsZW5hbWUpO1xuICAgICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICB0eXBlID0gZ3Vlc3N0aW1hdGVNaW1lVHlwZShleHRlbnNpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gaXRlbS50eXBlO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlO1xuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlRmlsZSA9IChpdGVtLCBhY2NlcHRlZEZpbGVUeXBlcywgdHlwZURldGVjdG9yKSA9PiB7XG4gICAgLy8gbm8gdHlwZXMgZGVmaW5lZCwgZXZlcnl0aGluZyBpcyBhbGxvd2VkIFxcby9cbiAgICBpZiAoYWNjZXB0ZWRGaWxlVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBnZXRzIHRoZSBpdGVtIHR5cGVcbiAgICBjb25zdCB0eXBlID0gZ2V0SXRlbVR5cGUoaXRlbSk7XG5cbiAgICAvLyBubyB0eXBlIGRldGVjdG9yLCB0ZXN0IG5vd1xuICAgIGlmICghdHlwZURldGVjdG9yKSB7XG4gICAgICByZXR1cm4gaXNWYWxpZE1pbWVUeXBlKGFjY2VwdGVkRmlsZVR5cGVzLCB0eXBlKTtcbiAgICB9XG5cbiAgICAvLyB1c2UgdHlwZSBkZXRlY3RvclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0eXBlRGV0ZWN0b3IoaXRlbSwgdHlwZSlcbiAgICAgICAgLnRoZW4oZGV0ZWN0ZWRUeXBlID0+IHtcbiAgICAgICAgICBpZiAoaXNWYWxpZE1pbWVUeXBlKGFjY2VwdGVkRmlsZVR5cGVzLCBkZXRlY3RlZFR5cGUpKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlNaW1lVHlwZU1hcCA9IG1hcCA9PiBhY2NlcHRlZEZpbGVUeXBlID0+XG4gICAgbWFwW2FjY2VwdGVkRmlsZVR5cGVdID09PSBudWxsXG4gICAgICA/IGZhbHNlXG4gICAgICA6IG1hcFthY2NlcHRlZEZpbGVUeXBlXSB8fCBhY2NlcHRlZEZpbGVUeXBlO1xuXG4gIC8vIHNldHVwIGF0dHJpYnV0ZSBtYXBwaW5nIGZvciBhY2NlcHRcbiAgYWRkRmlsdGVyKCdTRVRfQVRUUklCVVRFX1RPX09QVElPTl9NQVAnLCBtYXAgPT5cbiAgICBPYmplY3QuYXNzaWduKG1hcCwge1xuICAgICAgYWNjZXB0OiAnYWNjZXB0ZWRGaWxlVHlwZXMnXG4gICAgfSlcbiAgKTtcblxuICAvLyBmaWx0ZXJpbmcgaWYgYW4gaXRlbSBpcyBhbGxvd2VkIGluIGhvcHBlclxuICBhZGRGaWx0ZXIoJ0FMTE9XX0hPUFBFUl9JVEVNJywgKGZpbGUsIHsgcXVlcnkgfSkgPT4ge1xuICAgIC8vIGlmIHdlIGFyZSBub3QgZG9pbmcgZmlsZSB0eXBlIHZhbGlkYXRpb24gZXhpdFxuICAgIGlmICghcXVlcnkoJ0dFVF9BTExPV19GSUxFX1RZUEVfVkFMSURBVElPTicpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB3ZSB2YWxpZGF0ZSB0aGUgZmlsZSBhZ2FpbnN0IHRoZSBhY2NlcHRlZCBmaWxlIHR5cGVzXG4gICAgcmV0dXJuIHZhbGlkYXRlRmlsZShmaWxlLCBxdWVyeSgnR0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVMnKSk7XG4gIH0pO1xuXG4gIC8vIGNhbGxlZCBmb3IgZWFjaCBmaWxlIHRoYXQgaXMgbG9hZGVkXG4gIC8vIHJpZ2h0IGJlZm9yZSBpdCBpcyBzZXQgdG8gdGhlIGl0ZW0gc3RhdGVcbiAgLy8gc2hvdWxkIHJldHVybiBhIHByb21pc2VcbiAgYWRkRmlsdGVyKFxuICAgICdMT0FEX0ZJTEUnLFxuICAgIChmaWxlLCB7IHF1ZXJ5IH0pID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGlmICghcXVlcnkoJ0dFVF9BTExPV19GSUxFX1RZUEVfVkFMSURBVElPTicpKSB7XG4gICAgICAgICAgcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY2NlcHRlZEZpbGVUeXBlcyA9IHF1ZXJ5KCdHRVRfQUNDRVBURURfRklMRV9UWVBFUycpO1xuXG4gICAgICAgIC8vIGN1c3RvbSB0eXBlIGRldGVjdG9yIG1ldGhvZFxuICAgICAgICBjb25zdCB0eXBlRGV0ZWN0b3IgPSBxdWVyeSgnR0VUX0ZJTEVfVkFMSURBVEVfVFlQRV9ERVRFQ1RfVFlQRScpO1xuXG4gICAgICAgIC8vIGlmIGludmFsaWQsIGV4aXQgaGVyZVxuICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGVGaWxlKFxuICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlVHlwZXMsXG4gICAgICAgICAgdHlwZURldGVjdG9yXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlUmVqZWN0aW9uID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkID0gYWNjZXB0ZWRGaWxlVHlwZXNcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgIGFwcGx5TWltZVR5cGVNYXAoXG4gICAgICAgICAgICAgICAgcXVlcnkoJ0dFVF9GSUxFX1ZBTElEQVRFX1RZUEVfTEFCRUxfRVhQRUNURURfVFlQRVNfTUFQJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmZpbHRlcihsYWJlbCA9PiBsYWJlbCAhPT0gZmFsc2UpO1xuXG4gICAgICAgICAgY29uc3QgYWNjZXB0ZWRGaWxlVHlwZXNNYXBwZWRfdW5pcXVlID0gYWNjZXB0ZWRGaWxlVHlwZXNNYXBwZWQuZmlsdGVyKFxuICAgICAgICAgICAgZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkLmluZGV4T2YoaXRlbSkgPT09IGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgIG1haW46IHF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9UWVBFX05PVF9BTExPV0VEJyksXG4gICAgICAgICAgICAgIHN1YjogcmVwbGFjZUluU3RyaW5nKFxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9WQUxJREFURV9UWVBFX0xBQkVMX0VYUEVDVEVEX1RZUEVTJyksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYWxsVHlwZXM6IGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkX3VuaXF1ZS5qb2luKCcsICcpLFxuICAgICAgICAgICAgICAgICAgYWxsQnV0TGFzdFR5cGU6IGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkX3VuaXF1ZVxuICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMCwgLTEpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpLFxuICAgICAgICAgICAgICAgICAgbGFzdFR5cGU6XG4gICAgICAgICAgICAgICAgICAgIGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkX3VuaXF1ZVtcbiAgICAgICAgICAgICAgICAgICAgICBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZC5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBoYXMgcmV0dXJuZWQgbmV3IGZpbGVuYW1lIGltbWlkaWF0ZWx5XG4gICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvblJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVqZWN0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNvbHZlKGZpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXMgcHJvbWlzZVxuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0XG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChoYW5kbGVSZWplY3Rpb24pO1xuICAgICAgfSlcbiAgKTtcblxuICAvLyBleHBvc2UgcGx1Z2luXG4gIHJldHVybiB7XG4gICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgb3B0aW9uczoge1xuICAgICAgLy8gRW5hYmxlIG9yIGRpc2FibGUgZmlsZSB0eXBlIHZhbGlkYXRpb25cbiAgICAgIGFsbG93RmlsZVR5cGVWYWxpZGF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgLy8gV2hhdCBmaWxlIHR5cGVzIHRvIGFjY2VwdFxuICAgICAgYWNjZXB0ZWRGaWxlVHlwZXM6IFtbXSwgVHlwZS5BUlJBWV0sXG4gICAgICAvLyAtIG11c3QgYmUgY29tbWEgc2VwYXJhdGVkXG4gICAgICAvLyAtIG1pbWUgdHlwZXM6IGltYWdlL3BuZywgaW1hZ2UvanBlZywgaW1hZ2UvZ2lmXG4gICAgICAvLyAtIGV4dGVuc2lvbnM6IC5wbmcsIC5qcGcsIC5qcGVnICggbm90IGVuYWJsZWQgeWV0IClcbiAgICAgIC8vIC0gd2lsZGNhcmRzOiBpbWFnZS8qXG5cbiAgICAgIC8vIGxhYmVsIHRvIHNob3cgd2hlbiBhIHR5cGUgaXMgbm90IGFsbG93ZWRcbiAgICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiBbJ0ZpbGUgaXMgb2YgaW52YWxpZCB0eXBlJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAvLyBuaWNlciBsYWJlbFxuICAgICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogW1xuICAgICAgICAnRXhwZWN0cyB7YWxsQnV0TGFzdFR5cGV9IG9yIHtsYXN0VHlwZX0nLFxuICAgICAgICBUeXBlLlNUUklOR1xuICAgICAgXSxcblxuICAgICAgLy8gbWFwIG1pbWUgdHlwZXMgdG8gZXh0ZW5zaW9uc1xuICAgICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlc01hcDogW3t9LCBUeXBlLk9CSkVDVF0sXG5cbiAgICAgIC8vIEN1c3RvbSBmdW5jdGlvbiB0byBkZXRlY3QgdHlwZSBvZiBmaWxlXG4gICAgICBmaWxlVmFsaWRhdGVUeXBlRGV0ZWN0VHlwZTogW251bGwsIFR5cGUuRlVOQ1RJT05dXG4gICAgfVxuICB9O1xufTtcblxuLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbmNvbnN0IGlzQnJvd3NlciA9XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuaWYgKGlzQnJvd3Nlcikge1xuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KVxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG4iLCAiLyohXG4gKiBGaWxlUG9uZFBsdWdpbkltYWdlQ3JvcCAyLjAuNlxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5jb25zdCBpc0ltYWdlID0gZmlsZSA9PiAvXmltYWdlLy50ZXN0KGZpbGUudHlwZSk7XG5cbi8qKlxuICogSW1hZ2UgQXV0byBDcm9wIFBsdWdpblxuICovXG5jb25zdCBwbHVnaW4gPSAoeyBhZGRGaWx0ZXIsIHV0aWxzIH0pID0+IHtcbiAgY29uc3QgeyBUeXBlLCBpc0ZpbGUsIGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcgfSA9IHV0aWxzO1xuXG4gIC8vIHRlc3RzIGlmIGNyb3AgaXMgYWxsb3dlZCBvbiB0aGlzIGl0ZW1cbiAgY29uc3QgYWxsb3dDcm9wID0gKGl0ZW0sIHF1ZXJ5KSA9PlxuICAgICEoIWlzSW1hZ2UoaXRlbS5maWxlKSB8fCAhcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9DUk9QJykpO1xuXG4gIGNvbnN0IGlzT2JqZWN0ID0gdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JztcblxuICBjb25zdCBpc051bWJlciA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7XG5cbiAgY29uc3QgdXBkYXRlQ3JvcCA9IChpdGVtLCBvYmopID0+XG4gICAgaXRlbS5zZXRNZXRhZGF0YSgnY3JvcCcsIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKSwgb2JqKSk7XG5cbiAgLy8gZXh0ZW5kIGl0ZW0gbWV0aG9kc1xuICBhZGRGaWx0ZXIoJ0RJRF9DUkVBVEVfSVRFTScsIChpdGVtLCB7IHF1ZXJ5IH0pID0+IHtcbiAgICBpdGVtLmV4dGVuZCgnc2V0SW1hZ2VDcm9wJywgY3JvcCA9PiB7XG4gICAgICBpZiAoIWFsbG93Q3JvcChpdGVtLCBxdWVyeSkgfHwgIWlzT2JqZWN0KGNlbnRlcikpIHJldHVybjtcbiAgICAgIGl0ZW0uc2V0TWV0YWRhdGEoJ2Nyb3AnLCBjcm9wKTtcbiAgICAgIHJldHVybiBjcm9wO1xuICAgIH0pO1xuXG4gICAgaXRlbS5leHRlbmQoJ3NldEltYWdlQ3JvcENlbnRlcicsIGNlbnRlciA9PiB7XG4gICAgICBpZiAoIWFsbG93Q3JvcChpdGVtLCBxdWVyeSkgfHwgIWlzT2JqZWN0KGNlbnRlcikpIHJldHVybjtcbiAgICAgIHJldHVybiB1cGRhdGVDcm9wKGl0ZW0sIHsgY2VudGVyIH0pO1xuICAgIH0pO1xuXG4gICAgaXRlbS5leHRlbmQoJ3NldEltYWdlQ3JvcFpvb20nLCB6b29tID0+IHtcbiAgICAgIGlmICghYWxsb3dDcm9wKGl0ZW0sIHF1ZXJ5KSB8fCAhaXNOdW1iZXIoem9vbSkpIHJldHVybjtcbiAgICAgIHJldHVybiB1cGRhdGVDcm9wKGl0ZW0sIHsgem9vbTogTWF0aC5tYXgoMSwgem9vbSkgfSk7XG4gICAgfSk7XG5cbiAgICBpdGVtLmV4dGVuZCgnc2V0SW1hZ2VDcm9wUm90YXRpb24nLCByb3RhdGlvbiA9PiB7XG4gICAgICBpZiAoIWFsbG93Q3JvcChpdGVtLCBxdWVyeSkgfHwgIWlzTnVtYmVyKHJvdGF0aW9uKSkgcmV0dXJuO1xuICAgICAgcmV0dXJuIHVwZGF0ZUNyb3AoaXRlbSwgeyByb3RhdGlvbiB9KTtcbiAgICB9KTtcblxuICAgIGl0ZW0uZXh0ZW5kKCdzZXRJbWFnZUNyb3BGbGlwJywgZmxpcCA9PiB7XG4gICAgICBpZiAoIWFsbG93Q3JvcChpdGVtLCBxdWVyeSkgfHwgIWlzT2JqZWN0KGZsaXApKSByZXR1cm47XG4gICAgICByZXR1cm4gdXBkYXRlQ3JvcChpdGVtLCB7IGZsaXAgfSk7XG4gICAgfSk7XG5cbiAgICBpdGVtLmV4dGVuZCgnc2V0SW1hZ2VDcm9wQXNwZWN0UmF0aW8nLCBuZXdBc3BlY3RSYXRpbyA9PiB7XG4gICAgICBpZiAoIWFsbG93Q3JvcChpdGVtLCBxdWVyeSkgfHwgdHlwZW9mIG5ld0FzcGVjdFJhdGlvID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjb25zdCBjdXJyZW50Q3JvcCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKTtcblxuICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nKG5ld0FzcGVjdFJhdGlvKTtcblxuICAgICAgY29uc3QgbmV3Q3JvcCA9IHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgeDogMC41LFxuICAgICAgICAgIHk6IDAuNVxuICAgICAgICB9LFxuICAgICAgICBmbGlwOiBjdXJyZW50Q3JvcFxuICAgICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgY3VycmVudENyb3AuZmxpcClcbiAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgIHpvb206IDEsXG4gICAgICAgIGFzcGVjdFJhdGlvXG4gICAgICB9O1xuXG4gICAgICBpdGVtLnNldE1ldGFkYXRhKCdjcm9wJywgbmV3Q3JvcCk7XG5cbiAgICAgIHJldHVybiBuZXdDcm9wO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBzdWJzY3JpYmUgdG8gZmlsZSB0cmFuc2Zvcm1hdGlvbnNcbiAgYWRkRmlsdGVyKFxuICAgICdESURfTE9BRF9JVEVNJyxcbiAgICAoaXRlbSwgeyBxdWVyeSB9KSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBnZXQgZmlsZSByZWZlcmVuY2VcbiAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW0uZmlsZTtcblxuICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhbiBpbWFnZSB3ZSBkbyBub3QgaGF2ZSBhbnkgYnVzaW5lc3MgY3JvcHBpbmcgaXQgYW5kIHdlJ2xsIGNvbnRpbnVlIHdpdGggdGhlIHVuYWx0ZXJlZCBkYXRhc2V0XG4gICAgICAgIGlmICghaXNGaWxlKGZpbGUpIHx8ICFpc0ltYWdlKGZpbGUpIHx8ICFxdWVyeSgnR0VUX0FMTE9XX0lNQUdFX0NST1AnKSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWxyZWFkeSBoYXMgY3JvcCBtZXRhZGF0YSBzZXQ/XG4gICAgICAgIGNvbnN0IGNyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJyk7XG4gICAgICAgIGlmIChjcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIHJlcXVpcmVkIGFzcGVjdCByYXRpbyBhbmQgZXhpdCBpZiBpdCdzIG5vdCBzZXRcbiAgICAgICAgY29uc3QgaHVtYW5Bc3BlY3RSYXRpbyA9IHF1ZXJ5KCdHRVRfSU1BR0VfQ1JPUF9BU1BFQ1RfUkFUSU8nKTtcblxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBjcm9wIHJlY3RhbmdsZVxuICAgICAgICBpdGVtLnNldE1ldGFkYXRhKCdjcm9wJywge1xuICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgeDogMC41LFxuICAgICAgICAgICAgeTogMC41XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgem9vbTogMSxcbiAgICAgICAgICBhc3BlY3RSYXRpbzogaHVtYW5Bc3BlY3RSYXRpb1xuICAgICAgICAgICAgPyBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nKGh1bWFuQXNwZWN0UmF0aW8pXG4gICAgICAgICAgICA6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gd2UgZG9uZSFcbiAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgIH0pXG4gICk7XG5cbiAgLy8gRXhwb3NlIHBsdWdpbiBvcHRpb25zXG4gIHJldHVybiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgLy8gZW5hYmxlIG9yIGRpc2FibGUgaW1hZ2UgY3JvcHBpbmdcbiAgICAgIGFsbG93SW1hZ2VDcm9wOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgLy8gdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgY3JvcCAoJzE6MScsICcxNjo5JywgZXRjKVxuICAgICAgaW1hZ2VDcm9wQXNwZWN0UmF0aW86IFtudWxsLCBUeXBlLlNUUklOR11cbiAgICB9XG4gIH07XG59O1xuXG4vLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuY29uc3QgaXNCcm93c2VyID1cbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5pZiAoaXNCcm93c2VyKSB7XG4gIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiIsICIvKiFcbiAqIEZpbGVQb25kUGx1Z2luSW1hZ2VFZGl0IDEuNi4zXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmNvbnN0IGlzUHJldmlld2FibGVJbWFnZSA9IGZpbGUgPT4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpO1xuXG4vKipcbiAqIEltYWdlIEVkaXQgUHJveHkgUGx1Z2luXG4gKi9cbmNvbnN0IHBsdWdpbiA9IF8gPT4ge1xuICBjb25zdCB7IGFkZEZpbHRlciwgdXRpbHMsIHZpZXdzIH0gPSBfO1xuICBjb25zdCB7IFR5cGUsIGNyZWF0ZVJvdXRlLCBjcmVhdGVJdGVtQVBJID0gaXRlbSA9PiBpdGVtIH0gPSB1dGlscztcbiAgY29uc3QgeyBmaWxlQWN0aW9uQnV0dG9uIH0gPSB2aWV3cztcblxuICBhZGRGaWx0ZXIoXG4gICAgJ1NIT1VMRF9SRU1PVkVfT05fUkVWRVJUJyxcbiAgICAoc2hvdWxkUmVtb3ZlLCB7IGl0ZW0sIHF1ZXJ5IH0pID0+XG4gICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgeyBmaWxlIH0gPSBpdGVtO1xuXG4gICAgICAgIC8vIGlmIHRoaXMgZmlsZSBpcyBlZGl0YWJsZSBpdCBzaG91bGRuJ3QgYmUgcmVtb3ZlZCBpbW1pZGlhdGVseSBldmVuIHdoZW4gaW5zdGFudCB1cGxvYWRpbmdcbiAgICAgICAgY29uc3QgY2FuRWRpdCA9XG4gICAgICAgICAgcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9FRElUJykgJiZcbiAgICAgICAgICBxdWVyeSgnR0VUX0lNQUdFX0VESVRfQUxMT1dfRURJVCcpICYmXG4gICAgICAgICAgaXNQcmV2aWV3YWJsZUltYWdlKGZpbGUpO1xuXG4gICAgICAgIC8vIGlmIHRoZSBmaWxlIGNhbm5vdCBiZSBlZGl0ZWQgaXQgc2hvdWxkIGJlIHJlbW92ZWQgb24gcmV2ZXJ0XG4gICAgICAgIHJlc29sdmUoIWNhbkVkaXQpO1xuICAgICAgfSlcbiAgKTtcblxuICAvLyBvcGVuIGVkaXRvciB3aGVuIGxvYWRpbmcgYSBuZXcgaXRlbVxuICBhZGRGaWx0ZXIoXG4gICAgJ0RJRF9MT0FEX0lURU0nLFxuICAgIChpdGVtLCB7IHF1ZXJ5LCBkaXNwYXRjaCB9KSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBpZiBpcyB0ZW1wIG9yIGxvY2FsIGZpbGVcbiAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID4gMSkge1xuICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGZpbGUgcmVmZXJlbmNlXG4gICAgICAgIGNvbnN0IHsgZmlsZSB9ID0gaXRlbTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFxdWVyeSgnR0VUX0FMTE9XX0lNQUdFX0VESVQnKSB8fFxuICAgICAgICAgICFxdWVyeSgnR0VUX0lNQUdFX0VESVRfSU5TVEFOVF9FRElUJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleGl0IGlmIHRoaXMgaXMgbm90IGFuIGltYWdlXG4gICAgICAgIGlmICghaXNQcmV2aWV3YWJsZUltYWdlKGZpbGUpKSB7XG4gICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjcmVhdGVFZGl0b3JSZXNwb25zZUhhbmRsZXIgPSAoXG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgIHJlamVjdFxuICAgICAgICApID0+IHVzZXJEaWRDb25maXJtID0+IHtcbiAgICAgICAgICAvLyByZW1vdmUgaXRlbVxuICAgICAgICAgIGVkaXRSZXF1ZXN0UXVldWUuc2hpZnQoKTtcblxuICAgICAgICAgIC8vIGhhbmRsZSBpdGVtXG4gICAgICAgICAgaWYgKHVzZXJEaWRDb25maXJtKSB7XG4gICAgICAgICAgICByZXNvbHZlKGl0ZW0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoaXRlbSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVE9ETzogRml4LCBzaG91bGQgbm90IGJlIG5lZWRlZCB0byBraWNrIHRoZSBpbnRlcm5hbCBsb29wIGluIGNhc2Ugbm8gcHJvY2Vzc2VzIGFyZSBydW5uaW5nXG4gICAgICAgICAgZGlzcGF0Y2goJ0tJQ0snKTtcblxuICAgICAgICAgIC8vIGhhbmRsZSBuZXh0IGl0ZW0hXG4gICAgICAgICAgcmVxdWVzdEVkaXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0RWRpdCA9ICgpID0+IHtcbiAgICAgICAgICBpZiAoIWVkaXRSZXF1ZXN0UXVldWUubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICBjb25zdCB7IGl0ZW0sIHJlc29sdmUsIHJlamVjdCB9ID0gZWRpdFJlcXVlc3RRdWV1ZVswXTtcblxuICAgICAgICAgIGRpc3BhdGNoKCdFRElUX0lURU0nLCB7XG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgIGhhbmRsZUVkaXRvclJlc3BvbnNlOiBjcmVhdGVFZGl0b3JSZXNwb25zZUhhbmRsZXIoXG4gICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHF1ZXVlRWRpdFJlcXVlc3QoeyBpdGVtLCByZXNvbHZlLCByZWplY3QgfSk7XG5cbiAgICAgICAgaWYgKGVkaXRSZXF1ZXN0UXVldWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgcmVxdWVzdEVkaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgKTtcblxuICAvLyBleHRlbmQgaXRlbSBtZXRob2RzXG4gIGFkZEZpbHRlcignRElEX0NSRUFURV9JVEVNJywgKGl0ZW0sIHsgcXVlcnksIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpdGVtLmV4dGVuZCgnZWRpdCcsICgpID0+IHtcbiAgICAgIGRpc3BhdGNoKCdFRElUX0lURU0nLCB7IGlkOiBpdGVtLmlkIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBlZGl0UmVxdWVzdFF1ZXVlID0gW107XG4gIGNvbnN0IHF1ZXVlRWRpdFJlcXVlc3QgPSBlZGl0UmVxdWVzdCA9PiB7XG4gICAgZWRpdFJlcXVlc3RRdWV1ZS5wdXNoKGVkaXRSZXF1ZXN0KTtcbiAgICByZXR1cm4gZWRpdFJlcXVlc3Q7XG4gIH07XG5cbiAgLy8gY2FsbGVkIGZvciBlYWNoIHZpZXcgdGhhdCBpcyBjcmVhdGVkIHJpZ2h0IGFmdGVyIHRoZSAnY3JlYXRlJyBtZXRob2RcbiAgYWRkRmlsdGVyKCdDUkVBVEVfVklFVycsIHZpZXdBUEkgPT4ge1xuICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY3JlYXRlZCB2aWV3XG4gICAgY29uc3QgeyBpcywgdmlldywgcXVlcnkgfSA9IHZpZXdBUEk7XG5cbiAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfRURJVCcpKSByZXR1cm47XG5cbiAgICBjb25zdCBjYW5TaG93SW1hZ2VQcmV2aWV3ID0gcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9QUkVWSUVXJyk7XG5cbiAgICAvLyBvbmx5IHJ1biBmb3IgZWl0aGVyIHRoZSBmaWxlIG9yIHRoZSBmaWxlIGluZm8gcGFuZWxcbiAgICBjb25zdCBzaG91bGRFeHRlbmRWaWV3ID1cbiAgICAgIChpcygnZmlsZS1pbmZvJykgJiYgIWNhblNob3dJbWFnZVByZXZpZXcpIHx8XG4gICAgICAoaXMoJ2ZpbGUnKSAmJiBjYW5TaG93SW1hZ2VQcmV2aWV3KTtcblxuICAgIGlmICghc2hvdWxkRXh0ZW5kVmlldykgcmV0dXJuO1xuXG4gICAgLy8gbm8gZWRpdG9yIGRlZmluZWQsIHRoZW4gZXhpdFxuICAgIGNvbnN0IGVkaXRvciA9IHF1ZXJ5KCdHRVRfSU1BR0VfRURJVF9FRElUT1InKTtcbiAgICBpZiAoIWVkaXRvcikgcmV0dXJuO1xuXG4gICAgLy8gc2V0IGRlZmF1bHQgRmlsZVBvbmQgb3B0aW9ucyBhbmQgYWRkIGJyaWRnZSBvbmNlXG4gICAgaWYgKCFlZGl0b3IuZmlsZXBvbmRDYWxsYmFja0JyaWRnZSkge1xuICAgICAgZWRpdG9yLm91dHB1dERhdGEgPSB0cnVlO1xuICAgICAgZWRpdG9yLm91dHB1dEZpbGUgPSBmYWxzZTtcbiAgICAgIGVkaXRvci5maWxlcG9uZENhbGxiYWNrQnJpZGdlID0ge1xuICAgICAgICBvbmNvbmZpcm06IGVkaXRvci5vbmNvbmZpcm0gfHwgKCgpID0+IHt9KSxcbiAgICAgICAgb25jYW5jZWw6IGVkaXRvci5vbmNhbmNlbCB8fCAoKCkgPT4ge30pXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIG9wZW5zIHRoZSBlZGl0b3IsIGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3QsIGl0IGNyZWF0ZXMgdGhlIGVkaXRvclxuICAgIGNvbnN0IG9wZW5FZGl0b3IgPSAoeyByb290LCBwcm9wcywgYWN0aW9uIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuICAgICAgY29uc3QgeyBoYW5kbGVFZGl0b3JSZXNwb25zZSB9ID0gYWN0aW9uO1xuXG4gICAgICAvLyB1cGRhdGUgZWRpdG9yIHByb3BzIHRoYXQgY291bGQgaGF2ZSBjaGFuZ2VkXG4gICAgICBlZGl0b3IuY3JvcEFzcGVjdFJhdGlvID1cbiAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0lNQUdFX0NST1BfQVNQRUNUX1JBVElPJykgfHwgZWRpdG9yLmNyb3BBc3BlY3RSYXRpbztcbiAgICAgIGVkaXRvci5vdXRwdXRDYW52YXNCYWNrZ3JvdW5kQ29sb3IgPVxuICAgICAgICByb290LnF1ZXJ5KCdHRVRfSU1BR0VfVFJBTlNGT1JNX0NBTlZBU19CQUNLR1JPVU5EX0NPTE9SJykgfHxcbiAgICAgICAgZWRpdG9yLm91dHB1dENhbnZhc0JhY2tncm91bmRDb2xvcjtcblxuICAgICAgLy8gZ2V0IGl0ZW1cbiAgICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAvLyBmaWxlIHRvIG9wZW5cbiAgICAgIGNvbnN0IGZpbGUgPSBpdGVtLmZpbGU7XG5cbiAgICAgIC8vIGNyb3AgZGF0YSB0byBwYXNzIHRvIGVkaXRvclxuICAgICAgY29uc3QgY3JvcCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKTtcbiAgICAgIGNvbnN0IGNyb3BEZWZhdWx0ID0ge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgeTogMC41XG4gICAgICAgIH0sXG4gICAgICAgIGZsaXA6IHtcbiAgICAgICAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgem9vbTogMSxcbiAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgIGFzcGVjdFJhdGlvOiBudWxsXG4gICAgICB9O1xuXG4gICAgICAvLyBzaXplIGRhdGEgdG8gcGFzcyB0byBlZGl0b3JcbiAgICAgIGNvbnN0IHJlc2l6ZSA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ3Jlc2l6ZScpO1xuXG4gICAgICAvLyBmaWx0ZXIgYW5kIGNvbG9yIGRhdGEgdG8gcGFzcyB0byBlZGl0b3JcbiAgICAgIGNvbnN0IGZpbHRlciA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2ZpbHRlcicpIHx8IG51bGw7XG4gICAgICBjb25zdCBmaWx0ZXJzID0gaXRlbS5nZXRNZXRhZGF0YSgnZmlsdGVycycpIHx8IG51bGw7XG4gICAgICBjb25zdCBjb2xvcnMgPSBpdGVtLmdldE1ldGFkYXRhKCdjb2xvcnMnKSB8fCBudWxsO1xuICAgICAgY29uc3QgbWFya3VwID0gaXRlbS5nZXRNZXRhZGF0YSgnbWFya3VwJykgfHwgbnVsbDtcblxuICAgICAgLy8gYnVpbGQgcGFyYW1ldGVycyBvYmplY3RcbiAgICAgIGNvbnN0IGltYWdlUGFyYW1ldGVycyA9IHtcbiAgICAgICAgY3JvcDogY3JvcCB8fCBjcm9wRGVmYXVsdCxcbiAgICAgICAgc2l6ZTogcmVzaXplXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHVwc2NhbGU6IHJlc2l6ZS51cHNjYWxlLFxuICAgICAgICAgICAgICBtb2RlOiByZXNpemUubW9kZSxcbiAgICAgICAgICAgICAgd2lkdGg6IHJlc2l6ZS5zaXplLndpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHJlc2l6ZS5zaXplLmhlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXJzXG4gICAgICAgICAgPyBmaWx0ZXJzLmlkIHx8IGZpbHRlcnMubWF0cml4XG4gICAgICAgICAgOiByb290LnF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfRklMVEVSJykgJiZcbiAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9GSUxURVJfQ09MT1JfTUFUUklYJykgJiZcbiAgICAgICAgICAgICFjb2xvcnNcbiAgICAgICAgICA/IGZpbHRlclxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgY29sb3I6IGNvbG9ycyxcbiAgICAgICAgbWFya3VwXG4gICAgICB9O1xuXG4gICAgICBlZGl0b3Iub25jb25maXJtID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY3JvcCwgc2l6ZSwgZmlsdGVyLCBjb2xvciwgY29sb3JNYXRyaXgsIG1hcmt1cCB9ID0gZGF0YTtcblxuICAgICAgICAvLyBjcmVhdGUgbmV3IG1ldGFkYXRhIG9iamVjdFxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHt9O1xuXG4gICAgICAgIC8vIGFwcGVuZCBjcm9wIGRhdGFcbiAgICAgICAgaWYgKGNyb3ApIHtcbiAgICAgICAgICBtZXRhZGF0YS5jcm9wID0gY3JvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFwcGVuZCBzaXplIGRhdGFcbiAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICBjb25zdCBpbml0aWFsU2l6ZSA9IChpdGVtLmdldE1ldGFkYXRhKCdyZXNpemUnKSB8fCB7fSkuc2l6ZTtcbiAgICAgICAgICBjb25zdCB0YXJnZXRTaXplID0ge1xuICAgICAgICAgICAgd2lkdGg6IHNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghKHRhcmdldFNpemUud2lkdGggJiYgdGFyZ2V0U2l6ZS5oZWlnaHQpICYmIGluaXRpYWxTaXplKSB7XG4gICAgICAgICAgICB0YXJnZXRTaXplLndpZHRoID0gaW5pdGlhbFNpemUud2lkdGg7XG4gICAgICAgICAgICB0YXJnZXRTaXplLmhlaWdodCA9IGluaXRpYWxTaXplLmhlaWdodDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFyZ2V0U2l6ZS53aWR0aCB8fCB0YXJnZXRTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgbWV0YWRhdGEucmVzaXplID0ge1xuICAgICAgICAgICAgICB1cHNjYWxlOiBzaXplLnVwc2NhbGUsXG4gICAgICAgICAgICAgIG1vZGU6IHNpemUubW9kZSxcbiAgICAgICAgICAgICAgc2l6ZTogdGFyZ2V0U2l6ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFya3VwKSB7XG4gICAgICAgICAgbWV0YWRhdGEubWFya3VwID0gbWFya3VwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGZpbHRlcnMgYW5kIGNvbG9ycyBzbyB3ZSBjYW4gcmVzdG9yZSB0aGVtIHdoZW4gcmUtZWRpdGluZyB0aGUgaW1hZ2VcbiAgICAgICAgbWV0YWRhdGEuY29sb3JzID0gY29sb3I7XG4gICAgICAgIG1ldGFkYXRhLmZpbHRlcnMgPSBmaWx0ZXI7XG5cbiAgICAgICAgLy8gc2V0IG1lcmdlZCBjb2xvciBtYXRyaXggdG8gdXNlIGluIHByZXZpZXcgcGx1Z2luXG4gICAgICAgIG1ldGFkYXRhLmZpbHRlciA9IGNvbG9yTWF0cml4O1xuXG4gICAgICAgIC8vIHVwZGF0ZSBjcm9wIG1ldGFkYXRhXG4gICAgICAgIGl0ZW0uc2V0TWV0YWRhdGEobWV0YWRhdGEpO1xuXG4gICAgICAgIC8vIGNhbGxcbiAgICAgICAgZWRpdG9yLmZpbGVwb25kQ2FsbGJhY2tCcmlkZ2Uub25jb25maXJtKGRhdGEsIGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuXG4gICAgICAgIC8vIHVzZWQgaW4gaW5zdGFudCBlZGl0IG1vZGVcbiAgICAgICAgaWYgKCFoYW5kbGVFZGl0b3JSZXNwb25zZSkgcmV0dXJuO1xuICAgICAgICBlZGl0b3Iub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICBoYW5kbGVFZGl0b3JSZXNwb25zZSh0cnVlKTtcbiAgICAgICAgICBlZGl0b3Iub25jbG9zZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBlZGl0b3Iub25jYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNhbGxcbiAgICAgICAgZWRpdG9yLmZpbGVwb25kQ2FsbGJhY2tCcmlkZ2Uub25jYW5jZWwoY3JlYXRlSXRlbUFQSShpdGVtKSk7XG5cbiAgICAgICAgLy8gdXNlZCBpbiBpbnN0YW50IGVkaXQgbW9kZVxuICAgICAgICBpZiAoIWhhbmRsZUVkaXRvclJlc3BvbnNlKSByZXR1cm47XG4gICAgICAgIGVkaXRvci5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVkaXRvclJlc3BvbnNlKGZhbHNlKTtcbiAgICAgICAgICBlZGl0b3Iub25jbG9zZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBlZGl0b3Iub3BlbihmaWxlLCBpbWFnZVBhcmFtZXRlcnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbWFnZSBQcmV2aWV3IHJlbGF0ZWRcbiAgICAgKi9cblxuICAgIC8vIGNyZWF0ZSB0aGUgaW1hZ2UgZWRpdCBwbHVnaW4sIGJ1dCBvbmx5IGRvIHNvIGlmIHRoZSBpdGVtIGlzIGFuIGltYWdlXG4gICAgY29uc3QgZGlkTG9hZEl0ZW0gPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICBpZiAoIXF1ZXJ5KCdHRVRfSU1BR0VfRURJVF9BTExPV19FRElUJykpIHJldHVybjtcblxuICAgICAgY29uc3QgeyBpZCB9ID0gcHJvcHM7XG5cbiAgICAgIC8vIHRyeSB0byBhY2Nlc3MgaXRlbVxuICAgICAgY29uc3QgaXRlbSA9IHF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAvLyBnZXQgdGhlIGZpbGUgb2JqZWN0XG4gICAgICBjb25zdCBmaWxlID0gaXRlbS5maWxlO1xuXG4gICAgICAvLyBleGl0IGlmIHRoaXMgaXMgbm90IGFuIGltYWdlXG4gICAgICBpZiAoIWlzUHJldmlld2FibGVJbWFnZShmaWxlKSkgcmV0dXJuO1xuXG4gICAgICAvLyBoYW5kbGUgaW50ZXJhY3Rpb25zXG4gICAgICByb290LnJlZi5oYW5kbGVFZGl0ID0gZSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0VESVRfSVRFTScsIHsgaWQgfSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoY2FuU2hvd0ltYWdlUHJldmlldykge1xuICAgICAgICAvLyBhZGQgZWRpdCBidXR0b24gdG8gcHJldmlld1xuICAgICAgICBjb25zdCBidXR0b25WaWV3ID0gdmlldy5jcmVhdGVDaGlsZFZpZXcoZmlsZUFjdGlvbkJ1dHRvbiwge1xuICAgICAgICAgIGxhYmVsOiAnZWRpdCcsXG4gICAgICAgICAgaWNvbjogcXVlcnkoJ0dFVF9JTUFHRV9FRElUX0lDT05fRURJVCcpLFxuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZWRpdCBpdGVtIGNsYXNzbmFtZVxuICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW0nKTtcbiAgICAgICAgYnV0dG9uVmlldy5lbGVtZW50LmRhdGFzZXQuYWxpZ24gPSBxdWVyeShcbiAgICAgICAgICAnR0VUX1NUWUxFX0lNQUdFX0VESVRfQlVUVE9OX0VESVRfSVRFTV9QT1NJVElPTidcbiAgICAgICAgKTtcbiAgICAgICAgYnV0dG9uVmlldy5vbignY2xpY2snLCByb290LnJlZi5oYW5kbGVFZGl0KTtcblxuICAgICAgICByb290LnJlZi5idXR0b25FZGl0SXRlbSA9IHZpZXcuYXBwZW5kQ2hpbGRWaWV3KGJ1dHRvblZpZXcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdmlldyBpcyBmaWxlIGluZm9cbiAgICAgICAgY29uc3QgZmlsZW5hbWVFbGVtZW50ID0gdmlldy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgJy5maWxlcG9uZC0tZmlsZS1pbmZvLW1haW4nXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZWRpdEJ1dHRvbi5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWFjdGlvbi1lZGl0LWl0ZW0tYWx0JztcbiAgICAgICAgZWRpdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIHF1ZXJ5KCdHRVRfSU1BR0VfRURJVF9JQ09OX0VESVQnKSArICc8c3Bhbj5lZGl0PC9zcGFuPic7XG4gICAgICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVFZGl0KTtcbiAgICAgICAgZmlsZW5hbWVFbGVtZW50LmFwcGVuZENoaWxkKGVkaXRCdXR0b24pO1xuXG4gICAgICAgIHJvb3QucmVmLmVkaXRCdXR0b24gPSBlZGl0QnV0dG9uO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2aWV3LnJlZ2lzdGVyRGVzdHJveWVyKCh7IHJvb3QgfSkgPT4ge1xuICAgICAgaWYgKHJvb3QucmVmLmJ1dHRvbkVkaXRJdGVtKSB7XG4gICAgICAgIHJvb3QucmVmLmJ1dHRvbkVkaXRJdGVtLm9mZignY2xpY2snLCByb290LnJlZi5oYW5kbGVFZGl0KTtcbiAgICAgIH1cbiAgICAgIGlmIChyb290LnJlZi5lZGl0QnV0dG9uKSB7XG4gICAgICAgIHJvb3QucmVmLmVkaXRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVFZGl0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHJvdXRlcyA9IHtcbiAgICAgIEVESVRfSVRFTTogb3BlbkVkaXRvcixcbiAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtXG4gICAgfTtcblxuICAgIGlmIChjYW5TaG93SW1hZ2VQcmV2aWV3KSB7XG4gICAgICAvLyB2aWV3IGlzIGZpbGVcbiAgICAgIGNvbnN0IGRpZFByZXZpZXdVcGRhdGUgPSAoeyByb290IH0pID0+IHtcbiAgICAgICAgaWYgKCFyb290LnJlZi5idXR0b25FZGl0SXRlbSkgcmV0dXJuO1xuICAgICAgICByb290LnJlZi5idXR0b25FZGl0SXRlbS5vcGFjaXR5ID0gMTtcbiAgICAgIH07XG5cbiAgICAgIHJvdXRlcy5ESURfSU1BR0VfUFJFVklFV19TSE9XID0gZGlkUHJldmlld1VwZGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgIH1cblxuICAgIC8vIHN0YXJ0IHdyaXRpbmdcbiAgICB2aWV3LnJlZ2lzdGVyV3JpdGVyKGNyZWF0ZVJvdXRlKHJvdXRlcykpO1xuICB9KTtcblxuICAvLyBFeHBvc2UgcGx1Z2luIG9wdGlvbnNcbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAvLyBlbmFibGUgb3IgZGlzYWJsZSBpbWFnZSBlZGl0aW5nXG4gICAgICBhbGxvd0ltYWdlRWRpdDogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgIC8vIGxvY2F0aW9uIG9mIHByb2Nlc3NpbmcgYnV0dG9uXG4gICAgICBzdHlsZUltYWdlRWRpdEJ1dHRvbkVkaXRJdGVtUG9zaXRpb246IFsnYm90dG9tIGNlbnRlcicsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgLy8gb3BlbiBlZGl0b3Igd2hlbiBpbWFnZSBpcyBkcm9wcGVkXG4gICAgICBpbWFnZUVkaXRJbnN0YW50RWRpdDogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAvLyBhbGxvdyBlZGl0aW5nXG4gICAgICBpbWFnZUVkaXRBbGxvd0VkaXQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAvLyB0aGUgaWNvbiB0byB1c2UgZm9yIHRoZSBlZGl0IGJ1dHRvblxuICAgICAgaW1hZ2VFZGl0SWNvbkVkaXQ6IFtcbiAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBhcmlhLWhpZGRlbj1cInRydWVcIiBmb2N1c2FibGU9XCJmYWxzZVwiPjxwYXRoIGQ9XCJNOC41IDE3aDEuNTg2bDctN0wxNS41IDguNDE0bC03IDdWMTd6bS0xLjcwNy0yLjcwN2w4LThhMSAxIDAgMCAxIDEuNDE0IDBsMyAzYTEgMSAwIDAgMSAwIDEuNDE0bC04IDhBMSAxIDAgMCAxIDEwLjUgMTloLTNhMSAxIDAgMCAxLTEtMXYtM2ExIDEgMCAwIDEgLjI5My0uNzA3elwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICAgIFR5cGUuU1RSSU5HXG4gICAgICBdLFxuXG4gICAgICAvLyBlZGl0b3Igb2JqZWN0XG4gICAgICBpbWFnZUVkaXRFZGl0b3I6IFtudWxsLCBUeXBlLk9CSkVDVF1cbiAgICB9XG4gIH07XG59O1xuXG4vLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuY29uc3QgaXNCcm93c2VyID1cbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5pZiAoaXNCcm93c2VyKSB7XG4gIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiIsICIvKiFcbiAqIEZpbGVQb25kUGx1Z2luSW1hZ2VFeGlmT3JpZW50YXRpb24gMS4wLjExXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIHRlc3QgaWYgZmlsZSBpcyBvZiB0eXBlIGltYWdlXG5jb25zdCBpc0pQRUcgPSBmaWxlID0+IC9eaW1hZ2VcXC9qcGVnLy50ZXN0KGZpbGUudHlwZSk7XG5cbmNvbnN0IE1hcmtlciA9IHtcbiAgSlBFRzogMHhmZmQ4LFxuICBBUFAxOiAweGZmZTEsXG4gIEVYSUY6IDB4NDU3ODY5NjYsXG4gIFRJRkY6IDB4NDk0OSxcbiAgT3JpZW50YXRpb246IDB4MDExMixcbiAgVW5rbm93bjogMHhmZjAwXG59O1xuXG5jb25zdCBnZXRVaW50MTYgPSAodmlldywgb2Zmc2V0LCBsaXR0bGUgPSBmYWxzZSkgPT5cbiAgdmlldy5nZXRVaW50MTYob2Zmc2V0LCBsaXR0bGUpO1xuY29uc3QgZ2V0VWludDMyID0gKHZpZXcsIG9mZnNldCwgbGl0dGxlID0gZmFsc2UpID0+XG4gIHZpZXcuZ2V0VWludDMyKG9mZnNldCwgbGl0dGxlKTtcblxuY29uc3QgZ2V0SW1hZ2VPcmllbnRhdGlvbiA9IGZpbGUgPT5cbiAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoZS50YXJnZXQucmVzdWx0KTtcblxuICAgICAgLy8gRXZlcnkgSlBFRyBmaWxlIHN0YXJ0cyBmcm9tIGJpbmFyeSB2YWx1ZSAnMHhGRkQ4J1xuICAgICAgaWYgKGdldFVpbnQxNih2aWV3LCAwKSAhPT0gTWFya2VyLkpQRUcpIHtcbiAgICAgICAgLy8gVGhpcyBhaW50IG5vIEpQRUdcbiAgICAgICAgcmVzb2x2ZSgtMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGVuZ3RoID0gdmlldy5ieXRlTGVuZ3RoO1xuICAgICAgbGV0IG9mZnNldCA9IDI7XG5cbiAgICAgIHdoaWxlIChvZmZzZXQgPCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gZ2V0VWludDE2KHZpZXcsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSAyO1xuXG4gICAgICAgIC8vIFRoZXJlJ3Mgb3VyIEFQUDEgTWFya2VyXG4gICAgICAgIGlmIChtYXJrZXIgPT09IE1hcmtlci5BUFAxKSB7XG4gICAgICAgICAgaWYgKGdldFVpbnQzMih2aWV3LCAob2Zmc2V0ICs9IDIpKSAhPT0gTWFya2VyLkVYSUYpIHtcbiAgICAgICAgICAgIC8vIG5vIEVYSUYgaW5mbyBkZWZpbmVkXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBHZXQgVElGRiBIZWFkZXJcbiAgICAgICAgICBjb25zdCBsaXR0bGUgPSBnZXRVaW50MTYodmlldywgKG9mZnNldCArPSA2KSkgPT09IE1hcmtlci5USUZGO1xuICAgICAgICAgIG9mZnNldCArPSBnZXRVaW50MzIodmlldywgb2Zmc2V0ICsgNCwgbGl0dGxlKTtcblxuICAgICAgICAgIGNvbnN0IHRhZ3MgPSBnZXRVaW50MTYodmlldywgb2Zmc2V0LCBsaXR0bGUpO1xuICAgICAgICAgIG9mZnNldCArPSAyO1xuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWdzOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGZvdW5kIHRoZSBvcmllbnRhdGlvbiB0YWdcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZ2V0VWludDE2KHZpZXcsIG9mZnNldCArIGkgKiAxMiwgbGl0dGxlKSA9PT0gTWFya2VyLk9yaWVudGF0aW9uXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShnZXRVaW50MTYodmlldywgb2Zmc2V0ICsgaSAqIDEyICsgOCwgbGl0dGxlKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoKG1hcmtlciAmIE1hcmtlci5Vbmtub3duKSAhPT0gTWFya2VyLlVua25vd24pIHtcbiAgICAgICAgICAvLyBJbnZhbGlkXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2Zmc2V0ICs9IGdldFVpbnQxNih2aWV3LCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE5vdGhpbmcgZm91bmRcbiAgICAgIHJlc29sdmUoLTEpO1xuICAgIH07XG5cbiAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJlYWQgdGhlIGVudGlyZSBmaWxlIHRvIGdldCB0aGUgb3JpZW50YXRpb25cbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZS5zbGljZSgwLCA2NCAqIDEwMjQpKTtcbiAgfSk7XG5cbmNvbnN0IElTX0JST1dTRVIgPSAoKCkgPT5cbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpKCk7XG5jb25zdCBpc0Jyb3dzZXIgPSAoKSA9PiBJU19CUk9XU0VSO1xuXG4vLyAyeDEgcGl4ZWwgaW1hZ2UgOTBDVyByb3RhdGVkIHdpdGggb3JpZW50YXRpb24gaGVhZGVyXG5jb25zdCB0ZXN0U3JjID1cbiAgJ2RhdGE6aW1hZ2UvanBnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVNBQklBQUQvNFFBNlJYaHBaZ0FBVFUwQUtnQUFBQWdBQXdFU0FBTUFBQUFCQUFZQUFBRW9BQU1BQUFBQkFBSUFBQUlUQUFNQUFBQUJBQUVBQUFBQUFBRC8yd0JEQVAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3dBQUxDQUFCQUFJQkFTSUEvOFFBSmdBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQXhBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQVAvYUFBZ0JBUUFBUHdCSC85az0nO1xuXG4vLyBzaG91bGQgY29ycmVjdCBvcmllbnRhdGlvbiBpZiBpcyBwcmVzZW50ZWQgaW4gbGFuZHNjYXBlLCBpbiB3aGljaCBjYXNlIHRoZSBicm93c2VyIGRvZXNuJ3QgYXV0b2NvcnJlY3RcbmxldCBzaG91bGRDb3JyZWN0ID0gdW5kZWZpbmVkO1xuY29uc3QgdGVzdEltYWdlID0gaXNCcm93c2VyKCkgPyBuZXcgSW1hZ2UoKSA6IHt9O1xudGVzdEltYWdlLm9ubG9hZCA9ICgpID0+XG4gIChzaG91bGRDb3JyZWN0ID0gdGVzdEltYWdlLm5hdHVyYWxXaWR0aCA+IHRlc3RJbWFnZS5uYXR1cmFsSGVpZ2h0KTtcbnRlc3RJbWFnZS5zcmMgPSB0ZXN0U3JjO1xuXG5jb25zdCBzaG91bGRDb3JyZWN0SW1hZ2VFeGlmT3JpZW50YXRpb24gPSAoKSA9PiBzaG91bGRDb3JyZWN0O1xuXG4vKipcbiAqIFJlYWQgSW1hZ2UgT3JpZW50YXRpb24gUGx1Z2luXG4gKi9cbmNvbnN0IHBsdWdpbiA9ICh7IGFkZEZpbHRlciwgdXRpbHMgfSkgPT4ge1xuICBjb25zdCB7IFR5cGUsIGlzRmlsZSB9ID0gdXRpbHM7XG5cbiAgLy8gc3Vic2NyaWJlIHRvIGZpbGUgbG9hZCBhbmQgYXBwZW5kIHJlcXVpcmVkIGluZm9cbiAgYWRkRmlsdGVyKFxuICAgICdESURfTE9BRF9JVEVNJyxcbiAgICAoaXRlbSwgeyBxdWVyeSB9KSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBnZXQgZmlsZSByZWZlcmVuY2VcbiAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW0uZmlsZTtcblxuICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhIGpwZWcgaW1hZ2Ugd2UgYXJlIG5vdCBpbnRlcmVzdGVkXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaXNGaWxlKGZpbGUpIHx8XG4gICAgICAgICAgIWlzSlBFRyhmaWxlKSB8fFxuICAgICAgICAgICFxdWVyeSgnR0VUX0FMTE9XX0lNQUdFX0VYSUZfT1JJRU5UQVRJT04nKSB8fFxuICAgICAgICAgICFzaG91bGRDb3JyZWN0SW1hZ2VFeGlmT3JpZW50YXRpb24oKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBjb250aW51ZSB3aXRoIHRoZSB1bmFsdGVyZWQgZGF0YXNldFxuICAgICAgICAgIHJldHVybiByZXNvbHZlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IG9yaWVudGF0aW9uIGZyb20gZXhpZiBkYXRhXG4gICAgICAgIGdldEltYWdlT3JpZW50YXRpb24oZmlsZSkudGhlbihvcmllbnRhdGlvbiA9PiB7XG4gICAgICAgICAgaXRlbS5zZXRNZXRhZGF0YSgnZXhpZicsIHsgb3JpZW50YXRpb24gfSk7XG4gICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICApO1xuXG4gIC8vIEV4cG9zZSBwbHVnaW4gb3B0aW9uc1xuICByZXR1cm4ge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGltYWdlIG9yaWVudGF0aW9uIHJlYWRpbmdcbiAgICAgIGFsbG93SW1hZ2VFeGlmT3JpZW50YXRpb246IFt0cnVlLCBUeXBlLkJPT0xFQU5dXG4gICAgfVxuICB9O1xufTtcblxuLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbmNvbnN0IGlzQnJvd3NlciQxID1cbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5pZiAoaXNCcm93c2VyJDEpIHtcbiAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSlcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luO1xuIiwgIi8qIVxuICogRmlsZVBvbmRQbHVnaW5JbWFnZVByZXZpZXcgNC42LjExXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIHRlc3QgaWYgZmlsZSBpcyBvZiB0eXBlIGltYWdlIGFuZCBjYW4gYmUgdmlld2VkIGluIGNhbnZhc1xuY29uc3QgaXNQcmV2aWV3YWJsZUltYWdlID0gZmlsZSA9PiAvXmltYWdlLy50ZXN0KGZpbGUudHlwZSk7XG5cbmNvbnN0IHZlY3Rvck11bHRpcGx5ID0gKHYsIGFtb3VudCkgPT4gY3JlYXRlVmVjdG9yKHYueCAqIGFtb3VudCwgdi55ICogYW1vdW50KTtcblxuY29uc3QgdmVjdG9yQWRkID0gKGEsIGIpID0+IGNyZWF0ZVZlY3RvcihhLnggKyBiLngsIGEueSArIGIueSk7XG5cbmNvbnN0IHZlY3Rvck5vcm1hbGl6ZSA9IHYgPT4ge1xuICBjb25zdCBsID0gTWF0aC5zcXJ0KHYueCAqIHYueCArIHYueSAqIHYueSk7XG4gIGlmIChsID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfVxuICByZXR1cm4gY3JlYXRlVmVjdG9yKHYueCAvIGwsIHYueSAvIGwpO1xufTtcblxuY29uc3QgdmVjdG9yUm90YXRlID0gKHYsIHJhZGlhbnMsIG9yaWdpbikgPT4ge1xuICBjb25zdCBjb3MgPSBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4ocmFkaWFucyk7XG4gIGNvbnN0IHQgPSBjcmVhdGVWZWN0b3Iodi54IC0gb3JpZ2luLngsIHYueSAtIG9yaWdpbi55KTtcbiAgcmV0dXJuIGNyZWF0ZVZlY3RvcihcbiAgICBvcmlnaW4ueCArIGNvcyAqIHQueCAtIHNpbiAqIHQueSxcbiAgICBvcmlnaW4ueSArIHNpbiAqIHQueCArIGNvcyAqIHQueVxuICApO1xufTtcblxuY29uc3QgY3JlYXRlVmVjdG9yID0gKHggPSAwLCB5ID0gMCkgPT4gKHsgeCwgeSB9KTtcblxuY29uc3QgZ2V0TWFya3VwVmFsdWUgPSAodmFsdWUsIHNpemUsIHNjYWxhciA9IDEsIGF4aXMpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgKiBzY2FsYXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWUgKiAoYXhpcyA/IHNpemVbYXhpc10gOiBNYXRoLm1pbihzaXplLndpZHRoLCBzaXplLmhlaWdodCkpO1xuICB9XG4gIHJldHVybjtcbn07XG5cbmNvbnN0IGdldE1hcmt1cFN0eWxlcyA9IChtYXJrdXAsIHNpemUsIHNjYWxlKSA9PiB7XG4gIGNvbnN0IGxpbmVTdHlsZSA9IG1hcmt1cC5ib3JkZXJTdHlsZSB8fCBtYXJrdXAubGluZVN0eWxlIHx8ICdzb2xpZCc7XG4gIGNvbnN0IGZpbGwgPSBtYXJrdXAuYmFja2dyb3VuZENvbG9yIHx8IG1hcmt1cC5mb250Q29sb3IgfHwgJ3RyYW5zcGFyZW50JztcbiAgY29uc3Qgc3Ryb2tlID0gbWFya3VwLmJvcmRlckNvbG9yIHx8IG1hcmt1cC5saW5lQ29sb3IgfHwgJ3RyYW5zcGFyZW50JztcbiAgY29uc3Qgc3Ryb2tlV2lkdGggPSBnZXRNYXJrdXBWYWx1ZShcbiAgICBtYXJrdXAuYm9yZGVyV2lkdGggfHwgbWFya3VwLmxpbmVXaWR0aCxcbiAgICBzaXplLFxuICAgIHNjYWxlXG4gICk7XG4gIGNvbnN0IGxpbmVDYXAgPSBtYXJrdXAubGluZUNhcCB8fCAncm91bmQnO1xuICBjb25zdCBsaW5lSm9pbiA9IG1hcmt1cC5saW5lSm9pbiB8fCAncm91bmQnO1xuICBjb25zdCBkYXNoZXMgPVxuICAgIHR5cGVvZiBsaW5lU3R5bGUgPT09ICdzdHJpbmcnXG4gICAgICA/ICcnXG4gICAgICA6IGxpbmVTdHlsZS5tYXAodiA9PiBnZXRNYXJrdXBWYWx1ZSh2LCBzaXplLCBzY2FsZSkpLmpvaW4oJywnKTtcbiAgY29uc3Qgb3BhY2l0eSA9IG1hcmt1cC5vcGFjaXR5IHx8IDE7XG4gIHJldHVybiB7XG4gICAgJ3N0cm9rZS1saW5lY2FwJzogbGluZUNhcCxcbiAgICAnc3Ryb2tlLWxpbmVqb2luJzogbGluZUpvaW4sXG4gICAgJ3N0cm9rZS13aWR0aCc6IHN0cm9rZVdpZHRoIHx8IDAsXG4gICAgJ3N0cm9rZS1kYXNoYXJyYXknOiBkYXNoZXMsXG4gICAgc3Ryb2tlLFxuICAgIGZpbGwsXG4gICAgb3BhY2l0eVxuICB9O1xufTtcblxuY29uc3QgaXNEZWZpbmVkID0gdmFsdWUgPT4gdmFsdWUgIT0gbnVsbDtcblxuY29uc3QgZ2V0TWFya3VwUmVjdCA9IChyZWN0LCBzaXplLCBzY2FsYXIgPSAxKSA9PiB7XG4gIGxldCBsZWZ0ID1cbiAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LngsIHNpemUsIHNjYWxhciwgJ3dpZHRoJykgfHxcbiAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LmxlZnQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gIGxldCB0b3AgPVxuICAgIGdldE1hcmt1cFZhbHVlKHJlY3QueSwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0JykgfHxcbiAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LnRvcCwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG4gIGxldCB3aWR0aCA9IGdldE1hcmt1cFZhbHVlKHJlY3Qud2lkdGgsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gIGxldCBoZWlnaHQgPSBnZXRNYXJrdXBWYWx1ZShyZWN0LmhlaWdodCwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG4gIGxldCByaWdodCA9IGdldE1hcmt1cFZhbHVlKHJlY3QucmlnaHQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gIGxldCBib3R0b20gPSBnZXRNYXJrdXBWYWx1ZShyZWN0LmJvdHRvbSwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG5cbiAgaWYgKCFpc0RlZmluZWQodG9wKSkge1xuICAgIGlmIChpc0RlZmluZWQoaGVpZ2h0KSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgdG9wID0gc2l6ZS5oZWlnaHQgLSBoZWlnaHQgLSBib3R0b207XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvcCA9IGJvdHRvbTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWlzRGVmaW5lZChsZWZ0KSkge1xuICAgIGlmIChpc0RlZmluZWQod2lkdGgpICYmIGlzRGVmaW5lZChyaWdodCkpIHtcbiAgICAgIGxlZnQgPSBzaXplLndpZHRoIC0gd2lkdGggLSByaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVmdCA9IHJpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIGlmICghaXNEZWZpbmVkKHdpZHRoKSkge1xuICAgIGlmIChpc0RlZmluZWQobGVmdCkgJiYgaXNEZWZpbmVkKHJpZ2h0KSkge1xuICAgICAgd2lkdGggPSBzaXplLndpZHRoIC0gbGVmdCAtIHJpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IDA7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFpc0RlZmluZWQoaGVpZ2h0KSkge1xuICAgIGlmIChpc0RlZmluZWQodG9wKSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgLSB0b3AgLSBib3R0b207XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCA9IDA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBsZWZ0IHx8IDAsXG4gICAgeTogdG9wIHx8IDAsXG4gICAgd2lkdGg6IHdpZHRoIHx8IDAsXG4gICAgaGVpZ2h0OiBoZWlnaHQgfHwgMFxuICB9O1xufTtcblxuY29uc3QgcG9pbnRzVG9QYXRoU2hhcGUgPSBwb2ludHMgPT5cbiAgcG9pbnRzXG4gICAgLm1hcCgocG9pbnQsIGluZGV4KSA9PiBgJHtpbmRleCA9PT0gMCA/ICdNJyA6ICdMJ30gJHtwb2ludC54fSAke3BvaW50Lnl9YClcbiAgICAuam9pbignICcpO1xuXG5jb25zdCBzZXRBdHRyaWJ1dGVzID0gKGVsZW1lbnQsIGF0dHIpID0+XG4gIE9iamVjdC5rZXlzKGF0dHIpLmZvckVhY2goa2V5ID0+IGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYXR0cltrZXldKSk7XG5cbmNvbnN0IG5zID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IHN2ZyA9ICh0YWcsIGF0dHIpID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKTtcbiAgaWYgKGF0dHIpIHtcbiAgICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHIpO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuY29uc3QgdXBkYXRlUmVjdCA9IGVsZW1lbnQgPT5cbiAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgLi4uZWxlbWVudC5yZWN0LFxuICAgIC4uLmVsZW1lbnQuc3R5bGVzXG4gIH0pO1xuXG5jb25zdCB1cGRhdGVFbGxpcHNlID0gZWxlbWVudCA9PiB7XG4gIGNvbnN0IGN4ID0gZWxlbWVudC5yZWN0LnggKyBlbGVtZW50LnJlY3Qud2lkdGggKiAwLjU7XG4gIGNvbnN0IGN5ID0gZWxlbWVudC5yZWN0LnkgKyBlbGVtZW50LnJlY3QuaGVpZ2h0ICogMC41O1xuICBjb25zdCByeCA9IGVsZW1lbnQucmVjdC53aWR0aCAqIDAuNTtcbiAgY29uc3QgcnkgPSBlbGVtZW50LnJlY3QuaGVpZ2h0ICogMC41O1xuICByZXR1cm4gc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgY3gsXG4gICAgY3ksXG4gICAgcngsXG4gICAgcnksXG4gICAgLi4uZWxlbWVudC5zdHlsZXNcbiAgfSk7XG59O1xuXG5jb25zdCBJTUFHRV9GSVRfU1RZTEUgPSB7XG4gIGNvbnRhaW46ICd4TWlkWU1pZCBtZWV0JyxcbiAgY292ZXI6ICd4TWlkWU1pZCBzbGljZSdcbn07XG5cbmNvbnN0IHVwZGF0ZUltYWdlID0gKGVsZW1lbnQsIG1hcmt1cCkgPT4ge1xuICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIHtcbiAgICAuLi5lbGVtZW50LnJlY3QsXG4gICAgLi4uZWxlbWVudC5zdHlsZXMsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogSU1BR0VfRklUX1NUWUxFW21hcmt1cC5maXRdIHx8ICdub25lJ1xuICB9KTtcbn07XG5cbmNvbnN0IFRFWFRfQU5DSE9SID0ge1xuICBsZWZ0OiAnc3RhcnQnLFxuICBjZW50ZXI6ICdtaWRkbGUnLFxuICByaWdodDogJ2VuZCdcbn07XG5cbmNvbnN0IHVwZGF0ZVRleHQgPSAoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICBjb25zdCBmb250U2l6ZSA9IGdldE1hcmt1cFZhbHVlKG1hcmt1cC5mb250U2l6ZSwgc2l6ZSwgc2NhbGUpO1xuICBjb25zdCBmb250RmFtaWx5ID0gbWFya3VwLmZvbnRGYW1pbHkgfHwgJ3NhbnMtc2VyaWYnO1xuICBjb25zdCBmb250V2VpZ2h0ID0gbWFya3VwLmZvbnRXZWlnaHQgfHwgJ25vcm1hbCc7XG4gIGNvbnN0IHRleHRBbGlnbiA9IFRFWFRfQU5DSE9SW21hcmt1cC50ZXh0QWxpZ25dIHx8ICdzdGFydCc7XG5cbiAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgLi4uZWxlbWVudC5yZWN0LFxuICAgIC4uLmVsZW1lbnQuc3R5bGVzLFxuICAgICdzdHJva2Utd2lkdGgnOiAwLFxuICAgICdmb250LXdlaWdodCc6IGZvbnRXZWlnaHQsXG4gICAgJ2ZvbnQtc2l6ZSc6IGZvbnRTaXplLFxuICAgICdmb250LWZhbWlseSc6IGZvbnRGYW1pbHksXG4gICAgJ3RleHQtYW5jaG9yJzogdGV4dEFsaWduXG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSB0ZXh0XG4gIGlmIChlbGVtZW50LnRleHQgIT09IG1hcmt1cC50ZXh0KSB7XG4gICAgZWxlbWVudC50ZXh0ID0gbWFya3VwLnRleHQ7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG1hcmt1cC50ZXh0Lmxlbmd0aCA/IG1hcmt1cC50ZXh0IDogJyAnO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVMaW5lID0gKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpID0+IHtcbiAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgLi4uZWxlbWVudC5yZWN0LFxuICAgIC4uLmVsZW1lbnQuc3R5bGVzLFxuICAgIGZpbGw6ICdub25lJ1xuICB9KTtcblxuICBjb25zdCBsaW5lID0gZWxlbWVudC5jaGlsZE5vZGVzWzBdO1xuICBjb25zdCBiZWdpbiA9IGVsZW1lbnQuY2hpbGROb2Rlc1sxXTtcbiAgY29uc3QgZW5kID0gZWxlbWVudC5jaGlsZE5vZGVzWzJdO1xuXG4gIGNvbnN0IG9yaWdpbiA9IGVsZW1lbnQucmVjdDtcblxuICBjb25zdCB0YXJnZXQgPSB7XG4gICAgeDogZWxlbWVudC5yZWN0LnggKyBlbGVtZW50LnJlY3Qud2lkdGgsXG4gICAgeTogZWxlbWVudC5yZWN0LnkgKyBlbGVtZW50LnJlY3QuaGVpZ2h0XG4gIH07XG5cbiAgc2V0QXR0cmlidXRlcyhsaW5lLCB7XG4gICAgeDE6IG9yaWdpbi54LFxuICAgIHkxOiBvcmlnaW4ueSxcbiAgICB4MjogdGFyZ2V0LngsXG4gICAgeTI6IHRhcmdldC55XG4gIH0pO1xuXG4gIGlmICghbWFya3VwLmxpbmVEZWNvcmF0aW9uKSByZXR1cm47XG5cbiAgYmVnaW4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZW5kLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgY29uc3QgdiA9IHZlY3Rvck5vcm1hbGl6ZSh7XG4gICAgeDogdGFyZ2V0LnggLSBvcmlnaW4ueCxcbiAgICB5OiB0YXJnZXQueSAtIG9yaWdpbi55XG4gIH0pO1xuXG4gIGNvbnN0IGwgPSBnZXRNYXJrdXBWYWx1ZSgwLjA1LCBzaXplLCBzY2FsZSk7XG5cbiAgaWYgKG1hcmt1cC5saW5lRGVjb3JhdGlvbi5pbmRleE9mKCdhcnJvdy1iZWdpbicpICE9PSAtMSkge1xuICAgIGNvbnN0IGFycm93QmVnaW5Sb3RhdGlvblBvaW50ID0gdmVjdG9yTXVsdGlwbHkodiwgbCk7XG4gICAgY29uc3QgYXJyb3dCZWdpbkNlbnRlciA9IHZlY3RvckFkZChvcmlnaW4sIGFycm93QmVnaW5Sb3RhdGlvblBvaW50KTtcbiAgICBjb25zdCBhcnJvd0JlZ2luQSA9IHZlY3RvclJvdGF0ZShvcmlnaW4sIDIsIGFycm93QmVnaW5DZW50ZXIpO1xuICAgIGNvbnN0IGFycm93QmVnaW5CID0gdmVjdG9yUm90YXRlKG9yaWdpbiwgLTIsIGFycm93QmVnaW5DZW50ZXIpO1xuXG4gICAgc2V0QXR0cmlidXRlcyhiZWdpbiwge1xuICAgICAgc3R5bGU6ICdkaXNwbGF5OmJsb2NrOycsXG4gICAgICBkOiBgTSR7YXJyb3dCZWdpbkEueH0sJHthcnJvd0JlZ2luQS55fSBMJHtvcmlnaW4ueH0sJHtvcmlnaW4ueX0gTCR7XG4gICAgICAgIGFycm93QmVnaW5CLnhcbiAgICAgIH0sJHthcnJvd0JlZ2luQi55fWBcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtYXJrdXAubGluZURlY29yYXRpb24uaW5kZXhPZignYXJyb3ctZW5kJykgIT09IC0xKSB7XG4gICAgY29uc3QgYXJyb3dFbmRSb3RhdGlvblBvaW50ID0gdmVjdG9yTXVsdGlwbHkodiwgLWwpO1xuICAgIGNvbnN0IGFycm93RW5kQ2VudGVyID0gdmVjdG9yQWRkKHRhcmdldCwgYXJyb3dFbmRSb3RhdGlvblBvaW50KTtcbiAgICBjb25zdCBhcnJvd0VuZEEgPSB2ZWN0b3JSb3RhdGUodGFyZ2V0LCAyLCBhcnJvd0VuZENlbnRlcik7XG4gICAgY29uc3QgYXJyb3dFbmRCID0gdmVjdG9yUm90YXRlKHRhcmdldCwgLTIsIGFycm93RW5kQ2VudGVyKTtcblxuICAgIHNldEF0dHJpYnV0ZXMoZW5kLCB7XG4gICAgICBzdHlsZTogJ2Rpc3BsYXk6YmxvY2s7JyxcbiAgICAgIGQ6IGBNJHthcnJvd0VuZEEueH0sJHthcnJvd0VuZEEueX0gTCR7dGFyZ2V0Lnh9LCR7dGFyZ2V0Lnl9IEwke1xuICAgICAgICBhcnJvd0VuZEIueFxuICAgICAgfSwke2Fycm93RW5kQi55fWBcbiAgICB9KTtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlUGF0aCA9IChlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKSA9PiB7XG4gIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgIC4uLmVsZW1lbnQuc3R5bGVzLFxuICAgIGZpbGw6ICdub25lJyxcbiAgICBkOiBwb2ludHNUb1BhdGhTaGFwZShcbiAgICAgIG1hcmt1cC5wb2ludHMubWFwKHBvaW50ID0+ICh7XG4gICAgICAgIHg6IGdldE1hcmt1cFZhbHVlKHBvaW50LngsIHNpemUsIHNjYWxlLCAnd2lkdGgnKSxcbiAgICAgICAgeTogZ2V0TWFya3VwVmFsdWUocG9pbnQueSwgc2l6ZSwgc2NhbGUsICdoZWlnaHQnKVxuICAgICAgfSkpXG4gICAgKVxuICB9KTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNoYXBlID0gbm9kZSA9PiBtYXJrdXAgPT4gc3ZnKG5vZGUsIHsgaWQ6IG1hcmt1cC5pZCB9KTtcblxuY29uc3QgY3JlYXRlSW1hZ2UgPSBtYXJrdXAgPT4ge1xuICBjb25zdCBzaGFwZSA9IHN2ZygnaW1hZ2UnLCB7XG4gICAgaWQ6IG1hcmt1cC5pZCxcbiAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnLFxuICAgIG9wYWNpdHk6ICcwJ1xuICB9KTtcbiAgc2hhcGUub25sb2FkID0gKCkgPT4ge1xuICAgIHNoYXBlLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIG1hcmt1cC5vcGFjaXR5IHx8IDEpO1xuICB9O1xuICBzaGFwZS5zZXRBdHRyaWJ1dGVOUyhcbiAgICAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG4gICAgJ3hsaW5rOmhyZWYnLFxuICAgIG1hcmt1cC5zcmNcbiAgKTtcbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuY29uc3QgY3JlYXRlTGluZSA9IG1hcmt1cCA9PiB7XG4gIGNvbnN0IHNoYXBlID0gc3ZnKCdnJywge1xuICAgIGlkOiBtYXJrdXAuaWQsXG4gICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJ1xuICB9KTtcblxuICBjb25zdCBsaW5lID0gc3ZnKCdsaW5lJyk7XG4gIHNoYXBlLmFwcGVuZENoaWxkKGxpbmUpO1xuXG4gIGNvbnN0IGJlZ2luID0gc3ZnKCdwYXRoJyk7XG4gIHNoYXBlLmFwcGVuZENoaWxkKGJlZ2luKTtcblxuICBjb25zdCBlbmQgPSBzdmcoJ3BhdGgnKTtcbiAgc2hhcGUuYXBwZW5kQ2hpbGQoZW5kKTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5jb25zdCBDUkVBVEVfVFlQRV9ST1VURVMgPSB7XG4gIGltYWdlOiBjcmVhdGVJbWFnZSxcbiAgcmVjdDogY3JlYXRlU2hhcGUoJ3JlY3QnKSxcbiAgZWxsaXBzZTogY3JlYXRlU2hhcGUoJ2VsbGlwc2UnKSxcbiAgdGV4dDogY3JlYXRlU2hhcGUoJ3RleHQnKSxcbiAgcGF0aDogY3JlYXRlU2hhcGUoJ3BhdGgnKSxcbiAgbGluZTogY3JlYXRlTGluZVxufTtcblxuY29uc3QgVVBEQVRFX1RZUEVfUk9VVEVTID0ge1xuICByZWN0OiB1cGRhdGVSZWN0LFxuICBlbGxpcHNlOiB1cGRhdGVFbGxpcHNlLFxuICBpbWFnZTogdXBkYXRlSW1hZ2UsXG4gIHRleHQ6IHVwZGF0ZVRleHQsXG4gIHBhdGg6IHVwZGF0ZVBhdGgsXG4gIGxpbmU6IHVwZGF0ZUxpbmVcbn07XG5cbmNvbnN0IGNyZWF0ZU1hcmt1cEJ5VHlwZSA9ICh0eXBlLCBtYXJrdXApID0+IENSRUFURV9UWVBFX1JPVVRFU1t0eXBlXShtYXJrdXApO1xuXG5jb25zdCB1cGRhdGVNYXJrdXBCeVR5cGUgPSAoZWxlbWVudCwgdHlwZSwgbWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICBpZiAodHlwZSAhPT0gJ3BhdGgnKSB7XG4gICAgZWxlbWVudC5yZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUsIHNjYWxlKTtcbiAgfVxuICBlbGVtZW50LnN0eWxlcyA9IGdldE1hcmt1cFN0eWxlcyhtYXJrdXAsIHNpemUsIHNjYWxlKTtcbiAgVVBEQVRFX1RZUEVfUk9VVEVTW3R5cGVdKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpO1xufTtcblxuY29uc3QgTUFSS1VQX1JFQ1QgPSBbXG4gICd4JyxcbiAgJ3knLFxuICAnbGVmdCcsXG4gICd0b3AnLFxuICAncmlnaHQnLFxuICAnYm90dG9tJyxcbiAgJ3dpZHRoJyxcbiAgJ2hlaWdodCdcbl07XG5cbmNvbnN0IHRvT3B0aW9uYWxGcmFjdGlvbiA9IHZhbHVlID0+XG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgLyUvLnRlc3QodmFsdWUpXG4gICAgPyBwYXJzZUZsb2F0KHZhbHVlKSAvIDEwMFxuICAgIDogdmFsdWU7XG5cbi8vIGFkZHMgZGVmYXVsdCBtYXJrdXAgcHJvcGVydGllcywgY2xvbmVzIG1hcmt1cFxuY29uc3QgcHJlcGFyZU1hcmt1cCA9IG1hcmt1cCA9PiB7XG4gIGNvbnN0IFt0eXBlLCBwcm9wc10gPSBtYXJrdXA7XG5cbiAgY29uc3QgcmVjdCA9IHByb3BzLnBvaW50c1xuICAgID8ge31cbiAgICA6IE1BUktVUF9SRUNULnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICBwcmV2W2N1cnJdID0gdG9PcHRpb25hbEZyYWN0aW9uKHByb3BzW2N1cnJdKTtcbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICB9LCB7fSk7XG5cbiAgcmV0dXJuIFtcbiAgICB0eXBlLFxuICAgIHtcbiAgICAgIHpJbmRleDogMCxcbiAgICAgIC4uLnByb3BzLFxuICAgICAgLi4ucmVjdFxuICAgIH1cbiAgXTtcbn07XG5cbmNvbnN0IHNvcnRNYXJrdXBCeVpJbmRleCA9IChhLCBiKSA9PiB7XG4gIGlmIChhWzFdLnpJbmRleCA+IGJbMV0uekluZGV4KSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKGFbMV0uekluZGV4IDwgYlsxXS56SW5kZXgpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBjcmVhdGVNYXJrdXBWaWV3ID0gXyA9PlxuICBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdpbWFnZS1wcmV2aWV3LW1hcmt1cCcsXG4gICAgdGFnOiAnc3ZnJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgYXBpczogWyd3aWR0aCcsICdoZWlnaHQnLCAnY3JvcCcsICdtYXJrdXAnLCAncmVzaXplJywgJ2RpcnR5J11cbiAgICB9LFxuICAgIHdyaXRlOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICBpZiAoIXByb3BzLmRpcnR5KSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHsgY3JvcCwgcmVzaXplLCBtYXJrdXAgfSA9IHByb3BzO1xuXG4gICAgICBjb25zdCB2aWV3V2lkdGggPSBwcm9wcy53aWR0aDtcbiAgICAgIGNvbnN0IHZpZXdIZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG5cbiAgICAgIGxldCBjcm9wV2lkdGggPSBjcm9wLndpZHRoO1xuICAgICAgbGV0IGNyb3BIZWlnaHQgPSBjcm9wLmhlaWdodDtcblxuICAgICAgaWYgKHJlc2l6ZSkge1xuICAgICAgICBjb25zdCB7IHNpemUgfSA9IHJlc2l6ZTtcblxuICAgICAgICBsZXQgb3V0cHV0V2lkdGggPSBzaXplICYmIHNpemUud2lkdGg7XG4gICAgICAgIGxldCBvdXRwdXRIZWlnaHQgPSBzaXplICYmIHNpemUuaGVpZ2h0O1xuICAgICAgICBjb25zdCBvdXRwdXRGaXQgPSByZXNpemUubW9kZTtcbiAgICAgICAgY29uc3Qgb3V0cHV0VXBzY2FsZSA9IHJlc2l6ZS51cHNjYWxlO1xuXG4gICAgICAgIGlmIChvdXRwdXRXaWR0aCAmJiAhb3V0cHV0SGVpZ2h0KSBvdXRwdXRIZWlnaHQgPSBvdXRwdXRXaWR0aDtcbiAgICAgICAgaWYgKG91dHB1dEhlaWdodCAmJiAhb3V0cHV0V2lkdGgpIG91dHB1dFdpZHRoID0gb3V0cHV0SGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFVwc2NhbGUgPVxuICAgICAgICAgIGNyb3BXaWR0aCA8IG91dHB1dFdpZHRoICYmIGNyb3BIZWlnaHQgPCBvdXRwdXRIZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFzaG91bGRVcHNjYWxlIHx8IChzaG91bGRVcHNjYWxlICYmIG91dHB1dFVwc2NhbGUpKSB7XG4gICAgICAgICAgbGV0IHNjYWxhcldpZHRoID0gb3V0cHV0V2lkdGggLyBjcm9wV2lkdGg7XG4gICAgICAgICAgbGV0IHNjYWxhckhlaWdodCA9IG91dHB1dEhlaWdodCAvIGNyb3BIZWlnaHQ7XG5cbiAgICAgICAgICBpZiAob3V0cHV0Rml0ID09PSAnZm9yY2UnKSB7XG4gICAgICAgICAgICBjcm9wV2lkdGggPSBvdXRwdXRXaWR0aDtcbiAgICAgICAgICAgIGNyb3BIZWlnaHQgPSBvdXRwdXRIZWlnaHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzY2FsYXI7XG4gICAgICAgICAgICBpZiAob3V0cHV0Rml0ID09PSAnY292ZXInKSB7XG4gICAgICAgICAgICAgIHNjYWxhciA9IE1hdGgubWF4KHNjYWxhcldpZHRoLCBzY2FsYXJIZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvdXRwdXRGaXQgPT09ICdjb250YWluJykge1xuICAgICAgICAgICAgICBzY2FsYXIgPSBNYXRoLm1pbihzY2FsYXJXaWR0aCwgc2NhbGFySGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyb3BXaWR0aCA9IGNyb3BXaWR0aCAqIHNjYWxhcjtcbiAgICAgICAgICAgIGNyb3BIZWlnaHQgPSBjcm9wSGVpZ2h0ICogc2NhbGFyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzaXplID0ge1xuICAgICAgICB3aWR0aDogdmlld1dpZHRoLFxuICAgICAgICBoZWlnaHQ6IHZpZXdIZWlnaHRcbiAgICAgIH07XG5cbiAgICAgIHJvb3QuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgc2l6ZS53aWR0aCk7XG4gICAgICByb290LmVsZW1lbnQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzaXplLmhlaWdodCk7XG5cbiAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4odmlld1dpZHRoIC8gY3JvcFdpZHRoLCB2aWV3SGVpZ2h0IC8gY3JvcEhlaWdodCk7XG5cbiAgICAgIC8vIGNsZWFyXG4gICAgICByb290LmVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIC8vIGdldCBmaWx0ZXJcbiAgICAgIGNvbnN0IG1hcmt1cEZpbHRlciA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01BUktVUF9GSUxURVInKTtcblxuICAgICAgLy8gZHJhdyBuZXdcbiAgICAgIG1hcmt1cFxuICAgICAgICAuZmlsdGVyKG1hcmt1cEZpbHRlcilcbiAgICAgICAgLm1hcChwcmVwYXJlTWFya3VwKVxuICAgICAgICAuc29ydChzb3J0TWFya3VwQnlaSW5kZXgpXG4gICAgICAgIC5mb3JFYWNoKG1hcmt1cCA9PiB7XG4gICAgICAgICAgY29uc3QgW3R5cGUsIHNldHRpbmdzXSA9IG1hcmt1cDtcblxuICAgICAgICAgIC8vIGNyZWF0ZVxuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVNYXJrdXBCeVR5cGUodHlwZSwgc2V0dGluZ3MpO1xuXG4gICAgICAgICAgLy8gdXBkYXRlXG4gICAgICAgICAgdXBkYXRlTWFya3VwQnlUeXBlKGVsZW1lbnQsIHR5cGUsIHNldHRpbmdzLCBzaXplLCBzY2FsZSk7XG5cbiAgICAgICAgICAvLyBhZGRcbiAgICAgICAgICByb290LmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbmNvbnN0IGNyZWF0ZVZlY3RvciQxID0gKHgsIHkpID0+ICh7IHgsIHkgfSk7XG5cbmNvbnN0IHZlY3RvckRvdCA9IChhLCBiKSA9PiBhLnggKiBiLnggKyBhLnkgKiBiLnk7XG5cbmNvbnN0IHZlY3RvclN1YnRyYWN0ID0gKGEsIGIpID0+IGNyZWF0ZVZlY3RvciQxKGEueCAtIGIueCwgYS55IC0gYi55KTtcblxuY29uc3QgdmVjdG9yRGlzdGFuY2VTcXVhcmVkID0gKGEsIGIpID0+XG4gIHZlY3RvckRvdCh2ZWN0b3JTdWJ0cmFjdChhLCBiKSwgdmVjdG9yU3VidHJhY3QoYSwgYikpO1xuXG5jb25zdCB2ZWN0b3JEaXN0YW5jZSA9IChhLCBiKSA9PiBNYXRoLnNxcnQodmVjdG9yRGlzdGFuY2VTcXVhcmVkKGEsIGIpKTtcblxuY29uc3QgZ2V0T2Zmc2V0UG9pbnRPbkVkZ2UgPSAobGVuZ3RoLCByb3RhdGlvbikgPT4ge1xuICBjb25zdCBhID0gbGVuZ3RoO1xuXG4gIGNvbnN0IEEgPSAxLjU3MDc5NjMyNjc5NDg5NjY7XG4gIGNvbnN0IEIgPSByb3RhdGlvbjtcbiAgY29uc3QgQyA9IDEuNTcwNzk2MzI2Nzk0ODk2NiAtIHJvdGF0aW9uO1xuXG4gIGNvbnN0IHNpbkEgPSBNYXRoLnNpbihBKTtcbiAgY29uc3Qgc2luQiA9IE1hdGguc2luKEIpO1xuICBjb25zdCBzaW5DID0gTWF0aC5zaW4oQyk7XG4gIGNvbnN0IGNvc0MgPSBNYXRoLmNvcyhDKTtcbiAgY29uc3QgcmF0aW8gPSBhIC8gc2luQTtcbiAgY29uc3QgYiA9IHJhdGlvICogc2luQjtcbiAgY29uc3QgYyA9IHJhdGlvICogc2luQztcblxuICByZXR1cm4gY3JlYXRlVmVjdG9yJDEoY29zQyAqIGIsIGNvc0MgKiBjKTtcbn07XG5cbmNvbnN0IGdldFJvdGF0ZWRSZWN0U2l6ZSA9IChyZWN0LCByb3RhdGlvbikgPT4ge1xuICBjb25zdCB3ID0gcmVjdC53aWR0aDtcbiAgY29uc3QgaCA9IHJlY3QuaGVpZ2h0O1xuXG4gIGNvbnN0IGhvciA9IGdldE9mZnNldFBvaW50T25FZGdlKHcsIHJvdGF0aW9uKTtcbiAgY29uc3QgdmVyID0gZ2V0T2Zmc2V0UG9pbnRPbkVkZ2UoaCwgcm90YXRpb24pO1xuXG4gIGNvbnN0IHRsID0gY3JlYXRlVmVjdG9yJDEocmVjdC54ICsgTWF0aC5hYnMoaG9yLngpLCByZWN0LnkgLSBNYXRoLmFicyhob3IueSkpO1xuXG4gIGNvbnN0IHRyID0gY3JlYXRlVmVjdG9yJDEoXG4gICAgcmVjdC54ICsgcmVjdC53aWR0aCArIE1hdGguYWJzKHZlci55KSxcbiAgICByZWN0LnkgKyBNYXRoLmFicyh2ZXIueClcbiAgKTtcblxuICBjb25zdCBibCA9IGNyZWF0ZVZlY3RvciQxKFxuICAgIHJlY3QueCAtIE1hdGguYWJzKHZlci55KSxcbiAgICByZWN0LnkgKyByZWN0LmhlaWdodCAtIE1hdGguYWJzKHZlci54KVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHZlY3RvckRpc3RhbmNlKHRsLCB0ciksXG4gICAgaGVpZ2h0OiB2ZWN0b3JEaXN0YW5jZSh0bCwgYmwpXG4gIH07XG59O1xuXG5jb25zdCBjYWxjdWxhdGVDYW52YXNTaXplID0gKGltYWdlLCBjYW52YXNBc3BlY3RSYXRpbywgem9vbSA9IDEpID0+IHtcbiAgY29uc3QgaW1hZ2VBc3BlY3RSYXRpbyA9IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuXG4gIC8vIGRldGVybWluZSBhY3R1YWwgcGl4ZWxzIG9uIHggYW5kIHkgYXhpc1xuICBsZXQgY2FudmFzV2lkdGggPSAxO1xuICBsZXQgY2FudmFzSGVpZ2h0ID0gY2FudmFzQXNwZWN0UmF0aW87XG4gIGxldCBpbWdXaWR0aCA9IDE7XG4gIGxldCBpbWdIZWlnaHQgPSBpbWFnZUFzcGVjdFJhdGlvO1xuICBpZiAoaW1nSGVpZ2h0ID4gY2FudmFzSGVpZ2h0KSB7XG4gICAgaW1nSGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xuICAgIGltZ1dpZHRoID0gaW1nSGVpZ2h0IC8gaW1hZ2VBc3BlY3RSYXRpbztcbiAgfVxuXG4gIGNvbnN0IHNjYWxhciA9IE1hdGgubWF4KGNhbnZhc1dpZHRoIC8gaW1nV2lkdGgsIGNhbnZhc0hlaWdodCAvIGltZ0hlaWdodCk7XG4gIGNvbnN0IHdpZHRoID0gaW1hZ2Uud2lkdGggLyAoem9vbSAqIHNjYWxhciAqIGltZ1dpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gd2lkdGggKiBjYW52YXNBc3BlY3RSYXRpbztcblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufTtcblxuY29uc3QgZ2V0SW1hZ2VSZWN0Wm9vbUZhY3RvciA9IChpbWFnZVJlY3QsIGNyb3BSZWN0LCByb3RhdGlvbiwgY2VudGVyKSA9PiB7XG4gIC8vIGNhbGN1bGF0ZSBhdmFpbGFibGUgc3BhY2Ugcm91bmQgaW1hZ2UgY2VudGVyIHBvc2l0aW9uXG4gIGNvbnN0IGN4ID0gY2VudGVyLnggPiAwLjUgPyAxIC0gY2VudGVyLnggOiBjZW50ZXIueDtcbiAgY29uc3QgY3kgPSBjZW50ZXIueSA+IDAuNSA/IDEgLSBjZW50ZXIueSA6IGNlbnRlci55O1xuICBjb25zdCBpbWFnZVdpZHRoID0gY3ggKiAyICogaW1hZ2VSZWN0LndpZHRoO1xuICBjb25zdCBpbWFnZUhlaWdodCA9IGN5ICogMiAqIGltYWdlUmVjdC5oZWlnaHQ7XG5cbiAgLy8gY2FsY3VsYXRlIHJvdGF0ZWQgY3JvcCByZWN0YW5nbGUgc2l6ZVxuICBjb25zdCByb3RhdGVkQ3JvcFNpemUgPSBnZXRSb3RhdGVkUmVjdFNpemUoY3JvcFJlY3QsIHJvdGF0aW9uKTtcblxuICAvLyBjYWxjdWxhdGUgc2NhbGFyIHJlcXVpcmVkIHRvIGZpdCBpbWFnZVxuICByZXR1cm4gTWF0aC5tYXgoXG4gICAgcm90YXRlZENyb3BTaXplLndpZHRoIC8gaW1hZ2VXaWR0aCxcbiAgICByb3RhdGVkQ3JvcFNpemUuaGVpZ2h0IC8gaW1hZ2VIZWlnaHRcbiAgKTtcbn07XG5cbmNvbnN0IGdldENlbnRlcmVkQ3JvcFJlY3QgPSAoY29udGFpbmVyLCBhc3BlY3RSYXRpbykgPT4ge1xuICBsZXQgd2lkdGggPSBjb250YWluZXIud2lkdGg7XG4gIGxldCBoZWlnaHQgPSB3aWR0aCAqIGFzcGVjdFJhdGlvO1xuICBpZiAoaGVpZ2h0ID4gY29udGFpbmVyLmhlaWdodCkge1xuICAgIGhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQ7XG4gICAgd2lkdGggPSBoZWlnaHQgLyBhc3BlY3RSYXRpbztcbiAgfVxuICBjb25zdCB4ID0gKGNvbnRhaW5lci53aWR0aCAtIHdpZHRoKSAqIDAuNTtcbiAgY29uc3QgeSA9IChjb250YWluZXIuaGVpZ2h0IC0gaGVpZ2h0KSAqIDAuNTtcblxuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfTtcbn07XG5cbmNvbnN0IGdldEN1cnJlbnRDcm9wU2l6ZSA9IChpbWFnZVNpemUsIGNyb3AgPSB7fSkgPT4ge1xuICBsZXQgeyB6b29tLCByb3RhdGlvbiwgY2VudGVyLCBhc3BlY3RSYXRpbyB9ID0gY3JvcDtcblxuICBpZiAoIWFzcGVjdFJhdGlvKSBhc3BlY3RSYXRpbyA9IGltYWdlU2l6ZS5oZWlnaHQgLyBpbWFnZVNpemUud2lkdGg7XG5cbiAgY29uc3QgY2FudmFzU2l6ZSA9IGNhbGN1bGF0ZUNhbnZhc1NpemUoaW1hZ2VTaXplLCBhc3BlY3RSYXRpbywgem9vbSk7XG5cbiAgY29uc3QgY2FudmFzQ2VudGVyID0ge1xuICAgIHg6IGNhbnZhc1NpemUud2lkdGggKiAwLjUsXG4gICAgeTogY2FudmFzU2l6ZS5oZWlnaHQgKiAwLjVcbiAgfTtcblxuICBjb25zdCBzdGFnZSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IGNhbnZhc1NpemUud2lkdGgsXG4gICAgaGVpZ2h0OiBjYW52YXNTaXplLmhlaWdodCxcbiAgICBjZW50ZXI6IGNhbnZhc0NlbnRlclxuICB9O1xuXG4gIGNvbnN0IHNob3VsZExpbWl0ID0gdHlwZW9mIGNyb3Auc2NhbGVUb0ZpdCA9PT0gJ3VuZGVmaW5lZCcgfHwgY3JvcC5zY2FsZVRvRml0O1xuXG4gIGNvbnN0IHN0YWdlWm9vbUZhY3RvciA9IGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgaW1hZ2VTaXplLFxuICAgIGdldENlbnRlcmVkQ3JvcFJlY3Qoc3RhZ2UsIGFzcGVjdFJhdGlvKSxcbiAgICByb3RhdGlvbixcbiAgICBzaG91bGRMaW1pdCA/IGNlbnRlciA6IHsgeDogMC41LCB5OiAwLjUgfVxuICApO1xuXG4gIGNvbnN0IHNjYWxlID0gem9vbSAqIHN0YWdlWm9vbUZhY3RvcjtcblxuICAvLyBzdGFydCBkcmF3aW5nXG4gIHJldHVybiB7XG4gICAgd2lkdGhGbG9hdDogY2FudmFzU2l6ZS53aWR0aCAvIHNjYWxlLFxuICAgIGhlaWdodEZsb2F0OiBjYW52YXNTaXplLmhlaWdodCAvIHNjYWxlLFxuICAgIHdpZHRoOiBNYXRoLnJvdW5kKGNhbnZhc1NpemUud2lkdGggLyBzY2FsZSksXG4gICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGNhbnZhc1NpemUuaGVpZ2h0IC8gc2NhbGUpXG4gIH07XG59O1xuXG5jb25zdCBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMgPSB7XG4gIHR5cGU6ICdzcHJpbmcnLFxuICBzdGlmZm5lc3M6IDAuNSxcbiAgZGFtcGluZzogMC40NSxcbiAgbWFzczogMTBcbn07XG5cbi8vIGRvZXMgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgZmxpcHBpbmdcbmNvbnN0IGNyZWF0ZUJpdG1hcFZpZXcgPSBfID0+XG4gIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ2ltYWdlLWJpdG1hcCcsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBtaXhpbnM6IHsgc3R5bGVzOiBbJ3NjYWxlWCcsICdzY2FsZVknXSB9LFxuICAgIGNyZWF0ZTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgcm9vdC5hcHBlbmRDaGlsZChwcm9wcy5pbWFnZSk7XG4gICAgfVxuICB9KTtcblxuLy8gc2hpZnRzIGFuZCByb3RhdGVzIGltYWdlXG5jb25zdCBjcmVhdGVJbWFnZUNhbnZhc1dyYXBwZXIgPSBfID0+XG4gIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ2ltYWdlLWNhbnZhcy13cmFwcGVyJyxcbiAgICB0YWc6ICdkaXYnLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgbWl4aW5zOiB7XG4gICAgICBhcGlzOiBbJ2Nyb3AnLCAnd2lkdGgnLCAnaGVpZ2h0J10sXG4gICAgICBzdHlsZXM6IFtcbiAgICAgICAgJ29yaWdpblgnLFxuICAgICAgICAnb3JpZ2luWScsXG4gICAgICAgICd0cmFuc2xhdGVYJyxcbiAgICAgICAgJ3RyYW5zbGF0ZVknLFxuICAgICAgICAnc2NhbGVYJyxcbiAgICAgICAgJ3NjYWxlWScsXG4gICAgICAgICdyb3RhdGVaJ1xuICAgICAgXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgb3JpZ2luWDogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICBvcmlnaW5ZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgIHNjYWxlWDogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgdHJhbnNsYXRlWDogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICB0cmFuc2xhdGVZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgIHJvdGF0ZVo6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QU1xuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICBwcm9wcy53aWR0aCA9IHByb3BzLmltYWdlLndpZHRoO1xuICAgICAgcHJvcHMuaGVpZ2h0ID0gcHJvcHMuaW1hZ2UuaGVpZ2h0O1xuICAgICAgcm9vdC5yZWYuYml0bWFwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGNyZWF0ZUJpdG1hcFZpZXcoXyksIHsgaW1hZ2U6IHByb3BzLmltYWdlIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAgd3JpdGU6ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgZmxpcCB9ID0gcHJvcHMuY3JvcDtcbiAgICAgIGNvbnN0IHsgYml0bWFwIH0gPSByb290LnJlZjtcbiAgICAgIGJpdG1hcC5zY2FsZVggPSBmbGlwLmhvcml6b250YWwgPyAtMSA6IDE7XG4gICAgICBiaXRtYXAuc2NhbGVZID0gZmxpcC52ZXJ0aWNhbCA/IC0xIDogMTtcbiAgICB9XG4gIH0pO1xuXG4vLyBjbGlwcyBjYW52YXMgdG8gY29ycmVjdCBhc3BlY3QgcmF0aW9cbmNvbnN0IGNyZWF0ZUNsaXBWaWV3ID0gXyA9PlxuICBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdpbWFnZS1jbGlwJyxcbiAgICB0YWc6ICdkaXYnLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgbWl4aW5zOiB7XG4gICAgICBhcGlzOiBbXG4gICAgICAgICdjcm9wJyxcbiAgICAgICAgJ21hcmt1cCcsXG4gICAgICAgICdyZXNpemUnLFxuICAgICAgICAnd2lkdGgnLFxuICAgICAgICAnaGVpZ2h0JyxcbiAgICAgICAgJ2RpcnR5JyxcbiAgICAgICAgJ2JhY2tncm91bmQnXG4gICAgICBdLFxuICAgICAgc3R5bGVzOiBbJ3dpZHRoJywgJ2hlaWdodCcsICdvcGFjaXR5J10sXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWRXcml0ZVZpZXc6IGZ1bmN0aW9uKHsgcm9vdCwgcHJvcHMgfSkge1xuICAgICAgaWYgKCFwcm9wcy5iYWNrZ3JvdW5kKSByZXR1cm47XG4gICAgICByb290LmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcHJvcHMuYmFja2dyb3VuZDtcbiAgICB9LFxuICAgIGNyZWF0ZTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgcm9vdC5yZWYuaW1hZ2UgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoXG4gICAgICAgICAgY3JlYXRlSW1hZ2VDYW52YXNXcmFwcGVyKF8pLFxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICByb290LnJlZi5jcmVhdGVNYXJrdXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyb290LnJlZi5tYXJrdXApIHJldHVybjtcbiAgICAgICAgcm9vdC5yZWYubWFya3VwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoY3JlYXRlTWFya3VwVmlldyhfKSwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcm9vdC5yZWYuZGVzdHJveU1hcmt1cCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFyb290LnJlZi5tYXJrdXApIHJldHVybjtcbiAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcocm9vdC5yZWYubWFya3VwKTtcbiAgICAgICAgcm9vdC5yZWYubWFya3VwID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIC8vIHNldCB1cCB0cmFuc3BhcmVuY3kgZ3JpZFxuICAgICAgY29uc3QgdHJhbnNwYXJlbmN5SW5kaWNhdG9yID0gcm9vdC5xdWVyeShcbiAgICAgICAgJ0dFVF9JTUFHRV9QUkVWSUVXX1RSQU5TUEFSRU5DWV9JTkRJQ0FUT1InXG4gICAgICApO1xuICAgICAgaWYgKHRyYW5zcGFyZW5jeUluZGljYXRvciA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAvLyBncmlkIHBhdHRlcm5cbiAgICAgIGlmICh0cmFuc3BhcmVuY3lJbmRpY2F0b3IgPT09ICdncmlkJykge1xuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC50cmFuc3BhcmVuY3lJbmRpY2F0b3IgPSB0cmFuc3BhcmVuY3lJbmRpY2F0b3I7XG4gICAgICB9XG4gICAgICAvLyBiYXNpYyBjb2xvclxuICAgICAgZWxzZSB7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnRyYW5zcGFyZW5jeUluZGljYXRvciA9ICdjb2xvcic7XG4gICAgICB9XG4gICAgfSxcbiAgICB3cml0ZTogKHsgcm9vdCwgcHJvcHMsIHNob3VsZE9wdGltaXplIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgY3JvcCwgbWFya3VwLCByZXNpemUsIGRpcnR5LCB3aWR0aCwgaGVpZ2h0IH0gPSBwcm9wcztcblxuICAgICAgcm9vdC5yZWYuaW1hZ2UuY3JvcCA9IGNyb3A7XG5cbiAgICAgIGNvbnN0IHN0YWdlID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICB4OiB3aWR0aCAqIDAuNSxcbiAgICAgICAgICB5OiBoZWlnaHQgKiAwLjVcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgaW1hZ2UgPSB7XG4gICAgICAgIHdpZHRoOiByb290LnJlZi5pbWFnZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiByb290LnJlZi5pbWFnZS5oZWlnaHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG9yaWdpbiA9IHtcbiAgICAgICAgeDogY3JvcC5jZW50ZXIueCAqIGltYWdlLndpZHRoLFxuICAgICAgICB5OiBjcm9wLmNlbnRlci55ICogaW1hZ2UuaGVpZ2h0XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHtcbiAgICAgICAgeDogc3RhZ2UuY2VudGVyLnggLSBpbWFnZS53aWR0aCAqIGNyb3AuY2VudGVyLngsXG4gICAgICAgIHk6IHN0YWdlLmNlbnRlci55IC0gaW1hZ2UuaGVpZ2h0ICogY3JvcC5jZW50ZXIueVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgcm90YXRpb24gPSBNYXRoLlBJICogMiArIChjcm9wLnJvdGF0aW9uICUgKE1hdGguUEkgKiAyKSk7XG5cbiAgICAgIGNvbnN0IGNyb3BBc3BlY3RSYXRpbyA9IGNyb3AuYXNwZWN0UmF0aW8gfHwgaW1hZ2UuaGVpZ2h0IC8gaW1hZ2Uud2lkdGg7XG5cbiAgICAgIGNvbnN0IHNob3VsZExpbWl0ID1cbiAgICAgICAgdHlwZW9mIGNyb3Auc2NhbGVUb0ZpdCA9PT0gJ3VuZGVmaW5lZCcgfHwgY3JvcC5zY2FsZVRvRml0O1xuXG4gICAgICBjb25zdCBzdGFnZVpvb21GYWN0b3IgPSBnZXRJbWFnZVJlY3Rab29tRmFjdG9yKFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgZ2V0Q2VudGVyZWRDcm9wUmVjdChzdGFnZSwgY3JvcEFzcGVjdFJhdGlvKSxcbiAgICAgICAgcm90YXRpb24sXG4gICAgICAgIHNob3VsZExpbWl0ID8gY3JvcC5jZW50ZXIgOiB7IHg6IDAuNSwgeTogMC41IH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHNjYWxlID0gY3JvcC56b29tICogc3RhZ2Vab29tRmFjdG9yO1xuXG4gICAgICAvLyB1cGRhdGUgbWFya3VwIHZpZXdcbiAgICAgIGlmIChtYXJrdXAgJiYgbWFya3VwLmxlbmd0aCkge1xuICAgICAgICByb290LnJlZi5jcmVhdGVNYXJrdXAoKTtcbiAgICAgICAgcm9vdC5yZWYubWFya3VwLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHJvb3QucmVmLm1hcmt1cC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHJvb3QucmVmLm1hcmt1cC5yZXNpemUgPSByZXNpemU7XG4gICAgICAgIHJvb3QucmVmLm1hcmt1cC5kaXJ0eSA9IGRpcnR5O1xuICAgICAgICByb290LnJlZi5tYXJrdXAubWFya3VwID0gbWFya3VwO1xuICAgICAgICByb290LnJlZi5tYXJrdXAuY3JvcCA9IGdldEN1cnJlbnRDcm9wU2l6ZShpbWFnZSwgY3JvcCk7XG4gICAgICB9IGVsc2UgaWYgKHJvb3QucmVmLm1hcmt1cCkge1xuICAgICAgICByb290LnJlZi5kZXN0cm95TWFya3VwKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSBpbWFnZSB2aWV3XG4gICAgICBjb25zdCBpbWFnZVZpZXcgPSByb290LnJlZi5pbWFnZTtcblxuICAgICAgLy8gZG9uJ3QgdXBkYXRlIGNsaXAgbGF5b3V0XG4gICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgaW1hZ2VWaWV3Lm9yaWdpblggPSBudWxsO1xuICAgICAgICBpbWFnZVZpZXcub3JpZ2luWSA9IG51bGw7XG4gICAgICAgIGltYWdlVmlldy50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICBpbWFnZVZpZXcucm90YXRlWiA9IG51bGw7XG4gICAgICAgIGltYWdlVmlldy5zY2FsZVggPSBudWxsO1xuICAgICAgICBpbWFnZVZpZXcuc2NhbGVZID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpbWFnZVZpZXcub3JpZ2luWCA9IG9yaWdpbi54O1xuICAgICAgaW1hZ2VWaWV3Lm9yaWdpblkgPSBvcmlnaW4ueTtcbiAgICAgIGltYWdlVmlldy50cmFuc2xhdGVYID0gdHJhbnNsYXRpb24ueDtcbiAgICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gdHJhbnNsYXRpb24ueTtcbiAgICAgIGltYWdlVmlldy5yb3RhdGVaID0gcm90YXRpb247XG4gICAgICBpbWFnZVZpZXcuc2NhbGVYID0gc2NhbGU7XG4gICAgICBpbWFnZVZpZXcuc2NhbGVZID0gc2NhbGU7XG4gICAgfVxuICB9KTtcblxuY29uc3QgY3JlYXRlSW1hZ2VWaWV3ID0gXyA9PlxuICBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdpbWFnZS1wcmV2aWV3JyxcbiAgICB0YWc6ICdkaXYnLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgbWl4aW5zOiB7XG4gICAgICBhcGlzOiBbJ2ltYWdlJywgJ2Nyb3AnLCAnbWFya3VwJywgJ3Jlc2l6ZScsICdkaXJ0eScsICdiYWNrZ3JvdW5kJ10sXG4gICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgc2NhbGVYOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgIHNjYWxlWTogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICB0cmFuc2xhdGVZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDQwMCB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgIHJvb3QucmVmLmNsaXAgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoY3JlYXRlQ2xpcFZpZXcoXyksIHtcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgaW1hZ2U6IHByb3BzLmltYWdlLFxuICAgICAgICAgIGNyb3A6IHByb3BzLmNyb3AsXG4gICAgICAgICAgbWFya3VwOiBwcm9wcy5tYXJrdXAsXG4gICAgICAgICAgcmVzaXplOiBwcm9wcy5yZXNpemUsXG4gICAgICAgICAgZGlydHk6IHByb3BzLmRpcnR5LFxuICAgICAgICAgIGJhY2tncm91bmQ6IHByb3BzLmJhY2tncm91bmRcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICB3cml0ZTogKHsgcm9vdCwgcHJvcHMsIHNob3VsZE9wdGltaXplIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgY2xpcCB9ID0gcm9vdC5yZWY7XG5cbiAgICAgIGNvbnN0IHsgaW1hZ2UsIGNyb3AsIG1hcmt1cCwgcmVzaXplLCBkaXJ0eSB9ID0gcHJvcHM7XG5cbiAgICAgIGNsaXAuY3JvcCA9IGNyb3A7XG4gICAgICBjbGlwLm1hcmt1cCA9IG1hcmt1cDtcbiAgICAgIGNsaXAucmVzaXplID0gcmVzaXplO1xuICAgICAgY2xpcC5kaXJ0eSA9IGRpcnR5O1xuXG4gICAgICAvLyBkb24ndCB1cGRhdGUgY2xpcCBsYXlvdXRcbiAgICAgIGNsaXAub3BhY2l0eSA9IHNob3VsZE9wdGltaXplID8gMCA6IDE7XG5cbiAgICAgIC8vIGRvbid0IHJlLXJlbmRlciBpZiBvcHRpbWl6aW5nIG9yIGhpZGRlbiAod2lkdGggd2lsbCBiZSB6ZXJvIHJlc3VsdGluZyBpbiB3ZWlyZCBhbmltYXRpb25zKVxuICAgICAgaWYgKHNob3VsZE9wdGltaXplIHx8IHJvb3QucmVjdC5lbGVtZW50LmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAvLyBjYWxjdWxhdGUgc2NhbGVkIHByZXZpZXcgaW1hZ2Ugc2l6ZVxuICAgICAgY29uc3QgaW1hZ2VBc3BlY3RSYXRpbyA9IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuICAgICAgbGV0IGFzcGVjdFJhdGlvID0gY3JvcC5hc3BlY3RSYXRpbyB8fCBpbWFnZUFzcGVjdFJhdGlvO1xuXG4gICAgICAvLyBjYWxjdWxhdGUgY29udGFpbmVyIHNpemVcbiAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gcm9vdC5yZWN0LmlubmVyLndpZHRoO1xuICAgICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gcm9vdC5yZWN0LmlubmVyLmhlaWdodDtcblxuICAgICAgbGV0IGZpeGVkUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX0hFSUdIVCcpO1xuICAgICAgY29uc3QgbWluUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01JTl9IRUlHSFQnKTtcbiAgICAgIGNvbnN0IG1heFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfSEVJR0hUJyk7XG5cbiAgICAgIGNvbnN0IHBhbmVsQXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICBjb25zdCBhbGxvd011bHRpcGxlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG5cbiAgICAgIGlmIChwYW5lbEFzcGVjdFJhdGlvICYmICFhbGxvd011bHRpcGxlKSB7XG4gICAgICAgIGZpeGVkUHJldmlld0hlaWdodCA9IGNvbnRhaW5lcldpZHRoICogcGFuZWxBc3BlY3RSYXRpbztcbiAgICAgICAgYXNwZWN0UmF0aW8gPSBwYW5lbEFzcGVjdFJhdGlvO1xuICAgICAgfVxuXG4gICAgICAvLyBkZXRlcm1pbmUgY2xpcCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICBsZXQgY2xpcEhlaWdodCA9XG4gICAgICAgIGZpeGVkUHJldmlld0hlaWdodCAhPT0gbnVsbFxuICAgICAgICAgID8gZml4ZWRQcmV2aWV3SGVpZ2h0XG4gICAgICAgICAgOiBNYXRoLm1heChcbiAgICAgICAgICAgICAgbWluUHJldmlld0hlaWdodCxcbiAgICAgICAgICAgICAgTWF0aC5taW4oY29udGFpbmVyV2lkdGggKiBhc3BlY3RSYXRpbywgbWF4UHJldmlld0hlaWdodClcbiAgICAgICAgICAgICk7XG5cbiAgICAgIGxldCBjbGlwV2lkdGggPSBjbGlwSGVpZ2h0IC8gYXNwZWN0UmF0aW87XG4gICAgICBpZiAoY2xpcFdpZHRoID4gY29udGFpbmVyV2lkdGgpIHtcbiAgICAgICAgY2xpcFdpZHRoID0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgIGNsaXBIZWlnaHQgPSBjbGlwV2lkdGggKiBhc3BlY3RSYXRpbztcbiAgICAgIH1cblxuICAgICAgaWYgKGNsaXBIZWlnaHQgPiBjb250YWluZXJIZWlnaHQpIHtcbiAgICAgICAgY2xpcEhlaWdodCA9IGNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgY2xpcFdpZHRoID0gY29udGFpbmVySGVpZ2h0IC8gYXNwZWN0UmF0aW87XG4gICAgICB9XG5cbiAgICAgIGNsaXAud2lkdGggPSBjbGlwV2lkdGg7XG4gICAgICBjbGlwLmhlaWdodCA9IGNsaXBIZWlnaHQ7XG4gICAgfVxuICB9KTtcblxubGV0IFNWR19NQVNLID0gYDxzdmcgd2lkdGg9XCI1MDBcIiBoZWlnaHQ9XCIyMDBcIiB2aWV3Qm94PVwiMCAwIDUwMCAyMDBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwibm9uZVwiPlxuICAgIDxkZWZzPlxuICAgICAgICA8cmFkaWFsR3JhZGllbnQgaWQ9XCJncmFkaWVudC1fX1VJRF9fXCIgY3g9XCIuNVwiIGN5PVwiMS4yNVwiIHI9XCIxLjE1XCI+XG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9JzUwJScgc3RvcC1jb2xvcj0nIzAwMDAwMCcvPlxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSc1NiUnIHN0b3AtY29sb3I9JyMwYTBhMGEnLz5cbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0nNjMlJyBzdG9wLWNvbG9yPScjMjYyNjI2Jy8+XG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9JzY5JScgc3RvcC1jb2xvcj0nIzRmNGY0ZicvPlxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSc3NSUnIHN0b3AtY29sb3I9JyM4MDgwODAnLz5cbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0nODElJyBzdG9wLWNvbG9yPScjYjFiMWIxJy8+XG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9Jzg4JScgc3RvcC1jb2xvcj0nI2RhZGFkYScvPlxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSc5NCUnIHN0b3AtY29sb3I9JyNmNmY2ZjYnLz5cbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0nMTAwJScgc3RvcC1jb2xvcj0nI2ZmZmZmZicvPlxuICAgICAgICA8L3JhZGlhbEdyYWRpZW50PlxuICAgICAgICA8bWFzayBpZD1cIm1hc2stX19VSURfX1wiPlxuICAgICAgICAgICAgPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiNTAwXCIgaGVpZ2h0PVwiMjAwXCIgZmlsbD1cInVybCgjZ3JhZGllbnQtX19VSURfXylcIj48L3JlY3Q+XG4gICAgICAgIDwvbWFzaz5cbiAgICA8L2RlZnM+XG4gICAgPHJlY3QgeD1cIjBcIiB3aWR0aD1cIjUwMFwiIGhlaWdodD1cIjIwMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBtYXNrPVwidXJsKCNtYXNrLV9fVUlEX18pXCI+PC9yZWN0PlxuPC9zdmc+YDtcblxubGV0IFNWR01hc2tVbmlxdWVJZCA9IDA7XG5cbmNvbnN0IGNyZWF0ZUltYWdlT3ZlcmxheVZpZXcgPSBmcEFQSSA9PlxuICBmcEFQSS51dGlscy5jcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnaW1hZ2UtcHJldmlldy1vdmVybGF5JyxcbiAgICB0YWc6ICdkaXYnLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgY3JlYXRlOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICBsZXQgbWFzayA9IFNWR19NQVNLO1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Jhc2UnKSkge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLmhhc2gsICcnKVxuICAgICAgICApLmhyZWY7XG4gICAgICAgIG1hc2sgPSBtYXNrLnJlcGxhY2UoL3VybFxcKFxcIy9nLCAndXJsKCcgKyB1cmwgKyAnIycpO1xuICAgICAgfVxuXG4gICAgICBTVkdNYXNrVW5pcXVlSWQrKztcbiAgICAgIHJvb3QuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFxuICAgICAgICBgZmlsZXBvbmQtLWltYWdlLXByZXZpZXctb3ZlcmxheS0ke3Byb3BzLnN0YXR1c31gXG4gICAgICApO1xuICAgICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9IG1hc2sucmVwbGFjZSgvX19VSURfXy9nLCBTVkdNYXNrVW5pcXVlSWQpO1xuICAgIH0sXG4gICAgbWl4aW5zOiB7XG4gICAgICBzdHlsZXM6IFsnb3BhY2l0eSddLFxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICdzcHJpbmcnLCBtYXNzOiAyNSB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuLyoqXG4gKiBCaXRtYXAgV29ya2VyXG4gKi9cbmNvbnN0IEJpdG1hcFdvcmtlciA9IGZ1bmN0aW9uKCkge1xuICBzZWxmLm9ubWVzc2FnZSA9IGUgPT4ge1xuICAgIGNyZWF0ZUltYWdlQml0bWFwKGUuZGF0YS5tZXNzYWdlLmZpbGUpLnRoZW4oYml0bWFwID0+IHtcbiAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyBpZDogZS5kYXRhLmlkLCBtZXNzYWdlOiBiaXRtYXAgfSwgW2JpdG1hcF0pO1xuICAgIH0pO1xuICB9O1xufTtcblxuLyoqXG4gKiBDb2xvck1hdHJpeCBXb3JrZXJcbiAqL1xuY29uc3QgQ29sb3JNYXRyaXhXb3JrZXIgPSBmdW5jdGlvbigpIHtcbiAgc2VsZi5vbm1lc3NhZ2UgPSBlID0+IHtcbiAgICBjb25zdCBpbWFnZURhdGEgPSBlLmRhdGEubWVzc2FnZS5pbWFnZURhdGE7XG4gICAgY29uc3QgbWF0cml4ID0gZS5kYXRhLm1lc3NhZ2UuY29sb3JNYXRyaXg7XG5cbiAgICBjb25zdCBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgY29uc3QgbCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgY29uc3QgbTExID0gbWF0cml4WzBdO1xuICAgIGNvbnN0IG0xMiA9IG1hdHJpeFsxXTtcbiAgICBjb25zdCBtMTMgPSBtYXRyaXhbMl07XG4gICAgY29uc3QgbTE0ID0gbWF0cml4WzNdO1xuICAgIGNvbnN0IG0xNSA9IG1hdHJpeFs0XTtcblxuICAgIGNvbnN0IG0yMSA9IG1hdHJpeFs1XTtcbiAgICBjb25zdCBtMjIgPSBtYXRyaXhbNl07XG4gICAgY29uc3QgbTIzID0gbWF0cml4WzddO1xuICAgIGNvbnN0IG0yNCA9IG1hdHJpeFs4XTtcbiAgICBjb25zdCBtMjUgPSBtYXRyaXhbOV07XG5cbiAgICBjb25zdCBtMzEgPSBtYXRyaXhbMTBdO1xuICAgIGNvbnN0IG0zMiA9IG1hdHJpeFsxMV07XG4gICAgY29uc3QgbTMzID0gbWF0cml4WzEyXTtcbiAgICBjb25zdCBtMzQgPSBtYXRyaXhbMTNdO1xuICAgIGNvbnN0IG0zNSA9IG1hdHJpeFsxNF07XG5cbiAgICBjb25zdCBtNDEgPSBtYXRyaXhbMTVdO1xuICAgIGNvbnN0IG00MiA9IG1hdHJpeFsxNl07XG4gICAgY29uc3QgbTQzID0gbWF0cml4WzE3XTtcbiAgICBjb25zdCBtNDQgPSBtYXRyaXhbMThdO1xuICAgIGNvbnN0IG00NSA9IG1hdHJpeFsxOV07XG5cbiAgICBsZXQgaW5kZXggPSAwLFxuICAgICAgciA9IDAuMCxcbiAgICAgIGcgPSAwLjAsXG4gICAgICBiID0gMC4wLFxuICAgICAgYSA9IDAuMDtcblxuICAgIGZvciAoOyBpbmRleCA8IGw7IGluZGV4ICs9IDQpIHtcbiAgICAgIHIgPSBkYXRhW2luZGV4XSAvIDI1NTtcbiAgICAgIGcgPSBkYXRhW2luZGV4ICsgMV0gLyAyNTU7XG4gICAgICBiID0gZGF0YVtpbmRleCArIDJdIC8gMjU1O1xuICAgICAgYSA9IGRhdGFbaW5kZXggKyAzXSAvIDI1NTtcbiAgICAgIGRhdGFbaW5kZXhdID0gTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKChyICogbTExICsgZyAqIG0xMiArIGIgKiBtMTMgKyBhICogbTE0ICsgbTE1KSAqIDI1NSwgMjU1KVxuICAgICAgKTtcbiAgICAgIGRhdGFbaW5kZXggKyAxXSA9IE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBNYXRoLm1pbigociAqIG0yMSArIGcgKiBtMjIgKyBiICogbTIzICsgYSAqIG0yNCArIG0yNSkgKiAyNTUsIDI1NSlcbiAgICAgICk7XG4gICAgICBkYXRhW2luZGV4ICsgMl0gPSBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgTWF0aC5taW4oKHIgKiBtMzEgKyBnICogbTMyICsgYiAqIG0zMyArIGEgKiBtMzQgKyBtMzUpICogMjU1LCAyNTUpXG4gICAgICApO1xuICAgICAgZGF0YVtpbmRleCArIDNdID0gTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKChyICogbTQxICsgZyAqIG00MiArIGIgKiBtNDMgKyBhICogbTQ0ICsgbTQ1KSAqIDI1NSwgMjU1KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBzZWxmLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgbWVzc2FnZTogaW1hZ2VEYXRhIH0sIFtcbiAgICAgIGltYWdlRGF0YS5kYXRhLmJ1ZmZlclxuICAgIF0pO1xuICB9O1xufTtcblxuY29uc3QgZ2V0SW1hZ2VTaXplID0gKHVybCwgY2IpID0+IHtcbiAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCB3aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgIGltYWdlID0gbnVsbDtcbiAgICBjYih3aWR0aCwgaGVpZ2h0KTtcbiAgfTtcbiAgaW1hZ2Uuc3JjID0gdXJsO1xufTtcblxuY29uc3QgdHJhbnNmb3JtcyA9IHtcbiAgMTogKCkgPT4gWzEsIDAsIDAsIDEsIDAsIDBdLFxuICAyOiB3aWR0aCA9PiBbLTEsIDAsIDAsIDEsIHdpZHRoLCAwXSxcbiAgMzogKHdpZHRoLCBoZWlnaHQpID0+IFstMSwgMCwgMCwgLTEsIHdpZHRoLCBoZWlnaHRdLFxuICA0OiAod2lkdGgsIGhlaWdodCkgPT4gWzEsIDAsIDAsIC0xLCAwLCBoZWlnaHRdLFxuICA1OiAoKSA9PiBbMCwgMSwgMSwgMCwgMCwgMF0sXG4gIDY6ICh3aWR0aCwgaGVpZ2h0KSA9PiBbMCwgMSwgLTEsIDAsIGhlaWdodCwgMF0sXG4gIDc6ICh3aWR0aCwgaGVpZ2h0KSA9PiBbMCwgLTEsIC0xLCAwLCBoZWlnaHQsIHdpZHRoXSxcbiAgODogd2lkdGggPT4gWzAsIC0xLCAxLCAwLCAwLCB3aWR0aF1cbn07XG5cbmNvbnN0IGZpeEltYWdlT3JpZW50YXRpb24gPSAoY3R4LCB3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbikgPT4ge1xuICAvLyBubyBvcmllbnRhdGlvbiBzdXBwbGllZFxuICBpZiAob3JpZW50YXRpb24gPT09IC0xKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY3R4LnRyYW5zZm9ybS5hcHBseShjdHgsIHRyYW5zZm9ybXNbb3JpZW50YXRpb25dKHdpZHRoLCBoZWlnaHQpKTtcbn07XG5cbi8vIGRyYXdzIHRoZSBwcmV2aWV3IGltYWdlIHRvIGNhbnZhc1xuY29uc3QgY3JlYXRlUHJldmlld0ltYWdlID0gKGRhdGEsIHdpZHRoLCBoZWlnaHQsIG9yaWVudGF0aW9uKSA9PiB7XG4gIC8vIGNhbid0IGRyYXcgb24gaGFsZiBwaXhlbHNcbiAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuXG4gIC8vIGRyYXcgaW1hZ2VcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAvLyBpZiBpcyByb3RhdGVkIGluY29ycmVjdGx5IHN3YXAgd2lkdGggYW5kIGhlaWdodFxuICBpZiAob3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4KSB7XG4gICAgW3dpZHRoLCBoZWlnaHRdID0gW2hlaWdodCwgd2lkdGhdO1xuICB9XG5cbiAgLy8gY29ycmVjdCBpbWFnZSBvcmllbnRhdGlvblxuICBmaXhJbWFnZU9yaWVudGF0aW9uKGN0eCwgd2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pO1xuXG4gIC8vIGRyYXcgdGhlIGltYWdlXG4gIGN0eC5kcmF3SW1hZ2UoZGF0YSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgcmV0dXJuIGNhbnZhcztcbn07XG5cbmNvbnN0IGlzQml0bWFwID0gZmlsZSA9PiAvXmltYWdlLy50ZXN0KGZpbGUudHlwZSkgJiYgIS9zdmcvLnRlc3QoZmlsZS50eXBlKTtcblxuY29uc3QgTUFYX1dJRFRIID0gMTA7XG5jb25zdCBNQVhfSEVJR0hUID0gMTA7XG5cbmNvbnN0IGNhbGN1bGF0ZUF2ZXJhZ2VDb2xvciA9IGltYWdlID0+IHtcbiAgY29uc3Qgc2NhbGFyID0gTWF0aC5taW4oTUFYX1dJRFRIIC8gaW1hZ2Uud2lkdGgsIE1BWF9IRUlHSFQgLyBpbWFnZS5oZWlnaHQpO1xuXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY29uc3Qgd2lkdGggPSAoY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGltYWdlLndpZHRoICogc2NhbGFyKSk7XG4gIGNvbnN0IGhlaWdodCA9IChjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGltYWdlLmhlaWdodCAqIHNjYWxhcikpO1xuICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgbGV0IGRhdGEgPSBudWxsO1xuICB0cnkge1xuICAgIGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBsID0gZGF0YS5sZW5ndGg7XG5cbiAgbGV0IHIgPSAwO1xuICBsZXQgZyA9IDA7XG4gIGxldCBiID0gMDtcbiAgbGV0IGkgPSAwO1xuXG4gIGZvciAoOyBpIDwgbDsgaSArPSA0KSB7XG4gICAgciArPSBkYXRhW2ldICogZGF0YVtpXTtcbiAgICBnICs9IGRhdGFbaSArIDFdICogZGF0YVtpICsgMV07XG4gICAgYiArPSBkYXRhW2kgKyAyXSAqIGRhdGFbaSArIDJdO1xuICB9XG5cbiAgciA9IGF2ZXJhZ2VDb2xvcihyLCBsKTtcbiAgZyA9IGF2ZXJhZ2VDb2xvcihnLCBsKTtcbiAgYiA9IGF2ZXJhZ2VDb2xvcihiLCBsKTtcblxuICByZXR1cm4geyByLCBnLCBiIH07XG59O1xuXG5jb25zdCBhdmVyYWdlQ29sb3IgPSAoYywgbCkgPT4gTWF0aC5mbG9vcihNYXRoLnNxcnQoYyAvIChsIC8gNCkpKTtcblxuY29uc3QgY2xvbmVDYW52YXMgPSAob3JpZ2luLCB0YXJnZXQpID0+IHtcbiAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICB0YXJnZXQud2lkdGggPSBvcmlnaW4ud2lkdGg7XG4gIHRhcmdldC5oZWlnaHQgPSBvcmlnaW4uaGVpZ2h0O1xuICBjb25zdCBjdHggPSB0YXJnZXQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY3R4LmRyYXdJbWFnZShvcmlnaW4sIDAsIDApO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuY29uc3QgY2xvbmVJbWFnZURhdGEgPSBpbWFnZURhdGEgPT4ge1xuICBsZXQgaWQ7XG4gIHRyeSB7XG4gICAgaWQgPSBuZXcgSW1hZ2VEYXRhKGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZCA9IGN0eC5jcmVhdGVJbWFnZURhdGEoaW1hZ2VEYXRhLndpZHRoLCBpbWFnZURhdGEuaGVpZ2h0KTtcbiAgfVxuICBpZC5kYXRhLnNldChuZXcgVWludDhDbGFtcGVkQXJyYXkoaW1hZ2VEYXRhLmRhdGEpKTtcbiAgcmV0dXJuIGlkO1xufTtcblxuY29uc3QgbG9hZEltYWdlID0gdXJsID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJztcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShpbWcpO1xuICAgIH07XG4gICAgaW1nLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9O1xuICAgIGltZy5zcmMgPSB1cmw7XG4gIH0pO1xuXG5jb25zdCBjcmVhdGVJbWFnZVdyYXBwZXJWaWV3ID0gXyA9PiB7XG4gIC8vIGNyZWF0ZSBvdmVybGF5IHZpZXdcbiAgY29uc3QgT3ZlcmxheVZpZXcgPSBjcmVhdGVJbWFnZU92ZXJsYXlWaWV3KF8pO1xuXG4gIGNvbnN0IEltYWdlVmlldyA9IGNyZWF0ZUltYWdlVmlldyhfKTtcblxuICBjb25zdCB7IGNyZWF0ZVdvcmtlciB9ID0gXy51dGlscztcblxuICBjb25zdCBhcHBseUZpbHRlciA9IChyb290LCBmaWx0ZXIsIHRhcmdldCkgPT5cbiAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIC8vIHdpbGwgc3RvcmUgaW1hZ2UgZGF0YSBmb3IgZnV0dXJlIGZpbHRlciB1cGRhdGVzXG4gICAgICBpZiAoIXJvb3QucmVmLmltYWdlRGF0YSkge1xuICAgICAgICByb290LnJlZi5pbWFnZURhdGEgPSB0YXJnZXRcbiAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgIC5nZXRJbWFnZURhdGEoMCwgMCwgdGFyZ2V0LndpZHRoLCB0YXJnZXQuaGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgLy8gZ2V0IGltYWdlIGRhdGEgcmVmZXJlbmNlXG4gICAgICBjb25zdCBpbWFnZURhdGEgPSBjbG9uZUltYWdlRGF0YShyb290LnJlZi5pbWFnZURhdGEpO1xuXG4gICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIubGVuZ3RoICE9PSAyMCkge1xuICAgICAgICB0YXJnZXQuZ2V0Q29udGV4dCgnMmQnKS5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd29ya2VyID0gY3JlYXRlV29ya2VyKENvbG9yTWF0cml4V29ya2VyKTtcbiAgICAgIHdvcmtlci5wb3N0KFxuICAgICAgICB7XG4gICAgICAgICAgaW1hZ2VEYXRhLFxuICAgICAgICAgIGNvbG9yTWF0cml4OiBmaWx0ZXJcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgIC8vIGFwcGx5IGZpbHRlcmVkIGNvbG9yc1xuICAgICAgICAgIHRhcmdldC5nZXRDb250ZXh0KCcyZCcpLnB1dEltYWdlRGF0YShyZXNwb25zZSwgMCwgMCk7XG5cbiAgICAgICAgICAvLyBzdG9wIHdvcmtlclxuICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcblxuICAgICAgICAgIC8vIGRvbmUhXG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBbaW1hZ2VEYXRhLmRhdGEuYnVmZmVyXVxuICAgICAgKTtcbiAgICB9KTtcblxuICBjb25zdCByZW1vdmVJbWFnZVZpZXcgPSAocm9vdCwgaW1hZ2VWaWV3KSA9PiB7XG4gICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcoaW1hZ2VWaWV3KTtcbiAgICBpbWFnZVZpZXcuaW1hZ2Uud2lkdGggPSAxO1xuICAgIGltYWdlVmlldy5pbWFnZS5oZWlnaHQgPSAxO1xuICAgIGltYWdlVmlldy5fZGVzdHJveSgpO1xuICB9O1xuXG4gIC8vIHJlbW92ZSBhbiBpbWFnZVxuICBjb25zdCBzaGlmdEltYWdlID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgY29uc3QgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2VzLnNoaWZ0KCk7XG4gICAgaW1hZ2VWaWV3Lm9wYWNpdHkgPSAwO1xuICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gLTE1O1xuICAgIHJvb3QucmVmLmltYWdlVmlld0Jpbi5wdXNoKGltYWdlVmlldyk7XG4gICAgcmV0dXJuIGltYWdlVmlldztcbiAgfTtcblxuICAvLyBhZGQgbmV3IGltYWdlXG4gIGNvbnN0IHB1c2hJbWFnZSA9ICh7IHJvb3QsIHByb3BzLCBpbWFnZSB9KSA9PiB7XG4gICAgY29uc3QgaWQgPSBwcm9wcy5pZDtcbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCB7IGlkIH0pO1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgY29uc3QgY3JvcCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKSB8fCB7XG4gICAgICBjZW50ZXI6IHtcbiAgICAgICAgeDogMC41LFxuICAgICAgICB5OiAwLjVcbiAgICAgIH0sXG4gICAgICBmbGlwOiB7XG4gICAgICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgIH0sXG4gICAgICB6b29tOiAxLFxuICAgICAgcm90YXRpb246IDAsXG4gICAgICBhc3BlY3RSYXRpbzogbnVsbFxuICAgIH07XG5cbiAgICBjb25zdCBiYWNrZ3JvdW5kID0gcm9vdC5xdWVyeShcbiAgICAgICdHRVRfSU1BR0VfVFJBTlNGT1JNX0NBTlZBU19CQUNLR1JPVU5EX0NPTE9SJ1xuICAgICk7XG5cbiAgICBsZXQgbWFya3VwO1xuICAgIGxldCByZXNpemU7XG4gICAgbGV0IGRpcnR5ID0gZmFsc2U7XG4gICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01BUktVUF9TSE9XJykpIHtcbiAgICAgIG1hcmt1cCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ21hcmt1cCcpIHx8IFtdO1xuICAgICAgcmVzaXplID0gaXRlbS5nZXRNZXRhZGF0YSgncmVzaXplJyk7XG4gICAgICBkaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gYXBwZW5kIGltYWdlIHByZXNlbnRlclxuICAgIGNvbnN0IGltYWdlVmlldyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoSW1hZ2VWaWV3LCB7XG4gICAgICAgIGlkLFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgY3JvcCxcbiAgICAgICAgcmVzaXplLFxuICAgICAgICBtYXJrdXAsXG4gICAgICAgIGRpcnR5LFxuICAgICAgICBiYWNrZ3JvdW5kLFxuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBzY2FsZVg6IDEuMTUsXG4gICAgICAgIHNjYWxlWTogMS4xNSxcbiAgICAgICAgdHJhbnNsYXRlWTogMTVcbiAgICAgIH0pLFxuICAgICAgcm9vdC5jaGlsZFZpZXdzLmxlbmd0aFxuICAgICk7XG4gICAgcm9vdC5yZWYuaW1hZ2VzLnB1c2goaW1hZ2VWaWV3KTtcblxuICAgIC8vIHJldmVhbCB0aGUgcHJldmlldyBpbWFnZVxuICAgIGltYWdlVmlldy5vcGFjaXR5ID0gMTtcbiAgICBpbWFnZVZpZXcuc2NhbGVYID0gMTtcbiAgICBpbWFnZVZpZXcuc2NhbGVZID0gMTtcbiAgICBpbWFnZVZpZXcudHJhbnNsYXRlWSA9IDA7XG5cbiAgICAvLyB0aGUgcHJldmlldyBpcyBub3cgcmVhZHkgdG8gYmUgZHJhd25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX1NIT1cnLCB7IGlkIH0pO1xuICAgIH0sIDI1MCk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlSW1hZ2UgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogcHJvcHMuaWQgfSk7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgY29uc3QgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2VzW3Jvb3QucmVmLmltYWdlcy5sZW5ndGggLSAxXTtcbiAgICBpbWFnZVZpZXcuY3JvcCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKTtcbiAgICBpbWFnZVZpZXcuYmFja2dyb3VuZCA9IHJvb3QucXVlcnkoXG4gICAgICAnR0VUX0lNQUdFX1RSQU5TRk9STV9DQU5WQVNfQkFDS0dST1VORF9DT0xPUidcbiAgICApO1xuICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVJLVVBfU0hPVycpKSB7XG4gICAgICBpbWFnZVZpZXcuZGlydHkgPSB0cnVlO1xuICAgICAgaW1hZ2VWaWV3LnJlc2l6ZSA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ3Jlc2l6ZScpO1xuICAgICAgaW1hZ2VWaWV3Lm1hcmt1cCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ21hcmt1cCcpO1xuICAgIH1cbiAgfTtcblxuICAvLyByZXBsYWNlIGltYWdlIHByZXZpZXdcbiAgY29uc3QgZGlkVXBkYXRlSXRlbU1ldGFkYXRhID0gKHsgcm9vdCwgcHJvcHMsIGFjdGlvbiB9KSA9PiB7XG4gICAgLy8gb25seSBmaWx0ZXIgYW5kIGNyb3AgdHJpZ2dlciByZWRyYXdcbiAgICBpZiAoIS9jcm9wfGZpbHRlcnxtYXJrdXB8cmVzaXplLy50ZXN0KGFjdGlvbi5jaGFuZ2Uua2V5KSkgcmV0dXJuO1xuXG4gICAgLy8gbm8gaW1hZ2VzIHRvIHVwZGF0ZSwgZXhpdFxuICAgIGlmICghcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgLy8gbm8gaXRlbSBmb3VuZCwgZXhpdFxuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgLy8gZm9yIG5vdywgdXBkYXRlIGV4aXN0aW5nIGltYWdlIHdoZW4gZmlsdGVyaW5nXG4gICAgaWYgKC9maWx0ZXIvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSB7XG4gICAgICBjb25zdCBpbWFnZVZpZXcgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgYXBwbHlGaWx0ZXIocm9vdCwgYWN0aW9uLmNoYW5nZS52YWx1ZSwgaW1hZ2VWaWV3LmltYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoL2Nyb3B8bWFya3VwfHJlc2l6ZS8udGVzdChhY3Rpb24uY2hhbmdlLmtleSkpIHtcbiAgICAgIGNvbnN0IGNyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJyk7XG4gICAgICBjb25zdCBpbWFnZSA9IHJvb3QucmVmLmltYWdlc1tyb290LnJlZi5pbWFnZXMubGVuZ3RoIC0gMV07XG5cbiAgICAgIC8vIGlmIGFzcGVjdCByYXRpbyBoYXMgY2hhbmdlZCwgd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgaW1hZ2VcbiAgICAgIGlmIChcbiAgICAgICAgY3JvcCAmJlxuICAgICAgICBjcm9wLmFzcGVjdFJhdGlvICYmXG4gICAgICAgIGltYWdlLmNyb3AgJiZcbiAgICAgICAgaW1hZ2UuY3JvcC5hc3BlY3RSYXRpbyAmJlxuICAgICAgICBNYXRoLmFicyhjcm9wLmFzcGVjdFJhdGlvIC0gaW1hZ2UuY3JvcC5hc3BlY3RSYXRpbykgPiAwLjAwMDAxXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgaW1hZ2VWaWV3ID0gc2hpZnRJbWFnZSh7IHJvb3QgfSk7XG4gICAgICAgIHB1c2hJbWFnZSh7IHJvb3QsIHByb3BzLCBpbWFnZTogY2xvbmVDYW52YXMoaW1hZ2VWaWV3LmltYWdlKSB9KTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIG5vdCwgd2UgY2FuIHVwZGF0ZSB0aGUgY3VycmVudCBpbWFnZVxuICAgICAgZWxzZSB7XG4gICAgICAgIHVwZGF0ZUltYWdlKHsgcm9vdCwgcHJvcHMgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNhbkNyZWF0ZUltYWdlQml0bWFwID0gZmlsZSA9PiB7XG4gICAgLy8gRmlyZWZveCB2ZXJzaW9ucyBiZWZvcmUgNTggd2lsbCBmcmVlemUgd2hlbiBydW5uaW5nIGNyZWF0ZUltYWdlQml0bWFwXG4gICAgLy8gaW4gYSBXZWIgV29ya2VyIHNvIHdlIGRldGVjdCB0aG9zZSB2ZXJzaW9ucyBhbmQgcmV0dXJuIGZhbHNlIGZvciBzdXBwb3J0XG4gICAgY29uc3QgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgY29uc3QgaXNGaXJlZm94ID0gdXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvKFswLTldKylcXC4vKTtcbiAgICBjb25zdCBmaXJlZm94VmVyc2lvbiA9IGlzRmlyZWZveCA/IHBhcnNlSW50KGlzRmlyZWZveFsxXSkgOiBudWxsO1xuICAgIGlmIChmaXJlZm94VmVyc2lvbiA8PSA1OCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuICdjcmVhdGVJbWFnZUJpdG1hcCcgaW4gd2luZG93ICYmIGlzQml0bWFwKGZpbGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXcml0ZSBoYW5kbGVyIGZvciB3aGVuIHByZXZpZXcgY29udGFpbmVyIGhhcyBiZWVuIGNyZWF0ZWRcbiAgICovXG4gIGNvbnN0IGRpZENyZWF0ZVByZXZpZXdDb250YWluZXIgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgeyBpZCB9ID0gcHJvcHM7XG5cbiAgICAvLyB3ZSBuZWVkIHRvIGdldCB0aGUgZmlsZSBkYXRhIHRvIGRldGVybWluZSB0aGUgZXZlbnR1YWwgaW1hZ2Ugc2l6ZVxuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgIC8vIGdldCB1cmwgdG8gZmlsZSAod2UnbGwgcmV2b2tlIGl0IGxhdGVyIG9uIHdoZW4gZG9uZSlcbiAgICBjb25zdCBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChpdGVtLmZpbGUpO1xuXG4gICAgLy8gZGV0ZXJtaW5lIGltYWdlIHNpemUgb2YgdGhpcyBpdGVtXG4gICAgZ2V0SW1hZ2VTaXplKGZpbGVVUkwsICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAvLyB3ZSBjYW4gbm93IHNjYWxlIHRoZSBwYW5lbCB0byB0aGUgZmluYWwgc2l6ZVxuICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0lNQUdFX1BSRVZJRVdfQ0FMQ1VMQVRFX1NJWkUnLCB7XG4gICAgICAgIGlkLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBkcmF3UHJldmlldyA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcblxuICAgIC8vIHdlIG5lZWQgdG8gZ2V0IHRoZSBmaWxlIGRhdGEgdG8gZGV0ZXJtaW5lIHRoZSBldmVudHVhbCBpbWFnZSBzaXplXG4gICAgY29uc3QgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgLy8gZ2V0IHVybCB0byBmaWxlICh3ZSdsbCByZXZva2UgaXQgbGF0ZXIgb24gd2hlbiBkb25lKVxuICAgIGNvbnN0IGZpbGVVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGl0ZW0uZmlsZSk7XG5cbiAgICAvLyBmYWxsYmFja1xuICAgIGNvbnN0IGxvYWRQcmV2aWV3RmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAvLyBsZXQncyBzY2FsZSB0aGUgaW1hZ2UgaW4gdGhlIG1haW4gdGhyZWFkIDooXG4gICAgICBsb2FkSW1hZ2UoZmlsZVVSTCkudGhlbihwcmV2aWV3SW1hZ2VMb2FkZWQpO1xuICAgIH07XG5cbiAgICAvLyBpbWFnZSBpcyBub3cgcmVhZHlcbiAgICBjb25zdCBwcmV2aWV3SW1hZ2VMb2FkZWQgPSBpbWFnZURhdGEgPT4ge1xuICAgICAgLy8gdGhlIGZpbGUgdXJsIGlzIG5vIGxvbmdlciBuZWVkZWRcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoZmlsZVVSTCk7XG5cbiAgICAgIC8vIGRyYXcgdGhlIHNjYWxlZCBkb3duIHZlcnNpb24gaGVyZSBhbmQgdXNlIHRoYXQgYXMgc291cmNlIHNvIGJpdG1hcGRhdGEgY2FuIGJlIGNsb3NlZFxuICAgICAgLy8gb3JpZW50YXRpb24gaW5mb1xuICAgICAgY29uc3QgZXhpZiA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2V4aWYnKSB8fCB7fTtcbiAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gZXhpZi5vcmllbnRhdGlvbiB8fCAtMTtcblxuICAgICAgLy8gZ2V0IHdpZHRoIGFuZCBoZWlnaHQgZnJvbSBhY3Rpb24sIGFuZCBzd2FwIGlmIG9yaWVudGF0aW9uIGlzIGluY29ycmVjdFxuICAgICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gaW1hZ2VEYXRhO1xuXG4gICAgICAvLyBpZiBubyB3aWR0aCBvciBoZWlnaHQsIGp1c3QgcmV0dXJuIGVhcmx5LlxuICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgIGlmIChvcmllbnRhdGlvbiA+PSA1ICYmIG9yaWVudGF0aW9uIDw9IDgpIHtcbiAgICAgICAgW3dpZHRoLCBoZWlnaHRdID0gW2hlaWdodCwgd2lkdGhdO1xuICAgICAgfVxuXG4gICAgICAvLyBzY2FsZSBjYW52YXMgYmFzZWQgb24gcGl4ZWwgZGVuc2l0eVxuICAgICAgLy8gd2UgbXVsdGlwbHkgYnkgLjc1IGFzIHRoYXQgY3JlYXRlcyBzbWFsbGVyIGJ1dCBzdGlsbCBjbGVhciBpbWFnZXMgb24gc2NyZWVucyB3aXRoIGhpZ2ggcmVzIGRpc3BsYXlzXG4gICAgICBjb25zdCBwaXhlbERlbnNpdHlGYWN0b3IgPSBNYXRoLm1heCgxLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqIDAuNzUpO1xuXG4gICAgICAvLyB3ZSB3YW50IGFzIG11Y2ggcGl4ZWxzIHRvIHdvcmsgd2l0aCBhcyBwb3NzaWJsZSxcbiAgICAgIC8vIHRoaXMgbXVsdGlwbGllcyB0aGUgbWluaW11bSBpbWFnZSByZXNvbHV0aW9uLFxuICAgICAgLy8gc28gd2hlbiB6b29taW5nIGluIGl0IGRvZXNuJ3QgZ2V0IHRvbyBibHVycnlcbiAgICAgIGNvbnN0IHpvb21GYWN0b3IgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19aT09NX0ZBQ1RPUicpO1xuXG4gICAgICAvLyBpbWFlZyBzY2FsZSBmYWN0b3JcbiAgICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gem9vbUZhY3RvciAqIHBpeGVsRGVuc2l0eUZhY3RvcjtcblxuICAgICAgLy8gY2FsY3VsYXRlIHNjYWxlZCBwcmV2aWV3IGltYWdlIHNpemVcbiAgICAgIGNvbnN0IHByZXZpZXdJbWFnZVJhdGlvID0gaGVpZ2h0IC8gd2lkdGg7XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSBpbWFnZSBwcmV2aWV3IGhlaWdodCBhbmQgd2lkdGhcbiAgICAgIGNvbnN0IHByZXZpZXdDb250YWluZXJXaWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgY29uc3QgcHJldmlld0NvbnRhaW5lckhlaWdodCA9IHJvb3QucmVjdC5lbGVtZW50LmhlaWdodDtcblxuICAgICAgbGV0IGltYWdlV2lkdGggPSBwcmV2aWV3Q29udGFpbmVyV2lkdGg7XG4gICAgICBsZXQgaW1hZ2VIZWlnaHQgPSBpbWFnZVdpZHRoICogcHJldmlld0ltYWdlUmF0aW87XG5cbiAgICAgIGlmIChwcmV2aWV3SW1hZ2VSYXRpbyA+IDEpIHtcbiAgICAgICAgaW1hZ2VXaWR0aCA9IE1hdGgubWluKHdpZHRoLCBwcmV2aWV3Q29udGFpbmVyV2lkdGggKiBzY2FsZUZhY3Rvcik7XG4gICAgICAgIGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAqIHByZXZpZXdJbWFnZVJhdGlvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2VIZWlnaHQgPSBNYXRoLm1pbihoZWlnaHQsIHByZXZpZXdDb250YWluZXJIZWlnaHQgKiBzY2FsZUZhY3Rvcik7XG4gICAgICAgIGltYWdlV2lkdGggPSBpbWFnZUhlaWdodCAvIHByZXZpZXdJbWFnZVJhdGlvO1xuICAgICAgfVxuXG4gICAgICAvLyB0cmFuc2ZlciB0byBpbWFnZSB0YWcgc28gbm8gY2FudmFzIG1lbW9yeSB3YXN0ZWQgb24gaU9TXG4gICAgICBjb25zdCBwcmV2aWV3SW1hZ2UgPSBjcmVhdGVQcmV2aWV3SW1hZ2UoXG4gICAgICAgIGltYWdlRGF0YSxcbiAgICAgICAgaW1hZ2VXaWR0aCxcbiAgICAgICAgaW1hZ2VIZWlnaHQsXG4gICAgICAgIG9yaWVudGF0aW9uXG4gICAgICApO1xuXG4gICAgICAvLyBkb25lXG4gICAgICBjb25zdCBkb25lID0gKCkgPT4ge1xuICAgICAgICAvLyBjYWxjdWxhdGUgYXZlcmFnZSBpbWFnZSBjb2xvciwgZGlzYWJsZWQgZm9yIG5vd1xuICAgICAgICBjb25zdCBhdmVyYWdlQ29sb3IgPSByb290LnF1ZXJ5KFxuICAgICAgICAgICdHRVRfSU1BR0VfUFJFVklFV19DQUxDVUxBVEVfQVZFUkFHRV9JTUFHRV9DT0xPUidcbiAgICAgICAgKVxuICAgICAgICAgID8gY2FsY3VsYXRlQXZlcmFnZUNvbG9yKGRhdGEpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBpdGVtLnNldE1ldGFkYXRhKCdjb2xvcicsIGF2ZXJhZ2VDb2xvciwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gZGF0YSBoYXMgYmVlbiB0cmFuc2ZlcnJlZCB0byBjYW52YXMgKCBpZiB3YXMgSW1hZ2VCaXRtYXAgKVxuICAgICAgICBpZiAoJ2Nsb3NlJyBpbiBpbWFnZURhdGEpIHtcbiAgICAgICAgICBpbWFnZURhdGEuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNob3cgdGhlIG92ZXJsYXlcbiAgICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIGZpcnN0IGltYWdlXG4gICAgICAgIHB1c2hJbWFnZSh7IHJvb3QsIHByb3BzLCBpbWFnZTogcHJldmlld0ltYWdlIH0pO1xuICAgICAgfTtcblxuICAgICAgLy8gYXBwbHkgZmlsdGVyXG4gICAgICBjb25zdCBmaWx0ZXIgPSBpdGVtLmdldE1ldGFkYXRhKCdmaWx0ZXInKTtcbiAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgYXBwbHlGaWx0ZXIocm9vdCwgZmlsdGVyLCBwcmV2aWV3SW1hZ2UpLnRoZW4oZG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGlmIHdlIHN1cHBvcnQgc2NhbGluZyB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCB3ZSB1c2UgYSB3b3JrZXJcbiAgICBpZiAoY2FuQ3JlYXRlSW1hZ2VCaXRtYXAoaXRlbS5maWxlKSkge1xuICAgICAgLy8gbGV0J3Mgc2NhbGUgdGhlIGltYWdlIGluIGEgd29ya2VyXG4gICAgICBjb25zdCB3b3JrZXIgPSBjcmVhdGVXb3JrZXIoQml0bWFwV29ya2VyKTtcblxuICAgICAgd29ya2VyLnBvc3QoXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxlOiBpdGVtLmZpbGVcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VCaXRtYXAgPT4ge1xuICAgICAgICAgIC8vIGRlc3Ryb3kgd29ya2VyXG4gICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuXG4gICAgICAgICAgLy8gbm8gYml0bWFwIHJldHVybmVkLCBtdXN0IGJlIHNvbWV0aGluZyB3cm9uZyxcbiAgICAgICAgICAvLyB0cnkgdGhlIG9sZHNjaG9vbCB3YXlcbiAgICAgICAgICBpZiAoIWltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICBsb2FkUHJldmlld0ZhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8geWF5IHdlIGdvdCBvdXIgYml0bWFwLCBsZXQncyBjb250aW51ZSBzaG93aW5nIHRoZSBwcmV2aWV3XG4gICAgICAgICAgcHJldmlld0ltYWdlTG9hZGVkKGltYWdlQml0bWFwKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY3JlYXRlIGZhbGxiYWNrIHByZXZpZXdcbiAgICAgIGxvYWRQcmV2aWV3RmFsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gdGhlIHByZXZpZXcgaW1hZ2UgaXMgcmVhZHkgdG8gYmUgYW5pbWF0ZWRcbiAgICovXG4gIGNvbnN0IGRpZERyYXdQcmV2aWV3ID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgLy8gZ2V0IGxhc3QgYWRkZWQgaW1hZ2VcbiAgICBjb25zdCBpbWFnZSA9IHJvb3QucmVmLmltYWdlc1tyb290LnJlZi5pbWFnZXMubGVuZ3RoIC0gMV07XG4gICAgaW1hZ2UudHJhbnNsYXRlWSA9IDA7XG4gICAgaW1hZ2Uuc2NhbGVYID0gMS4wO1xuICAgIGltYWdlLnNjYWxlWSA9IDEuMDtcbiAgICBpbWFnZS5vcGFjaXR5ID0gMTtcbiAgfTtcblxuICAvKipcbiAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBoYXMgYmVlbiBsb2FkZWRcbiAgICovXG4gIGNvbnN0IHJlc3RvcmVPdmVybGF5ID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcbiAgICByb290LnJlZi5vdmVybGF5RXJyb3Iub3BhY2l0eSA9IDA7XG4gICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3Mub3BhY2l0eSA9IDA7XG4gIH07XG5cbiAgY29uc3QgZGlkVGhyb3dFcnJvciA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgcm9vdC5yZWYub3ZlcmxheUVycm9yLm9wYWNpdHkgPSAxO1xuICB9O1xuXG4gIGNvbnN0IGRpZENvbXBsZXRlUHJvY2Vzc2luZyA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3Mub3BhY2l0eSA9IDE7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdCBjcmVhdGUgPSAoeyByb290IH0pID0+IHtcbiAgICAvLyBpbWFnZSB2aWV3XG4gICAgcm9vdC5yZWYuaW1hZ2VzID0gW107XG5cbiAgICAvLyB0aGUgcHJldmlldyBpbWFnZSBkYXRhICh3ZSBuZWVkIHRoaXMgdG8gZmlsdGVyIHRoZSBpbWFnZSlcbiAgICByb290LnJlZi5pbWFnZURhdGEgPSBudWxsO1xuXG4gICAgLy8gaW1hZ2UgYmluXG4gICAgcm9vdC5yZWYuaW1hZ2VWaWV3QmluID0gW107XG5cbiAgICAvLyBpbWFnZSBvdmVybGF5c1xuICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KE92ZXJsYXlWaWV3LCB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIHN0YXR1czogJ2lkbGUnXG4gICAgICB9KVxuICAgICk7XG5cbiAgICByb290LnJlZi5vdmVybGF5U3VjY2VzcyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoT3ZlcmxheVZpZXcsIHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcydcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoT3ZlcmxheVZpZXcsIHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgc3RhdHVzOiAnZmFpbHVyZSdcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnaW1hZ2UtcHJldmlldy13cmFwcGVyJyxcbiAgICBjcmVhdGUsXG4gICAgc3R5bGVzOiBbJ2hlaWdodCddLFxuICAgIGFwaXM6IFsnaGVpZ2h0J10sXG4gICAgZGVzdHJveTogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAvLyB3ZSByZXNpemUgdGhlIGltYWdlIHNvIG1lbW9yeSBvbiBpT1MgMTIgaXMgcmVsZWFzZWQgbW9yZSBxdWlja2x5IChpdCBzZWVtcylcbiAgICAgIHJvb3QucmVmLmltYWdlcy5mb3JFYWNoKGltYWdlVmlldyA9PiB7XG4gICAgICAgIGltYWdlVmlldy5pbWFnZS53aWR0aCA9IDE7XG4gICAgICAgIGltYWdlVmlldy5pbWFnZS5oZWlnaHQgPSAxO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkaWRXcml0ZVZpZXc6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgcm9vdC5yZWYuaW1hZ2VzLmZvckVhY2goaW1hZ2VWaWV3ID0+IHtcbiAgICAgICAgaW1hZ2VWaWV3LmRpcnR5ID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHdyaXRlOiBfLnV0aWxzLmNyZWF0ZVJvdXRlKFxuICAgICAge1xuICAgICAgICAvLyBpbWFnZSBwcmV2aWV3IHN0YXRlZFxuICAgICAgICBESURfSU1BR0VfUFJFVklFV19EUkFXOiBkaWREcmF3UHJldmlldyxcbiAgICAgICAgRElEX0lNQUdFX1BSRVZJRVdfQ09OVEFJTkVSX0NSRUFURTogZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcixcbiAgICAgICAgRElEX0ZJTklTSF9DQUxDVUxBVEVfUFJFVklFV1NJWkU6IGRyYXdQcmV2aWV3LFxuICAgICAgICBESURfVVBEQVRFX0lURU1fTUVUQURBVEE6IGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YSxcblxuICAgICAgICAvLyBmaWxlIHN0YXRlc1xuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZVByb2Nlc3NpbmcsXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6IHJlc3RvcmVPdmVybGF5LFxuICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogcmVzdG9yZU92ZXJsYXlcbiAgICAgIH0sXG4gICAgICAoeyByb290IH0pID0+IHtcbiAgICAgICAgLy8gdmlld3Mgb24gZGVhdGggcm93XG4gICAgICAgIGNvbnN0IHZpZXdzVG9SZW1vdmUgPSByb290LnJlZi5pbWFnZVZpZXdCaW4uZmlsdGVyKFxuICAgICAgICAgIGltYWdlVmlldyA9PiBpbWFnZVZpZXcub3BhY2l0eSA9PT0gMFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHZpZXdzIHRvIHJldGFpblxuICAgICAgICByb290LnJlZi5pbWFnZVZpZXdCaW4gPSByb290LnJlZi5pbWFnZVZpZXdCaW4uZmlsdGVyKFxuICAgICAgICAgIGltYWdlVmlldyA9PiBpbWFnZVZpZXcub3BhY2l0eSA+IDBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyByZW1vdmUgdGhlc2Ugdmlld3NcbiAgICAgICAgdmlld3NUb1JlbW92ZS5mb3JFYWNoKGltYWdlVmlldyA9PiByZW1vdmVJbWFnZVZpZXcocm9vdCwgaW1hZ2VWaWV3KSk7XG4gICAgICAgIHZpZXdzVG9SZW1vdmUubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICApXG4gIH0pO1xufTtcblxuLyoqXG4gKiBJbWFnZSBQcmV2aWV3IFBsdWdpblxuICovXG5jb25zdCBwbHVnaW4gPSBmcEFQSSA9PiB7XG4gIGNvbnN0IHsgYWRkRmlsdGVyLCB1dGlscyB9ID0gZnBBUEk7XG4gIGNvbnN0IHsgVHlwZSwgY3JlYXRlUm91dGUsIGlzRmlsZSB9ID0gdXRpbHM7XG5cbiAgLy8gaW1hZ2VQcmV2aWV3Vmlld1xuICBjb25zdCBpbWFnZVByZXZpZXdWaWV3ID0gY3JlYXRlSW1hZ2VXcmFwcGVyVmlldyhmcEFQSSk7XG5cbiAgLy8gY2FsbGVkIGZvciBlYWNoIHZpZXcgdGhhdCBpcyBjcmVhdGVkIHJpZ2h0IGFmdGVyIHRoZSAnY3JlYXRlJyBtZXRob2RcbiAgYWRkRmlsdGVyKCdDUkVBVEVfVklFVycsIHZpZXdBUEkgPT4ge1xuICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY3JlYXRlZCB2aWV3XG4gICAgY29uc3QgeyBpcywgdmlldywgcXVlcnkgfSA9IHZpZXdBUEk7XG5cbiAgICAvLyBvbmx5IGhvb2sgdXAgdG8gaXRlbSB2aWV3IGFuZCBvbmx5IGlmIGlzIGVuYWJsZWQgZm9yIHRoaXMgY3JvcHBlclxuICAgIGlmICghaXMoJ2ZpbGUnKSB8fCAhcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9QUkVWSUVXJykpIHJldHVybjtcblxuICAgIC8vIGNyZWF0ZSB0aGUgaW1hZ2UgcHJldmlldyBwbHVnaW4sIGJ1dCBvbmx5IGRvIHNvIGlmIHRoZSBpdGVtIGlzIGFuIGltYWdlXG4gICAgY29uc3QgZGlkTG9hZEl0ZW0gPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGl0ZW0gPSBxdWVyeSgnR0VUX0lURU0nLCBpZCk7XG5cbiAgICAgIC8vIGl0ZW0gY291bGQgdGhlb3JldGljYWxseSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiB0aGUgbWVhbiB0aW1lXG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRmlsZShpdGVtLmZpbGUpIHx8IGl0ZW0uYXJjaGl2ZWQpIHJldHVybjtcblxuICAgICAgLy8gZ2V0IHRoZSBmaWxlIG9iamVjdFxuICAgICAgY29uc3QgZmlsZSA9IGl0ZW0uZmlsZTtcblxuICAgICAgLy8gZXhpdCBpZiB0aGlzIGlzIG5vdCBhbiBpbWFnZVxuICAgICAgaWYgKCFpc1ByZXZpZXdhYmxlSW1hZ2UoZmlsZSkpIHJldHVybjtcblxuICAgICAgLy8gdGVzdCBpZiBpcyBmaWx0ZXJlZFxuICAgICAgaWYgKCFxdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfRklMVEVSX0lURU0nKShpdGVtKSkgcmV0dXJuO1xuXG4gICAgICAvLyBleGl0IGlmIGltYWdlIHNpemUgaXMgdG9vIGhpZ2ggYW5kIG5vIGNyZWF0ZUltYWdlQml0bWFwIHN1cHBvcnRcbiAgICAgIC8vIHRoaXMgd291bGQgc2ltcGx5IGJyaW5nIHRoZSBicm93c2VyIHRvIGl0cyBrbmVlcyBhbmQgdGhhdCBpcyBub3Qgd2hhdCB3ZSB3YW50XG4gICAgICBjb25zdCBzdXBwb3J0c0NyZWF0ZUltYWdlQml0bWFwID0gJ2NyZWF0ZUltYWdlQml0bWFwJyBpbiAod2luZG93IHx8IHt9KTtcbiAgICAgIGNvbnN0IG1heFByZXZpZXdGaWxlU2l6ZSA9IHF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfRklMRV9TSVpFJyk7XG4gICAgICBpZiAoXG4gICAgICAgICFzdXBwb3J0c0NyZWF0ZUltYWdlQml0bWFwICYmXG4gICAgICAgIChtYXhQcmV2aWV3RmlsZVNpemUgJiYgZmlsZS5zaXplID4gbWF4UHJldmlld0ZpbGVTaXplKVxuICAgICAgKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIC8vIHNldCBwcmV2aWV3IHZpZXdcbiAgICAgIHJvb3QucmVmLmltYWdlUHJldmlldyA9IHZpZXcuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICB2aWV3LmNyZWF0ZUNoaWxkVmlldyhpbWFnZVByZXZpZXdWaWV3LCB7IGlkIH0pXG4gICAgICApO1xuXG4gICAgICAvLyB1cGRhdGUgaGVpZ2h0IGlmIGlzIGZpeGVkXG4gICAgICBjb25zdCBmaXhlZFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19IRUlHSFQnKTtcbiAgICAgIGlmIChmaXhlZFByZXZpZXdIZWlnaHQpIHtcbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1VQREFURV9QQU5FTF9IRUlHSFQnLCB7XG4gICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgaGVpZ2h0OiBmaXhlZFByZXZpZXdIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIG5vdyByZWFkeVxuICAgICAgY29uc3QgcXVldWUgPVxuICAgICAgICAhc3VwcG9ydHNDcmVhdGVJbWFnZUJpdG1hcCAmJlxuICAgICAgICBmaWxlLnNpemUgPiBxdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0lOU1RBTlRfUFJFVklFV19GSUxFX1NJWkUnKTtcbiAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEUnLCB7IGlkIH0sIHF1ZXVlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzY2FsZUl0ZW0gPSAocm9vdCwgcHJvcHMpID0+IHtcbiAgICAgIGlmICghcm9vdC5yZWYuaW1hZ2VQcmV2aWV3KSByZXR1cm47XG5cbiAgICAgIGxldCB7IGlkIH0gPSBwcm9wcztcblxuICAgICAgLy8gZ2V0IGl0ZW1cbiAgICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQgfSk7XG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgICAgLy8gaWYgaXMgZml4ZWQgaGVpZ2h0IG9yIHBhbmVsIGhhcyBhc3BlY3QgcmF0aW8sIGV4aXQgaGVyZSwgaGVpZ2h0IGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZFxuICAgICAgY29uc3QgcGFuZWxBc3BlY3RSYXRpbyA9IHJvb3QucXVlcnkoJ0dFVF9QQU5FTF9BU1BFQ1RfUkFUSU8nKTtcbiAgICAgIGNvbnN0IGl0ZW1QYW5lbEFzcGVjdFJhdGlvID0gcm9vdC5xdWVyeSgnR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICBjb25zdCBmaXhlZEhlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX0hFSUdIVCcpO1xuICAgICAgaWYgKHBhbmVsQXNwZWN0UmF0aW8gfHwgaXRlbVBhbmVsQXNwZWN0UmF0aW8gfHwgZml4ZWRIZWlnaHQpIHJldHVybjtcblxuICAgICAgLy8gbm8gZGF0YSFcbiAgICAgIGxldCB7IGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0IH0gPSByb290LnJlZjtcbiAgICAgIGlmICghaW1hZ2VXaWR0aCB8fCAhaW1hZ2VIZWlnaHQpIHJldHVybjtcblxuICAgICAgLy8gZ2V0IGhlaWdodCBtaW4gYW5kIG1heFxuICAgICAgY29uc3QgbWluUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01JTl9IRUlHSFQnKTtcbiAgICAgIGNvbnN0IG1heFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfSEVJR0hUJyk7XG5cbiAgICAgIC8vIG9yaWVudGF0aW9uIGluZm9cbiAgICAgIGNvbnN0IGV4aWYgPSBpdGVtLmdldE1ldGFkYXRhKCdleGlmJykgfHwge307XG4gICAgICBjb25zdCBvcmllbnRhdGlvbiA9IGV4aWYub3JpZW50YXRpb24gfHwgLTE7XG5cbiAgICAgIC8vIGdldCB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gYWN0aW9uLCBhbmQgc3dhcCBvZiBvcmllbnRhdGlvbiBpcyBpbmNvcnJlY3RcbiAgICAgIGlmIChvcmllbnRhdGlvbiA+PSA1ICYmIG9yaWVudGF0aW9uIDw9IDgpXG4gICAgICAgIFtpbWFnZVdpZHRoLCBpbWFnZUhlaWdodF0gPSBbaW1hZ2VIZWlnaHQsIGltYWdlV2lkdGhdO1xuXG4gICAgICAvLyBzY2FsZSB1cCB3aWR0aCBhbmQgaGVpZ2h0IHdoZW4gd2UncmUgZGVhbGluZyB3aXRoIGFuIFNWR1xuICAgICAgaWYgKCFpc0JpdG1hcChpdGVtLmZpbGUpIHx8IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX1VQU0NBTEUnKSkge1xuICAgICAgICBjb25zdCBzY2FsYXIgPSAyMDQ4IC8gaW1hZ2VXaWR0aDtcbiAgICAgICAgaW1hZ2VXaWR0aCAqPSBzY2FsYXI7XG4gICAgICAgIGltYWdlSGVpZ2h0ICo9IHNjYWxhcjtcbiAgICAgIH1cblxuICAgICAgLy8gaW1hZ2UgYXNwZWN0IHJhdGlvXG4gICAgICBjb25zdCBpbWFnZUFzcGVjdFJhdGlvID0gaW1hZ2VIZWlnaHQgLyBpbWFnZVdpZHRoO1xuXG4gICAgICAvLyB3ZSBuZWVkIHRoZSBpdGVtIHRvIGdldCB0byB0aGUgY3JvcCBzaXplXG4gICAgICBjb25zdCBwcmV2aWV3QXNwZWN0UmF0aW8gPVxuICAgICAgICAoaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpIHx8IHt9KS5hc3BlY3RSYXRpbyB8fCBpbWFnZUFzcGVjdFJhdGlvO1xuXG4gICAgICAvLyBwcmV2aWV3IGhlaWdodCByYW5nZVxuICAgICAgbGV0IHByZXZpZXdIZWlnaHRNYXggPSBNYXRoLm1heChcbiAgICAgICAgbWluUHJldmlld0hlaWdodCxcbiAgICAgICAgTWF0aC5taW4oaW1hZ2VIZWlnaHQsIG1heFByZXZpZXdIZWlnaHQpXG4gICAgICApO1xuICAgICAgY29uc3QgaXRlbVdpZHRoID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGg7XG4gICAgICBjb25zdCBwcmV2aWV3SGVpZ2h0ID0gTWF0aC5taW4oXG4gICAgICAgIGl0ZW1XaWR0aCAqIHByZXZpZXdBc3BlY3RSYXRpbyxcbiAgICAgICAgcHJldmlld0hlaWdodE1heFxuICAgICAgKTtcblxuICAgICAgLy8gcmVxdWVzdCB1cGRhdGUgdG8gcGFuZWwgaGVpZ2h0XG4gICAgICByb290LmRpc3BhdGNoKCdESURfVVBEQVRFX1BBTkVMX0hFSUdIVCcsIHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIGhlaWdodDogcHJldmlld0hlaWdodFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRpZFJlc2l6ZVZpZXcgPSAoeyByb290IH0pID0+IHtcbiAgICAgIC8vIGFjdGlvbnMgaW4gbmV4dCB3cml0ZSBvcGVyYXRpb25cbiAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSB0cnVlO1xuICAgIH07XG5cbiAgICBjb25zdCBkaWRVcGRhdGVJdGVtTWV0YWRhdGEgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgICAgaWYgKGFjdGlvbi5jaGFuZ2Uua2V5ICE9PSAnY3JvcCcpIHJldHVybjtcblxuICAgICAgLy8gYWN0aW9ucyBpbiBuZXh0IHdyaXRlIG9wZXJhdGlvblxuICAgICAgcm9vdC5yZWYuc2hvdWxkUmVzY2FsZSA9IHRydWU7XG4gICAgfTtcblxuICAgIGNvbnN0IGRpZENhbGN1bGF0ZVByZXZpZXdTaXplID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAgIC8vIHJlbWVtYmVyIGRpbWVuc2lvbnNcbiAgICAgIHJvb3QucmVmLmltYWdlV2lkdGggPSBhY3Rpb24ud2lkdGg7XG4gICAgICByb290LnJlZi5pbWFnZUhlaWdodCA9IGFjdGlvbi5oZWlnaHQ7XG5cbiAgICAgIC8vIGFjdGlvbnMgaW4gbmV4dCB3cml0ZSBvcGVyYXRpb25cbiAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSB0cnVlO1xuICAgICAgcm9vdC5yZWYuc2hvdWxkRHJhd1ByZXZpZXcgPSB0cnVlO1xuXG4gICAgICAvLyBhcyBpbWFnZSBsb2FkIGNvdWxkIHRha2UgYSB3aGlsZSBhbmQgZmlyZSB3aGVuIGRyYXcgbG9vcCBpcyByZXN0aW5nIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIGtpY2tcbiAgICAgIHJvb3QuZGlzcGF0Y2goJ0tJQ0snKTtcbiAgICB9O1xuXG4gICAgLy8gc3RhcnQgd3JpdGluZ1xuICAgIHZpZXcucmVnaXN0ZXJXcml0ZXIoXG4gICAgICBjcmVhdGVSb3V0ZShcbiAgICAgICAge1xuICAgICAgICAgIERJRF9SRVNJWkVfUk9PVDogZGlkUmVzaXplVmlldyxcbiAgICAgICAgICBESURfU1RPUF9SRVNJWkU6IGRpZFJlc2l6ZVZpZXcsXG4gICAgICAgICAgRElEX0xPQURfSVRFTTogZGlkTG9hZEl0ZW0sXG4gICAgICAgICAgRElEX0lNQUdFX1BSRVZJRVdfQ0FMQ1VMQVRFX1NJWkU6IGRpZENhbGN1bGF0ZVByZXZpZXdTaXplLFxuICAgICAgICAgIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQTogZGlkVXBkYXRlSXRlbU1ldGFkYXRhXG4gICAgICAgIH0sXG4gICAgICAgICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgICAgICAvLyBubyBwcmV2aWV3IHZpZXcgYXR0YWNoZWRcbiAgICAgICAgICBpZiAoIXJvb3QucmVmLmltYWdlUHJldmlldykgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgd2hpbGUgaGlkZGVuXG4gICAgICAgICAgaWYgKHJvb3QucmVjdC5lbGVtZW50LmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gcmVzaXplIHRoZSBpdGVtIHBhbmVsXG4gICAgICAgICAgaWYgKHJvb3QucmVmLnNob3VsZFJlc2NhbGUpIHtcbiAgICAgICAgICAgIHJlc2NhbGVJdGVtKHJvb3QsIHByb3BzKTtcbiAgICAgICAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocm9vdC5yZWYuc2hvdWxkRHJhd1ByZXZpZXcpIHtcbiAgICAgICAgICAgIC8vIHF1ZXVlIHRpbGwgbmV4dCBmcmFtZSBzbyB3ZSdyZSBzdXJlIHRoZSBoZWlnaHQgaGFzIGJlZW4gYXBwbGllZCB0aGlzIGZvcmNlcyB0aGUgZHJhdyBpbWFnZSBjYWxsIGluc2lkZSB0aGUgd3JhcHBlciB2aWV3IHRvIHVzZSB0aGUgY29ycmVjdCBoZWlnaHRcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIHRoaXMgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIG5lc3RpbmcgaXMgaG9ycmlibGUgYnV0IGl0IGZpeGVzIGFuIGlzc3VlIHdpdGggMTAwaHogZGlzcGxheXMgb24gQ2hyb21lXG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wcWluYS9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy9pc3N1ZXMvNTdcbiAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRklOSVNIX0NBTENVTEFURV9QUkVWSUVXU0laRScsIHtcbiAgICAgICAgICAgICAgICAgIGlkOiBwcm9wcy5pZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByb290LnJlZi5zaG91bGREcmF3UHJldmlldyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xuXG4gIC8vIGV4cG9zZSBwbHVnaW5cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAvLyBFbmFibGUgb3IgZGlzYWJsZSBpbWFnZSBwcmV2aWV3XG4gICAgICBhbGxvd0ltYWdlUHJldmlldzogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgIC8vIGZpbHRlcnMgZmlsZSBpdGVtcyB0byBkZXRlcm1pbmUgd2hpY2ggYXJlIHNob3duIGFzIHByZXZpZXdcbiAgICAgIGltYWdlUHJldmlld0ZpbHRlckl0ZW06IFsoKSA9PiB0cnVlLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgICAgLy8gRml4ZWQgcHJldmlldyBoZWlnaHRcbiAgICAgIGltYWdlUHJldmlld0hlaWdodDogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgLy8gTWluIGltYWdlIGhlaWdodFxuICAgICAgaW1hZ2VQcmV2aWV3TWluSGVpZ2h0OiBbNDQsIFR5cGUuSU5UXSxcblxuICAgICAgLy8gTWF4IGltYWdlIGhlaWdodFxuICAgICAgaW1hZ2VQcmV2aWV3TWF4SGVpZ2h0OiBbMjU2LCBUeXBlLklOVF0sXG5cbiAgICAgIC8vIE1heCBzaXplIG9mIHByZXZpZXcgZmlsZSBmb3Igd2hlbiBjcmVhdGVJbWFnZUJpdG1hcCBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICBpbWFnZVByZXZpZXdNYXhGaWxlU2l6ZTogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgLy8gVGhlIGFtb3VudCBvZiBleHRyYSBwaXhlbHMgYWRkZWQgdG8gdGhlIGltYWdlIHByZXZpZXcgdG8gYWxsb3cgY29tZm9ydGFibGUgem9vbWluZ1xuICAgICAgaW1hZ2VQcmV2aWV3Wm9vbUZhY3RvcjogWzIsIFR5cGUuSU5UXSxcblxuICAgICAgLy8gU2hvdWxkIHdlIHVwc2NhbGUgc21hbGwgaW1hZ2VzIHRvIGZpdCB0aGUgbWF4IGJvdW5kaW5nIGJveCBvZiB0aGUgcHJldmlldyBhcmVhXG4gICAgICBpbWFnZVByZXZpZXdVcHNjYWxlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgIC8vIE1heCBzaXplIG9mIHByZXZpZXcgZmlsZSB0aGF0IHdlIGFsbG93IHRvIHRyeSB0byBpbnN0YW50IHByZXZpZXcgaWYgY3JlYXRlSW1hZ2VCaXRtYXAgaXMgbm90IHN1cHBvcnRlZCwgZWxzZSBpbWFnZSBpcyBxdWV1ZWQgZm9yIGxvYWRpbmdcbiAgICAgIGltYWdlUHJldmlld01heEluc3RhbnRQcmV2aWV3RmlsZVNpemU6IFsxMDAwMDAwLCBUeXBlLklOVF0sXG5cbiAgICAgIC8vIFN0eWxlIG9mIHRoZSB0cmFuc3BhcmFuY3kgaW5kaWNhdG9yIHVzZWQgYmVoaW5kIGltYWdlc1xuICAgICAgaW1hZ2VQcmV2aWV3VHJhbnNwYXJlbmN5SW5kaWNhdG9yOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuXG4gICAgICAvLyBFbmFibGVzIG9yIGRpc2FibGVzIHJlYWRpbmcgYXZlcmFnZSBpbWFnZSBjb2xvclxuICAgICAgaW1hZ2VQcmV2aWV3Q2FsY3VsYXRlQXZlcmFnZUltYWdlQ29sb3I6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgLy8gRW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgcHJldmlld2luZyBvZiBtYXJrdXBcbiAgICAgIGltYWdlUHJldmlld01hcmt1cFNob3c6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAvLyBBbGxvd3MgZmlsdGVyaW5nIG9mIG1hcmt1cCB0byBvbmx5IHNob3cgY2VydGFpbiBzaGFwZXNcbiAgICAgIGltYWdlUHJldmlld01hcmt1cEZpbHRlcjogWygpID0+IHRydWUsIFR5cGUuRlVOQ1RJT05dXG4gICAgfVxuICB9O1xufTtcblxuLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbmNvbnN0IGlzQnJvd3NlciA9XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuaWYgKGlzQnJvd3Nlcikge1xuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KVxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG4iLCAiLyohXG4gKiBGaWxlUG9uZFBsdWdpbkltYWdlUmVzaXplIDIuMC4xMFxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyB0ZXN0IGlmIGZpbGUgaXMgb2YgdHlwZSBpbWFnZVxuY29uc3QgaXNJbWFnZSA9IGZpbGUgPT4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpO1xuXG5jb25zdCBnZXRJbWFnZVNpemUgPSAodXJsLCBjYikgPT4ge1xuICAgIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGltYWdlID0gbnVsbDtcbiAgICAgICAgY2IoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgaW1hZ2Uub25lcnJvciA9ICgpID0+IGNiKG51bGwpO1xuICAgIGltYWdlLnNyYyA9IHVybDtcbn07XG5cbi8qKlxuICogSW1hZ2UgQXV0byBSZXNpemUgUGx1Z2luXG4gKi9cbmNvbnN0IHBsdWdpbiA9ICh7IGFkZEZpbHRlciwgdXRpbHMgfSkgPT4ge1xuICAgIGNvbnN0IHsgVHlwZSB9ID0gdXRpbHM7XG5cbiAgICAvLyBzdWJzY3JpYmUgdG8gZmlsZSBsb2FkIGFuZCBhcHBlbmQgcmVxdWlyZWQgdHJhbnNmb3JtYXRpb25zXG4gICAgYWRkRmlsdGVyKFxuICAgICAgICAnRElEX0xPQURfSVRFTScsXG4gICAgICAgIChpdGVtLCB7IHF1ZXJ5IH0pID0+XG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IGZpbGUgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW0uZmlsZTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGFuIGltYWdlIHdlIGRvIG5vdCBoYXZlIGFueSBidXNpbmVzcyBjcm9wcGluZyBpdFxuICAgICAgICAgICAgICAgIGlmICghaXNJbWFnZShmaWxlKSB8fCAhcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9SRVNJWkUnKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb250aW51ZSB3aXRoIHRoZSB1bmFsdGVyZWQgZGF0YXNldFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gcXVlcnkoJ0dFVF9JTUFHRV9SRVNJWkVfTU9ERScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcXVlcnkoJ0dFVF9JTUFHRV9SRVNJWkVfVEFSR0VUX1dJRFRIJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gcXVlcnkoJ0dFVF9JTUFHRV9SRVNJWkVfVEFSR0VUX0hFSUdIVCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwc2NhbGUgPSBxdWVyeSgnR0VUX0lNQUdFX1JFU0laRV9VUFNDQUxFJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBubyByZXNpemluZyB0byBiZSBkb25lXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID09PSBudWxsICYmIGhlaWdodCA9PT0gbnVsbCkgcmV0dXJuIHJlc29sdmUoaXRlbSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRXaWR0aCA9IHdpZHRoID09PSBudWxsID8gaGVpZ2h0IDogd2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0SGVpZ2h0ID0gaGVpZ2h0ID09PSBudWxsID8gdGFyZ2V0V2lkdGggOiBoZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBzaG91bGQgbm90IHVwc2NhbGUsIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgICAgICAgICAgZ2V0SW1hZ2VTaXplKGZpbGVVUkwsIHNpemUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGZpbGVVUkwpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2l6ZSkgcmV0dXJuIHJlc29sdmUoaXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHsgd2lkdGg6IGltYWdlV2lkdGgsIGhlaWdodDogaW1hZ2VIZWlnaHQgfSA9IHNpemU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGV4aWYgb3JpZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb24gPSAoaXRlbS5nZXRNZXRhZGF0YSgnZXhpZicpIHx8IHt9KS5vcmllbnRhdGlvbiB8fCAtMTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzd2FwIHdpZHRoIGFuZCBoZWlnaHQgaWYgb3JpZW50YXRpb24gbmVlZHMgY29ycmVjdGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHRdID0gW2ltYWdlSGVpZ2h0LCBpbWFnZVdpZHRoXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGltYWdlIGlzIGFscmVhZHkgcGVyZmVjdCBzaXplLCBubyB0cmFuc2Zvcm1hdGlvbnMgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlV2lkdGggPT09IHRhcmdldFdpZHRoICYmIGltYWdlSGVpZ2h0ID09PSB0YXJnZXRIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpdGVtKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGNvbnRhaW5lZD9cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuJ3QgdXBzY2FsZSBpbWFnZSwgc28gaWYgYWxyZWFkeSBhdCBjb3JyZWN0IHNjYWxlLCBleGl0XG4gICAgICAgICAgICAgICAgICAgIGlmICghdXBzY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY292ZXJpbmcgdGFyZ2V0IHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnY292ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgb25lIG9mIGVkZ2VzIGlzIHNtYWxsZXIgdGhhbiB0YXJnZXQgc2l6ZSwgZXhpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVdpZHRoIDw9IHRhcmdldFdpZHRoIHx8IGltYWdlSGVpZ2h0IDw9IHRhcmdldEhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBjb3ZlcmluZyB0YXJnZXQgc2l6ZSwgaWYgaW1hZ2UgaXMgY29udGFpbmVkIGluIHRhcmdldCBzaXplLCBleGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbWFnZVdpZHRoIDw9IHRhcmdldFdpZHRoICYmIGltYWdlSGVpZ2h0IDw9IHRhcmdldFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgaW1hZ2UgbmVlZHMgdG8gYmUgcmVzaXplZFxuICAgICAgICAgICAgICAgICAgICBpdGVtLnNldE1ldGFkYXRhKCdyZXNpemUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBzY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGFyZ2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0YXJnZXRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gRXhwb3NlIHBsdWdpbiBvcHRpb25zXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgLy8gRW5hYmxlIG9yIGRpc2FibGUgaW1hZ2UgcmVzaXppbmdcbiAgICAgICAgICAgIGFsbG93SW1hZ2VSZXNpemU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgICAgICAvLyB0aGUgbWV0aG9kIG9mIHJlc2NhbGluZ1xuICAgICAgICAgICAgLy8gLSBmb3JjZSA9PiBmb3JjZSBzZXQgc2l6ZVxuICAgICAgICAgICAgLy8gLSBjb3ZlciA9PiBwaWNrIGJpZ2dlc3QgZGltZW5zaW9uXG4gICAgICAgICAgICAvLyAtIGNvbnRhaW4gPT4gcGljayBzbWFsbGVyIGRpbWVuc2lvblxuICAgICAgICAgICAgaW1hZ2VSZXNpemVNb2RlOiBbJ2NvdmVyJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgICAgICAvLyBzZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB1cHNjYWxpbmcgb2YgaW1hZ2Ugc21hbGxlciB0aGFuIHRoZSB0YXJnZXQgd2lkdGggLyBoZWlnaHRcbiAgICAgICAgICAgIGltYWdlUmVzaXplVXBzY2FsZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgICAgIC8vIHRhcmdldCB3aWR0aFxuICAgICAgICAgICAgaW1hZ2VSZXNpemVUYXJnZXRXaWR0aDogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgICAgICAgLy8gdGFyZ2V0IGhlaWdodFxuICAgICAgICAgICAgaW1hZ2VSZXNpemVUYXJnZXRIZWlnaHQ6IFtudWxsLCBUeXBlLklOVF0sXG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbi8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmlmIChpc0Jyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiIsICIvKiFcbiAqIEZpbGVQb25kUGx1Z2luSW1hZ2VUcmFuc2Zvcm0gMy44LjdcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCwgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQvXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuLy8gdGVzdCBpZiBmaWxlIGlzIG9mIHR5cGUgaW1hZ2VcbmNvbnN0IGlzSW1hZ2UgPSBmaWxlID0+IC9eaW1hZ2UvLnRlc3QoZmlsZS50eXBlKTtcblxuY29uc3QgZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uID0gbmFtZSA9PiBuYW1lLnN1YnN0cigwLCBuYW1lLmxhc3RJbmRleE9mKCcuJykpIHx8IG5hbWU7XG5cbi8vIG9ubHkgaGFuZGxlcyBpbWFnZS9qcGcsIGltYWdlL2pwZWcsIGltYWdlL3BuZywgYW5kIGltYWdlL3N2Zyt4bWwgZm9yIG5vd1xuY29uc3QgRXh0ZW5zaW9uTWFwID0ge1xuICAgIGpwZWc6ICdqcGcnLFxuICAgICdzdmcreG1sJzogJ3N2ZycsXG59O1xuXG5jb25zdCByZW5hbWVGaWxlVG9NYXRjaE1pbWVUeXBlID0gKGZpbGVuYW1lLCBtaW1lVHlwZSkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24oZmlsZW5hbWUpO1xuICAgIGNvbnN0IHR5cGUgPSBtaW1lVHlwZS5zcGxpdCgnLycpWzFdO1xuICAgIGNvbnN0IGV4dGVuc2lvbiA9IEV4dGVuc2lvbk1hcFt0eXBlXSB8fCB0eXBlO1xuICAgIHJldHVybiBgJHtuYW1lfS4ke2V4dGVuc2lvbn1gO1xufTtcblxuLy8gcmV0dXJucyBhbGwgdGhlIHZhbGlkIG91dHB1dCBmb3JtYXRzIHdlIGNhbiBlbmNvZGUgdG93YXJkc1xuY29uc3QgZ2V0VmFsaWRPdXRwdXRNaW1lVHlwZSA9IHR5cGUgPT4gKC9qcGVnfHBuZ3xzdmdcXCt4bWwvLnRlc3QodHlwZSkgPyB0eXBlIDogJ2ltYWdlL2pwZWcnKTtcblxuLy8gdGVzdCBpZiBmaWxlIGlzIG9mIHR5cGUgaW1hZ2VcbmNvbnN0IGlzSW1hZ2UkMSA9IGZpbGUgPT4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpO1xuXG5jb25zdCBNQVRSSUNFUyA9IHtcbiAgICAxOiAoKSA9PiBbMSwgMCwgMCwgMSwgMCwgMF0sXG4gICAgMjogd2lkdGggPT4gWy0xLCAwLCAwLCAxLCB3aWR0aCwgMF0sXG4gICAgMzogKHdpZHRoLCBoZWlnaHQpID0+IFstMSwgMCwgMCwgLTEsIHdpZHRoLCBoZWlnaHRdLFxuICAgIDQ6ICh3aWR0aCwgaGVpZ2h0KSA9PiBbMSwgMCwgMCwgLTEsIDAsIGhlaWdodF0sXG4gICAgNTogKCkgPT4gWzAsIDEsIDEsIDAsIDAsIDBdLFxuICAgIDY6ICh3aWR0aCwgaGVpZ2h0KSA9PiBbMCwgMSwgLTEsIDAsIGhlaWdodCwgMF0sXG4gICAgNzogKHdpZHRoLCBoZWlnaHQpID0+IFswLCAtMSwgLTEsIDAsIGhlaWdodCwgd2lkdGhdLFxuICAgIDg6IHdpZHRoID0+IFswLCAtMSwgMSwgMCwgMCwgd2lkdGhdLFxufTtcblxuY29uc3QgZ2V0SW1hZ2VPcmllbnRhdGlvbk1hdHJpeCA9ICh3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbikgPT4ge1xuICAgIGlmIChvcmllbnRhdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgb3JpZW50YXRpb24gPSAxO1xuICAgIH1cbiAgICByZXR1cm4gTUFUUklDRVNbb3JpZW50YXRpb25dKHdpZHRoLCBoZWlnaHQpO1xufTtcblxuY29uc3QgY3JlYXRlVmVjdG9yID0gKHgsIHkpID0+ICh7IHgsIHkgfSk7XG5cbmNvbnN0IHZlY3RvckRvdCA9IChhLCBiKSA9PiBhLnggKiBiLnggKyBhLnkgKiBiLnk7XG5cbmNvbnN0IHZlY3RvclN1YnRyYWN0ID0gKGEsIGIpID0+IGNyZWF0ZVZlY3RvcihhLnggLSBiLngsIGEueSAtIGIueSk7XG5cbmNvbnN0IHZlY3RvckRpc3RhbmNlU3F1YXJlZCA9IChhLCBiKSA9PiB2ZWN0b3JEb3QodmVjdG9yU3VidHJhY3QoYSwgYiksIHZlY3RvclN1YnRyYWN0KGEsIGIpKTtcblxuY29uc3QgdmVjdG9yRGlzdGFuY2UgPSAoYSwgYikgPT4gTWF0aC5zcXJ0KHZlY3RvckRpc3RhbmNlU3F1YXJlZChhLCBiKSk7XG5cbmNvbnN0IGdldE9mZnNldFBvaW50T25FZGdlID0gKGxlbmd0aCwgcm90YXRpb24pID0+IHtcbiAgICBjb25zdCBhID0gbGVuZ3RoO1xuXG4gICAgY29uc3QgQSA9IDEuNTcwNzk2MzI2Nzk0ODk2NjtcbiAgICBjb25zdCBCID0gcm90YXRpb247XG4gICAgY29uc3QgQyA9IDEuNTcwNzk2MzI2Nzk0ODk2NiAtIHJvdGF0aW9uO1xuXG4gICAgY29uc3Qgc2luQSA9IE1hdGguc2luKEEpO1xuICAgIGNvbnN0IHNpbkIgPSBNYXRoLnNpbihCKTtcbiAgICBjb25zdCBzaW5DID0gTWF0aC5zaW4oQyk7XG4gICAgY29uc3QgY29zQyA9IE1hdGguY29zKEMpO1xuICAgIGNvbnN0IHJhdGlvID0gYSAvIHNpbkE7XG4gICAgY29uc3QgYiA9IHJhdGlvICogc2luQjtcbiAgICBjb25zdCBjID0gcmF0aW8gKiBzaW5DO1xuXG4gICAgcmV0dXJuIGNyZWF0ZVZlY3Rvcihjb3NDICogYiwgY29zQyAqIGMpO1xufTtcblxuY29uc3QgZ2V0Um90YXRlZFJlY3RTaXplID0gKHJlY3QsIHJvdGF0aW9uKSA9PiB7XG4gICAgY29uc3QgdyA9IHJlY3Qud2lkdGg7XG4gICAgY29uc3QgaCA9IHJlY3QuaGVpZ2h0O1xuXG4gICAgY29uc3QgaG9yID0gZ2V0T2Zmc2V0UG9pbnRPbkVkZ2Uodywgcm90YXRpb24pO1xuICAgIGNvbnN0IHZlciA9IGdldE9mZnNldFBvaW50T25FZGdlKGgsIHJvdGF0aW9uKTtcblxuICAgIGNvbnN0IHRsID0gY3JlYXRlVmVjdG9yKHJlY3QueCArIE1hdGguYWJzKGhvci54KSwgcmVjdC55IC0gTWF0aC5hYnMoaG9yLnkpKTtcblxuICAgIGNvbnN0IHRyID0gY3JlYXRlVmVjdG9yKHJlY3QueCArIHJlY3Qud2lkdGggKyBNYXRoLmFicyh2ZXIueSksIHJlY3QueSArIE1hdGguYWJzKHZlci54KSk7XG5cbiAgICBjb25zdCBibCA9IGNyZWF0ZVZlY3RvcihyZWN0LnggLSBNYXRoLmFicyh2ZXIueSksIHJlY3QueSArIHJlY3QuaGVpZ2h0IC0gTWF0aC5hYnModmVyLngpKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiB2ZWN0b3JEaXN0YW5jZSh0bCwgdHIpLFxuICAgICAgICBoZWlnaHQ6IHZlY3RvckRpc3RhbmNlKHRsLCBibCksXG4gICAgfTtcbn07XG5cbmNvbnN0IGdldEltYWdlUmVjdFpvb21GYWN0b3IgPSAoaW1hZ2VSZWN0LCBjcm9wUmVjdCwgcm90YXRpb24gPSAwLCBjZW50ZXIgPSB7IHg6IDAuNSwgeTogMC41IH0pID0+IHtcbiAgICAvLyBjYWxjdWxhdGUgYXZhaWxhYmxlIHNwYWNlIHJvdW5kIGltYWdlIGNlbnRlciBwb3NpdGlvblxuICAgIGNvbnN0IGN4ID0gY2VudGVyLnggPiAwLjUgPyAxIC0gY2VudGVyLnggOiBjZW50ZXIueDtcbiAgICBjb25zdCBjeSA9IGNlbnRlci55ID4gMC41ID8gMSAtIGNlbnRlci55IDogY2VudGVyLnk7XG4gICAgY29uc3QgaW1hZ2VXaWR0aCA9IGN4ICogMiAqIGltYWdlUmVjdC53aWR0aDtcbiAgICBjb25zdCBpbWFnZUhlaWdodCA9IGN5ICogMiAqIGltYWdlUmVjdC5oZWlnaHQ7XG5cbiAgICAvLyBjYWxjdWxhdGUgcm90YXRlZCBjcm9wIHJlY3RhbmdsZSBzaXplXG4gICAgY29uc3Qgcm90YXRlZENyb3BTaXplID0gZ2V0Um90YXRlZFJlY3RTaXplKGNyb3BSZWN0LCByb3RhdGlvbik7XG5cbiAgICByZXR1cm4gTWF0aC5tYXgocm90YXRlZENyb3BTaXplLndpZHRoIC8gaW1hZ2VXaWR0aCwgcm90YXRlZENyb3BTaXplLmhlaWdodCAvIGltYWdlSGVpZ2h0KTtcbn07XG5cbmNvbnN0IGdldENlbnRlcmVkQ3JvcFJlY3QgPSAoY29udGFpbmVyLCBhc3BlY3RSYXRpbykgPT4ge1xuICAgIGxldCB3aWR0aCA9IGNvbnRhaW5lci53aWR0aDtcbiAgICBsZXQgaGVpZ2h0ID0gd2lkdGggKiBhc3BlY3RSYXRpbztcbiAgICBpZiAoaGVpZ2h0ID4gY29udGFpbmVyLmhlaWdodCkge1xuICAgICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0O1xuICAgICAgICB3aWR0aCA9IGhlaWdodCAvIGFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICBjb25zdCB4ID0gKGNvbnRhaW5lci53aWR0aCAtIHdpZHRoKSAqIDAuNTtcbiAgICBjb25zdCB5ID0gKGNvbnRhaW5lci5oZWlnaHQgLSBoZWlnaHQpICogMC41O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICB9O1xufTtcblxuY29uc3QgY2FsY3VsYXRlQ2FudmFzU2l6ZSA9IChpbWFnZSwgY2FudmFzQXNwZWN0UmF0aW8sIHpvb20gPSAxKSA9PiB7XG4gICAgY29uc3QgaW1hZ2VBc3BlY3RSYXRpbyA9IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuXG4gICAgLy8gZGV0ZXJtaW5lIGFjdHVhbCBwaXhlbHMgb24geCBhbmQgeSBheGlzXG4gICAgbGV0IGNhbnZhc1dpZHRoID0gMTtcbiAgICBsZXQgY2FudmFzSGVpZ2h0ID0gY2FudmFzQXNwZWN0UmF0aW87XG4gICAgbGV0IGltZ1dpZHRoID0gMTtcbiAgICBsZXQgaW1nSGVpZ2h0ID0gaW1hZ2VBc3BlY3RSYXRpbztcbiAgICBpZiAoaW1nSGVpZ2h0ID4gY2FudmFzSGVpZ2h0KSB7XG4gICAgICAgIGltZ0hlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgICAgaW1nV2lkdGggPSBpbWdIZWlnaHQgLyBpbWFnZUFzcGVjdFJhdGlvO1xuICAgIH1cblxuICAgIGNvbnN0IHNjYWxhciA9IE1hdGgubWF4KGNhbnZhc1dpZHRoIC8gaW1nV2lkdGgsIGNhbnZhc0hlaWdodCAvIGltZ0hlaWdodCk7XG4gICAgY29uc3Qgd2lkdGggPSBpbWFnZS53aWR0aCAvICh6b29tICogc2NhbGFyICogaW1nV2lkdGgpO1xuICAgIGNvbnN0IGhlaWdodCA9IHdpZHRoICogY2FudmFzQXNwZWN0UmF0aW87XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIH07XG59O1xuXG5jb25zdCBjYW52YXNSZWxlYXNlID0gY2FudmFzID0+IHtcbiAgICBjYW52YXMud2lkdGggPSAxO1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgMSwgMSk7XG59O1xuXG5jb25zdCBpc0ZsaXBwZWQgPSBmbGlwID0+IGZsaXAgJiYgKGZsaXAuaG9yaXpvbnRhbCB8fCBmbGlwLnZlcnRpY2FsKTtcblxuY29uc3QgZ2V0Qml0bWFwID0gKGltYWdlLCBvcmllbnRhdGlvbiwgZmxpcCkgPT4ge1xuICAgIGlmIChvcmllbnRhdGlvbiA8PSAxICYmICFpc0ZsaXBwZWQoZmxpcCkpIHtcbiAgICAgICAgaW1hZ2Uud2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGltYWdlLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCB3aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xuXG4gICAgLy8gaWYgaXMgcm90YXRlZCBpbmNvcnJlY3RseSBzd2FwIHdpZHRoIGFuZCBoZWlnaHRcbiAgICBjb25zdCBzd2FwcGVkID0gb3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4O1xuICAgIGlmIChzd2FwcGVkKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGhlaWdodDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cblxuICAgIC8vIGRyYXcgdGhlIGltYWdlIGJ1dCBmaXJzdCBmaXggb3JpZW50YXRpb24gYW5kIHNldCBjb3JyZWN0IGZsaXBcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8vIGdldCBiYXNlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgIGlmIChvcmllbnRhdGlvbikge1xuICAgICAgICBjdHgudHJhbnNmb3JtLmFwcGx5KGN0eCwgZ2V0SW1hZ2VPcmllbnRhdGlvbk1hdHJpeCh3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbikpO1xuICAgIH1cblxuICAgIGlmIChpc0ZsaXBwZWQoZmxpcCkpIHtcbiAgICAgICAgLy8gZmxpcCBob3Jpem9udGFsXG4gICAgICAgIC8vIFstMSwgMCwgMCwgMSwgd2lkdGgsIDBdXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICAgICAgaWYgKCghc3dhcHBlZCAmJiBmbGlwLmhvcml6b250YWwpIHx8IHN3YXBwZWQgJiBmbGlwLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBtYXRyaXhbMF0gPSAtMTtcbiAgICAgICAgICAgIG1hdHJpeFs0XSA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmxpcCB2ZXJ0aWNhbFxuICAgICAgICAvLyBbMSwgMCwgMCwgLTEsIDAsIGhlaWdodF1cbiAgICAgICAgaWYgKCghc3dhcHBlZCAmJiBmbGlwLnZlcnRpY2FsKSB8fCAoc3dhcHBlZCAmJiBmbGlwLmhvcml6b250YWwpKSB7XG4gICAgICAgICAgICBtYXRyaXhbM10gPSAtMTtcbiAgICAgICAgICAgIG1hdHJpeFs1XSA9IGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC50cmFuc2Zvcm0oLi4ubWF0cml4KTtcbiAgICB9XG5cbiAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIHJldHVybiBjYW52YXM7XG59O1xuXG5jb25zdCBpbWFnZVRvSW1hZ2VEYXRhID0gKGltYWdlRWxlbWVudCwgb3JpZW50YXRpb24sIGNyb3AgPSB7fSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBjYW52YXNNZW1vcnlMaW1pdCwgYmFja2dyb3VuZCA9IG51bGwgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCB6b29tID0gY3JvcC56b29tIHx8IDE7XG5cbiAgICAvLyBmaXhlcyBwb3NzaWJsZSBpbWFnZSBvcmllbnRhdGlvbiBwcm9ibGVtcyBieSBkcmF3aW5nIHRoZSBpbWFnZSBvbiB0aGUgY29ycmVjdCBjYW52YXNcbiAgICBjb25zdCBiaXRtYXAgPSBnZXRCaXRtYXAoaW1hZ2VFbGVtZW50LCBvcmllbnRhdGlvbiwgY3JvcC5mbGlwKTtcbiAgICBjb25zdCBpbWFnZVNpemUgPSB7XG4gICAgICAgIHdpZHRoOiBiaXRtYXAud2lkdGgsXG4gICAgICAgIGhlaWdodDogYml0bWFwLmhlaWdodCxcbiAgICB9O1xuXG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBjcm9wLmFzcGVjdFJhdGlvIHx8IGltYWdlU2l6ZS5oZWlnaHQgLyBpbWFnZVNpemUud2lkdGg7XG5cbiAgICBsZXQgY2FudmFzU2l6ZSA9IGNhbGN1bGF0ZUNhbnZhc1NpemUoaW1hZ2VTaXplLCBhc3BlY3RSYXRpbywgem9vbSk7XG5cbiAgICBpZiAoY2FudmFzTWVtb3J5TGltaXQpIHtcbiAgICAgICAgY29uc3QgcmVxdWlyZWRNZW1vcnkgPSBjYW52YXNTaXplLndpZHRoICogY2FudmFzU2l6ZS5oZWlnaHQ7XG4gICAgICAgIGlmIChyZXF1aXJlZE1lbW9yeSA+IGNhbnZhc01lbW9yeUxpbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsYXIgPSBNYXRoLnNxcnQoY2FudmFzTWVtb3J5TGltaXQpIC8gTWF0aC5zcXJ0KHJlcXVpcmVkTWVtb3J5KTtcbiAgICAgICAgICAgIGltYWdlU2l6ZS53aWR0aCA9IE1hdGguZmxvb3IoaW1hZ2VTaXplLndpZHRoICogc2NhbGFyKTtcbiAgICAgICAgICAgIGltYWdlU2l6ZS5oZWlnaHQgPSBNYXRoLmZsb29yKGltYWdlU2l6ZS5oZWlnaHQgKiBzY2FsYXIpO1xuICAgICAgICAgICAgY2FudmFzU2l6ZSA9IGNhbGN1bGF0ZUNhbnZhc1NpemUoaW1hZ2VTaXplLCBhc3BlY3RSYXRpbywgem9vbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNvbnN0IGNhbnZhc0NlbnRlciA9IHtcbiAgICAgICAgeDogY2FudmFzU2l6ZS53aWR0aCAqIDAuNSxcbiAgICAgICAgeTogY2FudmFzU2l6ZS5oZWlnaHQgKiAwLjUsXG4gICAgfTtcblxuICAgIGNvbnN0IHN0YWdlID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgICB3aWR0aDogY2FudmFzU2l6ZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXNTaXplLmhlaWdodCxcbiAgICAgICAgY2VudGVyOiBjYW52YXNDZW50ZXIsXG4gICAgfTtcblxuICAgIGNvbnN0IHNob3VsZExpbWl0ID0gdHlwZW9mIGNyb3Auc2NhbGVUb0ZpdCA9PT0gJ3VuZGVmaW5lZCcgfHwgY3JvcC5zY2FsZVRvRml0O1xuXG4gICAgY29uc3Qgc2NhbGUgPVxuICAgICAgICB6b29tICpcbiAgICAgICAgZ2V0SW1hZ2VSZWN0Wm9vbUZhY3RvcihcbiAgICAgICAgICAgIGltYWdlU2l6ZSxcbiAgICAgICAgICAgIGdldENlbnRlcmVkQ3JvcFJlY3Qoc3RhZ2UsIGFzcGVjdFJhdGlvKSxcbiAgICAgICAgICAgIGNyb3Aucm90YXRpb24sXG4gICAgICAgICAgICBzaG91bGRMaW1pdCA/IGNyb3AuY2VudGVyIDogeyB4OiAwLjUsIHk6IDAuNSB9XG4gICAgICAgICk7XG5cbiAgICAvLyBzdGFydCBkcmF3aW5nXG4gICAgY2FudmFzLndpZHRoID0gTWF0aC5yb3VuZChjYW52YXNTaXplLndpZHRoIC8gc2NhbGUpO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGNhbnZhc1NpemUuaGVpZ2h0IC8gc2NhbGUpO1xuXG4gICAgY2FudmFzQ2VudGVyLnggLz0gc2NhbGU7XG4gICAgY2FudmFzQ2VudGVyLnkgLz0gc2NhbGU7XG5cbiAgICBjb25zdCBpbWFnZU9mZnNldCA9IHtcbiAgICAgICAgeDogY2FudmFzQ2VudGVyLnggLSBpbWFnZVNpemUud2lkdGggKiAoY3JvcC5jZW50ZXIgPyBjcm9wLmNlbnRlci54IDogMC41KSxcbiAgICAgICAgeTogY2FudmFzQ2VudGVyLnkgLSBpbWFnZVNpemUuaGVpZ2h0ICogKGNyb3AuY2VudGVyID8gY3JvcC5jZW50ZXIueSA6IDAuNSksXG4gICAgfTtcblxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChiYWNrZ3JvdW5kKSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvLyBtb3ZlIHRvIGRyYXcgb2Zmc2V0XG4gICAgY3R4LnRyYW5zbGF0ZShjYW52YXNDZW50ZXIueCwgY2FudmFzQ2VudGVyLnkpO1xuICAgIGN0eC5yb3RhdGUoY3JvcC5yb3RhdGlvbiB8fCAwKTtcblxuICAgIC8vIGRyYXcgdGhlIGltYWdlXG4gICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgYml0bWFwLFxuICAgICAgICBpbWFnZU9mZnNldC54IC0gY2FudmFzQ2VudGVyLngsXG4gICAgICAgIGltYWdlT2Zmc2V0LnkgLSBjYW52YXNDZW50ZXIueSxcbiAgICAgICAgaW1hZ2VTaXplLndpZHRoLFxuICAgICAgICBpbWFnZVNpemUuaGVpZ2h0XG4gICAgKTtcblxuICAgIC8vIGdldCBkYXRhIGZyb20gY2FudmFzXG4gICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgLy8gcmVsZWFzZSBjYW52YXNcbiAgICBjYW52YXNSZWxlYXNlKGNhbnZhcyk7XG5cbiAgICAvLyByZXR1cm4gZGF0YVxuICAgIHJldHVybiBpbWFnZURhdGE7XG59O1xuXG4vKipcbiAqIFBvbHlmaWxsIHRvQmxvYiBmb3IgRWRnZVxuICovXG5jb25zdCBJU19CUk9XU0VSID0gKCgpID0+XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpKCk7XG5pZiAoSVNfQlJPV1NFUikge1xuICAgIGlmICghSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLnRvQmxvYikge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLCAndG9CbG9iJywge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFVUkwgPSB0aGlzLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KS5zcGxpdCgnLCcpWzFdO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiaW5TdHIgPSBhdG9iKGRhdGFVUkwpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gYmluU3RyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycltpXSA9IGJpblN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBCbG9iKFthcnJdLCB7IHR5cGU6IHR5cGUgfHwgJ2ltYWdlL3BuZycgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jb25zdCBjYW52YXNUb0Jsb2IgPSAoY2FudmFzLCBvcHRpb25zLCBiZWZvcmVDcmVhdGVCbG9iID0gbnVsbCkgPT5cbiAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZWRJbWFnZSA9IGJlZm9yZUNyZWF0ZUJsb2IgPyBiZWZvcmVDcmVhdGVCbG9iKGNhbnZhcykgOiBjYW52YXM7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZShwcm9taXNlZEltYWdlKS50aGVuKGNhbnZhcyA9PiB7XG4gICAgICAgICAgICBjYW52YXMudG9CbG9iKHJlc29sdmUsIG9wdGlvbnMudHlwZSwgb3B0aW9ucy5xdWFsaXR5KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbmNvbnN0IHZlY3Rvck11bHRpcGx5ID0gKHYsIGFtb3VudCkgPT4gY3JlYXRlVmVjdG9yJDEodi54ICogYW1vdW50LCB2LnkgKiBhbW91bnQpO1xuXG5jb25zdCB2ZWN0b3JBZGQgPSAoYSwgYikgPT4gY3JlYXRlVmVjdG9yJDEoYS54ICsgYi54LCBhLnkgKyBiLnkpO1xuXG5jb25zdCB2ZWN0b3JOb3JtYWxpemUgPSB2ID0+IHtcbiAgICBjb25zdCBsID0gTWF0aC5zcXJ0KHYueCAqIHYueCArIHYueSAqIHYueSk7XG4gICAgaWYgKGwgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlVmVjdG9yJDEodi54IC8gbCwgdi55IC8gbCk7XG59O1xuXG5jb25zdCB2ZWN0b3JSb3RhdGUgPSAodiwgcmFkaWFucywgb3JpZ2luKSA9PiB7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MocmFkaWFucyk7XG4gICAgY29uc3Qgc2luID0gTWF0aC5zaW4ocmFkaWFucyk7XG4gICAgY29uc3QgdCA9IGNyZWF0ZVZlY3RvciQxKHYueCAtIG9yaWdpbi54LCB2LnkgLSBvcmlnaW4ueSk7XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3RvciQxKG9yaWdpbi54ICsgY29zICogdC54IC0gc2luICogdC55LCBvcmlnaW4ueSArIHNpbiAqIHQueCArIGNvcyAqIHQueSk7XG59O1xuXG5jb25zdCBjcmVhdGVWZWN0b3IkMSA9ICh4ID0gMCwgeSA9IDApID0+ICh7IHgsIHkgfSk7XG5cbmNvbnN0IGdldE1hcmt1cFZhbHVlID0gKHZhbHVlLCBzaXplLCBzY2FsYXIgPSAxLCBheGlzKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpICogc2NhbGFyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgKiAoYXhpcyA/IHNpemVbYXhpc10gOiBNYXRoLm1pbihzaXplLndpZHRoLCBzaXplLmhlaWdodCkpO1xuICAgIH1cbiAgICByZXR1cm47XG59O1xuXG5jb25zdCBnZXRNYXJrdXBTdHlsZXMgPSAobWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICAgIGNvbnN0IGxpbmVTdHlsZSA9IG1hcmt1cC5ib3JkZXJTdHlsZSB8fCBtYXJrdXAubGluZVN0eWxlIHx8ICdzb2xpZCc7XG4gICAgY29uc3QgZmlsbCA9IG1hcmt1cC5iYWNrZ3JvdW5kQ29sb3IgfHwgbWFya3VwLmZvbnRDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgIGNvbnN0IHN0cm9rZSA9IG1hcmt1cC5ib3JkZXJDb2xvciB8fCBtYXJrdXAubGluZUNvbG9yIHx8ICd0cmFuc3BhcmVudCc7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBnZXRNYXJrdXBWYWx1ZShtYXJrdXAuYm9yZGVyV2lkdGggfHwgbWFya3VwLmxpbmVXaWR0aCwgc2l6ZSwgc2NhbGUpO1xuICAgIGNvbnN0IGxpbmVDYXAgPSBtYXJrdXAubGluZUNhcCB8fCAncm91bmQnO1xuICAgIGNvbnN0IGxpbmVKb2luID0gbWFya3VwLmxpbmVKb2luIHx8ICdyb3VuZCc7XG4gICAgY29uc3QgZGFzaGVzID1cbiAgICAgICAgdHlwZW9mIGxpbmVTdHlsZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogbGluZVN0eWxlLm1hcCh2ID0+IGdldE1hcmt1cFZhbHVlKHYsIHNpemUsIHNjYWxlKSkuam9pbignLCcpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBtYXJrdXAub3BhY2l0eSB8fCAxO1xuICAgIHJldHVybiB7XG4gICAgICAgICdzdHJva2UtbGluZWNhcCc6IGxpbmVDYXAsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW4nOiBsaW5lSm9pbixcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IHN0cm9rZVdpZHRoIHx8IDAsXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogZGFzaGVzLFxuICAgICAgICBzdHJva2UsXG4gICAgICAgIGZpbGwsXG4gICAgICAgIG9wYWNpdHksXG4gICAgfTtcbn07XG5cbmNvbnN0IGlzRGVmaW5lZCA9IHZhbHVlID0+IHZhbHVlICE9IG51bGw7XG5cbmNvbnN0IGdldE1hcmt1cFJlY3QgPSAocmVjdCwgc2l6ZSwgc2NhbGFyID0gMSkgPT4ge1xuICAgIGxldCBsZWZ0ID1cbiAgICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC54LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpIHx8XG4gICAgICAgIGdldE1hcmt1cFZhbHVlKHJlY3QubGVmdCwgc2l6ZSwgc2NhbGFyLCAnd2lkdGgnKTtcbiAgICBsZXQgdG9wID1cbiAgICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC55LCBzaXplLCBzY2FsYXIsICdoZWlnaHQnKSB8fFxuICAgICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LnRvcCwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG4gICAgbGV0IHdpZHRoID0gZ2V0TWFya3VwVmFsdWUocmVjdC53aWR0aCwgc2l6ZSwgc2NhbGFyLCAnd2lkdGgnKTtcbiAgICBsZXQgaGVpZ2h0ID0gZ2V0TWFya3VwVmFsdWUocmVjdC5oZWlnaHQsIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuICAgIGxldCByaWdodCA9IGdldE1hcmt1cFZhbHVlKHJlY3QucmlnaHQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgbGV0IGJvdHRvbSA9IGdldE1hcmt1cFZhbHVlKHJlY3QuYm90dG9tLCBzaXplLCBzY2FsYXIsICdoZWlnaHQnKTtcblxuICAgIGlmICghaXNEZWZpbmVkKHRvcCkpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChoZWlnaHQpICYmIGlzRGVmaW5lZChib3R0b20pKSB7XG4gICAgICAgICAgICB0b3AgPSBzaXplLmhlaWdodCAtIGhlaWdodCAtIGJvdHRvbTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcCA9IGJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXNEZWZpbmVkKGxlZnQpKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQod2lkdGgpICYmIGlzRGVmaW5lZChyaWdodCkpIHtcbiAgICAgICAgICAgIGxlZnQgPSBzaXplLndpZHRoIC0gd2lkdGggLSByaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlZnQgPSByaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXNEZWZpbmVkKHdpZHRoKSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxlZnQpICYmIGlzRGVmaW5lZChyaWdodCkpIHtcbiAgICAgICAgICAgIHdpZHRoID0gc2l6ZS53aWR0aCAtIGxlZnQgLSByaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXNEZWZpbmVkKGhlaWdodCkpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0b3ApICYmIGlzRGVmaW5lZChib3R0b20pKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSBzaXplLmhlaWdodCAtIHRvcCAtIGJvdHRvbTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBsZWZ0IHx8IDAsXG4gICAgICAgIHk6IHRvcCB8fCAwLFxuICAgICAgICB3aWR0aDogd2lkdGggfHwgMCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgMCxcbiAgICB9O1xufTtcblxuY29uc3QgcG9pbnRzVG9QYXRoU2hhcGUgPSBwb2ludHMgPT5cbiAgICBwb2ludHMubWFwKChwb2ludCwgaW5kZXgpID0+IGAke2luZGV4ID09PSAwID8gJ00nIDogJ0wnfSAke3BvaW50Lnh9ICR7cG9pbnQueX1gKS5qb2luKCcgJyk7XG5cbmNvbnN0IHNldEF0dHJpYnV0ZXMgPSAoZWxlbWVudCwgYXR0cikgPT5cbiAgICBPYmplY3Qua2V5cyhhdHRyKS5mb3JFYWNoKGtleSA9PiBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIGF0dHJba2V5XSkpO1xuXG5jb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCBzdmcgPSAodGFnLCBhdHRyKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKTtcbiAgICBpZiAoYXR0cikge1xuICAgICAgICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHIpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbn07XG5cbmNvbnN0IHVwZGF0ZVJlY3QgPSBlbGVtZW50ID0+XG4gICAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgICAgIC4uLmVsZW1lbnQucmVjdCxcbiAgICAgICAgLi4uZWxlbWVudC5zdHlsZXMsXG4gICAgfSk7XG5cbmNvbnN0IHVwZGF0ZUVsbGlwc2UgPSBlbGVtZW50ID0+IHtcbiAgICBjb25zdCBjeCA9IGVsZW1lbnQucmVjdC54ICsgZWxlbWVudC5yZWN0LndpZHRoICogMC41O1xuICAgIGNvbnN0IGN5ID0gZWxlbWVudC5yZWN0LnkgKyBlbGVtZW50LnJlY3QuaGVpZ2h0ICogMC41O1xuICAgIGNvbnN0IHJ4ID0gZWxlbWVudC5yZWN0LndpZHRoICogMC41O1xuICAgIGNvbnN0IHJ5ID0gZWxlbWVudC5yZWN0LmhlaWdodCAqIDAuNTtcbiAgICByZXR1cm4gc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgICAgIGN4LFxuICAgICAgICBjeSxcbiAgICAgICAgcngsXG4gICAgICAgIHJ5LFxuICAgICAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICB9KTtcbn07XG5cbmNvbnN0IElNQUdFX0ZJVF9TVFlMRSA9IHtcbiAgICBjb250YWluOiAneE1pZFlNaWQgbWVldCcsXG4gICAgY292ZXI6ICd4TWlkWU1pZCBzbGljZScsXG59O1xuXG5jb25zdCB1cGRhdGVJbWFnZSA9IChlbGVtZW50LCBtYXJrdXApID0+IHtcbiAgICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIHtcbiAgICAgICAgLi4uZWxlbWVudC5yZWN0LFxuICAgICAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogSU1BR0VfRklUX1NUWUxFW21hcmt1cC5maXRdIHx8ICdub25lJyxcbiAgICB9KTtcbn07XG5cbmNvbnN0IFRFWFRfQU5DSE9SID0ge1xuICAgIGxlZnQ6ICdzdGFydCcsXG4gICAgY2VudGVyOiAnbWlkZGxlJyxcbiAgICByaWdodDogJ2VuZCcsXG59O1xuXG5jb25zdCB1cGRhdGVUZXh0ID0gKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpID0+IHtcbiAgICBjb25zdCBmb250U2l6ZSA9IGdldE1hcmt1cFZhbHVlKG1hcmt1cC5mb250U2l6ZSwgc2l6ZSwgc2NhbGUpO1xuICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBtYXJrdXAuZm9udEZhbWlseSB8fCAnc2Fucy1zZXJpZic7XG4gICAgY29uc3QgZm9udFdlaWdodCA9IG1hcmt1cC5mb250V2VpZ2h0IHx8ICdub3JtYWwnO1xuICAgIGNvbnN0IHRleHRBbGlnbiA9IFRFWFRfQU5DSE9SW21hcmt1cC50ZXh0QWxpZ25dIHx8ICdzdGFydCc7XG5cbiAgICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIHtcbiAgICAgICAgLi4uZWxlbWVudC5yZWN0LFxuICAgICAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAsXG4gICAgICAgICdmb250LXdlaWdodCc6IGZvbnRXZWlnaHQsXG4gICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSxcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogZm9udEZhbWlseSxcbiAgICAgICAgJ3RleHQtYW5jaG9yJzogdGV4dEFsaWduLFxuICAgIH0pO1xuXG4gICAgLy8gdXBkYXRlIHRleHRcbiAgICBpZiAoZWxlbWVudC50ZXh0ICE9PSBtYXJrdXAudGV4dCkge1xuICAgICAgICBlbGVtZW50LnRleHQgPSBtYXJrdXAudGV4dDtcbiAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG1hcmt1cC50ZXh0Lmxlbmd0aCA/IG1hcmt1cC50ZXh0IDogJyAnO1xuICAgIH1cbn07XG5cbmNvbnN0IHVwZGF0ZUxpbmUgPSAoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICAgIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgICAgICAuLi5lbGVtZW50LnJlY3QsXG4gICAgICAgIC4uLmVsZW1lbnQuc3R5bGVzLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgfSk7XG5cbiAgICBjb25zdCBsaW5lID0gZWxlbWVudC5jaGlsZE5vZGVzWzBdO1xuICAgIGNvbnN0IGJlZ2luID0gZWxlbWVudC5jaGlsZE5vZGVzWzFdO1xuICAgIGNvbnN0IGVuZCA9IGVsZW1lbnQuY2hpbGROb2Rlc1syXTtcblxuICAgIGNvbnN0IG9yaWdpbiA9IGVsZW1lbnQucmVjdDtcblxuICAgIGNvbnN0IHRhcmdldCA9IHtcbiAgICAgICAgeDogZWxlbWVudC5yZWN0LnggKyBlbGVtZW50LnJlY3Qud2lkdGgsXG4gICAgICAgIHk6IGVsZW1lbnQucmVjdC55ICsgZWxlbWVudC5yZWN0LmhlaWdodCxcbiAgICB9O1xuXG4gICAgc2V0QXR0cmlidXRlcyhsaW5lLCB7XG4gICAgICAgIHgxOiBvcmlnaW4ueCxcbiAgICAgICAgeTE6IG9yaWdpbi55LFxuICAgICAgICB4MjogdGFyZ2V0LngsXG4gICAgICAgIHkyOiB0YXJnZXQueSxcbiAgICB9KTtcblxuICAgIGlmICghbWFya3VwLmxpbmVEZWNvcmF0aW9uKSByZXR1cm47XG5cbiAgICBiZWdpbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGVuZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgY29uc3QgdiA9IHZlY3Rvck5vcm1hbGl6ZSh7XG4gICAgICAgIHg6IHRhcmdldC54IC0gb3JpZ2luLngsXG4gICAgICAgIHk6IHRhcmdldC55IC0gb3JpZ2luLnksXG4gICAgfSk7XG5cbiAgICBjb25zdCBsID0gZ2V0TWFya3VwVmFsdWUoMC4wNSwgc2l6ZSwgc2NhbGUpO1xuXG4gICAgaWYgKG1hcmt1cC5saW5lRGVjb3JhdGlvbi5pbmRleE9mKCdhcnJvdy1iZWdpbicpICE9PSAtMSkge1xuICAgICAgICBjb25zdCBhcnJvd0JlZ2luUm90YXRpb25Qb2ludCA9IHZlY3Rvck11bHRpcGx5KHYsIGwpO1xuICAgICAgICBjb25zdCBhcnJvd0JlZ2luQ2VudGVyID0gdmVjdG9yQWRkKG9yaWdpbiwgYXJyb3dCZWdpblJvdGF0aW9uUG9pbnQpO1xuICAgICAgICBjb25zdCBhcnJvd0JlZ2luQSA9IHZlY3RvclJvdGF0ZShvcmlnaW4sIDIsIGFycm93QmVnaW5DZW50ZXIpO1xuICAgICAgICBjb25zdCBhcnJvd0JlZ2luQiA9IHZlY3RvclJvdGF0ZShvcmlnaW4sIC0yLCBhcnJvd0JlZ2luQ2VudGVyKTtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVzKGJlZ2luLCB7XG4gICAgICAgICAgICBzdHlsZTogJ2Rpc3BsYXk6YmxvY2s7JyxcbiAgICAgICAgICAgIGQ6IGBNJHthcnJvd0JlZ2luQS54fSwke2Fycm93QmVnaW5BLnl9IEwke29yaWdpbi54fSwke29yaWdpbi55fSBMJHthcnJvd0JlZ2luQi54fSwke1xuICAgICAgICAgICAgICAgIGFycm93QmVnaW5CLnlcbiAgICAgICAgICAgIH1gLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWVuZCcpICE9PSAtMSkge1xuICAgICAgICBjb25zdCBhcnJvd0VuZFJvdGF0aW9uUG9pbnQgPSB2ZWN0b3JNdWx0aXBseSh2LCAtbCk7XG4gICAgICAgIGNvbnN0IGFycm93RW5kQ2VudGVyID0gdmVjdG9yQWRkKHRhcmdldCwgYXJyb3dFbmRSb3RhdGlvblBvaW50KTtcbiAgICAgICAgY29uc3QgYXJyb3dFbmRBID0gdmVjdG9yUm90YXRlKHRhcmdldCwgMiwgYXJyb3dFbmRDZW50ZXIpO1xuICAgICAgICBjb25zdCBhcnJvd0VuZEIgPSB2ZWN0b3JSb3RhdGUodGFyZ2V0LCAtMiwgYXJyb3dFbmRDZW50ZXIpO1xuXG4gICAgICAgIHNldEF0dHJpYnV0ZXMoZW5kLCB7XG4gICAgICAgICAgICBzdHlsZTogJ2Rpc3BsYXk6YmxvY2s7JyxcbiAgICAgICAgICAgIGQ6IGBNJHthcnJvd0VuZEEueH0sJHthcnJvd0VuZEEueX0gTCR7dGFyZ2V0Lnh9LCR7dGFyZ2V0Lnl9IEwke2Fycm93RW5kQi54fSwke1xuICAgICAgICAgICAgICAgIGFycm93RW5kQi55XG4gICAgICAgICAgICB9YCxcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuY29uc3QgdXBkYXRlUGF0aCA9IChlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKSA9PiB7XG4gICAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgICAgIC4uLmVsZW1lbnQuc3R5bGVzLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIGQ6IHBvaW50c1RvUGF0aFNoYXBlKFxuICAgICAgICAgICAgbWFya3VwLnBvaW50cy5tYXAocG9pbnQgPT4gKHtcbiAgICAgICAgICAgICAgICB4OiBnZXRNYXJrdXBWYWx1ZShwb2ludC54LCBzaXplLCBzY2FsZSwgJ3dpZHRoJyksXG4gICAgICAgICAgICAgICAgeTogZ2V0TWFya3VwVmFsdWUocG9pbnQueSwgc2l6ZSwgc2NhbGUsICdoZWlnaHQnKSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICApLFxuICAgIH0pO1xufTtcblxuY29uc3QgY3JlYXRlU2hhcGUgPSBub2RlID0+IG1hcmt1cCA9PiBzdmcobm9kZSwgeyBpZDogbWFya3VwLmlkIH0pO1xuXG5jb25zdCBjcmVhdGVJbWFnZSA9IG1hcmt1cCA9PiB7XG4gICAgY29uc3Qgc2hhcGUgPSBzdmcoJ2ltYWdlJywge1xuICAgICAgICBpZDogbWFya3VwLmlkLFxuICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJyxcbiAgICAgICAgb3BhY2l0eTogJzAnLFxuICAgIH0pO1xuICAgIHNoYXBlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgc2hhcGUuc2V0QXR0cmlidXRlKCdvcGFjaXR5JywgbWFya3VwLm9wYWNpdHkgfHwgMSk7XG4gICAgfTtcbiAgICBzaGFwZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICd4bGluazpocmVmJywgbWFya3VwLnNyYyk7XG4gICAgcmV0dXJuIHNoYXBlO1xufTtcblxuY29uc3QgY3JlYXRlTGluZSA9IG1hcmt1cCA9PiB7XG4gICAgY29uc3Qgc2hhcGUgPSBzdmcoJ2cnLCB7XG4gICAgICAgIGlkOiBtYXJrdXAuaWQsXG4gICAgICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnLFxuICAgIH0pO1xuXG4gICAgY29uc3QgbGluZSA9IHN2ZygnbGluZScpO1xuICAgIHNoYXBlLmFwcGVuZENoaWxkKGxpbmUpO1xuXG4gICAgY29uc3QgYmVnaW4gPSBzdmcoJ3BhdGgnKTtcbiAgICBzaGFwZS5hcHBlbmRDaGlsZChiZWdpbik7XG5cbiAgICBjb25zdCBlbmQgPSBzdmcoJ3BhdGgnKTtcbiAgICBzaGFwZS5hcHBlbmRDaGlsZChlbmQpO1xuXG4gICAgcmV0dXJuIHNoYXBlO1xufTtcblxuY29uc3QgQ1JFQVRFX1RZUEVfUk9VVEVTID0ge1xuICAgIGltYWdlOiBjcmVhdGVJbWFnZSxcbiAgICByZWN0OiBjcmVhdGVTaGFwZSgncmVjdCcpLFxuICAgIGVsbGlwc2U6IGNyZWF0ZVNoYXBlKCdlbGxpcHNlJyksXG4gICAgdGV4dDogY3JlYXRlU2hhcGUoJ3RleHQnKSxcbiAgICBwYXRoOiBjcmVhdGVTaGFwZSgncGF0aCcpLFxuICAgIGxpbmU6IGNyZWF0ZUxpbmUsXG59O1xuXG5jb25zdCBVUERBVEVfVFlQRV9ST1VURVMgPSB7XG4gICAgcmVjdDogdXBkYXRlUmVjdCxcbiAgICBlbGxpcHNlOiB1cGRhdGVFbGxpcHNlLFxuICAgIGltYWdlOiB1cGRhdGVJbWFnZSxcbiAgICB0ZXh0OiB1cGRhdGVUZXh0LFxuICAgIHBhdGg6IHVwZGF0ZVBhdGgsXG4gICAgbGluZTogdXBkYXRlTGluZSxcbn07XG5cbmNvbnN0IGNyZWF0ZU1hcmt1cEJ5VHlwZSA9ICh0eXBlLCBtYXJrdXApID0+IENSRUFURV9UWVBFX1JPVVRFU1t0eXBlXShtYXJrdXApO1xuXG5jb25zdCB1cGRhdGVNYXJrdXBCeVR5cGUgPSAoZWxlbWVudCwgdHlwZSwgbWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICAgIGlmICh0eXBlICE9PSAncGF0aCcpIHtcbiAgICAgICAgZWxlbWVudC5yZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUsIHNjYWxlKTtcbiAgICB9XG4gICAgZWxlbWVudC5zdHlsZXMgPSBnZXRNYXJrdXBTdHlsZXMobWFya3VwLCBzaXplLCBzY2FsZSk7XG4gICAgVVBEQVRFX1RZUEVfUk9VVEVTW3R5cGVdKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpO1xufTtcblxuY29uc3Qgc29ydE1hcmt1cEJ5WkluZGV4ID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYVsxXS56SW5kZXggPiBiWzFdLnpJbmRleCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKGFbMV0uekluZGV4IDwgYlsxXS56SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IGNyb3BTVkcgPSAoYmxvYiwgY3JvcCA9IHt9LCBtYXJrdXAsIG9wdGlvbnMpID0+XG4gICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IHsgYmFja2dyb3VuZCA9IG51bGwgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgLy8gbG9hZCBibG9iIGNvbnRlbnRzIGFuZCB3cmFwIGluIGNyb3Agc3ZnXG4gICAgICAgIGNvbnN0IGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgZnIub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gZ2V0IHN2ZyB0ZXh0XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZnIucmVzdWx0O1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgZWxlbWVudCB3aXRoIHN2ZyBhbmQgZ2V0IHNpemVcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBvcmlnaW5hbC5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7d2lkdGg6MDtoZWlnaHQ6MDt2aXNpYmlsaXR5OmhpZGRlbjtgO1xuICAgICAgICAgICAgb3JpZ2luYWwuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTm9kZSA9IG9yaWdpbmFsLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvcmlnaW5hbCk7XG5cbiAgICAgICAgICAgIC8vIHJlcXVlc3QgYm91bmRpbmcgYm94IGRpbWVuc2lvbnNcbiAgICAgICAgICAgIGNvbnN0IGJCb3ggPSBvcmlnaW5hbE5vZGUuZ2V0QkJveCgpO1xuICAgICAgICAgICAgb3JpZ2luYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvcmlnaW5hbCk7XG5cbiAgICAgICAgICAgIC8vIGdldCB0aXRsZVxuICAgICAgICAgICAgY29uc3QgdGl0bGVOb2RlID0gb3JpZ2luYWwucXVlcnlTZWxlY3RvcigndGl0bGUnKTtcblxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIG5ldyBoZWlnaHRzIGFuZCB3aWR0aHNcbiAgICAgICAgICAgIGNvbnN0IHZpZXdCb3hBdHRyaWJ1dGUgPSBvcmlnaW5hbE5vZGUuZ2V0QXR0cmlidXRlKCd2aWV3Qm94JykgfHwgJyc7XG4gICAgICAgICAgICBjb25zdCB3aWR0aEF0dHJpYnV0ZSA9IG9yaWdpbmFsTm9kZS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykgfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHRBdHRyaWJ1dGUgPSBvcmlnaW5hbE5vZGUuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSB8fCAnJztcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQod2lkdGhBdHRyaWJ1dGUpIHx8IG51bGw7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gcGFyc2VGbG9hdChoZWlnaHRBdHRyaWJ1dGUpIHx8IG51bGw7XG4gICAgICAgICAgICBjb25zdCB3aWR0aFVuaXRzID0gKHdpZHRoQXR0cmlidXRlLm1hdGNoKC9bYS16XSsvKSB8fCBbXSlbMF0gfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHRVbml0cyA9IChoZWlnaHRBdHRyaWJ1dGUubWF0Y2goL1thLXpdKy8pIHx8IFtdKVswXSB8fCAnJztcblxuICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBzaXplXG4gICAgICAgICAgICBjb25zdCB2aWV3Qm94TGlzdCA9IHZpZXdCb3hBdHRyaWJ1dGUuc3BsaXQoJyAnKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgICAgICAgICBjb25zdCB2aWV3Qm94ID0gdmlld0JveExpc3QubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgeDogdmlld0JveExpc3RbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgeTogdmlld0JveExpc3RbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZpZXdCb3hMaXN0WzJdLFxuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmlld0JveExpc3RbM10sXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBiQm94O1xuXG4gICAgICAgICAgICBsZXQgaW1hZ2VXaWR0aCA9IHdpZHRoICE9IG51bGwgPyB3aWR0aCA6IHZpZXdCb3gud2lkdGg7XG4gICAgICAgICAgICBsZXQgaW1hZ2VIZWlnaHQgPSBoZWlnaHQgIT0gbnVsbCA/IGhlaWdodCA6IHZpZXdCb3guaGVpZ2h0O1xuXG4gICAgICAgICAgICBvcmlnaW5hbE5vZGUuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICBvcmlnaW5hbE5vZGUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGltYWdlV2lkdGgpO1xuICAgICAgICAgICAgb3JpZ2luYWxOb2RlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaW1hZ2VIZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyBtYXJrdXBcbiAgICAgICAgICAgIGxldCBtYXJrdXBTVkcgPSAnJztcbiAgICAgICAgICAgIGlmIChtYXJrdXAgJiYgbWFya3VwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpbWFnZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlSGVpZ2h0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbWFya3VwU1ZHID0gbWFya3VwLnNvcnQoc29ydE1hcmt1cEJ5WkluZGV4KS5yZWR1Y2UoKHByZXYsIHNoYXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gY3JlYXRlTWFya3VwQnlUeXBlKHNoYXBlWzBdLCBzaGFwZVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1hcmt1cEJ5VHlwZShlbCwgc2hhcGVbMF0sIHNoYXBlWzFdLCBzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCdvcGFjaXR5JykgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnb3BhY2l0eScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ICsgJ1xcbicgKyBlbC5vdXRlckhUTUwgKyAnXFxuJztcbiAgICAgICAgICAgICAgICB9LCAnJyk7XG4gICAgICAgICAgICAgICAgbWFya3VwU1ZHID0gYFxcblxcbjxnPiR7bWFya3VwU1ZHLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpfTwvZz5cXG5cXG5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IGNyb3AuYXNwZWN0UmF0aW8gfHwgaW1hZ2VIZWlnaHQgLyBpbWFnZVdpZHRoO1xuXG4gICAgICAgICAgICBjb25zdCBjYW52YXNXaWR0aCA9IGltYWdlV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBjYW52YXNIZWlnaHQgPSBjYW52YXNXaWR0aCAqIGFzcGVjdFJhdGlvO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRMaW1pdCA9IHR5cGVvZiBjcm9wLnNjYWxlVG9GaXQgPT09ICd1bmRlZmluZWQnIHx8IGNyb3Auc2NhbGVUb0ZpdDtcblxuICAgICAgICAgICAgY29uc3QgY3JvcENlbnRlclggPSBjcm9wLmNlbnRlciA/IGNyb3AuY2VudGVyLnggOiAwLjU7XG4gICAgICAgICAgICBjb25zdCBjcm9wQ2VudGVyWSA9IGNyb3AuY2VudGVyID8gY3JvcC5jZW50ZXIueSA6IDAuNTtcblxuICAgICAgICAgICAgY29uc3QgY2FudmFzWm9vbUZhY3RvciA9IGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2VXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZUhlaWdodCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldENlbnRlcmVkQ3JvcFJlY3QoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjYW52YXNXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2FudmFzSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpb1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY3JvcC5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICBzaG91bGRMaW1pdFxuICAgICAgICAgICAgICAgICAgICA/IHsgeDogY3JvcENlbnRlclgsIHk6IGNyb3BDZW50ZXJZIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeTogMC41LFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gY3JvcC56b29tICogY2FudmFzWm9vbUZhY3RvcjtcblxuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSBjcm9wLnJvdGF0aW9uICogKDE4MCAvIE1hdGguUEkpO1xuXG4gICAgICAgICAgICBjb25zdCBjYW52YXNDZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgeDogY2FudmFzV2lkdGggKiAwLjUsXG4gICAgICAgICAgICAgICAgeTogY2FudmFzSGVpZ2h0ICogMC41LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaW1hZ2VPZmZzZXQgPSB7XG4gICAgICAgICAgICAgICAgeDogY2FudmFzQ2VudGVyLnggLSBpbWFnZVdpZHRoICogY3JvcENlbnRlclgsXG4gICAgICAgICAgICAgICAgeTogY2FudmFzQ2VudGVyLnkgLSBpbWFnZUhlaWdodCAqIGNyb3BDZW50ZXJZLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgY3JvcFRyYW5zZm9ybXMgPSBbXG4gICAgICAgICAgICAgICAgLy8gcm90YXRlXG4gICAgICAgICAgICAgICAgYHJvdGF0ZSgke3JvdGF0aW9ufSAke2NhbnZhc0NlbnRlci54fSAke2NhbnZhc0NlbnRlci55fSlgLFxuXG4gICAgICAgICAgICAgICAgLy8gc2NhbGVcbiAgICAgICAgICAgICAgICBgdHJhbnNsYXRlKCR7Y2FudmFzQ2VudGVyLnh9ICR7Y2FudmFzQ2VudGVyLnl9KWAsXG4gICAgICAgICAgICAgICAgYHNjYWxlKCR7c2NhbGV9KWAsXG4gICAgICAgICAgICAgICAgYHRyYW5zbGF0ZSgkey1jYW52YXNDZW50ZXIueH0gJHstY2FudmFzQ2VudGVyLnl9KWAsXG5cbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRcbiAgICAgICAgICAgICAgICBgdHJhbnNsYXRlKCR7aW1hZ2VPZmZzZXQueH0gJHtpbWFnZU9mZnNldC55fSlgLFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgY29uc3QgY3JvcEZsaXBIb3Jpem9udGFsID0gY3JvcC5mbGlwICYmIGNyb3AuZmxpcC5ob3Jpem9udGFsO1xuICAgICAgICAgICAgY29uc3QgY3JvcEZsaXBWZXJ0aWNhbCA9IGNyb3AuZmxpcCAmJiBjcm9wLmZsaXAudmVydGljYWw7XG5cbiAgICAgICAgICAgIGNvbnN0IGZsaXBUcmFuc2Zvcm1zID0gW1xuICAgICAgICAgICAgICAgIGBzY2FsZSgke2Nyb3BGbGlwSG9yaXpvbnRhbCA/IC0xIDogMX0gJHtjcm9wRmxpcFZlcnRpY2FsID8gLTEgOiAxfSlgLFxuICAgICAgICAgICAgICAgIGB0cmFuc2xhdGUoJHtjcm9wRmxpcEhvcml6b250YWwgPyAtaW1hZ2VXaWR0aCA6IDB9ICR7XG4gICAgICAgICAgICAgICAgICAgIGNyb3BGbGlwVmVydGljYWwgPyAtaW1hZ2VIZWlnaHQgOiAwXG4gICAgICAgICAgICAgICAgfSlgLFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgLy8gY3JvcFxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48c3ZnIHdpZHRoPVwiJHtjYW52YXNXaWR0aH0ke3dpZHRoVW5pdHN9XCIgaGVpZ2h0PVwiJHtjYW52YXNIZWlnaHR9JHtoZWlnaHRVbml0c31cIiBcbnZpZXdCb3g9XCIwIDAgJHtjYW52YXNXaWR0aH0gJHtjYW52YXNIZWlnaHR9XCIgJHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kID8gJ3N0eWxlPVwiYmFja2dyb3VuZDonICsgYmFja2dyb3VuZCArICdcIiAnIDogJydcbiAgICAgICAgICAgIH1cbnByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWluWU1pblwiXG54bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxueG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuPCEtLSBHZW5lcmF0ZWQgYnkgUFFJTkEgLSBodHRwczovL3BxaW5hLm5sLyAtLT5cbjx0aXRsZT4ke3RpdGxlTm9kZSA/IHRpdGxlTm9kZS50ZXh0Q29udGVudCA6ICcnfTwvdGl0bGU+XG48ZyB0cmFuc2Zvcm09XCIke2Nyb3BUcmFuc2Zvcm1zLmpvaW4oJyAnKX1cIj5cbjxnIHRyYW5zZm9ybT1cIiR7ZmxpcFRyYW5zZm9ybXMuam9pbignICcpfVwiPlxuJHtvcmlnaW5hbE5vZGUub3V0ZXJIVE1MfSR7bWFya3VwU1ZHfVxuPC9nPlxuPC9nPlxuPC9zdmc+YDtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBzdmcgZmlsZVxuICAgICAgICAgICAgcmVzb2x2ZSh0cmFuc2Zvcm1lZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnIucmVhZEFzVGV4dChibG9iKTtcbiAgICB9KTtcblxuY29uc3Qgb2JqZWN0VG9JbWFnZURhdGEgPSBvYmogPT4ge1xuICAgIGxldCBpbWFnZURhdGE7XG4gICAgdHJ5IHtcbiAgICAgICAgaW1hZ2VEYXRhID0gbmV3IEltYWdlRGF0YShvYmoud2lkdGgsIG9iai5oZWlnaHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSUUgKyBPbGQgRURHRSAodGVzdGVkIG9uIDEyKVxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgaW1hZ2VEYXRhID0gY2FudmFzLmdldENvbnRleHQoJzJkJykuY3JlYXRlSW1hZ2VEYXRhKG9iai53aWR0aCwgb2JqLmhlaWdodCk7XG4gICAgfVxuICAgIGltYWdlRGF0YS5kYXRhLnNldChvYmouZGF0YSk7XG4gICAgcmV0dXJuIGltYWdlRGF0YTtcbn07XG5cbi8qIGphdmFzY3JpcHQtb2JmdXNjYXRvcjpkaXNhYmxlICovXG5jb25zdCBUcmFuc2Zvcm1Xb3JrZXIgPSAoKSA9PiB7XG4gICAgLy8gbWFwcyB0cmFuc2Zvcm0gdHlwZXMgdG8gdHJhbnNmb3JtIGZ1bmN0aW9uc1xuICAgIGNvbnN0IFRSQU5TRk9STVMgPSB7IHJlc2l6ZSwgZmlsdGVyIH07XG5cbiAgICAvLyBhcHBsaWVzIGFsbCBpbWFnZSB0cmFuc2Zvcm1zIHRvIHRoZSBpbWFnZSBkYXRhIGFycmF5XG4gICAgY29uc3QgYXBwbHlUcmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMsIGltYWdlRGF0YSkgPT4ge1xuICAgICAgICB0cmFuc2Zvcm1zLmZvckVhY2godHJhbnNmb3JtID0+IHtcbiAgICAgICAgICAgIGltYWdlRGF0YSA9IFRSQU5TRk9STVNbdHJhbnNmb3JtLnR5cGVdKGltYWdlRGF0YSwgdHJhbnNmb3JtLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGltYWdlRGF0YTtcbiAgICB9O1xuXG4gICAgLy8gdHJhbnNmb3JtIGltYWdlIGh1YlxuICAgIGNvbnN0IHRyYW5zZm9ybSA9IChkYXRhLCBjYikgPT4ge1xuICAgICAgICBsZXQgdHJhbnNmb3JtcyA9IGRhdGEudHJhbnNmb3JtcztcblxuICAgICAgICAvLyBpZiBoYXMgZmlsdGVyIGFuZCBoYXMgcmVzaXplLCBtb3ZlIGZpbHRlciB0byByZXNpemUgb3BlcmF0aW9uXG4gICAgICAgIGxldCBmaWx0ZXJUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0cmFuc2Zvcm1zLmZvckVhY2godHJhbnNmb3JtID0+IHtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0udHlwZSA9PT0gJ2ZpbHRlcicpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZmlsdGVyVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBmaW5kIHJlc2l6ZVxuICAgICAgICAgICAgbGV0IHJlc2l6ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgICAgICB0cmFuc2Zvcm1zLmZvckVhY2godHJhbnNmb3JtID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtLnR5cGUgPT09ICdyZXNpemUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZVRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc2l6ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSByZXNpemUgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgcmVzaXplVHJhbnNmb3JtLmRhdGEubWF0cml4ID0gZmlsdGVyVHJhbnNmb3JtLmRhdGE7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgZmlsdGVyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtcyA9IHRyYW5zZm9ybXMuZmlsdGVyKHRyYW5zZm9ybSA9PiB0cmFuc2Zvcm0udHlwZSAhPT0gJ2ZpbHRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2IoYXBwbHlUcmFuc2Zvcm1zKHRyYW5zZm9ybXMsIGRhdGEuaW1hZ2VEYXRhKSk7XG4gICAgfTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICBzZWxmLm9ubWVzc2FnZSA9IGUgPT4ge1xuICAgICAgICB0cmFuc2Zvcm0oZS5kYXRhLm1lc3NhZ2UsIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyBpZDogZS5kYXRhLmlkLCBtZXNzYWdlOiByZXNwb25zZSB9LCBbcmVzcG9uc2UuZGF0YS5idWZmZXJdKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGJyID0gMS4wO1xuICAgIGNvbnN0IGJnID0gMS4wO1xuICAgIGNvbnN0IGJiID0gMS4wO1xuICAgIGZ1bmN0aW9uIGFwcGx5RmlsdGVyTWF0cml4KGluZGV4LCBkYXRhLCBtKSB7XG4gICAgICAgIGNvbnN0IGlyID0gZGF0YVtpbmRleF0gLyAyNTU7XG4gICAgICAgIGNvbnN0IGlnID0gZGF0YVtpbmRleCArIDFdIC8gMjU1O1xuICAgICAgICBjb25zdCBpYiA9IGRhdGFbaW5kZXggKyAyXSAvIDI1NTtcbiAgICAgICAgY29uc3QgaWEgPSBkYXRhW2luZGV4ICsgM10gLyAyNTU7XG5cbiAgICAgICAgY29uc3QgbXIgPSBpciAqIG1bMF0gKyBpZyAqIG1bMV0gKyBpYiAqIG1bMl0gKyBpYSAqIG1bM10gKyBtWzRdO1xuICAgICAgICBjb25zdCBtZyA9IGlyICogbVs1XSArIGlnICogbVs2XSArIGliICogbVs3XSArIGlhICogbVs4XSArIG1bOV07XG4gICAgICAgIGNvbnN0IG1iID0gaXIgKiBtWzEwXSArIGlnICogbVsxMV0gKyBpYiAqIG1bMTJdICsgaWEgKiBtWzEzXSArIG1bMTRdO1xuICAgICAgICBjb25zdCBtYSA9IGlyICogbVsxNV0gKyBpZyAqIG1bMTZdICsgaWIgKiBtWzE3XSArIGlhICogbVsxOF0gKyBtWzE5XTtcblxuICAgICAgICBjb25zdCBvciA9IE1hdGgubWF4KDAsIG1yICogbWEpICsgYnIgKiAoMS4wIC0gbWEpO1xuICAgICAgICBjb25zdCBvZyA9IE1hdGgubWF4KDAsIG1nICogbWEpICsgYmcgKiAoMS4wIC0gbWEpO1xuICAgICAgICBjb25zdCBvYiA9IE1hdGgubWF4KDAsIG1iICogbWEpICsgYmIgKiAoMS4wIC0gbWEpO1xuXG4gICAgICAgIGRhdGFbaW5kZXhdID0gTWF0aC5tYXgoMC4wLCBNYXRoLm1pbigxLjAsIG9yKSkgKiAyNTU7XG4gICAgICAgIGRhdGFbaW5kZXggKyAxXSA9IE1hdGgubWF4KDAuMCwgTWF0aC5taW4oMS4wLCBvZykpICogMjU1O1xuICAgICAgICBkYXRhW2luZGV4ICsgMl0gPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDEuMCwgb2IpKSAqIDI1NTtcbiAgICB9XG5cbiAgICBjb25zdCBpZGVudGl0eU1hdHJpeCA9IHNlbGYuSlNPTi5zdHJpbmdpZnkoW1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgIF0pO1xuICAgIGZ1bmN0aW9uIGlzSWRlbnRpdHlNYXRyaXgoZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBzZWxmLkpTT04uc3RyaW5naWZ5KGZpbHRlciB8fCBbXSkgPT09IGlkZW50aXR5TWF0cml4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbHRlcihpbWFnZURhdGEsIG1hdHJpeCkge1xuICAgICAgICBpZiAoIW1hdHJpeCB8fCBpc0lkZW50aXR5TWF0cml4KG1hdHJpeCkpIHJldHVybiBpbWFnZURhdGE7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICAgICAgICBjb25zdCBsID0gZGF0YS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgbTExID0gbWF0cml4WzBdO1xuICAgICAgICBjb25zdCBtMTIgPSBtYXRyaXhbMV07XG4gICAgICAgIGNvbnN0IG0xMyA9IG1hdHJpeFsyXTtcbiAgICAgICAgY29uc3QgbTE0ID0gbWF0cml4WzNdO1xuICAgICAgICBjb25zdCBtMTUgPSBtYXRyaXhbNF07XG5cbiAgICAgICAgY29uc3QgbTIxID0gbWF0cml4WzVdO1xuICAgICAgICBjb25zdCBtMjIgPSBtYXRyaXhbNl07XG4gICAgICAgIGNvbnN0IG0yMyA9IG1hdHJpeFs3XTtcbiAgICAgICAgY29uc3QgbTI0ID0gbWF0cml4WzhdO1xuICAgICAgICBjb25zdCBtMjUgPSBtYXRyaXhbOV07XG5cbiAgICAgICAgY29uc3QgbTMxID0gbWF0cml4WzEwXTtcbiAgICAgICAgY29uc3QgbTMyID0gbWF0cml4WzExXTtcbiAgICAgICAgY29uc3QgbTMzID0gbWF0cml4WzEyXTtcbiAgICAgICAgY29uc3QgbTM0ID0gbWF0cml4WzEzXTtcbiAgICAgICAgY29uc3QgbTM1ID0gbWF0cml4WzE0XTtcblxuICAgICAgICBjb25zdCBtNDEgPSBtYXRyaXhbMTVdO1xuICAgICAgICBjb25zdCBtNDIgPSBtYXRyaXhbMTZdO1xuICAgICAgICBjb25zdCBtNDMgPSBtYXRyaXhbMTddO1xuICAgICAgICBjb25zdCBtNDQgPSBtYXRyaXhbMThdO1xuICAgICAgICBjb25zdCBtNDUgPSBtYXRyaXhbMTldO1xuXG4gICAgICAgIGxldCBpbmRleCA9IDAsXG4gICAgICAgICAgICByID0gMC4wLFxuICAgICAgICAgICAgZyA9IDAuMCxcbiAgICAgICAgICAgIGIgPSAwLjAsXG4gICAgICAgICAgICBhID0gMC4wLFxuICAgICAgICAgICAgbXIgPSAwLjAsXG4gICAgICAgICAgICBtZyA9IDAuMCxcbiAgICAgICAgICAgIG1iID0gMC4wLFxuICAgICAgICAgICAgbWEgPSAwLjAsXG4gICAgICAgICAgICBvciA9IDAuMCxcbiAgICAgICAgICAgIG9nID0gMC4wLFxuICAgICAgICAgICAgb2IgPSAwLjA7XG5cbiAgICAgICAgZm9yICg7IGluZGV4IDwgbDsgaW5kZXggKz0gNCkge1xuICAgICAgICAgICAgciA9IGRhdGFbaW5kZXhdIC8gMjU1O1xuICAgICAgICAgICAgZyA9IGRhdGFbaW5kZXggKyAxXSAvIDI1NTtcbiAgICAgICAgICAgIGIgPSBkYXRhW2luZGV4ICsgMl0gLyAyNTU7XG4gICAgICAgICAgICBhID0gZGF0YVtpbmRleCArIDNdIC8gMjU1O1xuXG4gICAgICAgICAgICBtciA9IHIgKiBtMTEgKyBnICogbTEyICsgYiAqIG0xMyArIGEgKiBtMTQgKyBtMTU7XG4gICAgICAgICAgICBtZyA9IHIgKiBtMjEgKyBnICogbTIyICsgYiAqIG0yMyArIGEgKiBtMjQgKyBtMjU7XG4gICAgICAgICAgICBtYiA9IHIgKiBtMzEgKyBnICogbTMyICsgYiAqIG0zMyArIGEgKiBtMzQgKyBtMzU7XG4gICAgICAgICAgICBtYSA9IHIgKiBtNDEgKyBnICogbTQyICsgYiAqIG00MyArIGEgKiBtNDQgKyBtNDU7XG5cbiAgICAgICAgICAgIG9yID0gTWF0aC5tYXgoMCwgbXIgKiBtYSkgKyBiciAqICgxLjAgLSBtYSk7XG4gICAgICAgICAgICBvZyA9IE1hdGgubWF4KDAsIG1nICogbWEpICsgYmcgKiAoMS4wIC0gbWEpO1xuICAgICAgICAgICAgb2IgPSBNYXRoLm1heCgwLCBtYiAqIG1hKSArIGJiICogKDEuMCAtIG1hKTtcblxuICAgICAgICAgICAgZGF0YVtpbmRleF0gPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDEuMCwgb3IpKSAqIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaW5kZXggKyAxXSA9IE1hdGgubWF4KDAuMCwgTWF0aC5taW4oMS4wLCBvZykpICogMjU1O1xuICAgICAgICAgICAgZGF0YVtpbmRleCArIDJdID0gTWF0aC5tYXgoMC4wLCBNYXRoLm1pbigxLjAsIG9iKSkgKiAyNTU7XG4gICAgICAgICAgICAvLyBkb24ndCB1cGRhdGUgYWxwaGEgdmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbWFnZURhdGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplKGltYWdlRGF0YSwgZGF0YSkge1xuICAgICAgICBsZXQgeyBtb2RlID0gJ2NvbnRhaW4nLCB1cHNjYWxlID0gZmFsc2UsIHdpZHRoLCBoZWlnaHQsIG1hdHJpeCB9ID0gZGF0YTtcblxuICAgICAgICAvLyB0ZXN0IGlmIGlzIGlkZW50aXR5IG1hdHJpeFxuICAgICAgICBtYXRyaXggPSAhbWF0cml4IHx8IGlzSWRlbnRpdHlNYXRyaXgobWF0cml4KSA/IG51bGwgOiBtYXRyaXg7XG5cbiAgICAgICAgLy8gbmVlZCBhdCBsZWFzdCBhIHdpZHRoIG9yIGEgaGVpZ2h0XG4gICAgICAgIC8vIGFsc28gMCBpcyBub3QgYSB2YWxpZCB3aWR0aCBvciBoZWlnaHRcbiAgICAgICAgaWYgKCF3aWR0aCAmJiAhaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyKGltYWdlRGF0YSwgbWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgYm91bmRzIGFyZSBzZXRcbiAgICAgICAgaWYgKHdpZHRoID09PSBudWxsKSB7XG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChoZWlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vZGUgIT09ICdmb3JjZScpIHtcbiAgICAgICAgICAgIGxldCBzY2FsYXJXaWR0aCA9IHdpZHRoIC8gaW1hZ2VEYXRhLndpZHRoO1xuICAgICAgICAgICAgbGV0IHNjYWxhckhlaWdodCA9IGhlaWdodCAvIGltYWdlRGF0YS5oZWlnaHQ7XG4gICAgICAgICAgICBsZXQgc2NhbGFyID0gMTtcblxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdjb3ZlcicpIHtcbiAgICAgICAgICAgICAgICBzY2FsYXIgPSBNYXRoLm1heChzY2FsYXJXaWR0aCwgc2NhbGFySGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2NvbnRhaW4nKSB7XG4gICAgICAgICAgICAgICAgc2NhbGFyID0gTWF0aC5taW4oc2NhbGFyV2lkdGgsIHNjYWxhckhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGltYWdlIGlzIHRvbyBzbWFsbCwgZXhpdCBoZXJlIHdpdGggb3JpZ2luYWwgaW1hZ2VcbiAgICAgICAgICAgIGlmIChzY2FsYXIgPiAxICYmIHVwc2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcihpbWFnZURhdGEsIG1hdHJpeCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoICogc2NhbGFyO1xuICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodCAqIHNjYWxhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9yaWdpbldpZHRoID0gaW1hZ2VEYXRhLndpZHRoO1xuICAgICAgICBjb25zdCBvcmlnaW5IZWlnaHQgPSBpbWFnZURhdGEuaGVpZ2h0O1xuICAgICAgICBjb25zdCB0YXJnZXRXaWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICBjb25zdCB0YXJnZXRIZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgICAgIGNvbnN0IGlucHV0RGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICAgICAgICBjb25zdCBvdXRwdXREYXRhID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRhcmdldFdpZHRoICogdGFyZ2V0SGVpZ2h0ICogNCk7XG4gICAgICAgIGNvbnN0IHJhdGlvV2lkdGggPSBvcmlnaW5XaWR0aCAvIHRhcmdldFdpZHRoO1xuICAgICAgICBjb25zdCByYXRpb0hlaWdodCA9IG9yaWdpbkhlaWdodCAvIHRhcmdldEhlaWdodDtcbiAgICAgICAgY29uc3QgcmF0aW9XaWR0aEhhbGYgPSBNYXRoLmNlaWwocmF0aW9XaWR0aCAqIDAuNSk7XG4gICAgICAgIGNvbnN0IHJhdGlvSGVpZ2h0SGFsZiA9IE1hdGguY2VpbChyYXRpb0hlaWdodCAqIDAuNSk7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0YXJnZXRIZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXRXaWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHgyID0gKGkgKyBqICogdGFyZ2V0V2lkdGgpICogNDtcbiAgICAgICAgICAgICAgICBsZXQgd2VpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgd2VpZ2h0cyA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodHNBbHBoYSA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBnID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IGEgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBjZW50ZXJZID0gKGogKyAwLjUpICogcmF0aW9IZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCB5eSA9IE1hdGguZmxvb3IoaiAqIHJhdGlvSGVpZ2h0KTsgeXkgPCAoaiArIDEpICogcmF0aW9IZWlnaHQ7IHl5KyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGR5ID0gTWF0aC5hYnMoY2VudGVyWSAtICh5eSArIDAuNSkpIC8gcmF0aW9IZWlnaHRIYWxmO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2VudGVyWCA9IChpICsgMC41KSAqIHJhdGlvV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGxldCB3MCA9IGR5ICogZHk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeHggPSBNYXRoLmZsb29yKGkgKiByYXRpb1dpZHRoKTsgeHggPCAoaSArIDEpICogcmF0aW9XaWR0aDsgeHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGR4ID0gTWF0aC5hYnMoY2VudGVyWCAtICh4eCArIDAuNSkpIC8gcmF0aW9XaWR0aEhhbGY7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IE1hdGguc3FydCh3MCArIGR4ICogZHgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA+PSAtMSAmJiB3IDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQgPSAyICogdyAqIHcgKiB3IC0gMyAqIHcgKiB3ICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gNCAqICh4eCArIHl5ICogb3JpZ2luV2lkdGgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWYgPSBpbnB1dERhdGFbZHggKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSArPSB3ZWlnaHQgKiByZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodHNBbHBoYSArPSB3ZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZiA8IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0ID0gKHdlaWdodCAqIHJlZikgLyAyNTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByICs9IHdlaWdodCAqIGlucHV0RGF0YVtkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgKz0gd2VpZ2h0ICogaW5wdXREYXRhW2R4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgKz0gd2VpZ2h0ICogaW5wdXREYXRhW2R4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodHMgKz0gd2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG91dHB1dERhdGFbeDJdID0gciAvIHdlaWdodHM7XG4gICAgICAgICAgICAgICAgb3V0cHV0RGF0YVt4MiArIDFdID0gZyAvIHdlaWdodHM7XG4gICAgICAgICAgICAgICAgb3V0cHV0RGF0YVt4MiArIDJdID0gYiAvIHdlaWdodHM7XG4gICAgICAgICAgICAgICAgb3V0cHV0RGF0YVt4MiArIDNdID0gYSAvIHdlaWdodHNBbHBoYTtcblxuICAgICAgICAgICAgICAgIG1hdHJpeCAmJiBhcHBseUZpbHRlck1hdHJpeCh4Miwgb3V0cHV0RGF0YSwgbWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBvdXRwdXREYXRhLFxuICAgICAgICAgICAgd2lkdGg6IHRhcmdldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0YXJnZXRIZWlnaHQsXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qIGphdmFzY3JpcHQtb2JmdXNjYXRvcjplbmFibGUgKi9cblxuY29uc3QgY29ycmVjdE9yaWVudGF0aW9uID0gKHZpZXcsIG9mZnNldCkgPT4ge1xuICAgIC8vIE1pc3NpbmcgMHg0NTc4Njk2NiBNYXJrZXI/IE5vIEV4aWYgSGVhZGVyLCBzdG9wIGhlcmVcbiAgICBpZiAodmlldy5nZXRVaW50MzIob2Zmc2V0ICsgNCwgZmFsc2UpICE9PSAweDQ1Nzg2OTY2KSByZXR1cm47XG5cbiAgICAvLyBuZXh0IGJ5dGUhXG4gICAgb2Zmc2V0ICs9IDQ7XG5cbiAgICAvLyBGaXJzdCAyYnl0ZXMgZGVmaW5lcyBieXRlIGFsaWduIG9mIFRJRkYgZGF0YS5cbiAgICAvLyBJZiBpdCBpcyAweDQ5NDk9XCJJIElcIiwgaXQgbWVhbnMgXCJJbnRlbFwiIHR5cGUgYnl0ZSBhbGlnblxuICAgIGNvbnN0IGludGVsQnl0ZUFsaWduZWQgPSB2aWV3LmdldFVpbnQxNigob2Zmc2V0ICs9IDYpLCBmYWxzZSkgPT09IDB4NDk0OTtcbiAgICBvZmZzZXQgKz0gdmlldy5nZXRVaW50MzIob2Zmc2V0ICsgNCwgaW50ZWxCeXRlQWxpZ25lZCk7XG5cbiAgICBjb25zdCB0YWdzID0gdmlldy5nZXRVaW50MTYob2Zmc2V0LCBpbnRlbEJ5dGVBbGlnbmVkKTtcbiAgICBvZmZzZXQgKz0gMjtcblxuICAgIC8vIGZpbmQgT3JpZW50YXRpb24gdGFnXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWdzOyBpKyspIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0VWludDE2KG9mZnNldCArIGkgKiAxMiwgaW50ZWxCeXRlQWxpZ25lZCkgPT09IDB4MDExMikge1xuICAgICAgICAgICAgdmlldy5zZXRVaW50MTYob2Zmc2V0ICsgaSAqIDEyICsgOCwgMSwgaW50ZWxCeXRlQWxpZ25lZCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCByZWFkRGF0YSA9IGRhdGEgPT4ge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YSk7XG5cbiAgICAvLyBFdmVyeSBKUEVHIGZpbGUgc3RhcnRzIGZyb20gYmluYXJ5IHZhbHVlICcweEZGRDgnXG4gICAgLy8gSWYgaXQncyBub3QgcHJlc2VudCwgZXhpdCBoZXJlXG4gICAgaWYgKHZpZXcuZ2V0VWludDE2KDApICE9PSAweGZmZDgpIHJldHVybiBudWxsO1xuXG4gICAgbGV0IG9mZnNldCA9IDI7IC8vIFN0YXJ0IGF0IDIgYXMgd2Ugc2tpcHBlZCB0d28gYnl0ZXMgKEZGRDgpXG4gICAgbGV0IG1hcmtlcjtcbiAgICBsZXQgbWFya2VyTGVuZ3RoO1xuICAgIGxldCBvcmllbnRhdGlvbkNvcnJlY3RlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKG9mZnNldCA8IHZpZXcuYnl0ZUxlbmd0aCkge1xuICAgICAgICBtYXJrZXIgPSB2aWV3LmdldFVpbnQxNihvZmZzZXQsIGZhbHNlKTtcbiAgICAgICAgbWFya2VyTGVuZ3RoID0gdmlldy5nZXRVaW50MTYob2Zmc2V0ICsgMiwgZmFsc2UpICsgMjtcblxuICAgICAgICAvLyBUZXN0IGlmIGlzIEFQUCBhbmQgQ09NIG1hcmtlcnNcbiAgICAgICAgY29uc3QgaXNEYXRhID0gKG1hcmtlciA+PSAweGZmZTAgJiYgbWFya2VyIDw9IDB4ZmZlZikgfHwgbWFya2VyID09PSAweGZmZmU7XG4gICAgICAgIGlmICghaXNEYXRhKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3JpZW50YXRpb25Db3JyZWN0ZWQpIHtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uQ29ycmVjdGVkID0gY29ycmVjdE9yaWVudGF0aW9uKHZpZXcsIG9mZnNldCwgbWFya2VyTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvZmZzZXQgKyBtYXJrZXJMZW5ndGggPiB2aWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0ICs9IG1hcmtlckxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgb2Zmc2V0KTtcbn07XG5cbmNvbnN0IGdldEltYWdlSGVhZCA9IGZpbGUgPT5cbiAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZERhdGEocmVhZGVyLnJlc3VsdCkgfHwgbnVsbCk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlLnNsaWNlKDAsIDI1NiAqIDEwMjQpKTtcbiAgICB9KTtcblxuY29uc3QgZ2V0QmxvYkJ1aWxkZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuICh3aW5kb3cuQmxvYkJ1aWxkZXIgPVxuICAgICAgICB3aW5kb3cuQmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgd2luZG93LldlYktpdEJsb2JCdWlsZGVyIHx8XG4gICAgICAgIHdpbmRvdy5Nb3pCbG9iQnVpbGRlciB8fFxuICAgICAgICB3aW5kb3cuTVNCbG9iQnVpbGRlcik7XG59O1xuXG5jb25zdCBjcmVhdGVCbG9iID0gKGFycmF5QnVmZmVyLCBtaW1lVHlwZSkgPT4ge1xuICAgIGNvbnN0IEJCID0gZ2V0QmxvYkJ1aWxkZXIoKTtcblxuICAgIGlmIChCQikge1xuICAgICAgICBjb25zdCBiYiA9IG5ldyBCQigpO1xuICAgICAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgICAgICByZXR1cm4gYmIuZ2V0QmxvYihtaW1lVHlwZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFthcnJheUJ1ZmZlcl0sIHtcbiAgICAgICAgdHlwZTogbWltZVR5cGUsXG4gICAgfSk7XG59O1xuXG5jb25zdCBnZXRVbmlxdWVJZCA9ICgpID0+XG4gICAgTWF0aC5yYW5kb20oKVxuICAgICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAgIC5zdWJzdHIoMiwgOSk7XG5cbmNvbnN0IGNyZWF0ZVdvcmtlciA9IGZuID0+IHtcbiAgICBjb25zdCB3b3JrZXJCbG9iID0gbmV3IEJsb2IoWycoJywgZm4udG9TdHJpbmcoKSwgJykoKSddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KTtcbiAgICBjb25zdCB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHdvcmtlckJsb2IpO1xuICAgIGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMKTtcblxuICAgIGNvbnN0IHRyaXBzID0gW107XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2ZlcjogKCkgPT4ge30sIC8vIChtZXNzYWdlLCBjYikgPT4ge31cbiAgICAgICAgcG9zdDogKG1lc3NhZ2UsIGNiLCB0cmFuc2Zlckxpc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZ2V0VW5pcXVlSWQoKTtcbiAgICAgICAgICAgIHRyaXBzW2lkXSA9IGNiO1xuXG4gICAgICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2IgPSB0cmlwc1tlLmRhdGEuaWRdO1xuICAgICAgICAgICAgICAgIGlmICghY2IpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYihlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRyaXBzW2UuZGF0YS5pZF07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYW5zZmVyTGlzdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGVybWluYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlclVSTCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbmNvbnN0IGxvYWRJbWFnZSA9IHVybCA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgfSk7XG5cbmNvbnN0IGNoYWluID0gZnVuY3MgPT5cbiAgICBmdW5jcy5yZWR1Y2UoXG4gICAgICAgIChwcm9taXNlLCBmdW5jKSA9PiBwcm9taXNlLnRoZW4ocmVzdWx0ID0+IGZ1bmMoKS50aGVuKEFycmF5LnByb3RvdHlwZS5jb25jYXQuYmluZChyZXN1bHQpKSksXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShbXSlcbiAgICApO1xuXG5jb25zdCBjYW52YXNBcHBseU1hcmt1cCA9IChjYW52YXMsIG1hcmt1cCkgPT5cbiAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgY29uc3QgZHJhd2VycyA9IG1hcmt1cC5zb3J0KHNvcnRNYXJrdXBCeVpJbmRleCkubWFwKGl0ZW0gPT4gKCkgPT5cbiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFRZUEVfRFJBV19ST1VURVNbaXRlbVswXV0oY3R4LCBzaXplLCBpdGVtWzFdLCByZXNvbHZlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIGNoYWluKGRyYXdlcnMpLnRoZW4oKCkgPT4gcmVzb2x2ZShjYW52YXMpKTtcbiAgICB9KTtcblxuY29uc3QgYXBwbHlNYXJrdXBTdHlsZXMgPSAoY3R4LCBzdHlsZXMpID0+IHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmxpbmVDYXAgPSBzdHlsZXNbJ3N0cm9rZS1saW5lY2FwJ107XG4gICAgY3R4LmxpbmVKb2luID0gc3R5bGVzWydzdHJva2UtbGluZWpvaW4nXTtcbiAgICBjdHgubGluZVdpZHRoID0gc3R5bGVzWydzdHJva2Utd2lkdGgnXTtcbiAgICBpZiAoc3R5bGVzWydzdHJva2UtZGFzaGFycmF5J10ubGVuZ3RoKSB7XG4gICAgICAgIGN0eC5zZXRMaW5lRGFzaChzdHlsZXNbJ3N0cm9rZS1kYXNoYXJyYXknXS5zcGxpdCgnLCcpKTtcbiAgICB9XG4gICAgY3R4LmZpbGxTdHlsZSA9IHN0eWxlc1snZmlsbCddO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0eWxlc1snc3Ryb2tlJ107XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gc3R5bGVzLm9wYWNpdHkgfHwgMTtcbn07XG5cbmNvbnN0IGRyYXdNYXJrdXBTdHlsZXMgPSBjdHggPT4ge1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG59O1xuXG5jb25zdCBkcmF3UmVjdCA9IChjdHgsIHNpemUsIG1hcmt1cCkgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSBnZXRNYXJrdXBSZWN0KG1hcmt1cCwgc2l6ZSk7XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSk7XG4gICAgYXBwbHlNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuICAgIGN0eC5yZWN0KHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XG4gICAgZHJhd01hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBkcmF3RWxsaXBzZSA9IChjdHgsIHNpemUsIG1hcmt1cCkgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSBnZXRNYXJrdXBSZWN0KG1hcmt1cCwgc2l6ZSk7XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSk7XG4gICAgYXBwbHlNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuXG4gICAgY29uc3QgeCA9IHJlY3QueCxcbiAgICAgICAgeSA9IHJlY3QueSxcbiAgICAgICAgdyA9IHJlY3Qud2lkdGgsXG4gICAgICAgIGggPSByZWN0LmhlaWdodCxcbiAgICAgICAga2FwcGEgPSAwLjU1MjI4NDgsXG4gICAgICAgIG94ID0gKHcgLyAyKSAqIGthcHBhLFxuICAgICAgICBveSA9IChoIC8gMikgKiBrYXBwYSxcbiAgICAgICAgeGUgPSB4ICsgdyxcbiAgICAgICAgeWUgPSB5ICsgaCxcbiAgICAgICAgeG0gPSB4ICsgdyAvIDIsXG4gICAgICAgIHltID0geSArIGggLyAyO1xuXG4gICAgY3R4Lm1vdmVUbyh4LCB5bSk7XG4gICAgY3R4LmJlemllckN1cnZlVG8oeCwgeW0gLSBveSwgeG0gLSBveCwgeSwgeG0sIHkpO1xuICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHhlLCB5bSArIG95LCB4bSArIG94LCB5ZSwgeG0sIHllKTtcbiAgICBjdHguYmV6aWVyQ3VydmVUbyh4bSAtIG94LCB5ZSwgeCwgeW0gKyBveSwgeCwgeW0pO1xuXG4gICAgZHJhd01hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBkcmF3SW1hZ2UgPSAoY3R4LCBzaXplLCBtYXJrdXAsIGRvbmUpID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUpO1xuICAgIGNvbnN0IHN0eWxlcyA9IGdldE1hcmt1cFN0eWxlcyhtYXJrdXAsIHNpemUpO1xuICAgIGFwcGx5TWFya3VwU3R5bGVzKGN0eCwgc3R5bGVzKTtcblxuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAvLyBpZiBpcyBjcm9zcyBvcmlnaW4gaW1hZ2UgYWRkIGNyb3NzIG9yaWdpbiBhdHRyaWJ1dGVcbiAgICBjb25zdCBpc0Nyb3NzT3JpZ2luSW1hZ2UgPVxuICAgICAgICBuZXcgVVJMKG1hcmt1cC5zcmMsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKS5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgaWYgKGlzQ3Jvc3NPcmlnaW5JbWFnZSkgaW1hZ2UuY3Jvc3NPcmlnaW4gPSAnJztcblxuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKG1hcmt1cC5maXQgPT09ICdjb3ZlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyID0gcmVjdC53aWR0aCAvIHJlY3QuaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBhciA+IDEgPyBpbWFnZS53aWR0aCA6IGltYWdlLmhlaWdodCAqIGFyO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYXIgPiAxID8gaW1hZ2Uud2lkdGggLyBhciA6IGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHggPSBpbWFnZS53aWR0aCAqIDAuNSAtIHdpZHRoICogMC41O1xuICAgICAgICAgICAgY29uc3QgeSA9IGltYWdlLmhlaWdodCAqIDAuNSAtIGhlaWdodCAqIDAuNTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHgsIHksIHdpZHRoLCBoZWlnaHQsIHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSBpZiAobWFya3VwLmZpdCA9PT0gJ2NvbnRhaW4nKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsYXIgPSBNYXRoLm1pbihyZWN0LndpZHRoIC8gaW1hZ2Uud2lkdGgsIHJlY3QuaGVpZ2h0IC8gaW1hZ2UuaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gc2NhbGFyICogaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBzY2FsYXIgKiBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gcmVjdC54ICsgcmVjdC53aWR0aCAqIDAuNSAtIHdpZHRoICogMC41O1xuICAgICAgICAgICAgY29uc3QgeSA9IHJlY3QueSArIHJlY3QuaGVpZ2h0ICogMC41IC0gaGVpZ2h0ICogMC41O1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBpbWFnZS53aWR0aCxcbiAgICAgICAgICAgICAgICBpbWFnZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgcmVjdC54LFxuICAgICAgICAgICAgICAgIHJlY3QueSxcbiAgICAgICAgICAgICAgICByZWN0LndpZHRoLFxuICAgICAgICAgICAgICAgIHJlY3QuaGVpZ2h0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZHJhd01hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IG1hcmt1cC5zcmM7XG59O1xuXG5jb25zdCBkcmF3VGV4dCA9IChjdHgsIHNpemUsIG1hcmt1cCkgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSBnZXRNYXJrdXBSZWN0KG1hcmt1cCwgc2l6ZSk7XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSk7XG4gICAgYXBwbHlNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuXG4gICAgY29uc3QgZm9udFNpemUgPSBnZXRNYXJrdXBWYWx1ZShtYXJrdXAuZm9udFNpemUsIHNpemUpO1xuICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBtYXJrdXAuZm9udEZhbWlseSB8fCAnc2Fucy1zZXJpZic7XG4gICAgY29uc3QgZm9udFdlaWdodCA9IG1hcmt1cC5mb250V2VpZ2h0IHx8ICdub3JtYWwnO1xuICAgIGNvbnN0IHRleHRBbGlnbiA9IG1hcmt1cC50ZXh0QWxpZ24gfHwgJ2xlZnQnO1xuXG4gICAgY3R4LmZvbnQgPSBgJHtmb250V2VpZ2h0fSAke2ZvbnRTaXplfXB4ICR7Zm9udEZhbWlseX1gO1xuICAgIGN0eC50ZXh0QWxpZ24gPSB0ZXh0QWxpZ247XG4gICAgY3R4LmZpbGxUZXh0KG1hcmt1cC50ZXh0LCByZWN0LngsIHJlY3QueSk7XG5cbiAgICBkcmF3TWFya3VwU3R5bGVzKGN0eCwgc3R5bGVzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGRyYXdQYXRoID0gKGN0eCwgc2l6ZSwgbWFya3VwKSA9PiB7XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSk7XG4gICAgYXBwbHlNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgIGNvbnN0IHBvaW50cyA9IG1hcmt1cC5wb2ludHMubWFwKHBvaW50ID0+ICh7XG4gICAgICAgIHg6IGdldE1hcmt1cFZhbHVlKHBvaW50LngsIHNpemUsIDEsICd3aWR0aCcpLFxuICAgICAgICB5OiBnZXRNYXJrdXBWYWx1ZShwb2ludC55LCBzaXplLCAxLCAnaGVpZ2h0JyksXG4gICAgfSkpO1xuXG4gICAgY3R4Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpO1xuICAgIGNvbnN0IGwgPSBwb2ludHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGN0eC5saW5lVG8ocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTtcbiAgICB9XG5cbiAgICBkcmF3TWFya3VwU3R5bGVzKGN0eCwgc3R5bGVzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGRyYXdMaW5lID0gKGN0eCwgc2l6ZSwgbWFya3VwKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IGdldE1hcmt1cFJlY3QobWFya3VwLCBzaXplKTtcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRNYXJrdXBTdHlsZXMobWFya3VwLCBzaXplKTtcbiAgICBhcHBseU1hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICBjb25zdCBvcmlnaW4gPSB7XG4gICAgICAgIHg6IHJlY3QueCxcbiAgICAgICAgeTogcmVjdC55LFxuICAgIH07XG5cbiAgICBjb25zdCB0YXJnZXQgPSB7XG4gICAgICAgIHg6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHk6IHJlY3QueSArIHJlY3QuaGVpZ2h0LFxuICAgIH07XG5cbiAgICBjdHgubW92ZVRvKG9yaWdpbi54LCBvcmlnaW4ueSk7XG4gICAgY3R4LmxpbmVUbyh0YXJnZXQueCwgdGFyZ2V0LnkpO1xuXG4gICAgY29uc3QgdiA9IHZlY3Rvck5vcm1hbGl6ZSh7XG4gICAgICAgIHg6IHRhcmdldC54IC0gb3JpZ2luLngsXG4gICAgICAgIHk6IHRhcmdldC55IC0gb3JpZ2luLnksXG4gICAgfSk7XG5cbiAgICBjb25zdCBsID0gMC4wNCAqIE1hdGgubWluKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcblxuICAgIGlmIChtYXJrdXAubGluZURlY29yYXRpb24uaW5kZXhPZignYXJyb3ctYmVnaW4nKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpblJvdGF0aW9uUG9pbnQgPSB2ZWN0b3JNdWx0aXBseSh2LCBsKTtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpbkNlbnRlciA9IHZlY3RvckFkZChvcmlnaW4sIGFycm93QmVnaW5Sb3RhdGlvblBvaW50KTtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpbkEgPSB2ZWN0b3JSb3RhdGUob3JpZ2luLCAyLCBhcnJvd0JlZ2luQ2VudGVyKTtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpbkIgPSB2ZWN0b3JSb3RhdGUob3JpZ2luLCAtMiwgYXJyb3dCZWdpbkNlbnRlcik7XG5cbiAgICAgICAgY3R4Lm1vdmVUbyhhcnJvd0JlZ2luQS54LCBhcnJvd0JlZ2luQS55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhvcmlnaW4ueCwgb3JpZ2luLnkpO1xuICAgICAgICBjdHgubGluZVRvKGFycm93QmVnaW5CLngsIGFycm93QmVnaW5CLnkpO1xuICAgIH1cbiAgICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWVuZCcpICE9PSAtMSkge1xuICAgICAgICBjb25zdCBhcnJvd0VuZFJvdGF0aW9uUG9pbnQgPSB2ZWN0b3JNdWx0aXBseSh2LCAtbCk7XG4gICAgICAgIGNvbnN0IGFycm93RW5kQ2VudGVyID0gdmVjdG9yQWRkKHRhcmdldCwgYXJyb3dFbmRSb3RhdGlvblBvaW50KTtcbiAgICAgICAgY29uc3QgYXJyb3dFbmRBID0gdmVjdG9yUm90YXRlKHRhcmdldCwgMiwgYXJyb3dFbmRDZW50ZXIpO1xuICAgICAgICBjb25zdCBhcnJvd0VuZEIgPSB2ZWN0b3JSb3RhdGUodGFyZ2V0LCAtMiwgYXJyb3dFbmRDZW50ZXIpO1xuXG4gICAgICAgIGN0eC5tb3ZlVG8oYXJyb3dFbmRBLngsIGFycm93RW5kQS55KTtcbiAgICAgICAgY3R4LmxpbmVUbyh0YXJnZXQueCwgdGFyZ2V0LnkpO1xuICAgICAgICBjdHgubGluZVRvKGFycm93RW5kQi54LCBhcnJvd0VuZEIueSk7XG4gICAgfVxuXG4gICAgZHJhd01hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBUWVBFX0RSQVdfUk9VVEVTID0ge1xuICAgIHJlY3Q6IGRyYXdSZWN0LFxuICAgIGVsbGlwc2U6IGRyYXdFbGxpcHNlLFxuICAgIGltYWdlOiBkcmF3SW1hZ2UsXG4gICAgdGV4dDogZHJhd1RleHQsXG4gICAgbGluZTogZHJhd0xpbmUsXG4gICAgcGF0aDogZHJhd1BhdGgsXG59O1xuXG5jb25zdCBpbWFnZURhdGFUb0NhbnZhcyA9IGltYWdlRGF0YSA9PiB7XG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBpbWFnZS53aWR0aCA9IGltYWdlRGF0YS53aWR0aDtcbiAgICBpbWFnZS5oZWlnaHQgPSBpbWFnZURhdGEuaGVpZ2h0O1xuICAgIGNvbnN0IGN0eCA9IGltYWdlLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICAgIHJldHVybiBpbWFnZTtcbn07XG5cbmNvbnN0IHRyYW5zZm9ybUltYWdlID0gKGZpbGUsIGluc3RydWN0aW9ucywgb3B0aW9ucyA9IHt9KSA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gaWYgdGhlIGZpbGUgaXMgbm90IGFuIGltYWdlIHdlIGRvIG5vdCBoYXZlIGFueSBidXNpbmVzcyB0cmFuc2Zvcm1pbmcgaXRcbiAgICAgICAgaWYgKCFmaWxlIHx8ICFpc0ltYWdlJDEoZmlsZSkpIHJldHVybiByZWplY3QoeyBzdGF0dXM6ICdub3QgYW4gaW1hZ2UgZmlsZScsIGZpbGUgfSk7XG5cbiAgICAgICAgLy8gZ2V0IHNlcGFyYXRlIG9wdGlvbnMgZm9yIGVhc2llciB1c2VcbiAgICAgICAgY29uc3QgeyBzdHJpcEltYWdlSGVhZCwgYmVmb3JlQ3JlYXRlQmxvYiwgYWZ0ZXJDcmVhdGVCbG9iLCBjYW52YXNNZW1vcnlMaW1pdCB9ID0gb3B0aW9ucztcblxuICAgICAgICAvLyBnZXQgY3JvcFxuICAgICAgICBjb25zdCB7IGNyb3AsIHNpemUsIGZpbHRlciwgbWFya3VwLCBvdXRwdXQgfSA9IGluc3RydWN0aW9ucztcblxuICAgICAgICAvLyBnZXQgZXhpZiBvcmllbnRhdGlvblxuICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMuaW1hZ2UgJiYgaW5zdHJ1Y3Rpb25zLmltYWdlLm9yaWVudGF0aW9uXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heCgxLCBNYXRoLm1pbig4LCBpbnN0cnVjdGlvbnMuaW1hZ2Uub3JpZW50YXRpb24pKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICAvLyBjb21wcmVzc2lvbiBxdWFsaXR5IDAgPT4gMTAwXG4gICAgICAgIGNvbnN0IHF1YWxpdHlBc1BlcmNlbnRhZ2UgPSBvdXRwdXQgJiYgb3V0cHV0LnF1YWxpdHk7XG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSBxdWFsaXR5QXNQZXJjZW50YWdlID09PSBudWxsID8gbnVsbCA6IHF1YWxpdHlBc1BlcmNlbnRhZ2UgLyAxMDA7XG5cbiAgICAgICAgLy8gb3V0cHV0IGZvcm1hdFxuICAgICAgICBjb25zdCB0eXBlID0gKG91dHB1dCAmJiBvdXRwdXQudHlwZSkgfHwgbnVsbDtcblxuICAgICAgICAvLyBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSAob3V0cHV0ICYmIG91dHB1dC5iYWNrZ3JvdW5kKSB8fCBudWxsO1xuXG4gICAgICAgIC8vIGdldCB0cmFuc2Zvcm1zXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybXMgPSBbXTtcblxuICAgICAgICAvLyBhZGQgcmVzaXplIHRyYW5zZm9ybXMgaWYgc2V0XG4gICAgICAgIGlmIChzaXplICYmICh0eXBlb2Ygc2l6ZS53aWR0aCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHNpemUuaGVpZ2h0ID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh7IHR5cGU6ICdyZXNpemUnLCBkYXRhOiBzaXplIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGZpbHRlcnNcbiAgICAgICAgaWYgKGZpbHRlciAmJiBmaWx0ZXIubGVuZ3RoID09PSAyMCkge1xuICAgICAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKHsgdHlwZTogJ2ZpbHRlcicsIGRhdGE6IGZpbHRlciB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc29sdmVzIHdpdGggc3VwcGxpZWQgYmxvYlxuICAgICAgICBjb25zdCByZXNvbHZlV2l0aEJsb2IgPSBibG9iID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VkQmxvYiA9IGFmdGVyQ3JlYXRlQmxvYiA/IGFmdGVyQ3JlYXRlQmxvYihibG9iKSA6IGJsb2I7XG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUocHJvbWlzZWRCbG9iKS50aGVuKHJlc29sdmUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGRvbmVcbiAgICAgICAgY29uc3QgdG9CbG9iID0gKGltYWdlRGF0YSwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gaW1hZ2VEYXRhVG9DYW52YXMoaW1hZ2VEYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VkQ2FudmFzID0gbWFya3VwLmxlbmd0aCA/IGNhbnZhc0FwcGx5TWFya3VwKGNhbnZhcywgbWFya3VwKSA6IGNhbnZhcztcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShwcm9taXNlZENhbnZhcykudGhlbihjYW52YXMgPT4ge1xuICAgICAgICAgICAgICAgIGNhbnZhc1RvQmxvYihjYW52YXMsIG9wdGlvbnMsIGJlZm9yZUNyZWF0ZUJsb2IpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGJsb2IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgcmVsZWFzZSBvZiBjYW52YXMgbWVtb3J5XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNSZWxlYXNlKGNhbnZhcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpbWFnZSBoZWFkIChkZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmlwSW1hZ2VIZWFkKSByZXR1cm4gcmVzb2x2ZVdpdGhCbG9iKGJsb2IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdG8gY29weSBpbWFnZSBoZWFkIGZyb20gb3JpZ2luYWwgZmlsZSB0byBnZW5lcmF0ZWQgYmxvYlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0SW1hZ2VIZWFkKGZpbGUpLnRoZW4oaW1hZ2VIZWFkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZS1pbmplY3QgaW1hZ2UgaGVhZCBpbiBjYXNlIG9mIEpQRUcsIGFzIHRoZSBpbWFnZSBoZWFkIGlzIHJlbW92ZWQgYnkgY2FudmFzIGV4cG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZUhlYWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtpbWFnZUhlYWQsIGJsb2Iuc2xpY2UoMjApXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlV2l0aEJsb2IoYmxvYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIHN2ZyBhbmQgd2Ugd2FudCBpdCB0byBzdGF5IGFuIHN2Z1xuICAgICAgICBpZiAoL3N2Zy8udGVzdChmaWxlLnR5cGUpICYmIHR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBjcm9wU1ZHKGZpbGUsIGNyb3AsIG1hcmt1cCwgeyBiYWNrZ3JvdW5kIH0pLnRoZW4odGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShjcmVhdGVCbG9iKHRleHQsICdpbWFnZS9zdmcreG1sJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZmlsZSB1cmxcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcblxuICAgICAgICAvLyB0dXJuIHRoZSBmaWxlIGludG8gYW4gaW1hZ2VcbiAgICAgICAgbG9hZEltYWdlKHVybClcbiAgICAgICAgICAgIC50aGVuKGltYWdlID0+IHtcbiAgICAgICAgICAgICAgICAvLyB1cmwgaXMgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcblxuICAgICAgICAgICAgICAgIC8vIGRyYXcgdG8gY2FudmFzIGFuZCBzdGFydCB0cmFuc2Zvcm0gY2hhaW5cbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBpbWFnZVRvSW1hZ2VEYXRhKGltYWdlLCBvcmllbnRhdGlvbiwgY3JvcCwge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXNNZW1vcnlMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSB0aGUgZm9ybWF0IG9mIHRoZSBibG9iIHRoYXQgd2Ugd2lsbCBvdXRwdXRcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRGb3JtYXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUgfHwgZmlsZS50eXBlLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBubyB0cmFuc2Zvcm1zIG5lY2Vzc2FyeSwgd2UgZG9uZSFcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zZm9ybXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b0Jsb2IoaW1hZ2VEYXRhLCBvdXRwdXRGb3JtYXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNlbmQgdG8gdGhlIHRyYW5zZm9ybSB3b3JrZXIgdG8gdHJhbnNmb3JtIHRoZSBibG9iIG9uIGEgc2VwYXJhdGUgdGhyZWFkXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ya2VyID0gY3JlYXRlV29ya2VyKFRyYW5zZm9ybVdvcmtlcik7XG4gICAgICAgICAgICAgICAgd29ya2VyLnBvc3QoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCB1cFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9CbG9iKG9iamVjdFRvSW1hZ2VEYXRhKHJlc3BvbnNlKSwgb3V0cHV0Rm9ybWF0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCB3b3JrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW2ltYWdlRGF0YS5kYXRhLmJ1ZmZlcl1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xuXG5jb25zdCBNQVJLVVBfUkVDVCA9IFsneCcsICd5JywgJ2xlZnQnLCAndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICd3aWR0aCcsICdoZWlnaHQnXTtcblxuY29uc3QgdG9PcHRpb25hbEZyYWN0aW9uID0gdmFsdWUgPT5cbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIC8lLy50ZXN0KHZhbHVlKSA/IHBhcnNlRmxvYXQodmFsdWUpIC8gMTAwIDogdmFsdWU7XG5cbi8vIGFkZHMgZGVmYXVsdCBtYXJrdXAgcHJvcGVydGllcywgY2xvbmVzIG1hcmt1cFxuY29uc3QgcHJlcGFyZU1hcmt1cCA9IG1hcmt1cCA9PiB7XG4gICAgY29uc3QgW3R5cGUsIHByb3BzXSA9IG1hcmt1cDtcblxuICAgIGNvbnN0IHJlY3QgPSBwcm9wcy5wb2ludHNcbiAgICAgICAgPyB7fVxuICAgICAgICA6IE1BUktVUF9SRUNULnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICAgICAgICBwcmV2W2N1cnJdID0gdG9PcHRpb25hbEZyYWN0aW9uKHByb3BzW2N1cnJdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgfSwge30pO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgICAgdHlwZSxcbiAgICAgICAge1xuICAgICAgICAgICAgekluZGV4OiAwLFxuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICAuLi5yZWN0LFxuICAgICAgICB9LFxuICAgIF07XG59O1xuXG5jb25zdCBnZXRJbWFnZVNpemUgPSBmaWxlID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG5cbiAgICAgICAgLy8gc3RhcnQgdGVzdGluZyBzaXplXG4gICAgICAgIGNvbnN0IG1lYXN1cmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGltYWdlRWxlbWVudC5uYXR1cmFsV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBpbWFnZUVsZW1lbnQubmF0dXJhbEhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGhhc1NpemUgPSB3aWR0aCAmJiBoZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIWhhc1NpemUpIHJldHVybjtcblxuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChpbWFnZUVsZW1lbnQuc3JjKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICByZXNvbHZlKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZUVsZW1lbnQub25lcnJvciA9IGVyciA9PiB7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGltYWdlRWxlbWVudC5zcmMpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChtZWFzdXJlLCAxKTtcblxuICAgICAgICBtZWFzdXJlKCk7XG4gICAgfSk7XG5cbi8qKlxuICogUG9seWZpbGwgRWRnZSBhbmQgSUUgd2hlbiBpbiBCcm93c2VyXG4gKi9cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICghSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLnRvQmxvYikge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLCAndG9CbG9iJywge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGNiLCB0eXBlLCBxdWFsaXR5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcztcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSkuc3BsaXQoJywnKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluU3RyID0gYXRvYihkYXRhVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gYmluU3RyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbaW5kZXhdID0gYmluU3RyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNiKG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiB0eXBlIHx8ICdpbWFnZS9wbmcnIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBpc0lPUyA9IGlzQnJvd3NlciAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtO1xuXG4vKipcbiAqIEltYWdlIFRyYW5zZm9ybSBQbHVnaW5cbiAqL1xuY29uc3QgcGx1Z2luID0gKHsgYWRkRmlsdGVyLCB1dGlscyB9KSA9PiB7XG4gICAgY29uc3QgeyBUeXBlLCBmb3JpbiwgZ2V0RmlsZUZyb21CbG9iLCBpc0ZpbGUgfSA9IHV0aWxzO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uc1xuICAgICAqL1xuXG4gICAgLy8gdmFsaWQgdHJhbnNmb3JtcyAoaW4gY29ycmVjdCBvcmRlcilcbiAgICBjb25zdCBUUkFOU0ZPUk1fTElTVCA9IFsnY3JvcCcsICdyZXNpemUnLCAnZmlsdGVyJywgJ21hcmt1cCcsICdvdXRwdXQnXTtcblxuICAgIGNvbnN0IGNyZWF0ZVZhcmlhbnRDcmVhdG9yID0gdXBkYXRlTWV0YWRhdGEgPT4gKHRyYW5zZm9ybSwgZmlsZSwgbWV0YWRhdGEpID0+XG4gICAgICAgIHRyYW5zZm9ybShmaWxlLCB1cGRhdGVNZXRhZGF0YSA/IHVwZGF0ZU1ldGFkYXRhKG1ldGFkYXRhKSA6IG1ldGFkYXRhKTtcblxuICAgIGNvbnN0IGlzRGVmYXVsdENyb3AgPSBjcm9wID0+XG4gICAgICAgIGNyb3AuYXNwZWN0UmF0aW8gPT09IG51bGwgJiZcbiAgICAgICAgY3JvcC5yb3RhdGlvbiA9PT0gMCAmJlxuICAgICAgICBjcm9wLnpvb20gPT09IDEgJiZcbiAgICAgICAgY3JvcC5jZW50ZXIgJiZcbiAgICAgICAgY3JvcC5jZW50ZXIueCA9PT0gMC41ICYmXG4gICAgICAgIGNyb3AuY2VudGVyLnkgPT09IDAuNSAmJlxuICAgICAgICBjcm9wLmZsaXAgJiZcbiAgICAgICAgY3JvcC5mbGlwLmhvcml6b250YWwgPT09IGZhbHNlICYmXG4gICAgICAgIGNyb3AuZmxpcC52ZXJ0aWNhbCA9PT0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzXG4gICAgICovXG4gICAgYWRkRmlsdGVyKFxuICAgICAgICAnU0hPVUxEX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgKHNob3VsZFByZXBhcmVPdXRwdXQsIHsgcXVlcnkgfSkgPT5cbiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIGlzIG5vdCBhc3luYyBzaG91bGQgcHJlcGFyZSBub3dcbiAgICAgICAgICAgICAgICByZXNvbHZlKCFxdWVyeSgnSVNfQVNZTkMnKSk7XG4gICAgICAgICAgICB9KVxuICAgICk7XG5cbiAgICBjb25zdCBzaG91bGRUcmFuc2Zvcm1GaWxlID0gKHF1ZXJ5LCBmaWxlLCBpdGVtKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9UUkFOU0ZPUk0nKSB8fFxuICAgICAgICAgICAgICAgIGl0ZW0uYXJjaGl2ZWQgfHxcbiAgICAgICAgICAgICAgICAhaXNGaWxlKGZpbGUpIHx8XG4gICAgICAgICAgICAgICAgIWlzSW1hZ2UoZmlsZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgc2l6ZSBjYW4ndCBiZSByZWFkIHRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgaW1hZ2VcbiAgICAgICAgICAgIGdldEltYWdlU2l6ZShmaWxlKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSBxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9JTUFHRV9GSUxURVInKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJSZXN1bHQgPSBmbihmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJSZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJldmVydCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyUmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWx0ZXJSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJSZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJSZXN1bHQudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgYWRkRmlsdGVyKCdESURfQ1JFQVRFX0lURU0nLCAoaXRlbSwgeyBxdWVyeSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfVFJBTlNGT1JNJykpIHJldHVybjtcblxuICAgICAgICBpdGVtLmV4dGVuZChcbiAgICAgICAgICAgICdyZXF1ZXN0UHJlcGFyZScsXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAnUkVRVUVTVF9QUkVQQVJFX09VVFBVVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIHN1YnNjcmliZSB0byBmaWxlIHRyYW5zZm9ybWF0aW9uc1xuICAgIGFkZEZpbHRlcihcbiAgICAgICAgJ1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgKGZpbGUsIHsgcXVlcnksIGl0ZW0gfSkgPT5cbiAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHNob3VsZFRyYW5zZm9ybUZpbGUocXVlcnksIGZpbGUsIGl0ZW0pLnRoZW4oc2hvdWxkVHJhbnNmb3JtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB0cmFuc2Zvcm0sIGV4aXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRUcmFuc2Zvcm0pIHJldHVybiByZXNvbHZlKGZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCB2YXJpYW50c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBvcmlnaW5hbCBmaWxlXG4gICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9WQVJJQU5UU19JTkNMVURFX09SSUdJTkFMJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9WQVJJQU5UU19PUklHSU5BTF9OQU1FJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBkZWZhdWx0IG91dHB1dCB2ZXJzaW9uIGlmIG91dHB1dCBkZWZhdWx0IHNldCB0byB0cnVlIG9yIGlmIG5vIHZhcmlhbnRzIGRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5KCdHRVRfSU1BR0VfVFJBTlNGT1JNX1ZBUklBTlRTX0lOQ0xVREVfREVGQVVMVCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0cmFuc2Zvcm0sIGZpbGUsIG1ldGFkYXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybShmaWxlLCBtZXRhZGF0YSkudGhlbihmaWxlID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHF1ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fVkFSSUFOVFNfREVGQVVMVF9OQU1FJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBvdGhlciB2YXJpYW50c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYW50c0RlZmluaXRpb24gPSBxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9WQVJJQU5UUycpIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICBmb3Jpbih2YXJpYW50c0RlZmluaXRpb24sIChrZXksIGZuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVWYXJpYW50ID0gY3JlYXRlVmFyaWFudENyZWF0b3IoZm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHJhbnNmb3JtLCBmaWxlLCBtZXRhZGF0YSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVWYXJpYW50KHRyYW5zZm9ybSwgZmlsZSwgbWV0YWRhdGEpLnRoZW4oZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBuYW1lOiBrZXksIGZpbGUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBvdXRwdXQgZm9ybWF0IChxdWFsaXR5IDAgPT4gMTAwKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXR5QXNQZXJjZW50YWdlID0gcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fT1VUUFVUX1FVQUxJVFknKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhbGl0eU1vZGUgPSBxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9PVVRQVVRfUVVBTElUWV9NT0RFJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSBxdWFsaXR5QXNQZXJjZW50YWdlID09PSBudWxsID8gbnVsbCA6IHF1YWxpdHlBc1BlcmNlbnRhZ2UgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9PVVRQVVRfTUlNRV9UWVBFJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFRyYW5zZm9ybXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fQ0xJRU5UX1RSQU5TRk9STVMnKSB8fCBUUkFOU0ZPUk1fTElTVDtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdHJhbnNmb3JtIG1ldGFkYXRhIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBpdGVtLnNldE1ldGFkYXRhKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ291dHB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudDogY2xpZW50VHJhbnNmb3JtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBhcHBseSB0aGUgZmlsZSB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gKGZpbGUsIG1ldGFkYXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkTWV0YWRhdGEgPSB7IC4uLm1ldGFkYXRhIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJlZE1ldGFkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGluc3RydWN0aW9uID0+IGluc3RydWN0aW9uICE9PSAnZXhpZicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGluc3RydWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG5vdCBpbiBsaXN0LCByZW1vdmUgZnJvbSBvYmplY3QsIHRoZSBpbnN0cnVjdGlvbiB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudFRyYW5zZm9ybXMuaW5kZXhPZihpbnN0cnVjdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcmVkTWV0YWRhdGFbaW5zdHJ1Y3Rpb25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVzaXplLCBleGlmLCBvdXRwdXQsIGNyb3AsIGZpbHRlciwgbWFya3VwIH0gPSBmaWx0ZXJlZE1ldGFkYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246IGV4aWYgPyBleGlmLm9yaWVudGF0aW9uIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3V0cHV0LnR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb3V0cHV0LnF1YWxpdHkgPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmJhY2tncm91bmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogb3V0cHV0LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG91dHB1dC5xdWFsaXR5ID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBvdXRwdXQucXVhbGl0eSAqIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5iYWNrZ3JvdW5kIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fQ0FOVkFTX0JBQ0tHUk9VTkRfQ09MT1InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZSAmJiAocmVzaXplLnNpemUud2lkdGggfHwgcmVzaXplLnNpemUuaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHJlc2l6ZS5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwc2NhbGU6IHJlc2l6ZS51cHNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc2l6ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9wOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JvcCAmJiAhaXNEZWZhdWx0Q3JvcChjcm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNyb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmt1cDogbWFya3VwICYmIG1hcmt1cC5sZW5ndGggPyBtYXJrdXAubWFwKHByZXBhcmVNYXJrdXApIDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RydWN0aW9ucy5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIGZpbGUgdHlwZSB3aWxsIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWxsQ2hhbmdlVHlwZSA9IG91dHB1dC50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8vIHR5cGUgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC50eXBlICE9PSBmaWxlLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gdHlwZSBub3Qgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbkNoYW5nZVF1YWxpdHkgPSAvXFwvanBlP2ckLy50ZXN0KGZpbGUudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpbGxDaGFuZ2VRdWFsaXR5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5xdWFsaXR5ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAvLyBxdWFsaXR5IHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQ2hhbmdlUXVhbGl0eSAmJiBxdWFsaXR5TW9kZSA9PT0gJ2Fsd2F5cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIHF1YWxpdHkgbm90IHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIGZpbGUgZGF0YSB3aWxsIGJlIG1vZGlmaWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpbGxNb2RpZnlJbWFnZURhdGEgPSAhIShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucy5zaXplIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnMuY3JvcCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zLmZpbHRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lsbENoYW5nZVR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2VRdWFsaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UncmUgbm90IG1vZGlmeWluZyB0aGUgaW1hZ2UgZGF0YSB0aGVuIHdlIGRvbid0IGhhdmUgdG8gbW9kaWZ5IHRoZSBvdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aWxsTW9kaWZ5SW1hZ2VEYXRhKSByZXR1cm4gcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVDcmVhdGVCbG9iOiBxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9CRUZPUkVfQ1JFQVRFX0JMT0InKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJDcmVhdGVCbG9iOiBxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9BRlRFUl9DUkVBVEVfQkxPQicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNNZW1vcnlMaW1pdDogcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fQ0FOVkFTX01FTU9SWV9MSU1JVCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcEltYWdlSGVhZDogcXVlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnR0VUX0lNQUdFX1RSQU5TRk9STV9PVVRQVVRfU1RSSVBfSU1BR0VfSEVBRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtSW1hZ2UoZmlsZSwgaW5zdHJ1Y3Rpb25zLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihibG9iID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBmaWxlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0ID0gZ2V0RmlsZUZyb21CbG9iKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVuYW1lIHRoZSBvcmlnaW5hbCBmaWxlbmFtZSB0byBtYXRjaCB0aGUgbWltZSB0eXBlIG9mIHRoZSBvdXRwdXQgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5hbWVGaWxlVG9NYXRjaE1pbWVUeXBlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFZhbGlkT3V0cHV0TWltZVR5cGUoYmxvYi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBjcmVhdGluZyB2YXJpYW50c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYW50UHJvbWlzZXMgPSB2YXJpYW50cy5tYXAoY3JlYXRlID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGUodHJhbnNmb3JtLCBmaWxlLCBpdGVtLmdldE1ldGFkYXRhKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbCh2YXJpYW50UHJvbWlzZXMpLnRoZW4oZmlsZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgc2luZ2xlIGZpbGUgb2JqZWN0IGluIGFycmF5LCByZXR1cm4gdGhlIHNpbmdsZSBmaWxlIG9iamVjdCBlbHNlLCByZXR1cm4gYXJyYXkgb2ZcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMubGVuZ3RoID09PSAxICYmIGZpbGVzWzBdLm5hbWUgPT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAvLyByZXR1cm4gdGhlIEZpbGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNbMF0uZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIHJldHVybiBhbiBhcnJheSBvZiBmaWxlcyB7IG5hbWU6J25hbWUnLCBmaWxlOkZpbGUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIEV4cG9zZSBwbHVnaW4gb3B0aW9uc1xuICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGFsbG93SW1hZ2VUcmFuc2Zvcm06IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgICAgICAvLyBmaWx0ZXIgaW1hZ2VzIHRvIHRyYW5zZm9ybVxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1JbWFnZUZpbHRlcjogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgICAgICAgICAvLyBudWxsLCAnaW1hZ2UvanBlZycsICdpbWFnZS9wbmcnXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybU91dHB1dE1pbWVUeXBlOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgICAgICAvLyBudWxsLCAwIC0gMTAwXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybU91dHB1dFF1YWxpdHk6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgICAgIC8vIHNldCB0byBmYWxzZSB0byBjb3B5IGltYWdlIGV4aWYgZGF0YSB0byBvdXRwdXRcbiAgICAgICAgICAgIGltYWdlVHJhbnNmb3JtT3V0cHV0U3RyaXBJbWFnZUhlYWQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgICAgICAvLyBvbmx5IGFwcGx5IHRyYW5zZm9ybXMgaW4gdGhpcyBsaXN0XG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybUNsaWVudFRyYW5zZm9ybXM6IFtudWxsLCBUeXBlLkFSUkFZXSxcblxuICAgICAgICAgICAgLy8gb25seSBhcHBseSBvdXRwdXQgcXVhbGl0eSB3aGVuIGEgdHJhbnNmb3JtIGlzIHJlcXVpcmVkXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybU91dHB1dFF1YWxpdHlNb2RlOiBbJ2Fsd2F5cycsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgICAgIC8vICdhbHdheXMnXG4gICAgICAgICAgICAvLyAnb3B0aW9uYWwnXG4gICAgICAgICAgICAvLyAnbWlzbWF0Y2gnIChmdXR1cmUgZmVhdHVyZSwgb25seSBhcHBsaWVkIGlmIHF1YWxpdHkgZGlmZmVycyBmcm9tIGlucHV0KVxuXG4gICAgICAgICAgICAvLyBnZXQgaW1hZ2UgdHJhbnNmb3JtIHZhcmlhbnRzXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybVZhcmlhbnRzOiBbbnVsbCwgVHlwZS5PQkpFQ1RdLFxuXG4gICAgICAgICAgICAvLyBzaG91bGQgd2UgcG9zdCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1lZCBmaWxlXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybVZhcmlhbnRzSW5jbHVkZURlZmF1bHQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgICAgICAvLyB3aGljaCBuYW1lIHRvIHByZWZpeCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1lZCBmaWxlIHdpdGhcbiAgICAgICAgICAgIGltYWdlVHJhbnNmb3JtVmFyaWFudHNEZWZhdWx0TmFtZTogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAgICAgLy8gc2hvdWxkIHdlIHBvc3QgdGhlIG9yaWdpbmFsIGZpbGVcbiAgICAgICAgICAgIGltYWdlVHJhbnNmb3JtVmFyaWFudHNJbmNsdWRlT3JpZ2luYWw6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAgICAgLy8gd2hpY2ggbmFtZSB0byBwcmVmaXggdGhlIG9yaWdpbmFsIGZpbGUgd2l0aFxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1WYXJpYW50c09yaWdpbmFsTmFtZTogWydvcmlnaW5hbF8nLCBUeXBlLlNUUklOR10sXG5cbiAgICAgICAgICAgIC8vIGNhbGxlZCBiZWZvcmUgY3JlYXRpbmcgdGhlIGJsb2IsIHJlY2VpdmVzIGNhbnZhcywgZXhwZWN0cyBwcm9taXNlIHJlc29sdmUgd2l0aCBjYW52YXNcbiAgICAgICAgICAgIGltYWdlVHJhbnNmb3JtQmVmb3JlQ3JlYXRlQmxvYjogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgICAgICAgICAvLyBleHBlY3RzIHByb21pc2UgcmVzb2x2ZWQgd2l0aCBibG9iXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybUFmdGVyQ3JlYXRlQmxvYjogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgICAgICAgICAvLyBjYW52YXMgbWVtb3J5IGxpbWl0XG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybUNhbnZhc01lbW9yeUxpbWl0OiBbaXNCcm93c2VyICYmIGlzSU9TID8gNDA5NiAqIDQwOTYgOiBudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgICAgIC8vIGJhY2tncm91bmQgaW1hZ2Ugb2YgdGhlIG91dHB1dCBjYW52YXNcbiAgICAgICAgICAgIGltYWdlVHJhbnNmb3JtQ2FudmFzQmFja2dyb3VuZENvbG9yOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuICAgICAgICB9LFxuICAgIH07XG59O1xuXG4vLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuaWYgKGlzQnJvd3Nlcikge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luO1xuIiwgIi8qIVxuICogRmlsZVBvbmRQbHVnaW5NZWRpYVByZXZpZXcgMS4wLjExXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IHVuZGVmaW5lZCBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5jb25zdCBpc1ByZXZpZXdhYmxlVmlkZW8gPSAoZmlsZSkgPT4gL152aWRlby8udGVzdChmaWxlLnR5cGUpO1xuXG5jb25zdCBpc1ByZXZpZXdhYmxlQXVkaW8gPSAoZmlsZSkgPT4gL15hdWRpby8udGVzdChmaWxlLnR5cGUpO1xuXG4oJ3VzZSBzdHJpY3QnKTtcblxuY2xhc3MgQXVkaW9QbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihtZWRpYUVsLCBhdWRpb0VsZW1zKSB7XG4gICAgdGhpcy5tZWRpYUVsID0gbWVkaWFFbDtcbiAgICB0aGlzLmF1ZGlvRWxlbXMgPSBhdWRpb0VsZW1zO1xuICAgIHRoaXMub25wbGF5aGVhZCA9IGZhbHNlO1xuICAgIHRoaXMuZHVyYXRpb24gPSAwO1xuICAgIHRoaXMudGltZWxpbmVXaWR0aCA9XG4gICAgICB0aGlzLmF1ZGlvRWxlbXMudGltZWxpbmUub2Zmc2V0V2lkdGggLVxuICAgICAgdGhpcy5hdWRpb0VsZW1zLnBsYXloZWFkLm9mZnNldFdpZHRoO1xuICAgIHRoaXMubW92ZXBsYXloZWFkRm4gPSB0aGlzLm1vdmVwbGF5aGVhZC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG5cbiAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5tZWRpYUVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAndGltZXVwZGF0ZScsXG4gICAgICB0aGlzLnRpbWVVcGRhdGUuYmluZCh0aGlzKSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICB0aGlzLm1lZGlhRWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdjYW5wbGF5dGhyb3VnaCcsXG4gICAgICAoKSA9PiAodGhpcy5kdXJhdGlvbiA9IHRoaXMubWVkaWFFbC5kdXJhdGlvbiksXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgdGhpcy5hdWRpb0VsZW1zLnRpbWVsaW5lLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnY2xpY2snLFxuICAgICAgdGhpcy50aW1lbGluZUNsaWNrZWQuYmluZCh0aGlzKSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICB0aGlzLmF1ZGlvRWxlbXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wbGF5LmJpbmQodGhpcykpO1xuICAgIHRoaXMuYXVkaW9FbGVtcy5wbGF5aGVhZC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ21vdXNlZG93bicsXG4gICAgICB0aGlzLm1vdXNlRG93bi5iaW5kKHRoaXMpLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgaWYgKHRoaXMubWVkaWFFbC5wYXVzZWQpIHtcbiAgICAgIHRoaXMubWVkaWFFbC5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVkaWFFbC5wYXVzZSgpO1xuICAgIH1cbiAgICB0aGlzLmF1ZGlvRWxlbXMuYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ3BsYXknKTtcbiAgICB0aGlzLmF1ZGlvRWxlbXMuYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ3BhdXNlJyk7XG4gIH1cblxuICB0aW1lVXBkYXRlKCkge1xuICAgIGxldCBwbGF5UGVyY2VudCA9ICh0aGlzLm1lZGlhRWwuY3VycmVudFRpbWUgLyB0aGlzLmR1cmF0aW9uKSAqIDEwMDtcbiAgICB0aGlzLmF1ZGlvRWxlbXMucGxheWhlYWQuc3R5bGUubWFyZ2luTGVmdCA9IHBsYXlQZXJjZW50ICsgJyUnO1xuICAgIGlmICh0aGlzLm1lZGlhRWwuY3VycmVudFRpbWUgPT09IHRoaXMuZHVyYXRpb24pIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgncGxheScpO1xuICAgICAgdGhpcy5hdWRpb0VsZW1zLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdwYXVzZScpO1xuICAgIH1cbiAgfVxuXG4gIG1vdmVwbGF5aGVhZChldmVudCkge1xuICAgIGxldCBuZXdNYXJnTGVmdCA9XG4gICAgICBldmVudC5jbGllbnRYIC0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLmF1ZGlvRWxlbXMudGltZWxpbmUpO1xuICAgIGlmIChuZXdNYXJnTGVmdCA+PSAwICYmIG5ld01hcmdMZWZ0IDw9IHRoaXMudGltZWxpbmVXaWR0aCkge1xuICAgICAgdGhpcy5hdWRpb0VsZW1zLnBsYXloZWFkLnN0eWxlLm1hcmdpbkxlZnQgPSBuZXdNYXJnTGVmdCArICdweCc7XG4gICAgfVxuICAgIGlmIChuZXdNYXJnTGVmdCA8IDApIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtcy5wbGF5aGVhZC5zdHlsZS5tYXJnaW5MZWZ0ID0gJzBweCc7XG4gICAgfVxuICAgIGlmIChuZXdNYXJnTGVmdCA+IHRoaXMudGltZWxpbmVXaWR0aCkge1xuICAgICAgdGhpcy5hdWRpb0VsZW1zLnBsYXloZWFkLnN0eWxlLm1hcmdpbkxlZnQgPSB0aGlzLnRpbWVsaW5lV2lkdGggLSA0ICsgJ3B4JztcbiAgICB9XG4gIH1cblxuICB0aW1lbGluZUNsaWNrZWQoZXZlbnQpIHtcbiAgICB0aGlzLm1vdmVwbGF5aGVhZChldmVudCk7XG4gICAgdGhpcy5tZWRpYUVsLmN1cnJlbnRUaW1lID0gdGhpcy5kdXJhdGlvbiAqIHRoaXMuY2xpY2tQZXJjZW50KGV2ZW50KTtcbiAgfVxuXG4gIG1vdXNlRG93bigpIHtcbiAgICB0aGlzLm9ucGxheWhlYWQgPSB0cnVlO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdmVwbGF5aGVhZEZuLCB0cnVlKTtcbiAgICB0aGlzLm1lZGlhRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0aW1ldXBkYXRlJyxcbiAgICAgIHRoaXMudGltZVVwZGF0ZS5iaW5kKHRoaXMpLFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9XG5cbiAgbW91c2VVcChldmVudCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdmVwbGF5aGVhZEZuLCB0cnVlKTtcbiAgICBpZiAodGhpcy5vbnBsYXloZWFkID09IHRydWUpIHtcbiAgICAgIHRoaXMubW92ZXBsYXloZWFkKGV2ZW50KTtcbiAgICAgIC8vIGNoYW5nZSBjdXJyZW50IHRpbWVcbiAgICAgIHRoaXMubWVkaWFFbC5jdXJyZW50VGltZSA9IHRoaXMuZHVyYXRpb24gKiB0aGlzLmNsaWNrUGVyY2VudChldmVudCk7XG4gICAgICB0aGlzLm1lZGlhRWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RpbWV1cGRhdGUnLFxuICAgICAgICB0aGlzLnRpbWVVcGRhdGUuYmluZCh0aGlzKSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMub25wbGF5aGVhZCA9IGZhbHNlO1xuICB9XG5cbiAgY2xpY2tQZXJjZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIChldmVudC5jbGllbnRYIC0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLmF1ZGlvRWxlbXMudGltZWxpbmUpKSAvXG4gICAgICB0aGlzLnRpbWVsaW5lV2lkdGhcbiAgICApO1xuICB9XG5cbiAgZ2V0UG9zaXRpb24oZWwpIHtcbiAgICByZXR1cm4gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgfVxufVxuXG5jb25zdCBjcmVhdGVNZWRpYVZpZXcgPSAoXykgPT5cbiAgXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnbWVkaWEtcHJldmlldycsXG4gICAgdGFnOiAnZGl2JyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGNyZWF0ZTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgY29uc3QgeyBpZCB9ID0gcHJvcHM7XG5cbiAgICAgIC8vIGdldCBpdGVtXG4gICAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCB7IGlkOiBwcm9wcy5pZCB9KTtcbiAgICAgIGxldCB0YWdOYW1lID0gaXNQcmV2aWV3YWJsZUF1ZGlvKGl0ZW0uZmlsZSkgPyAnYXVkaW8nIDogJ3ZpZGVvJztcblxuICAgICAgcm9vdC5yZWYubWVkaWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgICAgcm9vdC5yZWYubWVkaWEuc2V0QXR0cmlidXRlKCdjb250cm9scycsIHRydWUpO1xuICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKHJvb3QucmVmLm1lZGlhKTtcblxuICAgICAgaWYgKGlzUHJldmlld2FibGVBdWRpbyhpdGVtLmZpbGUpKSB7XG4gICAgICAgIGxldCBkb2NmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICByb290LnJlZi5hdWRpbyA9IFtdO1xuICAgICAgICAocm9vdC5yZWYuYXVkaW8uY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpLFxuICAgICAgICAgIChyb290LnJlZi5hdWRpby5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpLFxuICAgICAgICAgIChyb290LnJlZi5hdWRpby50aW1lbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSxcbiAgICAgICAgICAocm9vdC5yZWYuYXVkaW8ucGxheWhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG5cbiAgICAgICAgcm9vdC5yZWYuYXVkaW8uY29udGFpbmVyLmNsYXNzTmFtZSA9ICdhdWRpb3BsYXllcic7XG4gICAgICAgIHJvb3QucmVmLmF1ZGlvLmJ1dHRvbi5jbGFzc05hbWUgPSAncGxheXBhdXNlYnRuIHBsYXknO1xuICAgICAgICByb290LnJlZi5hdWRpby50aW1lbGluZS5jbGFzc05hbWUgPSAndGltZWxpbmUnO1xuICAgICAgICByb290LnJlZi5hdWRpby5wbGF5aGVhZC5jbGFzc05hbWUgPSAncGxheWhlYWQnO1xuXG4gICAgICAgIHJvb3QucmVmLmF1ZGlvLnRpbWVsaW5lLmFwcGVuZENoaWxkKHJvb3QucmVmLmF1ZGlvLnBsYXloZWFkKTtcbiAgICAgICAgcm9vdC5yZWYuYXVkaW8uY29udGFpbmVyLmFwcGVuZENoaWxkKHJvb3QucmVmLmF1ZGlvLmJ1dHRvbik7XG4gICAgICAgIHJvb3QucmVmLmF1ZGlvLmNvbnRhaW5lci5hcHBlbmRDaGlsZChyb290LnJlZi5hdWRpby50aW1lbGluZSk7XG4gICAgICAgIGRvY2ZyYWcuYXBwZW5kQ2hpbGQocm9vdC5yZWYuYXVkaW8uY29udGFpbmVyKTtcblxuICAgICAgICByb290LmVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jZnJhZyk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3cml0ZTogXy51dGlscy5jcmVhdGVSb3V0ZSh7XG4gICAgICBESURfTUVESUFfUFJFVklFV19MT0FEOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuXG4gICAgICAgIC8vIGdldCBpdGVtXG4gICAgICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgICAgICBsZXQgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuICAgICAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtpdGVtLmZpbGVdLCB7IHR5cGU6IGl0ZW0uZmlsZS50eXBlIH0pO1xuXG4gICAgICAgIHJvb3QucmVmLm1lZGlhLnR5cGUgPSBpdGVtLmZpbGUudHlwZTtcbiAgICAgICAgcm9vdC5yZWYubWVkaWEuc3JjID1cbiAgICAgICAgICAoaXRlbS5maWxlLm1vY2sgJiYgaXRlbS5maWxlLnVybCkgfHwgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuICAgICAgICAvLyBjcmVhdGUgYXVkaW8gcGxheWVyIGluIGNhc2Ugb2YgYXVkaW8gZmlsZVxuICAgICAgICBpZiAoaXNQcmV2aWV3YWJsZUF1ZGlvKGl0ZW0uZmlsZSkpIHtcbiAgICAgICAgICBuZXcgQXVkaW9QbGF5ZXIocm9vdC5yZWYubWVkaWEsIHJvb3QucmVmLmF1ZGlvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSBkaW1lbnNpb25zIGFuZCB1cGRhdGUgcGFuZWwgYWNjb3JkaW5nbHlcbiAgICAgICAgcm9vdC5yZWYubWVkaWEuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAnbG9hZGVkZGF0YScsXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IDc1OyAvLyBkZWZhdWx0IGhlaWdodCBmb3IgYXVkaW8gcGFuZWxcbiAgICAgICAgICAgIGlmIChpc1ByZXZpZXdhYmxlVmlkZW8oaXRlbS5maWxlKSkge1xuICAgICAgICAgICAgICBsZXQgY29udGFpbmVyV2lkdGggPSByb290LnJlZi5tZWRpYS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgbGV0IGZhY3RvciA9IHJvb3QucmVmLm1lZGlhLnZpZGVvV2lkdGggLyBjb250YWluZXJXaWR0aDtcbiAgICAgICAgICAgICAgaGVpZ2h0ID0gcm9vdC5yZWYubWVkaWEudmlkZW9IZWlnaHQgLyBmYWN0b3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9VUERBVEVfUEFORUxfSEVJR0hUJywge1xuICAgICAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9KSxcbiAgfSk7XG5cbmNvbnN0IGNyZWF0ZU1lZGlhV3JhcHBlclZpZXcgPSAoXykgPT4ge1xuICAvKipcbiAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiBwcmV2aWV3IGNvbnRhaW5lciBoYXMgYmVlbiBjcmVhdGVkXG4gICAqL1xuICBjb25zdCBkaWRDcmVhdGVQcmV2aWV3Q29udGFpbmVyID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgIC8vIHRoZSBwcmV2aWV3IGlzIG5vdyByZWFkeSB0byBiZSBkcmF3blxuICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9NRURJQV9QUkVWSUVXX0xPQUQnLCB7XG4gICAgICBpZCxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0IGNyZWF0ZSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICBjb25zdCBtZWRpYSA9IGNyZWF0ZU1lZGlhVmlldyhfKTtcblxuICAgIC8vIGFwcGVuZCBtZWRpYSBwcmVzZW50ZXJcbiAgICByb290LnJlZi5tZWRpYSA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcobWVkaWEsIHtcbiAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdtZWRpYS1wcmV2aWV3LXdyYXBwZXInLFxuICAgIGNyZWF0ZSxcbiAgICB3cml0ZTogXy51dGlscy5jcmVhdGVSb3V0ZSh7XG4gICAgICAvLyBtZWRpYSBwcmV2aWV3IHN0YXRlZFxuICAgICAgRElEX01FRElBX1BSRVZJRVdfQ09OVEFJTkVSX0NSRUFURTogZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcixcbiAgICB9KSxcbiAgfSk7XG59O1xuXG4vKipcbiAqIE1lZGlhIFByZXZpZXcgUGx1Z2luXG4gKi9cbmNvbnN0IHBsdWdpbiA9IChmcEFQSSkgPT4ge1xuICBjb25zdCB7IGFkZEZpbHRlciwgdXRpbHMgfSA9IGZwQVBJO1xuICBjb25zdCB7IFR5cGUsIGNyZWF0ZVJvdXRlIH0gPSB1dGlscztcbiAgY29uc3QgbWVkaWFXcmFwcGVyVmlldyA9IGNyZWF0ZU1lZGlhV3JhcHBlclZpZXcoZnBBUEkpO1xuXG4gIC8vIGNhbGxlZCBmb3IgZWFjaCB2aWV3IHRoYXQgaXMgY3JlYXRlZCByaWdodCBhZnRlciB0aGUgJ2NyZWF0ZScgbWV0aG9kXG4gIGFkZEZpbHRlcignQ1JFQVRFX1ZJRVcnLCAodmlld0FQSSkgPT4ge1xuICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY3JlYXRlZCB2aWV3XG4gICAgY29uc3QgeyBpcywgdmlldywgcXVlcnkgfSA9IHZpZXdBUEk7XG5cbiAgICAvLyBvbmx5IGhvb2sgdXAgdG8gaXRlbSB2aWV3XG4gICAgaWYgKCFpcygnZmlsZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIHRoZSBtZWRpYSBwcmV2aWV3IHBsdWdpbiwgYnV0IG9ubHkgZG8gc28gaWYgdGhlIGl0ZW0gaXMgdmlkZW8gb3IgYXVkaW9cbiAgICBjb25zdCBkaWRMb2FkSXRlbSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuICAgICAgY29uc3QgaXRlbSA9IHF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICAgIGNvbnN0IGFsbG93VmlkZW9QcmV2aWV3ID0gcXVlcnkoJ0dFVF9BTExPV19WSURFT19QUkVWSUVXJyk7XG4gICAgICBjb25zdCBhbGxvd0F1ZGlvUHJldmlldyA9IHF1ZXJ5KCdHRVRfQUxMT1dfQVVESU9fUFJFVklFVycpO1xuXG4gICAgICBpZiAoXG4gICAgICAgICFpdGVtIHx8XG4gICAgICAgIGl0ZW0uYXJjaGl2ZWQgfHxcbiAgICAgICAgKCghaXNQcmV2aWV3YWJsZVZpZGVvKGl0ZW0uZmlsZSkgfHwgIWFsbG93VmlkZW9QcmV2aWV3KSAmJlxuICAgICAgICAgICghaXNQcmV2aWV3YWJsZUF1ZGlvKGl0ZW0uZmlsZSkgfHwgIWFsbG93QXVkaW9QcmV2aWV3KSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBwcmV2aWV3IHZpZXdcbiAgICAgIHJvb3QucmVmLm1lZGlhUHJldmlldyA9IHZpZXcuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICB2aWV3LmNyZWF0ZUNoaWxkVmlldyhtZWRpYVdyYXBwZXJWaWV3LCB7IGlkIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBub3cgcmVhZHlcbiAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9NRURJQV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEUnLCB7IGlkIH0pO1xuICAgIH07XG5cbiAgICAvLyBzdGFydCB3cml0aW5nXG4gICAgdmlldy5yZWdpc3RlcldyaXRlcihcbiAgICAgIGNyZWF0ZVJvdXRlKFxuICAgICAgICB7XG4gICAgICAgICAgRElEX0xPQURfSVRFTTogZGlkTG9hZEl0ZW0sXG4gICAgICAgIH0sXG4gICAgICAgICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcbiAgICAgICAgICBjb25zdCBpdGVtID0gcXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuICAgICAgICAgIGNvbnN0IGFsbG93VmlkZW9QcmV2aWV3ID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1ZJREVPX1BSRVZJRVcnKTtcbiAgICAgICAgICBjb25zdCBhbGxvd0F1ZGlvUHJldmlldyA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19BVURJT19QUkVWSUVXJyk7XG5cbiAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyB3aGlsZSBub3QgYSB2aWRlbyBvciBhdWRpbyBmaWxlIG9yIGhpZGRlblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFpdGVtIHx8XG4gICAgICAgICAgICAoKCFpc1ByZXZpZXdhYmxlVmlkZW8oaXRlbS5maWxlKSB8fCAhYWxsb3dWaWRlb1ByZXZpZXcpICYmXG4gICAgICAgICAgICAgICghaXNQcmV2aWV3YWJsZUF1ZGlvKGl0ZW0uZmlsZSkgfHwgIWFsbG93QXVkaW9QcmV2aWV3KSkgfHxcbiAgICAgICAgICAgIHJvb3QucmVjdC5lbGVtZW50LmhpZGRlblxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xuXG4gIC8vIGV4cG9zZSBwbHVnaW5cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBhbGxvd1ZpZGVvUHJldmlldzogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG4gICAgICBhbGxvd0F1ZGlvUHJldmlldzogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG4gICAgfSxcbiAgfTtcbn07XG5cbi8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG5jb25zdCBpc0Jyb3dzZXIgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmlmIChpc0Jyb3dzZXIpIHtcbiAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSlcbiAgKTtcbn1cblxuZXhwb3J0IHsgcGx1Z2luIGFzIGRlZmF1bHQgfTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHUwNjI3XHUwNjMzXHUwNjJEXHUwNjI4IFx1MDY0OCBcdTA2MjdcdTA2MkZcdTA2MzFcdTA2MkMgXHUwNjQ1XHUwNjQ0XHUwNjQxXHUwNjI3XHUwNjJBXHUwNjQzIFx1MDYyM1x1MDY0OCA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gXHUwNjJBXHUwNjM1XHUwNjQxXHUwNjJEIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnXHUwNjI3XHUwNjQ0XHUwNjJEXHUwNjQyXHUwNjQ0IFx1MDY0QVx1MDYyRFx1MDYyQVx1MDY0OFx1MDY0QSBcdTA2MzlcdTA2NDRcdTA2NDkgXHUwNjQ1XHUwNjQ0XHUwNjQxXHUwNjI3XHUwNjJBIFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2MzVcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MjknLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnXHUwNjI4XHUwNjI3XHUwNjQ2XHUwNjJBXHUwNjM4XHUwNjI3XHUwNjMxIFx1MDYyN1x1MDY0NFx1MDYyRFx1MDYyQ1x1MDY0NScsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ1x1MDYyN1x1MDY0NFx1MDYyRFx1MDYyQ1x1MDY0NSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjJBXHUwNjI3XHUwNjJEJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnXHUwNjI4XHUwNjI3XHUwNjQ0XHUwNjI1XHUwNjQ2XHUwNjJBXHUwNjM4XHUwNjI3XHUwNjMxJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdcdTA2MkRcdTA2MkZcdTA2MkIgXHUwNjJFXHUwNjM3XHUwNjIzIFx1MDYyM1x1MDYyQlx1MDY0Nlx1MDYyN1x1MDYyMSBcdTA2MjdcdTA2NDRcdTA2MkFcdTA2MkRcdTA2NDVcdTA2NEFcdTA2NDQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdcdTA2NEFcdTA2MkFcdTA2NDUgXHUwNjI3XHUwNjQ0XHUwNjMxXHUwNjQxXHUwNjM5JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdcdTA2MkFcdTA2NDUgXHUwNjI3XHUwNjQ0XHUwNjMxXHUwNjQxXHUwNjM5JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1x1MDYyQVx1MDY0NSBcdTA2MjVcdTA2NDRcdTA2M0FcdTA2MjdcdTA2MjEgXHUwNjI3XHUwNjQ0XHUwNjMxXHUwNjQxXHUwNjM5JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdcdTA2MkRcdTA2MkZcdTA2MkIgXHUwNjJFXHUwNjM3XHUwNjIzIFx1MDYyM1x1MDYyQlx1MDY0Nlx1MDYyN1x1MDYyMSBcdTA2MjdcdTA2NDRcdTA2MzFcdTA2NDFcdTA2MzknLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ1x1MDYyRFx1MDYyRlx1MDYyQiBcdTA2MkVcdTA2MzdcdTA2MjMgXHUwNjIzXHUwNjJCXHUwNjQ2XHUwNjI3XHUwNjIxIFx1MDYyN1x1MDY0NFx1MDYyQVx1MDYzMVx1MDYyN1x1MDYyQ1x1MDYzOScsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdcdTA2MkRcdTA2MkZcdTA2MkIgXHUwNjJFXHUwNjM3XHUwNjIzIFx1MDYyM1x1MDYyQlx1MDY0Nlx1MDYyN1x1MDYyMSBcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MzBcdTA2NDEnLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICdcdTA2MjdcdTA2NDZcdTA2NDJcdTA2MzEgXHUwNjQ0XHUwNjQ0XHUwNjI1XHUwNjQ0XHUwNjNBXHUwNjI3XHUwNjIxJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdcdTA2MjdcdTA2NDZcdTA2NDJcdTA2MzEgXHUwNjQ0XHUwNjI1XHUwNjM5XHUwNjI3XHUwNjJGXHUwNjI5IFx1MDYyN1x1MDY0NFx1MDY0NVx1MDYyRFx1MDYyN1x1MDY0OFx1MDY0NFx1MDYyOScsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdcdTA2MjdcdTA2NDZcdTA2NDJcdTA2MzEgXHUwNjQ0XHUwNjQ0XHUwNjJBXHUwNjMxXHUwNjI3XHUwNjJDXHUwNjM5JyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdcdTA2NDVcdTA2MzNcdTA2MkQnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ1x1MDYyNVx1MDY0NFx1MDYzQVx1MDYyN1x1MDYyMScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnXHUwNjI1XHUwNjM5XHUwNjI3XHUwNjJGXHUwNjI5JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdcdTA2MjVcdTA2NDRcdTA2M0FcdTA2MjdcdTA2MjEnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnXHUwNjJBXHUwNjMxXHUwNjI3XHUwNjJDXHUwNjM5JyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdcdTA2MjVcdTA2MzlcdTA2MjdcdTA2MkZcdTA2MjknLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdcdTA2MzFcdTA2NDFcdTA2MzknLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ1x1MDYyN1x1MDY0NFx1MDY0NVx1MDY0NFx1MDY0MSBcdTA2NDNcdTA2MjhcdTA2NEFcdTA2MzEgXHUwNjJDXHUwNjJGXHUwNjI3JyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnXHUwNjJEXHUwNjJDXHUwNjQ1IFx1MDYyN1x1MDY0NFx1MDY0NVx1MDY0NFx1MDY0MSBcdTA2MjdcdTA2NDRcdTA2MjNcdTA2NDJcdTA2MzVcdTA2NDk6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnXHUwNjJBXHUwNjQ1IFx1MDYyQVx1MDYyQ1x1MDYyN1x1MDY0OFx1MDYzMiBcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MkYgXHUwNjI3XHUwNjQ0XHUwNjIzXHUwNjQyXHUwNjM1XHUwNjQ5IFx1MDY0NFx1MDY0NFx1MDYyRFx1MDYyQ1x1MDY0NSBcdTA2MjdcdTA2NDRcdTA2MjVcdTA2MkNcdTA2NDVcdTA2MjdcdTA2NDRcdTA2NEEnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ1x1MDYyN1x1MDY0NFx1MDYyRFx1MDYyRiBcdTA2MjdcdTA2NDRcdTA2MjNcdTA2NDJcdTA2MzVcdTA2NDkgXHUwNjQ0XHUwNjJEXHUwNjJDXHUwNjQ1IFx1MDYyN1x1MDY0NFx1MDY0NVx1MDY0NFx1MDY0MToge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdcdTA2NDVcdTA2NDRcdTA2NDEgXHUwNjQ1XHUwNjQ2IFx1MDY0Nlx1MDY0OFx1MDYzOSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjM1XHUwNjI3XHUwNjQ0XHUwNjJEJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnXHUwNjJBXHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IHthbGxCdXRMYXN0VHlwZX0gXHUwNjQ1XHUwNjQ2IHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ1x1MDY0Nlx1MDY0OFx1MDYzOSBcdTA2MjdcdTA2NDRcdTA2MzVcdTA2NDhcdTA2MzFcdTA2MjkgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDYyRlx1MDYzOVx1MDY0OFx1MDY0NScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb1NtYWxsOiAnXHUwNjI3XHUwNjQ0XHUwNjM1XHUwNjQ4XHUwNjMxXHUwNjI5IFx1MDYzNVx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2MkNcdTA2MkZcdTA2MjcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdcdTA2MjdcdTA2NDRcdTA2MzVcdTA2NDhcdTA2MzFcdTA2MjkgXHUwNjQzXHUwNjI4XHUwNjRBXHUwNjMxXHUwNjI5IFx1MDYyQ1x1MDYyRlx1MDYyNycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ1x1MDYyN1x1MDY0NFx1MDYyRFx1MDYyRiBcdTA2MjdcdTA2NDRcdTA2MjNcdTA2MkZcdTA2NDZcdTA2NDkgXHUwNjQ0XHUwNjQ0XHUwNjIzXHUwNjI4XHUwNjM5XHUwNjI3XHUwNjJGIFx1MDY0N1x1MDY0ODoge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MkYgXHUwNjI3XHUwNjQ0XHUwNjIzXHUwNjQyXHUwNjM1XHUwNjQ5IFx1MDY0NFx1MDY0NFx1MDYyM1x1MDYyOFx1MDYzOVx1MDYyN1x1MDYyRiBcdTA2NDdcdTA2NDg6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwNjI3XHUwNjQ0XHUwNjJGXHUwNjQyXHUwNjI5IFx1MDYzNlx1MDYzOVx1MDY0QVx1MDY0MVx1MDYyOSBcdTA2MkNcdTA2MkZcdTA2MjcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnXHUwNjI3XHUwNjQ0XHUwNjJGXHUwNjQyXHUwNjI5IFx1MDY0NVx1MDYzMVx1MDYyQVx1MDY0MVx1MDYzOVx1MDYyOSBcdTA2MkNcdTA2MkZcdTA2MjcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdcdTA2MjNcdTA2NDJcdTA2NDQgXHUwNjJGXHUwNjQyXHUwNjI5OiB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdcdTA2MjNcdTA2NDJcdTA2MzVcdTA2NDkgXHUwNjJGXHUwNjQyXHUwNjI5OiB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdQXHUwMTU5ZXRcdTAwRTFoblx1MDExQnRlIHNvdWJvciBzZW0gKGRyYWcmZHJvcCkgbmVibyA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gVnlobGVkYXQgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdQb2xlIG9ic2FodWplIGNoeWJuXHUwMEU5IHNvdWJvcnknLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnWmppXHUwMTYxXHUwMTY1dWplIHNlIHZlbGlrb3N0JyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnVmVsaWtvc3QgbmVuXHUwMEVEIHpuXHUwMEUxbVx1MDBFMScsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ1BcdTAxNTllblx1MDBFMVx1MDE2MVx1MDBFRCBzZScsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnQ2h5YmEgcFx1MDE1OWkgcFx1MDE1OWVub3N1JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnUHJvYlx1MDBFRGhcdTAwRTEgdXBsb2FkJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdVcGxvYWQgZG9rb25cdTAxMERlbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdVcGxvYWQgc3Rvcm5vdlx1MDBFMW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0NoeWJhIHBcdTAxNTlpIHVwbG9hZHUnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0NoeWJhIHBcdTAxNTlpIG9ibm92XHUwMTFCJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ0NoeWJhIHBcdTAxNTlpIG9kc3RyYW5cdTAxMUJuXHUwMEVEJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAna2xlcG5cdTAxMUJ0ZSBwcm8gc3Rvcm5vJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdrbGVwblx1MDExQnRlIHBybyBvcGFrb3ZcdTAwRTFuXHUwMEVEJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ2tsZXBuXHUwMTFCdGUgcHJvIHZyXHUwMEUxY2VuXHUwMEVEJyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdPZHN0cmFuaXQnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ1N0b3JubycsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnT3Bha292YXQnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ1pwXHUwMTFCdCcsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdWclx1MDBFMXRpdCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnT3Bha292YXQnLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdVcGxvYWQnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ1NvdWJvciBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgdmVsa1x1MDBGRCcsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ05lanZcdTAxMUJ0XHUwMTYxXHUwMEVEIHZlbGlrb3N0IHNvdWJvcnUgamUge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdQXHUwMTU5ZWtyb1x1MDEwRGVuYSBtYXhpbVx1MDBFMWxuXHUwMEVEIGNlbGtvdlx1MDBFMSB2ZWxpa29zdCBzb3Vib3J1JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdNYXhpbVx1MDBFMWxuXHUwMEVEIGNlbGtvdlx1MDBFMSB2ZWxpa29zdCBzb3Vib3J1IGplIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnU291Ym9yIGplIG5lc3ByXHUwMEUxdm5cdTAwRTlobyB0eXB1JyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnT1x1MDEwRGVrXHUwMEUxdlx1MDBFMSBzZSB7YWxsQnV0TGFzdFR5cGV9IG5lYm8ge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnT2JyXHUwMEUxemVrIHRvaG90byB0eXB1IG5lblx1MDBFRCBwb2Rwb3Jvdlx1MDBFMW4nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ09iclx1MDBFMXplayBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgbWFsXHUwMEZEJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnT2JyXHUwMEUxemVrIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSB2ZWxrXHUwMEZEJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiAnTWluaW1cdTAwRTFsblx1MDBFRCByb3ptXHUwMTFCciBqZSB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01heGltXHUwMEUxbG5cdTAwRUQgcm96bVx1MDExQnIgamUge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6ICdSb3psaVx1MDE2MWVuXHUwMEVEIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSBtYWxcdTAwRTknLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnUm96bGlcdTAxNjFlblx1MDBFRCBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgdmVsa1x1MDBFOScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ01pbmltXHUwMEUxbG5cdTAwRUQgcm96bGlcdTAxNjFlblx1MDBFRCBqZSB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdNYXhpbVx1MDBFMWxuXHUwMEVEIHJvemxpXHUwMTYxZW5cdTAwRUQgamUge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOlxuICAgICAgICAnVHJcdTAwRTZrICYgc2xpcCBmaWxlciBlbGxlciA8c3BhbiBjbGFzcyA9IFwiZmlsZXBvbmQgLSBsYWJlbC1hY3Rpb25cIj4gR2VubmVtc2UgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdGZWx0IGluZGVob2xkZXIgdWd5bGRpZ2UgZmlsZXInLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnVmVudGVyIHBcdTAwRTUgc3RcdTAwRjhycmVsc2UnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdTdFx1MDBGOHJyZWxzZSBpa2tlIHRpbGdcdTAwRTZuZ2VsaWcnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdMb2FkZXInLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0xvYWQgZmVqbGVkZScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ1VwbG9hZGVyJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdVcGxvYWQgZlx1MDBFNnJkaWcnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnVXBsb2FkIGFubnVsbGVyZXQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1VwbG9hZCBmZWpsZWRlJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdGb3J0cnlkIGZlamxlZGUnLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRmplcm4gZmVqbGVkZScsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ3RyeWsgZm9yIGF0IGFubnVsbGVyZScsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAndHJ5ayBmb3IgYXQgcHJcdTAwRjh2ZSBpZ2VuJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ3RyeWsgZm9yIGF0IGZvcnRyeWRlJyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdGamVybicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnQW5udWxsZXInLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ0ZvcnNcdTAwRjhnIGlnZW4nLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ0FubnVsbGVyJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0ZvcnRyeWQnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1ByXHUwMEY4diBpZ2VuJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnVXBsb2FkJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdGaWxlbiBlciBmb3Igc3RvcicsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ01ha3NpbWFsIGZpbHN0XHUwMEY4cnJlbHNlIGVyIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnTWFrc2ltYWwgdG90YWxzdFx1MDBGOHJyZWxzZSBvdmVyc2tyZWRldCcsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnTWFrc2ltYWwgdG90YWwgZmlsc3RcdTAwRjhycmVsc2UgZXIge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdVZ3lsZGlnIGZpbHR5cGUnLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdGb3J2ZW50ZXIge2FsbEJ1dExhc3RUeXBlfSBlbGxlciB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdVZ3lsZGlndCBmb3JtYXQnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0JpbGxlZGV0IGVyIGZvciBsaWxsZScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0JpbGxlZGV0IGVyIGZvciBzdG9ydCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltdW0gc3RcdTAwRjhycmVsc2UgZXIge21pbkJyZWRkZX0gXHUwMEQ3IHttaW5IXHUwMEY4amRlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01ha3NpbWFsIHN0XHUwMEY4cnJlbHNlIGVyIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnRm9yIGxhdiBvcGxcdTAwRjhzbmluZycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdGb3IgaFx1MDBGOGogb3BsXHUwMEY4c25pbmcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdNaW5pbXVtIG9wbFx1MDBGOHNuaW5nIGVyIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01ha3NpbWFsIG9wbFx1MDBGOHNuaW5nIGVyIHttYXhSZXNvbHV0aW9ufScsXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEYXRlaWVuIGFibGVnZW4gb2RlciA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gYXVzd1x1MDBFNGhsZW4gPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdGZWxkIGJlaW5oYWx0ZXQgdW5nXHUwMEZDbHRpZ2UgRGF0ZWllbicsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdEYXRlaWdyXHUwMEY2XHUwMERGZSBiZXJlY2huZW4nLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdEYXRlaWdyXHUwMEY2XHUwMERGZSBuaWNodCB2ZXJmXHUwMEZDZ2JhcicsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ0xhZGVuJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdGZWhsZXIgYmVpbSBMYWRlbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ1VwbG9hZCBsXHUwMEU0dWZ0JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdVcGxvYWQgYWJnZXNjaGxvc3NlbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdVcGxvYWQgYWJnZWJyb2NoZW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0ZlaGxlciBiZWltIFVwbG9hZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnRmVobGVyIGJlaW0gV2llZGVyaGVyc3RlbGxlbicsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdGZWhsZXIgYmVpbSBMXHUwMEY2c2NoZW4nLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICdhYmJyZWNoZW4nLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ2VybmV1dCB2ZXJzdWNoZW4nLFxuICAgIGxhYmVsVGFwVG9VbmRvOiAnclx1MDBGQ2NrZ1x1MDBFNG5naWcnLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ0VudGZlcm5lbicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnVmVyd2VyZmVuJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdFcm5ldXQgdmVyc3VjaGVuJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdBYmJyZWNoZW4nLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnUlx1MDBGQ2NrZ1x1MDBFNG5naWcnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ0VybmV1dCB2ZXJzdWNoZW4nLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdVcGxvYWQnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ0RhdGVpIGlzdCB6dSBncm9cdTAwREYnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdNYXhpbWFsZSBEYXRlaWdyXHUwMEY2XHUwMERGZToge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdNYXhpbWFsZSBnZXNhbXRlIERhdGVpZ3JcdTAwRjZcdTAwREZlIFx1MDBGQ2JlcnNjaHJpdHRlbicsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnTWF4aW1hbGUgZ2VzYW10ZSBEYXRlaWdyXHUwMEY2XHUwMERGZToge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdEYXRlaXR5cCB1bmdcdTAwRkNsdGlnJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnRXJ3YXJ0ZXQge2FsbEJ1dExhc3RUeXBlfSBvZGVyIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0JpbGR0eXAgbmljaHQgdW50ZXJzdFx1MDBGQ3R6dCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb1NtYWxsOiAnQmlsZCBpc3QgenUga2xlaW4nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdCaWxkIGlzdCB6dSBncm9cdTAwREYnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdNaW5kZXN0Z3JcdTAwRjZcdTAwREZlOiB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01heGltYWxlIEdyXHUwMEY2XHUwMERGZToge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6ICdBdWZsXHUwMEY2c3VuZyBpc3QgenUgbmllZHJpZycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdBdWZsXHUwMEY2c3VuZyBpc3QgenUgaG9jaCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ01pbmRlc3RhdWZsXHUwMEY2c3VuZzoge21pblJlc29sdXRpb259JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiAnTWF4aW1hbGUgQXVmbFx1MDBGNnN1bmc6IHttYXhSZXNvbHV0aW9ufSdcbiAgfTsiLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTogJ0RyYWcgJiBEcm9wIHlvdXIgZmlsZXMgb3IgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IEJyb3dzZSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0ZpZWxkIGNvbnRhaW5zIGludmFsaWQgZmlsZXMnLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnV2FpdGluZyBmb3Igc2l6ZScsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ1NpemUgbm90IGF2YWlsYWJsZScsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ0xvYWRpbmcnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0Vycm9yIGR1cmluZyBsb2FkJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnVXBsb2FkaW5nJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdVcGxvYWQgY29tcGxldGUnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnVXBsb2FkIGNhbmNlbGxlZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnRXJyb3IgZHVyaW5nIHVwbG9hZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnRXJyb3IgZHVyaW5nIHJldmVydCcsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdFcnJvciBkdXJpbmcgcmVtb3ZlJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAndGFwIHRvIGNhbmNlbCcsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAndGFwIHRvIHJldHJ5JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ3RhcCB0byB1bmRvJyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdSZW1vdmUnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0Fib3J0JyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdSZXRyeScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnQ2FuY2VsJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1VuZG8nLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1JldHJ5JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnVXBsb2FkJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdGaWxlIGlzIHRvbyBsYXJnZScsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ01heGltdW0gZmlsZSBzaXplIGlzIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnTWF4aW11bSB0b3RhbCBzaXplIGV4Y2VlZGVkJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdNYXhpbXVtIHRvdGFsIGZpbGUgc2l6ZSBpcyB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ0ZpbGUgb2YgaW52YWxpZCB0eXBlJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnRXhwZWN0cyB7YWxsQnV0TGFzdFR5cGV9IG9yIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0ltYWdlIHR5cGUgbm90IHN1cHBvcnRlZCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb1NtYWxsOiAnSW1hZ2UgaXMgdG9vIHNtYWxsJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnSW1hZ2UgaXMgdG9vIGJpZycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltdW0gc2l6ZSBpcyB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01heGltdW0gc2l6ZSBpcyB7bWF4V2lkdGh9IFx1MDBENyB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1Jlc29sdXRpb24gaXMgdG9vIGxvdycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdSZXNvbHV0aW9uIGlzIHRvbyBoaWdoJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluaW11bSByZXNvbHV0aW9uIGlzIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01heGltdW0gcmVzb2x1dGlvbiBpcyB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdBcnJhc3RyYSB5IHN1ZWx0YSB0dXMgYXJjaGl2b3MgbyA8c3BhbiBjbGFzcyA9IFwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBFeGFtaW5hciA8c3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiBcIkVsIGNhbXBvIGNvbnRpZW5lIGFyY2hpdm9zIGludlx1MDBFMWxpZG9zXCIsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6IFwiRXNwZXJhbmRvIHRhbWFcdTAwRjFvXCIsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogXCJUYW1hXHUwMEYxbyBubyBkaXNwb25pYmxlXCIsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogXCJDYXJnYW5kb1wiLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogXCJFcnJvciBkdXJhbnRlIGxhIGNhcmdhXCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogXCJDYXJnYW5kb1wiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogXCJDYXJnYSBjb21wbGV0YVwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiBcIkNhcmdhIGNhbmNlbGFkYVwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogXCJFcnJvciBkdXJhbnRlIGxhIGNhcmdhXCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiBcIkVycm9yIGR1cmFudGUgbGEgcmV2ZXJzaVx1MDBGM25cIixcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogXCJFcnJvciBkdXJhbnRlIGxhIGVsaW1pbmFjaVx1MDBGM25cIixcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiBcInRvY2EgcGFyYSBjYW5jZWxhclwiLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogXCJ0b2NhciBwYXJhIHZvbHZlciBhIGludGVudGFyXCIsXG4gICAgbGFiZWxUYXBUb1VuZG86IFwidG9jYXIgcGFyYSBkZXNoYWNlclwiLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogXCJFbGltaW5hclwiLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogXCJBYm9ydGFyXCIsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiBcIlJlaW50ZW50YXJcIixcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IFwiQ2FuY2VsYXJcIixcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogXCJEZXNoYWNlclwiLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogXCJSZWludGVudGFyXCIsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogXCJDYXJnYXJcIixcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6IFwiRWwgYXJjaGl2byBlcyBkZW1hc2lhZG8gZ3JhbmRlXCIsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogXCJFbCB0YW1hXHUwMEYxbyBtXHUwMEUxeGltbyBkZWwgYXJjaGl2byBlcyB7ZmlsZXNpemV9XCIsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6IFwiVGFtYVx1MDBGMW8gdG90YWwgbVx1MDBFMXhpbW8gZXhjZWRpZG9cIixcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6IFwiRWwgdGFtYVx1MDBGMW8gdG90YWwgbVx1MDBFMXhpbW8gZGVsIGFyY2hpdm8gZXMge2ZpbGVzaXplfVwiLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiBcIkFyY2hpdm8gZGUgdGlwbyBubyB2XHUwMEUxbGlkb1wiLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6IFwiRXNwZXJhIHthbGxCdXRMYXN0VHlwZX0gbyB7bGFzdFR5cGV9XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiBcIlRpcG8gZGUgaW1hZ2VuIG5vIGNvbXBhdGlibGVcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6IFwiTGEgaW1hZ2VuIGVzIGRlbWFzaWFkbyBwZXF1ZVx1MDBGMWFcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiBcIkxhIGltYWdlbiBlcyBkZW1hc2lhZG8gZ3JhbmRlXCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogXCJFbCB0YW1hXHUwMEYxbyBtXHUwMEVEbmltbyBlcyB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6IFwiRWwgdGFtYVx1MDBGMW8gbVx1MDBFMXhpbW8gZXMge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiBcIkxhIHJlc29sdWNpXHUwMEYzbiBlcyBkZW1hc2lhZG8gYmFqYVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiBcIkxhIHJlc29sdWNpXHUwMEYzbiBlcyBkZW1hc2lhZG8gYWx0YVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246IFwiTGEgcmVzb2x1Y2lcdTAwRjNuIG1cdTAwRURuaW1hIGVzIHttaW5SZXNvbHV0aW9ufVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246IFwiTGEgcmVzb2x1Y2lcdTAwRjNuIG1cdTAwRTF4aW1hIGVzIHttYXhSZXNvbHV0aW9ufVwiLFxufTsiLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTogJ1x1MDY0MVx1MDYyN1x1MDZDQ1x1MDY0NCBcdTA2MzFcdTA2MjcgXHUwNjI3XHUwNkNDXHUwNjQ2XHUwNjJDXHUwNjI3IFx1MDYyOFx1MDZBOVx1MDYzNFx1MDZDQ1x1MDYyRiBcdTA2NDggXHUwNjMxXHUwNjQ3XHUwNjI3IFx1MDZBOVx1MDY0Nlx1MDZDQ1x1MDYyRlx1MDYwQyBcdTA2Q0NcdTA2MjcgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFx1MDYyQ1x1MDYzM1x1MDYyQVx1MDYyQ1x1MDY0OCBcdTA2QTlcdTA2NDZcdTA2Q0NcdTA2MkYgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdcdTA2NDFcdTA2Q0NcdTA2NDRcdTA2MkYgXHUwNjJGXHUwNjI3XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDY0MVx1MDYyN1x1MDZDQ1x1MDY0NCBcdTA2NDdcdTA2MjdcdTA2Q0MgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxIFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdXYWl0aW5nIGZvciBzaXplJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHUwNjJEXHUwNjJDXHUwNjQ1IFx1MDY0MVx1MDYyN1x1MDZDQ1x1MDY0NCBcdTA2NDVcdTA2MkNcdTA2MjdcdTA2MzIgXHUwNjQ2XHUwNkNDXHUwNjMzXHUwNjJBJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnXHUwNjJGXHUwNjMxXHUwNjJEXHUwNjI3XHUwNjQ0IFx1MDYyOFx1MDYyN1x1MDYzMVx1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQycsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnXHUwNjJFXHUwNjM3XHUwNjI3IFx1MDYyRlx1MDYzMSBcdTA2MzJcdTA2NDVcdTA2MjdcdTA2NDYgXHUwNjI3XHUwNjJDXHUwNjMxXHUwNjI3JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnXHUwNjJGXHUwNjMxXHUwNjJEXHUwNjI3XHUwNjQ0IFx1MDYyOFx1MDYyN1x1MDYzMVx1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnXHUwNjI4XHUwNjI3XHUwNjMxXHUwNkFGXHUwNjMwXHUwNjI3XHUwNjMxXHUwNkNDIFx1MDZBOVx1MDYyN1x1MDY0NVx1MDY0NCBcdTA2MzRcdTA2MkYnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnXHUwNjI4XHUwNjI3XHUwNjMxXHUwNkFGXHUwNjMwXHUwNjI3XHUwNjMxXHUwNkNDIFx1MDY0NFx1MDYzQVx1MDY0OCBcdTA2MzRcdTA2MkYnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1MDYyRVx1MDYzN1x1MDYyNyBcdTA2MkZcdTA2MzEgXHUwNjMyXHUwNjQ1XHUwNjI3XHUwNjQ2IFx1MDYyOFx1MDYyN1x1MDYzMVx1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnXHUwNjJFXHUwNjM3XHUwNjI3IFx1MDYyRlx1MDYzMSBcdTA2MzJcdTA2NDVcdTA2MjdcdTA2NDYgXHUwNjJEXHUwNjMwXHUwNjQxJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ1x1MDYyRVx1MDYzN1x1MDYyNyBcdTA2MkZcdTA2MzEgXHUwNjMyXHUwNjQ1XHUwNjI3XHUwNjQ2IFx1MDYyRFx1MDYzMFx1MDY0MScsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2NDRcdTA2M0FcdTA2NDggXHUwNjM2XHUwNjMxXHUwNjI4XHUwNjQ3IFx1MDYyOFx1MDYzMlx1MDY0Nlx1MDZDQ1x1MDYyRicsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDYyQVx1MDZBOVx1MDYzMVx1MDYyN1x1MDYzMSBcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNkE5XHUwNjQ2XHUwNkNDXHUwNjJGJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ1x1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MjhcdTA2MzFcdTA2QUZcdTA2MzRcdTA2MkEgXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDZBOVx1MDY0Nlx1MDZDQ1x1MDYyRicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHUwNjJEXHUwNjMwXHUwNjQxJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTA2NDRcdTA2M0FcdTA2NDgnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1MDYyQVx1MDZBOVx1MDYzMVx1MDYyN1x1MDYzMScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnXHUwNjQ0XHUwNjNBXHUwNjQ4JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1x1MDYyOFx1MDYzMVx1MDZBRlx1MDYzNFx1MDYyQScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHUwNjJBXHUwNkE5XHUwNjMxXHUwNjI3XHUwNjMxJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHUwNjI4XHUwNjI3XHUwNjMxXHUwNkFGXHUwNjMwXHUwNjI3XHUwNjMxXHUwNkNDJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjI4XHUwNjMzXHUwNkNDXHUwNjI3XHUwNjMxIFx1MDYyRFx1MDYyQ1x1MDZDQ1x1MDY0NSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdcdTA2MkRcdTA2MkZcdTA2MjdcdTA2QTlcdTA2MkJcdTA2MzEgXHUwNjQ1XHUwNjJDXHUwNjI3XHUwNjMyIFx1MDY0MVx1MDYyN1x1MDZDQ1x1MDY0NCB7ZmlsZXNpemV9IFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdcdTA2MjdcdTA2MzIgXHUwNjJEXHUwNjJGXHUwNjI3XHUwNkE5XHUwNjJCXHUwNjMxIFx1MDYyRFx1MDYyQ1x1MDY0NSBcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjI4XHUwNkNDXHUwNjM0XHUwNjJBXHUwNjMxIFx1MDYzNFx1MDYyRicsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnXHUwNjJEXHUwNjJGXHUwNjI3XHUwNkE5XHUwNjJCXHUwNjMxIFx1MDYyRFx1MDYyQ1x1MDY0NSBcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQge2ZpbGVzaXplfSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnXHUwNjQ2XHUwNjQ4XHUwNjM5IFx1MDY0MVx1MDYyN1x1MDZDQ1x1MDY0NCBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzEgXHUwNjI3XHUwNjMzXHUwNjJBJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnXHUwNjJGXHUwNjMxIFx1MDYyN1x1MDY0Nlx1MDYyQVx1MDYzOFx1MDYyN1x1MDYzMSB7YWxsQnV0TGFzdFR5cGV9IFx1MDZDQ1x1MDYyNyB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTA2NDFcdTA2MzFcdTA2NDVcdTA2MkEgXHUwNjJBXHUwNjM1XHUwNjQ4XHUwNkNDXHUwNjMxIFx1MDY3RVx1MDYzNFx1MDYyQVx1MDZDQ1x1MDYyOFx1MDYyN1x1MDY0Nlx1MDZDQyBcdTA2NDZcdTA2NDVcdTA2Q0MgXHUwNjM0XHUwNjQ4XHUwNjJGJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdcdTA2MkFcdTA2MzVcdTA2NDhcdTA2Q0NcdTA2MzEgXHUwNjI4XHUwNjMzXHUwNkNDXHUwNjI3XHUwNjMxIFx1MDZBOVx1MDY0OFx1MDY4Nlx1MDZBOSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdcdTA2MkFcdTA2MzVcdTA2NDhcdTA2Q0NcdTA2MzEgXHUwNjI4XHUwNjMzXHUwNkNDXHUwNjI3XHUwNjMxIFx1MDYyOFx1MDYzMlx1MDYzMVx1MDZBRiBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTA2MkRcdTA2MkZcdTA2MjdcdTA2NDJcdTA2NDQgXHUwNjI3XHUwNjQ2XHUwNjJGXHUwNjI3XHUwNjMyXHUwNjQ3IHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9IFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ1x1MDYyRFx1MDYyRlx1MDYyN1x1MDZBOVx1MDYyQlx1MDYzMSBcdTA2MjdcdTA2NDZcdTA2MkZcdTA2MjdcdTA2MzJcdTA2NDcge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0gXHUwNjI3XHUwNjMzXHUwNjJBJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwNjQ4XHUwNjM2XHUwNjQ4XHUwNjJEIFx1MDYyQVx1MDYzNVx1MDY0OFx1MDZDQ1x1MDYzMSBcdTA2MjhcdTA2MzNcdTA2Q0NcdTA2MjdcdTA2MzEgXHUwNkE5XHUwNjQ1IFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdcdTA2NDhcdTA2MzZcdTA2NDhcdTA2MzkgXHUwNjJBXHUwNjM1XHUwNjQ4XHUwNkNDXHUwNjMxIFx1MDYyOFx1MDYzM1x1MDZDQ1x1MDYyN1x1MDYzMSBcdTA2MzJcdTA2Q0NcdTA2MjdcdTA2MkYgXHUwNjI3XHUwNjMzXHUwNjJBJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnXHUwNjJEXHUwNjJGXHUwNjI3XHUwNjQyXHUwNjQ0IFx1MDY0OFx1MDYzNlx1MDY0OFx1MDYyRCBcdTA2MkFcdTA2MzVcdTA2NDhcdTA2Q0NcdTA2MzEge21pblJlc29sdXRpb259IFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1x1MDYyRFx1MDYyRlx1MDYyN1x1MDZBOVx1MDYyQlx1MDYzMSBcdTA2NDhcdTA2MzZcdTA2NDhcdTA2MkQgXHUwNjJBXHUwNjM1XHUwNjQ4XHUwNkNDXHUwNjMxIHttYXhSZXNvbHV0aW9ufSBcdTA2MjdcdTA2MzNcdTA2MkEnXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdWZWRcdTAwRTQgamEgcHVkb3RhIHRpZWRvc3RvamEgdGFpIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBTZWxhYSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0tlbnRcdTAwRTRzc1x1MDBFNCBvbiB2aXJoZWVsbGlzaVx1MDBFNCB0aWVkb3N0b2phJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ09kb3RldGFhbiBrb2tvYScsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ0tva29hIGVpIHNhYXRhdmlsbGEnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdMYWRhdGFhbicsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnVmlyaGUgbGF0YXVrc2Vzc2EnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdMXHUwMEU0aGV0ZXRcdTAwRTRcdTAwRTRuJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdMXHUwMEU0aGV0eXMgdmFsbWlzJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ0xcdTAwRTRoZXR5cyBwZXJ1dHR1JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdWaXJoZSBsXHUwMEU0aGV0eWtzZXNzXHUwMEU0JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdWaXJoZSBwYWxhdXR1a3Nlc3NhJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ1ZpcmhlIHBvaXN0YW1pc2Vzc2EnLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICdwZXJ1dXRhIG5hcGF1dHRhbWFsbGEnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ3lyaXRcdTAwRTQgdXVkZWxsZWVuIG5hcGF1dHRhbWFsbGEnLFxuICAgIGxhYmVsVGFwVG9VbmRvOiAna3Vtb2EgbmFwYXV0dGFtYWxsYScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnUG9pc3RhJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdLZXNrZXl0XHUwMEU0JyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdZcml0XHUwMEU0IHV1ZGVsbGVlbicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnUGVydXV0YScsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdLdW1vYScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnWXJpdFx1MDBFNCB1dWRlbGxlZW4nLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdMXHUwMEU0aGV0XHUwMEU0JyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdUaWVkb3N0b24ga29rbyBvbiBsaWlhbiBzdXVyaScsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ1RpZWRvc3RvbiBtYWtzaW1pa29rbyBvbiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ1RpZWRvc3RvamVuIHloZGlzdGV0dHkgbWFrc2ltaWtva28geWxpdGV0dHknLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ1RpZWRvc3RvamVuIHloZGlzdGV0dHkgbWFrc2ltaWtva28gb24ge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdUaWVkb3N0b3R5eXBwaVx1MDBFNCBlaSBzYWxsaXRhJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnU2FsbGl0YWFuIHthbGxCdXRMYXN0VHlwZX0gdGFpIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0t1dmF0eXlwcGlcdTAwRTQgZWkgdHVldGEnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0t1dmEgb24gbGlpYW4gcGllbmknLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdLdXZhIG9uIGxpaWFuIHN1dXJpJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiAnTWluaW1pa29rbyBvbiB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01ha3NpbWlrb2tvIG9uIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnUmVzb2x1dXRpbyBvbiBsaWlhbiBwaWVuaScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdSZXNvbHV1dGlvIG9uIGxpaWFuIHN1dXJpJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluaW1pcmVzb2x1dXRpbyBvbiB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdNYWtzaW1pcmVzb2x1dXRpbyBvbiB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdGYWl0ZXMgZ2xpc3NlciB2b3MgZmljaGllcnMgb3UgPHNwYW4gY2xhc3MgPSBcImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gUGFyY291cmlyIDxzcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6IFwiTGUgY2hhbXAgY29udGllbnQgZGVzIGZpY2hpZXJzIGludmFsaWRlc1wiLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiBcIkVuIGF0dGVudGUgZGUgdGFpbGxlXCIsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogXCJUYWlsbGUgbm9uIGRpc3BvbmlibGVcIixcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiBcIkNoYXJnZW1lbnRcIixcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6IFwiRXJyZXVyIGR1cmFudCBsZSBjaGFyZ2VtZW50XCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogXCJUcmFpdGVtZW50XCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiBcIlRyYWl0ZW1lbnQgZWZmZWN0dVx1MDBFOVwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiBcIlRyYWl0ZW1lbnQgaW50ZXJyb21wdVwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogXCJFcnJldXIgZHVyYW50IGxlIHRyYWl0ZW1lbnRcIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6IFwiRXJyZXVyIGR1cmFudCBsYSByZXN0YXVyYXRpb25cIixcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogXCJFcnJldXIgZHVyYW50IGxhIHN1cHByZXNzaW9uXCIsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogXCJhcHB1eWVyIHBvdXIgYW5udWxlclwiLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogXCJhcHB1eWVyIHBvdXIgclx1MDBFOWVzc2F5ZXJcIixcbiAgICBsYWJlbFRhcFRvVW5kbzogXCJhcHB1eWVyIHBvdXIgcmV2ZW5pciBlbiBhcnJpXHUwMEU4cmVcIixcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06IFwiUmV0aXJlclwiLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogXCJBbm51bGVyXCIsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiBcIlJlY29tbWVuY2VyXCIsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiBcIkFubnVsZXJcIixcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogXCJSZXZlbmlyIGVuIGFycmlcdTAwRThyZVwiLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogXCJSZWNvbW1lbmNlclwiLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06IFwiVHJhbnNmXHUwMEU5cmVyXCIsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiBcIkxlIGZpY2hpZXIgZXN0IHRyb3Agdm9sdW1pbmV1eFwiLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6IFwiTGEgdGFpbGxlIG1heGltYWxlIGRlIGZpY2hpZXIgZXN0IHtmaWxlc2l6ZX1cIixcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogXCJUYWlsbGUgdG90YWxlIG1heGltYWxlIGRcdTAwRTlwYXNzXHUwMEU5ZVwiLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogXCJMYSB0YWlsbGUgdG90YWxlIG1heGltYWxlIGRlcyBmaWNoaWVycyBlc3Qge2ZpbGVzaXplfVwiLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiBcIkZpY2hpZXIgbm9uIHZhbGlkZVwiLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6IFwiQXR0ZW5kdSB7YWxsQnV0TGFzdFR5cGV9IG91IHtsYXN0VHlwZX1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6IFwiVHlwZSBkJ2ltYWdlIG5vbiBwcmlzIGVuIGNoYXJnZVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogXCJMJ2ltYWdlIGVzdCB0cm9wIHBldGl0ZVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6IFwiTCdpbWFnZSBlc3QgdHJvcCBncmFuZGVcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiBcIkxhIHRhaWxsZSBtaW5pbWFsZSBlc3Qge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhTaXplOiBcIkxhIHRhaWxsZSBtYXhpbWFsZSBlc3Qge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiBcIkxhIHJcdTAwRTlzb2x1dGlvbiBlc3QgdHJvcCBmYWlibGVcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogXCJMYSByXHUwMEU5c29sdXRpb24gZXN0IHRyb3AgXHUwMEU5bGV2XHUwMEU5ZVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246IFwiTGEgclx1MDBFOXNvbHV0aW9uIG1pbmltYWxlIGVzdCB7bWluUmVzb2x1dGlvbn1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiBcIkxhIHJcdTAwRTlzb2x1dGlvbiBtYXhpbWFsZSBlc3Qge21heFJlc29sdXRpb259XCIsXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdNb3pnYXNkIGlkZSBhIGZcdTAwRTFqbHQgYSBmZWx0XHUwMEY2bHRcdTAwRTlzaGV6LCB2YWd5IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiB0YWxsXHUwMEYzelx1MDBFMXMgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdBIG1lelx1MDE1MSBcdTAwRTlydlx1MDBFOW55dGVsZW4gZlx1MDBFMWpsb2thdCB0YXJ0YWxtYXonLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnRlx1MDBFMWxqbVx1MDBFOXJldCBraXN6XHUwMEUxbW9sXHUwMEUxc2EnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdBIGZcdTAwRTFqbG1cdTAwRTlyZXQgbmVtIGVsXHUwMEU5cmhldFx1MDE1MScsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ1RcdTAwRjZsdFx1MDBFOXMnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0hpYmEgYSBiZXRcdTAwRjZsdFx1MDBFOXMgc29yXHUwMEUxbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ0ZlbHRcdTAwRjZsdFx1MDBFOXMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1Npa2VyZXMgZmVsdFx1MDBGNmx0XHUwMEU5cycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdBIGZlbHRcdTAwRjZsdFx1MDBFOXMgbWVnc3pha1x1MDBFRHR2YScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnSGliYSB0XHUwMEY2cnRcdTAwRTludCBhIGZlbHRcdTAwRjZsdFx1MDBFOXMgc29yXHUwMEUxbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnSGliYSBhIHZpc3N6YVx1MDBFMWxsXHUwMEVEdFx1MDBFMXMgc29yXHUwMEUxbicsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdIaWJhIHRcdTAwRjZydFx1MDBFOW50IGF6IGVsdFx1MDBFMXZvbFx1MDBFRHRcdTAwRTFzIHNvclx1MDBFMW4nLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICdrb3BwaW50cyBhIHRcdTAwRjZybFx1MDBFOXNoZXonLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ2tvcHBpbnRzIGF6IFx1MDBGQWpyYWtlemRcdTAwRTlzaGV6JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ2tvcHBpbnRzIGEgdmlzc3phdm9uXHUwMEUxc2hveicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnRWx0XHUwMEUxdm9sXHUwMEVEdFx1MDBFMXMnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ01lZ3N6YWtcdTAwRUR0XHUwMEUxcycsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnXHUwMERBanJhcHJcdTAwRjNiXHUwMEUxbGtvelx1MDBFMXMnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ01lZ3N6YWtcdTAwRUR0XHUwMEUxcycsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdWaXNzemF2b25cdTAwRTFzJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdcdTAwREFqcmFwclx1MDBGM2JcdTAwRTFsa296XHUwMEUxcycsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ0ZlbHRcdTAwRjZsdFx1MDBFOXMnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ0EgZlx1MDBFMWpsIHRcdTAwRkFsbFx1MDBFOXB0ZSBhIG1heGltXHUwMEUxbGlzIG1cdTAwRTlyZXRldCcsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ01heGltXHUwMEUxbGlzIGZcdTAwRTFqbG1cdTAwRTlyZXQ6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnVFx1MDBGQWxsXHUwMEU5cHRlIGEgbWF4aW1cdTAwRTFsaXMgdGVsamVzIG1cdTAwRTlyZXRldCcsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnQSBtYXhpbVx1MDBFMWlzIHRlbGplcyBmXHUwMEUxamxtXHUwMEU5cmV0OiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1MDBDOXJ2XHUwMEU5bnl0ZWxlbiB0XHUwMEVEcHVzXHUwMEZBIGZcdTAwRTFqbCcsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ0VuZ2VkXHUwMEU5bHllemV0dCB0XHUwMEVEcHVzb2sge2FsbEJ1dExhc3RUeXBlfSB2YWd5IHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0Ega1x1MDBFOXB0XHUwMEVEcHVzIG5lbSB0XHUwMEUxbW9nYXRvdHQnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0Ega1x1MDBFOXAgdFx1MDBGQWwga2ljc2knLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdBIGtcdTAwRTlwIHRcdTAwRkFsIG5hZ3knLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdNaW5pbXVtIG1cdTAwRTlyZXQ6IHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhTaXplOiAnTWF4aW11bSBtXHUwMEU5cmV0OiB7bWF4V2lkdGh9IFx1MDBENyB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ0EgZmVsYm9udFx1MDBFMXMgdFx1MDBGQWwgYWxhY3NvbnknLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnQSBmZWxib250XHUwMEUxcyB0XHUwMEZBbCBtYWdhcycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ01pbmltXHUwMEUxaXMgZmVsYm9udFx1MDBFMXM6IHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01heGltXHUwMEUxbGlzIGZlbGJvbnRcdTAwRTFzOiB7bWF4UmVzb2x1dGlvbn0nXG4gIH07IiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdTZXJldCBkYW4gSmF0dWhrYW4gZmlsZSBBbmRhIGF0YXUgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+SmVsYWphaGk8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0ZpZWxkIGJlcmlzaSBmaWxlIHRpZGFrIHZhbGlkJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ01lbnVuZ2d1IHVrdXJhbicsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ1VrdXJhbiB0aWRhayB0ZXJzZWRpYScsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ01lbXVhdCcsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnS2VzYWxhaGFuIHNhYXQgbWVtdWF0JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnTWVuZ3VuZ2dhaCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVW5nZ2FoYW4gc2VsZXNhaScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdVbmdnYWhhbiBkaWJhdGFsa2FuJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdLZXNhbGFoYW4gc2FhdCBtZW5ndW5nZ2FoJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdLZXNhbGFoYW4gc2FhdCBwZW5nZW1iYWxpYW4nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnS2VzYWxhaGFuIHNhYXQgbWVuZ2hhcHVzJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAna2V0dWsgdW50dWsgbWVtYmF0YWxrYW4nLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ2tldHVrIHVudHVrIG1lbmNvYmEgbGFnaScsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdrZXR1ayB1bnR1ayBtZW5ndXJ1bmdrYW4nLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ0hhcHVzJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdCYXRhbCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnQ29iYSBLZW1iYWxpJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdCYXRhbCcsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdCYXRhbCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnQ29iYSBLZW1iYWxpJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnVW5nZ2FoJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdGaWxlIHRlcmxhbHUgYmVzYXInLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdVa3VyYW4gZmlsZSBtYWtzaW11bSBhZGFsYWgge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdKdW1sYWggZmlsZSBtYWtzaW11bSB0ZXJsYW1wYXVpJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdKdW1sYWggZmlsZSBtYWtzaW11bSBhZGFsYWgge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdKZW5pcyBmaWxlIHRpZGFrIHZhbGlkJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnTWVuZ2hhcmFwa2FuIHthbGxCdXRMYXN0VHlwZX0gYXRhdSB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdKZW5pcyBnYW1iYXIgdGlkYWsgZGlkdWt1bmcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0dhbWJhciB0ZXJsYWx1IGtlY2lsJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnR2FtYmFyIHRlcmxhbHUgYmVzYXInLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdVa3VyYW4gbWluaW11bSBhZGFsYWgge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdVa3VyYW4gbWFrc2ltdW0gYWRhbGFoIHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnUmVzb2x1c2kgdGVybGFsdSByZW5kYWgnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnUmVzb2x1c2kgdGVybGFsdSB0aW5nZ2knLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdSZXNvbHVzaSBtaW5pbXVtIGFkYWxhaCB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdSZXNvbHVzaSBtYWtzaW11bSBhZGFsYWgge21heFJlc29sdXRpb259J1xuICB9O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdUcmFzY2luYSBlIHJpbGFzY2lhIGkgdHVvaSBmaWxlIG9wcHVyZSA8c3BhbiBjbGFzcyA9IFwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBDYXJpY2EgPHNwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogXCJJbCBjYW1wbyBjb250aWVuZSBkZWkgZmlsZSBub24gdmFsaWRpXCIsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6IFwiQXNwZXR0YW5kbyBsZSBkaW1lbnNpb25pXCIsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogXCJEaW1lbnNpb25pIG5vbiBkaXNwb25pYmlsaVwiLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6IFwiQ2FyaWNhbWVudG9cIixcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6IFwiRXJyb3JlIGR1cmFudGUgaWwgY2FyaWNhbWVudG9cIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiBcIkNhcmljYW1lbnRvXCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiBcIkNhcmljYW1lbnRvIGNvbXBsZXRhdG9cIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogXCJDYXJpY2FtZW50byBjYW5jZWxsYXRvXCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiBcIkVycm9yZSBkdXJhbnRlIGlsIGNhcmljYW1lbnRvXCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiBcIkVycm9yZSBkdXJhbnRlIGlsIHJpcHJpc3Rpbm9cIixcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogXCJFcnJvcmUgZHVyYW50ZSBsJ2VsaW1pbmF6aW9uZVwiLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6IFwidG9jY2EgcGVyIGNhbmNlbGxhcmVcIixcbiAgICBsYWJlbFRhcFRvUmV0cnk6IFwidG9jY2EgcGVyIHJpcHJvdmFyZVwiLFxuICAgIGxhYmVsVGFwVG9VbmRvOiBcInRvY2NhIHBlciByaXByaXN0aW5hcmVcIixcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06IFwiRWxpbWluYVwiLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogXCJDYW5jZWxsYVwiLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogXCJSaXRlbnRhXCIsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiBcIkNhbWNlbGxhXCIsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6IFwiSW5kaWV0cm9cIixcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IFwiUml0ZW50YVwiLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06IFwiQ2FyaWNhXCIsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiBcIklsIHBlc28gZGVsIGZpbGUgXHUwMEU4IGVjY2Vzc2l2b1wiLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6IFwiSWwgcGVzbyBtYXNzaW1vIGRlbCBmaWxlIFx1MDBFOCB7ZmlsZXNpemV9XCIsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6IFwiRGltZW5zaW9uZSB0b3RhbGUgbWFzc2ltYSBzdXBlcmF0YVwiLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogXCJMYSBkaW1lbnNpb25lIG1hc3NpbWEgdG90YWxlIGRlbCBmaWxlIFx1MDBFOCB7ZmlsZXNpemV9XCIsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6IFwiRmlsZSBub24gc3VwcG9ydGF0b1wiLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6IFwiQXNwZXR0YSB7YWxsQnV0TGFzdFR5cGV9IG8ge2xhc3RUeXBlfVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogXCJUaXBvIGRpIGltbWFnaW5lIG5vbiBjb21wYXRpYmlsZVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogXCJMJ2ltbWFnaW5lIFx1MDBFOCB0cm9wcG8gcGljY29sYVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6IFwiTCdpbW1hZ2luZSBcdTAwRTggdHJvcHBvIGdyYW5kZVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6IFwiTGEgZGltZW5zaW9uZSBtaW5pbWEgXHUwMEU4IHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogXCJMYSBkaW1lbnNpb25lIG1hc3NpbWEgXHUwMEU4IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogXCJMYSByaXNvbHV6aW9uZSBcdTAwRTggdHJvcHBvIGJhc3NhXCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6IFwiTGEgcmlzb2x1emlvbmUgXHUwMEU4IHRyb3BwbyBhbHRhXCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogXCJMYSByaXNvbHV6aW9uZSBtaW5pbWEgXHUwMEU4IHttaW5SZXNvbHV0aW9ufVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246IFwiTGEgcmlzb2x1emlvbmUgbWFzc2ltYSBcdTAwRTgge21heFJlc29sdXRpb259XCIsXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEcmFnICYgRHJvcCBqZSBiZXN0YW5kZW4gb2YgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IEJsYWRlcmVuIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnVmVsZCBiZXZhdCBvbmdlbGRpZ2UgYmVzdGFuZGVuJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1dhY2h0ZW4gb3AgZ3Jvb3R0ZScsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ0dyb290dGUgbmlldCBiZXNjaGlrYmFhcicsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ0xhZGVuJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdGb3V0IHRpamRlbnMgbGFkZW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdVcGxvYWRlbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVXBsb2FkIGFmZ2Vyb25kJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1VwbG9hZCBnZWFubnVsZWVyZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnRm91dCB0aWpkZW5zIHVwbG9hZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnRm91dCBiaWogaGVyc3RlbGxlbicsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdGb3V0IGJpaiB2ZXJ3aWpkZXJlbicsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ3RpayBvbSB0ZSBhbm51bGVyZW4nLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ3RpayBvbSBvcG5pZXV3IHRlIHByb2JlcmVuJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ3RpayBvbSBvbmdlZGFhbiB0ZSBtYWtlbicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnVmVyd2lqZGVyZW4nLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0FmYnJla2VuJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdPcG5pZXV3IHByb2JlcmVuJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdBbm51bGVyZW4nLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnT25nZWRhYW4gbWFrZW4nLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ09wbmlldXcgcHJvYmVyZW4nLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdVcGxvYWQnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ0Jlc3RhbmQgaXMgdGUgZ3Jvb3QnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdNYXhpbWFsZSBiZXN0YW5kc2dyb290dGUgaXMge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdNYXhpbWFsZSB0b3RhbGUgZ3Jvb3R0ZSBvdmVyc2NocmVkZW4nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ01heGltYWxlIHRvdGFsZSBiZXN0YW5kc2dyb290dGUgaXMge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdPbmdlbGRpZyBiZXN0YW5kc3R5cGUnLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdWZXJ3YWNodCB7YWxsQnV0TGFzdFR5cGV9IG9mIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0FmYmVlbGRpbmdzdHlwZSBuaWV0IG9uZGVyc3RldW5kJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdBZmJlZWxkaW5nIGlzIHRlIGtsZWluJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnQWZiZWVsZGluZyBpcyB0ZSBncm9vdCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltYWxlIGFmbWV0aW5nIGlzIHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhTaXplOiAnTWF4aW1hbGUgYWZtZXRpbmcgaXMge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6ICdSZXNvbHV0aWUgaXMgdGUgbGFhZycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdSZXNvbHV0aW9uIGlzIHRvbyBoaWdoJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluaW1hbGUgcmVzb2x1dGllIGlzIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01heGltYWxlIHJlc29sdXRpZSBpcyB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEcmEgb2cgc2xpcHAgZmlsZW5lIGRpbmUsIGVsbGVyIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBCbGEgZ2plbm5vbS4uLiA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0ZlbHRldCBpbm5laG9sZGVyIHVneWxkaWdlIGZpbGVyJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1ZlbnRlciBwXHUwMEU1IHN0XHUwMEY4cnJlbHNlJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnU3RcdTAwRjhycmVsc2UgaWtrZSB0aWxnamVuZ2VsaWcnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdMYXN0ZXInLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0ZlaWwgdW5kZXIgbGFzdGluZycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ0xhc3RlciBvcHAnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ09wcGxhc3RpbmcgZmVyZGlnJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ09wcGxhc3RpbmcgYXZicnV0dCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnRmVpbCB1bmRlciBvcHBsYXN0aW5nJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdGZWlsIHVuZGVyIHJldmVyc2VyaW5nJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ0ZlaWwgdW5kZXIgZmx5dHRpbmcnLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICdrbGlrayBmb3IgXHUwMEU1IGF2YnJ5dGUnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ2tsaWtrIGZvciBcdTAwRTUgcHJcdTAwRjh2ZSBwXHUwMEU1IG55dHQnLFxuICAgIGxhYmVsVGFwVG9VbmRvOiAna2xpa2sgZm9yIFx1MDBFNSBhbmdyZScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnRmplcm4nLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0F2YnJ5dCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnUHJcdTAwRjh2IHBcdTAwRTUgbnl0dCcsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnQXZicnl0JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0FuZ3JlJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdQclx1MDBGOHYgcFx1MDBFNSBueXR0JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnTGFzdCBvcHAnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ0ZpbGVuIGVyIGZvciBzdG9yJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnTWFrc2ltYWwgZmlsc3RcdTAwRjhycmVsc2UgZXIge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdNYWtzaW1hbCB0b3RhbCBzdFx1MDBGOHJyZWxzZSBvdmVyc3RlZ2V0JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdNYWtzaW1hbCB0b3RhbCBzdFx1MDBGOHJyZWxzZSBlciB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1VneWxkaWcgZmlsdHlwZScsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ0ZvcnZlbnRlciB7YWxsQnV0TGFzdFR5cGV9IGVsbGVyIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0JpbGRlZm9ybWF0IGlra2Ugc3RcdTAwRjh0dGV0JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdCaWxkZXQgZXIgZm9yIGxpdGUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdCaWxkZXQgZXIgZm9yIHN0b3J0JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiAnTWluaW11bXNzdFx1MDBGOHJyZWxzZSBlciB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01ha3NpbXVtc3N0XHUwMEY4cnJlbHNlIGVyIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnT3BwbFx1MDBGOHNuaW5nZW4gZXIgZm9yIGxhdicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdPcHBsXHUwMEY4c25pbmdlbiBlciBmb3IgaFx1MDBGOHknLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdNaW5pbXVtIG9wcGxcdTAwRjhzbmluZyBlciB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdNYWtzaW1hbCBvcHBsXHUwMEY4c25pbmcgZXIge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnUHJ6ZWNpXHUwMTA1Z25paiBpIHVwdVx1MDE1Qlx1MDEwNyBsdWIgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+d3liaWVyejwvc3Bhbj4gcGxpa2knLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnTmllcHJhd2lkXHUwMTQyb3dlIHBsaWtpJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1BvYmllcmFuaWUgcm96bWlhcnUnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdOaWV6bmFueSByb3ptaWFyJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnV2N6eXR5d2FuaWUnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0JcdTAxNDJcdTAxMDVkIHdjenl0eXdhbmlhJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnUHJ6ZXN5XHUwMTQyYW5pZScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnUHJ6ZXNcdTAxNDJhbm8nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnUHJ6ZXJ3YW5vJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdQcnplc3lcdTAxNDJhbmllIG5pZSBwb3dpb2RcdTAxNDJvIHNpXHUwMTE5JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdDb1x1MDE1QiBwb3N6XHUwMTQybyBuaWUgdGFrJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ05pZXVkYW5lIHVzdW5pXHUwMTE5Y2llJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnQW51bHVqJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdQb25cdTAwRjN3JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ0NvZm5paicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnVXN1XHUwMTQ0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdQcnplcndpaicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnUG9uXHUwMEYzdycsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnQW51bHVqJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0NvZm5paicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnUG9uXHUwMEYzdycsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1ByemVcdTAxNUJsaWonLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ1BsaWsgamVzdCB6Ynl0IGR1XHUwMTdDeScsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ0RvcHVzemN6YWxuYSB3aWVsa29cdTAxNUJcdTAxMDcgcGxpa3UgdG8ge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdQcnpla3JvY3pvbm8gXHUwMTQyXHUwMTA1Y3pueSByb3ptaWFyIHBsaWtcdTAwRjN3JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdcdTAxNDFcdTAxMDVjem55IHJvem1pYXIgcGxpa1x1MDBGM3cgbmllIG1vXHUwMTdDZSBwcnpla3JvY3p5XHUwMTA3IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnTmllZG96d29sb255IHJvZHphaiBwbGlrdScsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ09jemVraXdhbm8ge2FsbEJ1dExhc3RUeXBlfSBsdWIge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnTmllb2JzXHUwMTQydWdpd2FueSBmb3JtYXQgb2JyYXp1JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdPYnJheiBqZXN0IHpieXQgbWFcdTAxNDJ5JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnT2JyYXogamVzdCB6Ynl0IGR1XHUwMTdDeScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltYWxuZSB3eW1pYXJ5IG9icmF6dSB0byB7bWluV2lkdGh9XHUwMEQ3e21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYWtzeW1hbG5hIHd5bWlhcnkgb2JyYXp1IHRvIHttYXhXaWR0aH1cdTAwRDd7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1JvemR6aWVsY3pvXHUwMTVCXHUwMTA3IGplc3QgemJ5dCBuaXNrYScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdSb3pkemllbGN6b1x1MDE1Qlx1MDEwNyBqZXN0IHpieXQgd3lzb2thJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluaW1hbG5hIHJvemR6aWVsY3pvXHUwMTVCXHUwMTA3IHRvIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01ha3N5bWFsbmEgcm96ZHppZWxjem9cdTAxNUJcdTAxMDcgdG8ge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnQXJyYXN0ZSBlIHNvbHRlIG9zIGFycXVpdm9zIG91IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBDbGlxdWUgYXF1aSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0FycXVpdm9zIGludlx1MDBFMWxpZG9zJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ0NhbGN1bGFuZG8gbyB0YW1hbmhvIGRvIGFycXVpdm8nLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdUYW1hbmhvIGRvIGFycXVpdm8gaW5kaXNwb25cdTAwRUR2ZWwnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdDYXJyZWdhbmRvJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdFcnJvIGR1cmFudGUgbyBjYXJyZWdhbWVudG8nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdFbnZpYW5kbycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnRW52aW8gZmluYWxpemFkbycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdFbnZpbyBjYW5jZWxhZG8nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0Vycm8gZHVyYW50ZSBvIGVudmlvJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdFcnJvIGFvIHJldmVydGVyIG8gZW52aW8nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRXJybyBhbyByZW1vdmVyIG8gYXJxdWl2bycsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ2NsaXF1ZSBwYXJhIGNhbmNlbGFyJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdjbGlxdWUgcGFyYSByZWVudmlhcicsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdjbGlxdWUgcGFyYSBkZXNmYXplcicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnUmVtb3ZlcicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnQWJvcnRhcicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnUmVlbnZpYXInLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ0NhbmNlbGFyJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0Rlc2ZhemVyJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdSZWVudmlhcicsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ0VudmlhcicsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnQXJxdWl2byBcdTAwRTkgbXVpdG8gZ3JhbmRlJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnTyB0YW1hbmhvIG1cdTAwRTF4aW1vIHBlcm1pdGlkbzoge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdUYW1hbmhvIHRvdGFsIGRvcyBhcnF1aXZvcyBleGNlZGlkbycsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnVGFtYW5obyB0b3RhbCBwZXJtaXRpZG86IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnVGlwbyBkZSBhcnF1aXZvIGludlx1MDBFMWxpZG8nLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdUaXBvcyBkZSBhcnF1aXZvIHN1cG9ydGFkb3Mgc1x1MDBFM28ge2FsbEJ1dExhc3RUeXBlfSBvdSB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdUaXBvIGRlIGltYWdlbSBpbnZcdTAwRTFsaWRhJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdJbWFnZW0gbXVpdG8gcGVxdWVuYScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0ltYWdlbSBtdWl0byBncmFuZGUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdUYW1hbmhvIG1cdTAwRURuaW1vIHBlcm1pdGlkYToge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdUYW1hbmhvIG1cdTAwRTF4aW1vIHBlcm1pdGlkbzoge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6ICdSZXNvbHVcdTAwRTdcdTAwRTNvIG11aXRvIGJhaXhhJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1Jlc29sdVx1MDBFN1x1MDBFM28gbXVpdG8gYWx0YScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1Jlc29sdVx1MDBFN1x1MDBFM28gbVx1MDBFRG5pbWEgcGVybWl0aWRhOiB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdSZXNvbHVcdTAwRTdcdTAwRTNvIG1cdTAwRTF4aW1hIHBlcm1pdGlkYToge21heFJlc29sdXRpb259Jyxcbn07XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTogJ1RyYWdlIFx1MDIxOWkgcGxhc2Vhelx1MDEwMyBmaVx1MDIxOWllcmUgc2F1IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBDYXV0XHUwMTAzLWxlIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnQ1x1MDBFMm1wdWwgY29uXHUwMjFCaW5lIGZpXHUwMjE5aWVyZSBjYXJlIG51IHN1bnQgdmFsaWRlJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1x1MDBDRW4gYVx1MDIxOXRlcHRhcmVhIGRpbWVuc2l1bmlpJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnRGltZW5zaXVuZWEgbnUgZXN0ZSBkaXBvbmliaWxcdTAxMDMnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdTZSBcdTAwRUVuY2FyY1x1MDEwMycsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnRXJvYXJlIGxhIFx1MDBFRW5jXHUwMTAzcmNhcmUnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdTZSBcdTAwRUVuY2FyY1x1MDEwMycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnXHUwMENFbmNcdTAxMDNyY2FyZSBmaW5hbGl6YXRcdTAxMDMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnXHUwMENFbmNcdTAxMDNyY2FyZSBhbnVsYXRcdTAxMDMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0Vyb2FyZSBsYSBcdTAwRUVuY1x1MDEwM3JjYXJlJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdFcm9hcmUgbGEgYW51bGFyZScsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdFcm9hcmUgbGEgXHUwMTVGdGVyZ2VyZScsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ2FwYXNcdTAxMDMgcGVudHJ1IGEgYW51bGEnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ2FwYXNcdTAxMDMgcGVudHJ1IGEgcmVcdTAwRUVuY2VyY2EnLFxuICAgIGxhYmVsVGFwVG9VbmRvOiAnYXBhc1x1MDEwMyBwZW50cnUgYSBhbnVsYScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHUwMTVFdGVyZ2UnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0FudWxlYXpcdTAxMDMnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1JlXHUwMEVFbmNlYXJjXHUwMTAzJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdBbnVsZWF6XHUwMTAzJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0FudWxlYXpcdTAxMDMnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1JlXHUwMEVFbmNlYXJjXHUwMTAzJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHUwMENFbmNhcmNcdTAxMDMnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ0ZpXHUwMjE5aWVydWwgZXN0ZSBwcmVhIG1hcmUnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdEaW1lbnNpdW5lYSBtYXhpbVx1MDEwMyBhIHVudWkgZmlcdTAyMTlpZXIgZXN0ZSBkZSB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ0RpbWVuc2l1bmVhIHRvdGFsXHUwMTAzIG1heGltXHUwMTAzIGEgZm9zdCBkZXBcdTAxMDNcdTAyMTlpdFx1MDEwMycsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnRGltZW5zaXVuZWEgdG90YWxcdTAxMDMgbWF4aW1cdTAxMDMgYSBmaVx1MDIxOWllcmVsb3IgZXN0ZSBkZSB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1RpcHVsIGZpXHUwMjE5aWVydWx1aSBudSBlc3RlIHZhbGlkJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnU2UgYVx1MDIxOXRlYXB0XHUwMTAzIHthbGxCdXRMYXN0VHlwZX0gc2F1IHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0Zvcm1hdHVsIGltYWdpbmlpIG51IGVzdGUgYWNjZXB0YXQnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0ltYWdpbmVhIGVzdGUgcHJlYSBtaWNcdTAxMDMnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdJbWFnaW5lYSBlc3RlIHByZWEgbWFyZScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01cdTAxMDNyaW1lYSBtaW5pbVx1MDEwMyBlc3RlIGRlIHttYXhXaWR0aH0geCB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01cdTAxMDNyaW1lYSBtYXhpbVx1MDEwMyBlc3RlIGRlIHttYXhXaWR0aH0geCB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1Jlem9sdVx1MDIxQmlhIGVzdGUgcHJlYSBtaWNcdTAxMDMnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnUmV6b2x1XHUwMjFCaWEgZXN0ZSBwcmVhIG1hcmUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdSZXpvbHVcdTAyMUJpYSBtaW5pbVx1MDEwMyBlc3RlIGRlIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1Jlem9sdVx1MDIxQmlhIG1heGltXHUwMTAzIGVzdGUgZGUge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHUwNDFGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQyXHUwNDMwXHUwNDQ5XHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQ0QiBcdTA0MzhcdTA0M0JcdTA0MzggPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFx1MDQzMlx1MDQ0Qlx1MDQzMVx1MDQzNVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzNSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ1x1MDQxRlx1MDQzRVx1MDQzQlx1MDQzNSBcdTA0NDFcdTA0M0VcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0NDIgXHUwNDNEXHUwNDM1XHUwNDM0XHUwNDNFXHUwNDNGXHUwNDQzXHUwNDQxXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDRCXHUwNDM1IFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQ0QicsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdcdTA0MjNcdTA0M0FcdTA0MzBcdTA0MzZcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwIFx1MDQzRFx1MDQzNSBcdTA0M0ZcdTA0M0VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0MzJcdTA0MzBcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NEYnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdcdTA0MUVcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzUnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ1x1MDQxRVx1MDQ0OFx1MDQzOFx1MDQzMVx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM4JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnXHUwNDE3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDNBXHUwNDMwJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdcdTA0MTdcdTA0MzBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0M0FcdTA0MzAgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDMwJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1x1MDQxN1x1MDQzMFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzN1x1MDQzQVx1MDQzMCBcdTA0M0VcdTA0NDJcdTA0M0NcdTA0MzVcdTA0M0RcdTA0MzVcdTA0M0RcdTA0MzAnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1MDQxRVx1MDQ0OFx1MDQzOFx1MDQzMVx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDM3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDNBXHUwNDM1JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdcdTA0MUVcdTA0NDhcdTA0MzhcdTA0MzFcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQzMlx1MDQzRVx1MDQzN1x1MDQzMlx1MDQ0MFx1MDQzMFx1MDQ0Mlx1MDQzNScsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdcdTA0MUVcdTA0NDhcdTA0MzhcdTA0MzFcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQ0M1x1MDQzNFx1MDQzMFx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzOCcsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1MDQzRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDRCJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdcdTA0M0RcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDNFXHUwNDNGXHUwNDRCXHUwNDQyXHUwNDNBXHUwNDQzJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ1x1MDQzRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDRCIFx1MDQzRlx1MDQzRVx1MDQ0MVx1MDQzQlx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzNVx1MDQzM1x1MDQzRSBcdTA0MzRcdTA0MzVcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzJcdTA0MzhcdTA0NEYnLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ1x1MDQyM1x1MDQzNFx1MDQzMFx1MDQzQlx1MDQzOFx1MDQ0Mlx1MDQ0QycsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNBXHUwNDQwXHUwNDMwXHUwNDQ5XHUwNDM1XHUwNDNEXHUwNDNFJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdcdTA0MUZcdTA0M0VcdTA0MzJcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDNGXHUwNDNFXHUwNDNGXHUwNDRCXHUwNDQyXHUwNDNBXHUwNDQzJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdcdTA0MUVcdTA0NDJcdTA0M0NcdTA0MzVcdTA0M0RcdTA0MzAnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnXHUwNDFFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDMwIFx1MDQzRlx1MDQzRVx1MDQ0MVx1MDQzQlx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzNVx1MDQzM1x1MDQzRSBcdTA0MzRcdTA0MzVcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzJcdTA0MzhcdTA0NEYnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1x1MDQxRlx1MDQzRVx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0M0ZcdTA0M0VcdTA0M0ZcdTA0NEJcdTA0NDJcdTA0M0FcdTA0NDMnLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdcdTA0MTdcdTA0MzBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0M0FcdTA0MzAnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ1x1MDQyNFx1MDQzMFx1MDQzOVx1MDQzQiBcdTA0NDFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDMxXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDQ4XHUwNDNFXHUwNDM5JyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnXHUwNDFDXHUwNDMwXHUwNDNBXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQ0MFx1MDQzMFx1MDQzN1x1MDQzQ1x1MDQzNVx1MDQ0MCBcdTA0NDRcdTA0MzBcdTA0MzlcdTA0M0JcdTA0MzA6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDMyXHUwNDRCXHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0NcdTA0MzVcdTA0NDAnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0NcdTA0MzVcdTA0NDAgXHUwNDQ0XHUwNDMwXHUwNDM5XHUwNDNCXHUwNDMwOiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1MDQyNFx1MDQzMFx1MDQzOVx1MDQzQiBcdTA0M0RcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0M0VcdTA0MzNcdTA0M0UgXHUwNDQyXHUwNDM4XHUwNDNGXHUwNDMwJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnXHUwNDFFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDRGIHthbGxCdXRMYXN0VHlwZX0gXHUwNDM4XHUwNDNCXHUwNDM4IHtsYXN0VHlwZX0nLCAgICBcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTA0MjJcdTA0MzhcdTA0M0YgXHUwNDM4XHUwNDM3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQzRFx1MDQzNSBcdTA0M0ZcdTA0M0VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0MzJcdTA0MzBcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NEYnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ1x1MDQxOFx1MDQzN1x1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0NDFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDNFXHUwNDM1JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnXHUwNDE4XHUwNDM3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0MVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0MzFcdTA0M0VcdTA0M0JcdTA0NENcdTA0NDhcdTA0M0VcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTA0MUNcdTA0MzhcdTA0M0RcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwOiB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0NcdTA0MzVcdTA0NDA6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0MVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0M0FcdTA0M0VcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0MVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0MzJcdTA0NEJcdTA0NDFcdTA0M0VcdTA0M0FcdTA0M0VcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdcdTA0MUNcdTA0MzhcdTA0M0RcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdcdTA0MUNcdTA0MzBcdTA0M0FcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEcmFnIG9jaCBzbFx1MDBFNHBwIGRpbmEgZmlsZXIgZWxsZXIgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IEJsXHUwMEU0ZGRyYSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0ZcdTAwRTRsdGV0IGlubmVoXHUwMEU1bGxlciBmZWxha3RpZ2EgZmlsZXInLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnVlx1MDBFNG50YXIgcFx1MDBFNSBzdG9ybGVrJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnU3Rvcmxla2VuIGZpbm5zIGludGUgdGlsbGdcdTAwRTRuZ2xpZycsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ0xhZGRhcicsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnRmVsIHVuZGVyIGxhZGRuaW5nJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnTGFkZGFyIHVwcCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVXBwbGFkZG5pbmcga2xhcicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdVcHBsYWRkbmluZyBhdmJydXRlbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnRmVsIHVuZGVyIHVwcGxhZGRuaW5nJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdGZWwgdW5kZXIgXHUwMEU1dGVyc3RcdTAwRTRsbG5pbmcnLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRmVsIHVuZGVyIGJvcnR0YWduaW5nJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAndHJ5Y2sgZlx1MDBGNnIgYXR0IGF2YnJ5dGEnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ3RyeWNrIGZcdTAwRjZyIGF0dCBmXHUwMEY2cnNcdTAwRjZrYSBpZ2VuJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ3RyeWNrIGZcdTAwRjZyIGF0dCBcdTAwRTVuZ3JhJyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdUYWJvcnQnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0F2YnJ5dCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnRlx1MDBGNnJzXHUwMEY2ayBpZ2VuJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdBdmJyeXQnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnXHUwMEM1bmdyYScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnRlx1MDBGNnJzXHUwMEY2ayBpZ2VuJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnTGFkZGEgdXBwJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdGaWxlbiBcdTAwRTRyIGZcdTAwRjZyIHN0b3InLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdTdFx1MDBGNnJzdGEgdGlsbFx1MDBFNXRuYSBmaWxzdG9ybGVrIFx1MDBFNHIge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdNYXhpbWFsIHVwcGxhZGRuaW5nc3N0b3JsZWsgdXBwblx1MDBFNWQnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ01heGltYWwgdXBwbGFkZG5pbmdzc3RvcmxlayBcdTAwRTRyIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnRmVsYWt0aWcgZmlsdHlwJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnR29ka1x1MDBFNG5kYSBmaWx0eXBlciB7YWxsQnV0TGFzdFR5cGV9IGVsbGVyIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0JpbGR0eXBlbiBzYWtuYXIgc3RcdTAwRjZkJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdCaWxkZW4gXHUwMEU0ciBmXHUwMEY2ciBsaXRlbicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0JpbGRlbiBcdTAwRTRyIGZcdTAwRjZyIHN0b3InLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdNaW5pbWFsIHN0b3JsZWsgXHUwMEU0ciB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01heGltYWwgc3RvcmxlayBcdTAwRTRyIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnVXBwbFx1MDBGNnNuaW5nZW4gXHUwMEU0ciBmXHUwMEY2ciBsXHUwMEU1ZycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdVcHBsXHUwMEY2c25pbmdlbiBcdTAwRTRyIGZcdTAwRjZyIGhcdTAwRjZnJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluc3RhIHRpbGxcdTAwRTV0bmEgdXBwbFx1MDBGNnNuaW5nIFx1MDBFNHIge21pblJlc29sdXRpb259JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiAnSFx1MDBGNmdzdGEgdGlsbFx1MDBFNXRuYSB1cHBsXHUwMEY2c25pbmcgXHUwMEU0ciB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEb3N5YW5cdTAxMzF6XHUwMTMxIFNcdTAwRkNyXHUwMEZDa2xleWluICYgQlx1MDEzMXJha1x1MDEzMW4geWEgZGEgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFNlXHUwMEU3aW4gPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdBbGFuIGdlXHUwMEU3ZXJzaXogZG9zeWFsYXIgaVx1MDBFN2VyaXlvcicsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdCb3l1dCBoZXNhcGxhblx1MDEzMXlvcicsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ0JveXV0IG1ldmN1dCBkZVx1MDExRmlsJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnWVx1MDBGQ2tsZW5peW9yJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdZXHUwMEZDa2xlbWUgc1x1MDEzMXJhc1x1MDEzMW5kYSBoYXRhIG9sdVx1MDE1RnR1JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnWVx1MDBGQ2tsZW5peW9yJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdZXHUwMEZDa2xlbWUgdGFtYW1sYW5kXHUwMTMxJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1lcdTAwRkNrbGVtZSBpcHRhbCBlZGlsZGknLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1lcdTAwRkNrbGVya2VuIGhhdGEgb2x1XHUwMTVGdHUnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0dlcmkgXHUwMEU3ZWtlcmtlbiBoYXRhIG9sdVx1MDE1RnR1JyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ0thbGRcdTAxMzFyXHUwMTMxcmtlbiBoYXRhIG9sdVx1MDE1RnR1JyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnXHUwMTMwcHRhbCBldG1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdUZWtyYXIgZGVuZW1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ0dlcmkgYWxtYWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxbicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnS2FsZFx1MDEzMXInLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ1x1MDEzMHB0YWwgRXQnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1Rla3JhciBkZW5lJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdcdTAxMzBwdGFsIGV0JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0dlcmkgQWwnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1Rla3JhciBkZW5lJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnWVx1MDBGQ2tsZScsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnRG9zeWEgXHUwMEU3b2sgYlx1MDBGQ3lcdTAwRkNrJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnRW4gZmF6bGEgZG9zeWEgYm95dXR1OiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ01heGltdW0gYm95dXQgYVx1MDE1Rlx1MDEzMWxkXHUwMTMxJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdNYXhpbXVtIGRvc3lhIGJveXV0dSA6e2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdHZVx1MDBFN2Vyc2l6IGRvc3lhIHRpcGknLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdcdTAxNUV1IHthbGxCdXRMYXN0VHlwZX0geWEgZGEgXHUwMTVGdSBkb3N5YSBvbG1hc1x1MDEzMSBnZXJla2lyOiB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdSZXNpbSB0aXBpIGRlc3Rla2xlbm1peW9yJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdSZXNpbSBcdTAwRTdvayBrXHUwMEZDXHUwMEU3XHUwMEZDaycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ1Jlc2ltIFx1MDBFN29rIGJcdTAwRkN5XHUwMEZDaycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltdW0gYm95dXQge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYXhpbXVtIGJveXV0IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwMEM3XHUwMEY2elx1MDBGQ25cdTAwRkNybFx1MDBGQ2sgXHUwMEU3b2sgZFx1MDBGQ1x1MDE1Rlx1MDBGQ2snLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnXHUwMEM3XHUwMEY2elx1MDBGQ25cdTAwRkNybFx1MDBGQ2sgXHUwMEU3b2sgeVx1MDBGQ2tzZWsnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdNaW5pbXVtIFx1MDBFN1x1MDBGNnpcdTAwRkNuXHUwMEZDcmxcdTAwRkNrIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01heGltdW0gXHUwMEU3XHUwMEY2elx1MDBGQ25cdTAwRkNybFx1MDBGQ2sge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHUwNDFGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQyXHUwNDRGXHUwNDMzXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDIFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQzOCBcdTA0MzBcdTA0MzFcdTA0M0UgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFx1MDQzMlx1MDQzOFx1MDQzMVx1MDQzNVx1MDQ0MFx1MDQ1Nlx1MDQ0Mlx1MDQ0QyA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ1x1MDQxRlx1MDQzRVx1MDQzQlx1MDQzNSBcdTA0M0NcdTA0NTZcdTA0NDFcdTA0NDJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDNEXHUwNDM1XHUwNDM0XHUwNDNFXHUwNDNGXHUwNDQzXHUwNDQxXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDU2IFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQzOCcsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdcdTA0MTJcdTA0M0FcdTA0MzBcdTA0MzZcdTA0NTZcdTA0NDJcdTA0NEMgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHUwNDIwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwIFx1MDQzRFx1MDQzNSBcdTA0MzRcdTA0M0VcdTA0NDFcdTA0NDJcdTA0NDNcdTA0M0ZcdTA0M0RcdTA0MzhcdTA0MzknLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdcdTA0MUVcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NEYnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ1x1MDQxRlx1MDQzRVx1MDQzQ1x1MDQzOFx1MDQzQlx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDU2JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnXHUwNDE3XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDQyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdcdTA0MTdcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M0RcdTA0NDJcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEYgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDNFJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1x1MDQxN1x1MDQzMFx1MDQzMlx1MDQzMFx1MDQzRFx1MDQ0Mlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RiBcdTA0NDFcdTA0M0FcdTA0MzBcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0M0RcdTA0M0UnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1MDQxRlx1MDQzRVx1MDQzQ1x1MDQzOFx1MDQzQlx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDQyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDU2JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdcdTA0MUZcdTA0M0VcdTA0M0NcdTA0MzhcdTA0M0JcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQzMlx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQzRVx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ1NicsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdcdTA0MUZcdTA0M0VcdTA0M0NcdTA0MzhcdTA0M0JcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQzMlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ1NicsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1MDQxMlx1MDQ1Nlx1MDQzNFx1MDQzQ1x1MDQ1Nlx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQzOCcsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM4XHUwNDQyXHUwNDM4IFx1MDQ0MVx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzMVx1MDQ0MycsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0MzJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRFIFx1MDQzNFx1MDQ1Nlx1MDQ0RScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHUwNDEyXHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDM4XHUwNDQyXHUwNDM4JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTA0MTJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzgnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1MDQxRlx1MDQzRVx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzOCBcdTA0NDFcdTA0M0ZcdTA0NDBcdTA0M0VcdTA0MzFcdTA0NDMnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ1x1MDQxMlx1MDQ1Nlx1MDQzNFx1MDQzQ1x1MDQ1Nlx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQzOCcsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdcdTA0MTJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRFIFx1MDQzNFx1MDQ1Nlx1MDQ0RScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHUwNDFGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM4XHUwNDQyXHUwNDM4IFx1MDQ0MVx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzMVx1MDQ0MycsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1x1MDQxN1x1MDQzMFx1MDQzMlx1MDQzMFx1MDQzRFx1MDQ0Mlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RicsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnXHUwNDI0XHUwNDMwXHUwNDM5XHUwNDNCIFx1MDQzN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0MzJcdTA0MzVcdTA0M0JcdTA0MzhcdTA0M0FcdTA0MzhcdTA0MzknLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdcdTA0MUNcdTA0MzBcdTA0M0FcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwIFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQ0Mzoge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdcdTA0MUZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0MzJcdTA0MzhcdTA0NDlcdTA0MzVcdTA0M0RcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNBXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQzN1x1MDQzMFx1MDQzM1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDAnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0MzdcdTA0MzBcdTA0MzNcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwOiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1MDQyNFx1MDQzRVx1MDQ0MFx1MDQzQ1x1MDQzMFx1MDQ0MiBcdTA0NDRcdTA0MzBcdTA0MzlcdTA0M0JcdTA0NDMgXHUwNDNEXHUwNDM1IFx1MDQzRlx1MDQ1Nlx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQzOFx1MDQzQ1x1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RicsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ1x1MDQxRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiB7YWxsQnV0TGFzdFR5cGV9IFx1MDQzMFx1MDQzMVx1MDQzRSB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTA0MjRcdTA0M0VcdTA0NDBcdTA0M0NcdTA0MzBcdTA0NDIgXHUwNDM3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGIFx1MDQzRFx1MDQzNSBcdTA0M0ZcdTA0NTZcdTA0MzRcdTA0NDJcdTA0NDBcdTA0MzhcdTA0M0NcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ1x1MDQxN1x1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RiBcdTA0MzdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDM1JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnXHUwNDE3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGIFx1MDQzN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0MzJcdTA0MzVcdTA0M0JcdTA0MzhcdTA0M0FcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTA0MUNcdTA0NTZcdTA0M0RcdTA0NTZcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwOiB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDA6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwNDIwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwXHUwNDM4IFx1MDQzN1x1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RiBcdTA0MzdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDU2JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1MDQyMFx1MDQzRVx1MDQzN1x1MDQzQ1x1MDQ1Nlx1MDQ0MFx1MDQzOCBcdTA0MzdcdTA0M0VcdTA0MzFcdTA0NDBcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEYgXHUwNDM3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDNFIFx1MDQzMlx1MDQzNVx1MDQzQlx1MDQzOFx1MDQzQVx1MDQ1NicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1MDQxQ1x1MDQ1Nlx1MDQzRFx1MDQ1Nlx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDBcdTA0Mzg6IHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDBcdTA0Mzg6IHttYXhSZXNvbHV0aW9ufSdcbn07XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTogJ0tcdTAwRTlvIHRoXHUxRUEzIHRcdTFFQzdwIGNcdTFFRTdhIGJcdTFFQTFuIGhvXHUxRUI3YyA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gVFx1MDBFQ20ga2lcdTFFQkZtIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnVHJcdTAxQjBcdTFFRERuZyBjaFx1MUVFOWEgY1x1MDBFMWMgdFx1MUVDN3Aga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3JyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1x1MDExMGFuZyBjaFx1MUVERCBrXHUwMEVEY2ggdGhcdTAxQjBcdTFFREJjJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnS1x1MDBFRGNoIHRoXHUwMUIwXHUxRURCYyBraFx1MDBGNG5nIGNcdTAwRjMgc1x1MUVCNW4nLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdcdTAxMTBhbmcgdFx1MUVBM2knLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0xcdTFFRDdpIGtoaSB0XHUxRUEzaScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ1x1MDExMGFuZyB0XHUxRUEzaSBsXHUwMEVBbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVFx1MUVBM2kgbFx1MDBFQW4gdGhcdTAwRTBuaCBjXHUwMEY0bmcnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnXHUwMTEwXHUwMEUzIGh1XHUxRUY3IHRcdTFFQTNpIGxcdTAwRUFuJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdMXHUxRUQ3aSBraGkgdFx1MUVBM2kgbFx1MDBFQW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0xcdTFFRDdpIGtoaSBob1x1MDBFMG4gbmd1eVx1MDBFQW4nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnTFx1MUVEN2kga2hpIHhcdTAwRjNhJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnbmhcdTFFQTVuIFx1MDExMVx1MUVDMyBoXHUxRUU3eScsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnbmhcdTFFQTVuIFx1MDExMVx1MUVDMyB0aFx1MUVFRCBsXHUxRUExaScsXG4gICAgbGFiZWxUYXBUb1VuZG86ICduaFx1MUVBNW4gXHUwMTExXHUxRUMzIGhvXHUwMEUwbiB0XHUwMEUxYycsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnWG9cdTAwRTEnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0h1XHUxRUY3IGJcdTFFQ0YnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1RoXHUxRUVEIGxcdTFFQTFpJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdIXHUxRUU3eSBiXHUxRUNGJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0hvXHUwMEUwbiB0XHUwMEUxYycsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnVGhcdTFFRUQgbFx1MUVBMWknLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdUXHUxRUEzaSBsXHUwMEVBbicsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnVFx1MUVBRHAgdGluIHF1XHUwMEUxIGxcdTFFREJuJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnS1x1MDBFRGNoIHRoXHUwMUIwXHUxRURCYyB0XHUxRUM3cCB0XHUxRUQxaSBcdTAxMTFhIGxcdTAwRTAge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdcdTAxMTBcdTAwRTMgdlx1MDFCMFx1MUVFM3QgcXVcdTAwRTEgdFx1MUVENW5nIGtcdTAwRURjaCB0aFx1MDFCMFx1MUVEQmMgdFx1MUVEMWkgXHUwMTExYScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnVFx1MUVENW5nIGtcdTAwRURjaCB0aFx1MDFCMFx1MUVEQmMgdFx1MUVDN3AgdFx1MUVEMWkgXHUwMTExYSBsXHUwMEUwIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnVFx1MUVDN3AgdGh1XHUxRUQ5YyBsb1x1MUVBMWkga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3JyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnS2lcdTFFQzN1IHRcdTFFQzdwIGhcdTFFRTNwIGxcdTFFQzcgbFx1MDBFMCB7YWxsQnV0TGFzdFR5cGV9IGhvXHUxRUI3YyB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdMb1x1MUVBMWkgaFx1MDBFQ25oIFx1MUVBM25oIGtoXHUwMEY0bmcgXHUwMTExXHUwMUIwXHUxRUUzYyBoXHUxRUQ3IHRyXHUxRUUzJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdIXHUwMEVDbmggXHUxRUEzbmggcXVcdTAwRTEgbmhcdTFFQ0YnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdIXHUwMEVDbmggXHUxRUEzbmggcXVcdTAwRTEgbFx1MUVEQm4nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdLXHUwMEVEY2ggdGhcdTAxQjBcdTFFREJjIHRcdTFFRDFpIHRoaVx1MUVDM3UgbFx1MDBFMCB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ0tcdTAwRURjaCB0aFx1MDFCMFx1MUVEQmMgdFx1MUVEMWkgXHUwMTExYSBsXHUwMEUwIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwMTEwXHUxRUQ5IHBoXHUwMEUybiBnaVx1MUVBM2kgcXVcdTAwRTEgdGhcdTFFQTVwJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1MDExMFx1MUVEOSBwaFx1MDBFMm4gZ2lcdTFFQTNpIHF1XHUwMEUxIGNhbycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1MDExMFx1MUVEOSBwaFx1MDBFMm4gZ2lcdTFFQTNpIHRcdTFFRDFpIHRoaVx1MUVDM3UgbFx1MDBFMCB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdcdTAxMTBcdTFFRDkgcGhcdTAwRTJuIGdpXHUxRUEzaSB0XHUxRUQxaSBcdTAxMTFhIGxcdTAwRTAge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHU2MkQ2XHU2NTNFXHU2NTg3XHU0RUY2XHVGRjBDXHU2MjE2XHU4MDA1IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBcdTZENEZcdTg5QzggPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdcdTVCNTdcdTZCQjVcdTUzMDVcdTU0MkJcdTY1RTBcdTY1NDhcdTY1ODdcdTRFRjYnLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnXHU4QkExXHU3Qjk3XHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGXHU0RTBEXHU1M0VGXHU3NTI4JyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnXHU1MkEwXHU4RjdEJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdcdTUyQTBcdThGN0RcdTk1MTlcdThCRUYnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdcdTRFMEFcdTRGMjAnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1x1NURGMlx1NEUwQVx1NEYyMCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdcdTRFMEFcdTRGMjBcdTVERjJcdTUzRDZcdTZEODgnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1NEUwQVx1NEYyMFx1NTFGQVx1OTUxOScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnXHU4RkQ4XHU1MzlGXHU1MUZBXHU5NTE5JyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ1x1NTIyMFx1OTY2NFx1NTFGQVx1OTUxOScsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1NzBCOVx1NTFGQlx1NTNENlx1NkQ4OCcsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHU3MEI5XHU1MUZCXHU5MUNEXHU4QkQ1JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ1x1NzBCOVx1NTFGQlx1NjRBNFx1NkQ4OCcsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHU1MjIwXHU5NjY0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTRFMkRcdTZCNjInLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1OTFDRFx1OEJENScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnXHU1M0Q2XHU2RDg4JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1x1NjRBNFx1NkQ4OCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHU5MUNEXHU4QkQ1JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHU0RTBBXHU0RjIwJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdcdTY1ODdcdTRFRjZcdTU5MkFcdTU5MjcnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdcdTY3MDBcdTU5MjdcdTUwM0M6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnXHU4RDg1XHU4RkM3XHU2NzAwXHU1OTI3XHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdcdTY3MDBcdTU5MjdcdTY1ODdcdTRFRjZcdTU5MjdcdTVDMEZcdUZGMUF7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1NjU4N1x1NEVGNlx1N0M3Qlx1NTc4Qlx1NjVFMFx1NjU0OCcsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ1x1NUU5NFx1NEUzQSB7YWxsQnV0TGFzdFR5cGV9IFx1NjIxNiB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTRFMERcdTY1MkZcdTYzMDFcdTU2RkVcdTUwQ0ZcdTdDN0JcdTU3OEInLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ1x1NTZGRVx1NTBDRlx1NTkyQVx1NUMwRicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ1x1NTZGRVx1NTBDRlx1NTkyQVx1NTkyNycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ1x1NjcwMFx1NUMwRlx1NTAzQzoge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdcdTY3MDBcdTU5MjdcdTUwM0M6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHU1MjA2XHU4RkE4XHU3Mzg3XHU1OTJBXHU0RjRFJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1NTIwNlx1OEZBOFx1NzM4N1x1NTkyQVx1OUFEOCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1NjcwMFx1NUMwRlx1NTIwNlx1OEZBOFx1NzM4N1x1RkYxQXttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1x1NjcwMFx1NTkyN1x1NTIwNlx1OEZBOFx1NzM4N1x1RkYxQXttYXhSZXNvbHV0aW9ufSdcbiAgfTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHU2MkQ2XHU2NTNFXHU2QTk0XHU2ODQ4XHVGRjBDXHU2MjE2XHU4MDA1IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBcdTcwMEZcdTg5QkQgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdcdTRFMERcdTY1MkZcdTYzRjRcdTZCNjRcdTZBOTRcdTY4NDgnLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnXHU2QjYzXHU1NzI4XHU4QTA4XHU3Qjk3XHU2QTk0XHU2ODQ4XHU1OTI3XHU1QzBGJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHU2QTk0XHU2ODQ4XHU1OTI3XHU1QzBGXHU0RTBEXHU3QjI2JyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnXHU4QjgwXHU1M0Q2XHU0RTJEJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdcdThCODBcdTUzRDZcdTkzMkZcdThBQTQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdcdTRFMEFcdTUwQjMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1x1NURGMlx1NEUwQVx1NTBCMycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdcdTRFMEFcdTUwQjNcdTVERjJcdTUzRDZcdTZEODgnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1NEUwQVx1NTBCM1x1NzY3Q1x1NzUxRlx1OTMyRlx1OEFBNCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnXHU5MDg0XHU1MzlGXHU5MzJGXHU4QUE0JyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ1x1NTIyQVx1OTY2NFx1OTMyRlx1OEFBNCcsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1OUVERVx1NjRDQVx1NTNENlx1NkQ4OCcsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHU5RURFXHU2NENBXHU5MUNEXHU4QTY2JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ1x1OUVERVx1NjRDQVx1OTA4NFx1NTM5RicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHU1MjJBXHU5NjY0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTUwNUNcdTZCNjInLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1OTFDRFx1OEE2NicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnXHU1M0Q2XHU2RDg4JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1x1NTNENlx1NkQ4OCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHU5MUNEXHU4QTY2JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHU0RTBBXHU1MEIzJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdcdTZBOTRcdTY4NDhcdTkwNEVcdTU5MjcnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdcdTY3MDBcdTU5MjdcdTUwM0NcdUZGMUF7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ1x1OEQ4NVx1OTA0RVx1NjcwMFx1NTkyN1x1NTNFRlx1NEUwQVx1NTBCM1x1NTkyN1x1NUMwRicsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnXHU2NzAwXHU1OTI3XHU1M0VGXHU0RTBBXHU1MEIzXHU1OTI3XHU1QzBGXHVGRjFBe2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdcdTRFMERcdTY1MkZcdTYzRjRcdTZCNjRcdTk4NUVcdTU3OEJcdTZBOTRcdTY4NDgnLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdcdTYxQzlcdTcwQkEge2FsbEJ1dExhc3RUeXBlfSBcdTYyMTYge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnXHU0RTBEXHU2NTJGXHU2MzAxXHU2QjY0XHU5ODVFXHU1NzE2XHU3MjQ3XHU5ODVFXHU1NzhCJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdcdTU3MTZcdTcyNDdcdTkwNEVcdTVDMEYnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdcdTU3MTZcdTcyNDdcdTkwNEVcdTU5MjcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTY3MDBcdTVDMEZcdTVDM0FcdTVCRjhcdUZGMUF7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ1x1NjcwMFx1NTkyN1x1NUMzQVx1NUJGOFx1RkYxQXttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHU4OUUzXHU2NzkwXHU1RUE2XHU5MDRFXHU0RjRFJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1ODlFM1x1Njc5MFx1NUVBNlx1OTA0RVx1OUFEOCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1NjcwMFx1NEY0RVx1ODlFM1x1Njc5MFx1NUVBNlx1RkYxQXttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1x1NjcwMFx1OUFEOFx1ODlFM1x1Njc5MFx1NUVBNlx1RkYxQXttYXhSZXNvbHV0aW9ufSdcbiAgfTtcbiIsICJpbXBvcnQgKiBhcyBGaWxlUG9uZCBmcm9tICdmaWxlcG9uZCdcbmltcG9ydCBDcm9wcGVyIGZyb20gJ2Nyb3BwZXJqcydcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVNpemUgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtc2l6ZSdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVR5cGUgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtdHlwZSdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlQ3JvcCBmcm9tICdmaWxlcG9uZC1wbHVnaW4taW1hZ2UtY3JvcCdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlRWRpdCBmcm9tICdmaWxlcG9uZC1wbHVnaW4taW1hZ2UtZWRpdCdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlRXhpZk9yaWVudGF0aW9uIGZyb20gJ2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1leGlmLW9yaWVudGF0aW9uJ1xuaW1wb3J0IEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3IGZyb20gJ2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3J1xuaW1wb3J0IEZpbGVQb25kUGx1Z2luSW1hZ2VSZXNpemUgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLWltYWdlLXJlc2l6ZSdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlVHJhbnNmb3JtIGZyb20gJ2ZpbGVwb25kLXBsdWdpbi1pbWFnZS10cmFuc2Zvcm0nXG5pbXBvcnQgRmlsZVBvbmRQbHVnaW5NZWRpYVByZXZpZXcgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLW1lZGlhLXByZXZpZXcnXG5cbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlU2l6ZSlcbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlVHlwZSlcbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luSW1hZ2VDcm9wKVxuRmlsZVBvbmQucmVnaXN0ZXJQbHVnaW4oRmlsZVBvbmRQbHVnaW5JbWFnZUVkaXQpXG5GaWxlUG9uZC5yZWdpc3RlclBsdWdpbihGaWxlUG9uZFBsdWdpbkltYWdlRXhpZk9yaWVudGF0aW9uKVxuRmlsZVBvbmQucmVnaXN0ZXJQbHVnaW4oRmlsZVBvbmRQbHVnaW5JbWFnZVByZXZpZXcpXG5GaWxlUG9uZC5yZWdpc3RlclBsdWdpbihGaWxlUG9uZFBsdWdpbkltYWdlUmVzaXplKVxuRmlsZVBvbmQucmVnaXN0ZXJQbHVnaW4oRmlsZVBvbmRQbHVnaW5JbWFnZVRyYW5zZm9ybSlcbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luTWVkaWFQcmV2aWV3KVxuXG53aW5kb3cuRmlsZVBvbmQgPSBGaWxlUG9uZFxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaWxlVXBsb2FkRm9ybUNvbXBvbmVudCh7XG4gICAgYWNjZXB0ZWRGaWxlVHlwZXMsXG4gICAgaW1hZ2VFZGl0b3JFbXB0eUZpbGxDb2xvcixcbiAgICBpbWFnZUVkaXRvck1vZGUsXG4gICAgaW1hZ2VFZGl0b3JWaWV3cG9ydEhlaWdodCxcbiAgICBpbWFnZUVkaXRvclZpZXdwb3J0V2lkdGgsXG4gICAgZGVsZXRlVXBsb2FkZWRGaWxlVXNpbmcsXG4gICAgaXNEZWxldGFibGUsXG4gICAgaXNEaXNhYmxlZCxcbiAgICBnZXRVcGxvYWRlZEZpbGVzVXNpbmcsXG4gICAgaW1hZ2VDcm9wQXNwZWN0UmF0aW8sXG4gICAgaW1hZ2VQcmV2aWV3SGVpZ2h0LFxuICAgIGltYWdlUmVzaXplTW9kZSxcbiAgICBpbWFnZVJlc2l6ZVRhcmdldEhlaWdodCxcbiAgICBpbWFnZVJlc2l6ZVRhcmdldFdpZHRoLFxuICAgIGltYWdlUmVzaXplVXBzY2FsZSxcbiAgICBpc0F2YXRhcixcbiAgICBoYXNJbWFnZUVkaXRvcixcbiAgICBoYXNDaXJjbGVDcm9wcGVyLFxuICAgIGNhbkVkaXRTdmdzLFxuICAgIGlzU3ZnRWRpdGluZ0NvbmZpcm1lZCxcbiAgICBjb25maXJtU3ZnRWRpdGluZ01lc3NhZ2UsXG4gICAgZGlzYWJsZWRTdmdFZGl0aW5nTWVzc2FnZSxcbiAgICBpc0Rvd25sb2FkYWJsZSxcbiAgICBpc011bHRpcGxlLFxuICAgIGlzT3BlbmFibGUsXG4gICAgaXNQcmV2aWV3YWJsZSxcbiAgICBpc1Jlb3JkZXJhYmxlLFxuICAgIGxvYWRpbmdJbmRpY2F0b3JQb3NpdGlvbixcbiAgICBsb2NhbGUsXG4gICAgbWF4U2l6ZSxcbiAgICBtaW5TaXplLFxuICAgIHBhbmVsQXNwZWN0UmF0aW8sXG4gICAgcGFuZWxMYXlvdXQsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgcmVtb3ZlVXBsb2FkZWRGaWxlQnV0dG9uUG9zaXRpb24sXG4gICAgcmVtb3ZlVXBsb2FkZWRGaWxlVXNpbmcsXG4gICAgcmVvcmRlclVwbG9hZGVkRmlsZXNVc2luZyxcbiAgICBzaG91bGRBcHBlbmRGaWxlcyxcbiAgICBzaG91bGRPcmllbnRJbWFnZUZyb21FeGlmLFxuICAgIHNob3VsZFRyYW5zZm9ybUltYWdlLFxuICAgIHN0YXRlLFxuICAgIHVwbG9hZEJ1dHRvblBvc2l0aW9uLFxuICAgIHVwbG9hZFByb2dyZXNzSW5kaWNhdG9yUG9zaXRpb24sXG4gICAgdXBsb2FkVXNpbmcsXG59KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmlsZUtleUluZGV4OiB7fSxcblxuICAgICAgICBwb25kOiBudWxsLFxuXG4gICAgICAgIHNob3VsZFVwZGF0ZVN0YXRlOiB0cnVlLFxuXG4gICAgICAgIHN0YXRlLFxuXG4gICAgICAgIGxhc3RTdGF0ZTogbnVsbCxcblxuICAgICAgICB1cGxvYWRlZEZpbGVJbmRleDoge30sXG5cbiAgICAgICAgaXNFZGl0b3JPcGVuOiBmYWxzZSxcblxuICAgICAgICBlZGl0aW5nRmlsZToge30sXG5cbiAgICAgICAgY3VycmVudFJhdGlvOiAnJyxcblxuICAgICAgICBlZGl0b3I6IHt9LFxuXG4gICAgICAgIGluaXQ6IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEZpbGVQb25kLnNldE9wdGlvbnMobG9jYWxlc1tsb2NhbGVdID8/IGxvY2FsZXNbJ2VuJ10pXG5cbiAgICAgICAgICAgIHRoaXMucG9uZCA9IEZpbGVQb25kLmNyZWF0ZSh0aGlzLiRyZWZzLmlucHV0LCB7XG4gICAgICAgICAgICAgICAgYWNjZXB0ZWRGaWxlVHlwZXMsXG4gICAgICAgICAgICAgICAgYWxsb3dJbWFnZUV4aWZPcmllbnRhdGlvbjogc2hvdWxkT3JpZW50SW1hZ2VGcm9tRXhpZixcbiAgICAgICAgICAgICAgICBhbGxvd1Bhc3RlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhbGxvd1JlbW92ZTogaXNEZWxldGFibGUsXG4gICAgICAgICAgICAgICAgYWxsb3dSZW9yZGVyOiBpc1Jlb3JkZXJhYmxlLFxuICAgICAgICAgICAgICAgIGFsbG93UmVwbGFjZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYWxsb3dJbWFnZVByZXZpZXc6IGlzUHJldmlld2FibGUsXG4gICAgICAgICAgICAgICAgYWxsb3dWaWRlb1ByZXZpZXc6IGlzUHJldmlld2FibGUsXG4gICAgICAgICAgICAgICAgYWxsb3dBdWRpb1ByZXZpZXc6IGlzUHJldmlld2FibGUsXG4gICAgICAgICAgICAgICAgYWxsb3dJbWFnZVRyYW5zZm9ybTogc2hvdWxkVHJhbnNmb3JtSW1hZ2UsXG4gICAgICAgICAgICAgICAgY3JlZGl0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgZmlsZXM6IGF3YWl0IHRoaXMuZ2V0RmlsZXMoKSxcbiAgICAgICAgICAgICAgICBpbWFnZUNyb3BBc3BlY3RSYXRpbyxcbiAgICAgICAgICAgICAgICBpbWFnZVByZXZpZXdIZWlnaHQsXG4gICAgICAgICAgICAgICAgaW1hZ2VSZXNpemVUYXJnZXRIZWlnaHQsXG4gICAgICAgICAgICAgICAgaW1hZ2VSZXNpemVUYXJnZXRXaWR0aCxcbiAgICAgICAgICAgICAgICBpbWFnZVJlc2l6ZU1vZGUsXG4gICAgICAgICAgICAgICAgaW1hZ2VSZXNpemVVcHNjYWxlLFxuICAgICAgICAgICAgICAgIGl0ZW1JbnNlcnRMb2NhdGlvbjogc2hvdWxkQXBwZW5kRmlsZXMgPyAnYWZ0ZXInIDogJ2JlZm9yZScsXG4gICAgICAgICAgICAgICAgLi4uKHBsYWNlaG9sZGVyICYmIHsgbGFiZWxJZGxlOiBwbGFjZWhvbGRlciB9KSxcbiAgICAgICAgICAgICAgICBtYXhGaWxlU2l6ZTogbWF4U2l6ZSxcbiAgICAgICAgICAgICAgICBtaW5GaWxlU2l6ZTogbWluU2l6ZSxcbiAgICAgICAgICAgICAgICBzdHlsZUJ1dHRvblByb2Nlc3NJdGVtUG9zaXRpb246IHVwbG9hZEJ1dHRvblBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHN0eWxlQnV0dG9uUmVtb3ZlSXRlbVBvc2l0aW9uOiByZW1vdmVVcGxvYWRlZEZpbGVCdXR0b25Qb3NpdGlvbixcbiAgICAgICAgICAgICAgICBzdHlsZUxvYWRJbmRpY2F0b3JQb3NpdGlvbjogbG9hZGluZ0luZGljYXRvclBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHN0eWxlUGFuZWxBc3BlY3RSYXRpbzogcGFuZWxBc3BlY3RSYXRpbyxcbiAgICAgICAgICAgICAgICBzdHlsZVBhbmVsTGF5b3V0OiBwYW5lbExheW91dCxcbiAgICAgICAgICAgICAgICBzdHlsZVByb2dyZXNzSW5kaWNhdG9yUG9zaXRpb246IHVwbG9hZFByb2dyZXNzSW5kaWNhdG9yUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgc2VydmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGFzeW5jIChzb3VyY2UsIGxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNvdXJjZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQoYmxvYilcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VzczogKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVTdGF0ZSA9IGZhbHNlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlS2V5ID0gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsxZTddICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMWUzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtNGUzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtOGUzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMWUxMVxuICAgICAgICAgICAgICAgICAgICAgICAgKS5yZXBsYWNlKC9bMDE4XS9nLCAoYykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgXlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDE1ID4+IChjIC8gNCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoMTYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRVc2luZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpbGVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVTdGF0ZSA9IHRydWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkKGZpbGVLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBhc3luYyAoc291cmNlLCBsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZUtleSA9IHRoaXMudXBsb2FkZWRGaWxlSW5kZXhbc291cmNlXSA/PyBudWxsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxldGVVcGxvYWRlZEZpbGVVc2luZyhmaWxlS2V5KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkKClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJ0OiBhc3luYyAodW5pcXVlRmlsZUlkLCBsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW1vdmVVcGxvYWRlZEZpbGVVc2luZyh1bmlxdWVGaWxlSWQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWxsb3dJbWFnZUVkaXQ6IGhhc0ltYWdlRWRpdG9yLFxuICAgICAgICAgICAgICAgIGltYWdlRWRpdEVkaXRvcjoge1xuICAgICAgICAgICAgICAgICAgICBvcGVuOiAoZmlsZSkgPT4gdGhpcy5sb2FkRWRpdG9yKGZpbGUpLFxuICAgICAgICAgICAgICAgICAgICBvbmNvbmZpcm06ICgpID0+IHt9LFxuICAgICAgICAgICAgICAgICAgICBvbmNhbmNlbDogKCkgPT4gdGhpcy5jbG9zZUVkaXRvcigpLFxuICAgICAgICAgICAgICAgICAgICBvbmNsb3NlOiAoKSA9PiB0aGlzLmNsb3NlRWRpdG9yKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMuJHdhdGNoKCdzdGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9uZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkVXBkYXRlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZSB0aGUgZmlsZXMgdGhhdCBhcmUgYWxyZWFkeSBpbiB0aGUgaW5wdXQsIGlmIHRoZXkgaGF2ZW4ndCBiZWVuIHNhdmVkIHlldC5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLnN0YXRlKS5maWx0ZXIoKGZpbGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnN0YXJ0c1dpdGgoJ2xpdmV3aXJlLWZpbGU6JyksXG4gICAgICAgICAgICAgICAgICAgICkubGVuZ3RoXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXRlID0gbnVsbFxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoZSBzdGF0ZSBoYXNuJ3QgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlKSA9PT0gdGhpcy5sYXN0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U3RhdGUgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlKVxuXG4gICAgICAgICAgICAgICAgdGhpcy5wb25kLmZpbGVzID0gYXdhaXQgdGhpcy5nZXRGaWxlcygpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLnBvbmQub24oJ3Jlb3JkZXJmaWxlcycsIGFzeW5jIChmaWxlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyZWRGaWxlS2V5cyA9IGZpbGVzXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGZpbGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnNvdXJjZSBpbnN0YW5jZW9mIEZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZpbGUuc2VydmVySWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMudXBsb2FkZWRGaWxlSW5kZXhbZmlsZS5zb3VyY2VdID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICkgLy8gZmlsZS5zZXJ2ZXJJZCBpcyBudWxsIGZvciBhIGZpbGUgdGhhdCBpcyBub3QgeWV0IHVwbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGZpbGVLZXkpID0+IGZpbGVLZXkpXG5cbiAgICAgICAgICAgICAgICBhd2FpdCByZW9yZGVyVXBsb2FkZWRGaWxlc1VzaW5nKFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRBcHBlbmRGaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcmRlcmVkRmlsZUtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb3JkZXJlZEZpbGVLZXlzLnJldmVyc2UoKSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLnBvbmQub24oJ2luaXRmaWxlJywgYXN5bmMgKGZpbGVJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0Rvd25sb2FkYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNBdmF0YXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnREb3dubG9hZExpbmsoZmlsZUl0ZW0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLnBvbmQub24oJ2luaXRmaWxlJywgYXN5bmMgKGZpbGVJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc09wZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0F2YXRhcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydE9wZW5MaW5rKGZpbGVJdGVtKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5wb25kLm9uKCdhZGRmaWxlc3RhcnQnLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlLnN0YXR1cyAhPT0gRmlsZVBvbmQuRmlsZVN0YXR1cy5QUk9DRVNTSU5HX1FVRVVFRCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRm9ybUV2ZW50KCdmaWxlLXVwbG9hZC1zdGFydGVkJylcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUZpbGVQcm9jZXNzaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb25kXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0RmlsZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5zdGF0dXMgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlUG9uZC5GaWxlU3RhdHVzLlBST0NFU1NJTkcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5zdGF0dXMgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlUG9uZC5GaWxlU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVELFxuICAgICAgICAgICAgICAgICAgICAgICAgKS5sZW5ndGhcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEZvcm1FdmVudCgnZmlsZS11cGxvYWQtZmluaXNoZWQnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBvbmQub24oJ3Byb2Nlc3NmaWxlJywgaGFuZGxlRmlsZVByb2Nlc3NpbmcpXG5cbiAgICAgICAgICAgIHRoaXMucG9uZC5vbigncHJvY2Vzc2ZpbGVhYm9ydCcsIGhhbmRsZUZpbGVQcm9jZXNzaW5nKVxuXG4gICAgICAgICAgICB0aGlzLnBvbmQub24oJ3Byb2Nlc3NmaWxlcmV2ZXJ0JywgaGFuZGxlRmlsZVByb2Nlc3NpbmcpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95RWRpdG9yKClcblxuICAgICAgICAgICAgRmlsZVBvbmQuZGVzdHJveSh0aGlzLiRyZWZzLmlucHV0KVxuICAgICAgICAgICAgdGhpcy5wb25kID0gbnVsbFxuICAgICAgICB9LFxuXG4gICAgICAgIGRpc3BhdGNoRm9ybUV2ZW50OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdGhpcy4kZWwuY2xvc2VzdCgnZm9ybScpPy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudChuYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldFVwbG9hZGVkRmlsZXM6IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwbG9hZGVkRmlsZXMgPSBhd2FpdCBnZXRVcGxvYWRlZEZpbGVzVXNpbmcoKVxuXG4gICAgICAgICAgICB0aGlzLmZpbGVLZXlJbmRleCA9IHVwbG9hZGVkRmlsZXMgPz8ge31cblxuICAgICAgICAgICAgdGhpcy51cGxvYWRlZEZpbGVJbmRleCA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZmlsZUtleUluZGV4KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHZhbHVlXSkgPT4gdmFsdWU/LnVybClcbiAgICAgICAgICAgICAgICAucmVkdWNlKChvYmosIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvYmpbdmFsdWUudXJsXSA9IGtleVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmpcbiAgICAgICAgICAgICAgICB9LCB7fSlcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRGaWxlczogYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRVcGxvYWRlZEZpbGVzKClcblxuICAgICAgICAgICAgbGV0IGZpbGVzID0gW11cblxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGxvYWRlZEZpbGUgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLmZpbGVLZXlJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVwbG9hZGVkRmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHVwbG9hZGVkRmlsZS51cmwsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsb2NhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oIXVwbG9hZGVkRmlsZS50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAvXmltYWdlLy50ZXN0KHVwbG9hZGVkRmlsZS50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVwbG9hZGVkRmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB1cGxvYWRlZEZpbGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdXBsb2FkZWRGaWxlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaG91bGRBcHBlbmRGaWxlcyA/IGZpbGVzIDogZmlsZXMucmV2ZXJzZSgpXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5zZXJ0RG93bmxvYWRMaW5rOiBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgICAgaWYgKGZpbGUub3JpZ2luICE9PSBGaWxlUG9uZC5GaWxlT3JpZ2luLkxPQ0FMKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuZ2V0RG93bmxvYWRMaW5rKGZpbGUpXG5cbiAgICAgICAgICAgIGlmICghYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKGBmaWxlcG9uZC0taXRlbS0ke2ZpbGUuaWR9YClcbiAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmZpbGVwb25kLS1maWxlLWluZm8tbWFpbicpXG4gICAgICAgICAgICAgICAgLnByZXBlbmQoYW5jaG9yKVxuICAgICAgICB9LFxuXG4gICAgICAgIGluc2VydE9wZW5MaW5rOiBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgICAgaWYgKGZpbGUub3JpZ2luICE9PSBGaWxlUG9uZC5GaWxlT3JpZ2luLkxPQ0FMKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuZ2V0T3BlbkxpbmsoZmlsZSlcblxuICAgICAgICAgICAgaWYgKCFhbmNob3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoYGZpbGVwb25kLS1pdGVtLSR7ZmlsZS5pZH1gKVxuICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZmlsZXBvbmQtLWZpbGUtaW5mby1tYWluJylcbiAgICAgICAgICAgICAgICAucHJlcGVuZChhbmNob3IpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0RG93bmxvYWRMaW5rOiBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgICAgbGV0IGZpbGVTb3VyY2UgPSBmaWxlLnNvdXJjZVxuXG4gICAgICAgICAgICBpZiAoIWZpbGVTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICAgICAgICBhbmNob3IuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1kb3dubG9hZC1pY29uJ1xuICAgICAgICAgICAgYW5jaG9yLmhyZWYgPSBmaWxlU291cmNlXG4gICAgICAgICAgICBhbmNob3IuZG93bmxvYWQgPSBmaWxlLmZpbGUubmFtZVxuXG4gICAgICAgICAgICByZXR1cm4gYW5jaG9yXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0T3Blbkxpbms6IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICBsZXQgZmlsZVNvdXJjZSA9IGZpbGUuc291cmNlXG5cbiAgICAgICAgICAgIGlmICghZmlsZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAgICAgICAgIGFuY2hvci5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLW9wZW4taWNvbidcbiAgICAgICAgICAgIGFuY2hvci5ocmVmID0gZmlsZVNvdXJjZVxuICAgICAgICAgICAgYW5jaG9yLnRhcmdldCA9ICdfYmxhbmsnXG5cbiAgICAgICAgICAgIHJldHVybiBhbmNob3JcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0RWRpdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhhc0ltYWdlRWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWRpdG9yID0gbmV3IENyb3BwZXIodGhpcy4kcmVmcy5lZGl0b3IsIHtcbiAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzpcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFZGl0b3JWaWV3cG9ydFdpZHRoIC8gaW1hZ2VFZGl0b3JWaWV3cG9ydEhlaWdodCxcbiAgICAgICAgICAgICAgICBhdXRvQ3JvcEFyZWE6IDEsXG4gICAgICAgICAgICAgICAgY2VudGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNyb3A6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnhQb3NpdGlvbklucHV0LnZhbHVlID0gTWF0aC5yb3VuZChldmVudC5kZXRhaWwueClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy55UG9zaXRpb25JbnB1dC52YWx1ZSA9IE1hdGgucm91bmQoZXZlbnQuZGV0YWlsLnkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuaGVpZ2h0SW5wdXQudmFsdWUgPSBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGV0YWlsLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLndpZHRoSW5wdXQudmFsdWUgPSBNYXRoLnJvdW5kKGV2ZW50LmRldGFpbC53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5yb3RhdGlvbklucHV0LnZhbHVlID0gZXZlbnQuZGV0YWlsLnJvdGF0ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3JvcEJveFJlc2l6YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBndWlkZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgdG9nZ2xlRHJhZ01vZGVPbkRibGNsaWNrOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZpZXdNb2RlOiBpbWFnZUVkaXRvck1vZGUsXG4gICAgICAgICAgICAgICAgd2hlZWxab29tUmF0aW86IDAuMDIsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlRWRpdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRpbmdGaWxlID0ge31cblxuICAgICAgICAgICAgdGhpcy5pc0VkaXRvck9wZW4gPSBmYWxzZVxuXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lFZGl0b3IoKVxuICAgICAgICB9LFxuXG4gICAgICAgIGZpeEltYWdlRGltZW5zaW9uczogZnVuY3Rpb24gKGZpbGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoZmlsZS50eXBlICE9PSAnaW1hZ2Uvc3ZnK3htbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZmlsZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3ZnUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXG4gICAgICAgICAgICBzdmdSZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IG5ldyBET01QYXJzZXIoKVxuICAgICAgICAgICAgICAgICAgICAucGFyc2VGcm9tU3RyaW5nKGV2ZW50LnRhcmdldC5yZXN1bHQsICdpbWFnZS9zdmcreG1sJylcbiAgICAgICAgICAgICAgICAgICAgPy5xdWVyeVNlbGVjdG9yKCdzdmcnKVxuXG4gICAgICAgICAgICAgICAgaWYgKCFzdmdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmaWxlKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdCb3hBdHRyaWJ1dGUgPSBbJ3ZpZXdCb3gnLCAnVmlld0JveCcsICd2aWV3Ym94J10uZmluZChcbiAgICAgICAgICAgICAgICAgICAgKGF0dHJpYnV0ZSkgPT4gc3ZnRWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSxcbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICBpZiAoIXZpZXdCb3hBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZpbGUpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld0JveCA9IHN2Z0VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmdldEF0dHJpYnV0ZSh2aWV3Qm94QXR0cmlidXRlKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJyAnKVxuXG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3Qm94IHx8IHZpZXdCb3gubGVuZ3RoICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmaWxlKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHBhcnNlRmxvYXQodmlld0JveFsyXSkgKyAncHQnKVxuICAgICAgICAgICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBwYXJzZUZsb2F0KHZpZXdCb3hbM10pICsgJ3B0JylcblxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJsb2IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ2ltYWdlL3N2Zyt4bWwnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlL3N2Zyt4bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWxhdGl2ZVBhdGg6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN2Z1JlYWRlci5yZWFkQXNUZXh0KGZpbGUpXG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZEVkaXRvcjogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaGFzSW1hZ2VFZGl0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlzRmlsZVN2ZyA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL3N2Zyt4bWwnXG5cbiAgICAgICAgICAgIGlmICghY2FuRWRpdFN2Z3MgJiYgaXNGaWxlU3ZnKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoZGlzYWJsZWRTdmdFZGl0aW5nTWVzc2FnZSlcblxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXNTdmdFZGl0aW5nQ29uZmlybWVkICYmXG4gICAgICAgICAgICAgICAgaXNGaWxlU3ZnICYmXG4gICAgICAgICAgICAgICAgIWNvbmZpcm0oY29uZmlybVN2Z0VkaXRpbmdNZXNzYWdlKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZml4SW1hZ2VEaW1lbnNpb25zKGZpbGUsIChlZGl0aW5nRmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0ZpbGUgPSBlZGl0aW5nRmlsZVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0RWRpdG9yKClcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcblxuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0VkaXRvck9wZW4gPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHRoaXMuZWRpdG9yLnJlcGxhY2UoZXZlbnQudGFyZ2V0LnJlc3VsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAyMDAsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRSb3VuZGVkQ2FudmFzOiBmdW5jdGlvbiAoc291cmNlQ2FudmFzKSB7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBzb3VyY2VDYW52YXMud2lkdGhcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBzb3VyY2VDYW52YXMuaGVpZ2h0XG5cbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGhcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHRcblxuICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShzb3VyY2VDYW52YXMsIDAsIDAsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbidcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKClcbiAgICAgICAgICAgIGNvbnRleHQuZWxsaXBzZShcbiAgICAgICAgICAgICAgICB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMiAqIE1hdGguUEksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKVxuXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2F2ZUVkaXRvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFoYXNJbWFnZUVkaXRvcikge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3JvcHBlZENhbnZhcyA9IHRoaXMuZWRpdG9yLmdldENyb3BwZWRDYW52YXMoe1xuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogaW1hZ2VFZGl0b3JFbXB0eUZpbGxDb2xvciA/PyAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaW1hZ2VSZXNpemVUYXJnZXRIZWlnaHQsXG4gICAgICAgICAgICAgICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGltYWdlU21vb3RoaW5nUXVhbGl0eTogJ2hpZ2gnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBpbWFnZVJlc2l6ZVRhcmdldFdpZHRoLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKGhhc0NpcmNsZUNyb3BwZXIpIHtcbiAgICAgICAgICAgICAgICBjcm9wcGVkQ2FudmFzID0gdGhpcy5nZXRSb3VuZGVkQ2FudmFzKGNyb3BwZWRDYW52YXMpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNyb3BwZWRDYW52YXMudG9CbG9iKFxuICAgICAgICAgICAgICAgIChjcm9wcGVkSW1hZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZC5yZW1vdmVGaWxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0RmlsZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1cGxvYWRlZEZpbGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWRGaWxlLmZpbGVuYW1lID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0ZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKT8uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyByZXZlcnQ6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlU3RhdGUgPSBmYWxzZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWRpdGluZ0ZpbGVOYW1lID0gdGhpcy5lZGl0aW5nRmlsZS5uYW1lLnNsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nRmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJyksXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWRpdGluZ0ZpbGVFeHRlbnNpb24gPSB0aGlzLmVkaXRpbmdGaWxlLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wb3AoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGluZ0ZpbGVFeHRlbnNpb24gPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGluZ0ZpbGVFeHRlbnNpb24gPSAncG5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZVZlcnNpb25SZWdleCA9IC8tdihcXGQrKS9cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lVmVyc2lvblJlZ2V4LnRlc3QoZWRpdGluZ0ZpbGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRpbmdGaWxlTmFtZSA9IGVkaXRpbmdGaWxlTmFtZS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZVZlcnNpb25SZWdleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1hdGNoLCBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld051bWJlciA9IE51bWJlcihudW1iZXIpICsgMVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYC12JHtuZXdOdW1iZXJ9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGluZ0ZpbGVOYW1lICs9ICctdjEnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRGaWxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRmlsZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjcm9wcGVkSW1hZ2VdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZWRpdGluZ0ZpbGVOYW1lfS4ke2VkaXRpbmdGaWxlRXh0ZW5zaW9ufWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nRmlsZS50eXBlID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NpcmNsZUNyb3BwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2ltYWdlL3BuZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5lZGl0aW5nRmlsZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VFZGl0b3IoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUVkaXRvcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhc0NpcmNsZUNyb3BwZXIgPyAnaW1hZ2UvcG5nJyA6IHRoaXMuZWRpdGluZ0ZpbGUudHlwZSxcbiAgICAgICAgICAgIClcbiAgICAgICAgfSxcblxuICAgICAgICBkZXN0cm95RWRpdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lZGl0b3IgJiYgdHlwZW9mIHRoaXMuZWRpdG9yLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5kZXN0cm95KClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lZGl0b3IgPSBudWxsXG4gICAgICAgIH0sXG4gICAgfVxufVxuXG5pbXBvcnQgYXIgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2FyLWFyJ1xuaW1wb3J0IGNzIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9jcy1jeidcbmltcG9ydCBkYSBmcm9tICdmaWxlcG9uZC9sb2NhbGUvZGEtZGsnXG5pbXBvcnQgZGUgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2RlLWRlJ1xuaW1wb3J0IGVuIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9lbi1lbidcbmltcG9ydCBlcyBmcm9tICdmaWxlcG9uZC9sb2NhbGUvZXMtZXMnXG5pbXBvcnQgZmEgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2ZhX2lyJ1xuaW1wb3J0IGZpIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9maS1maSdcbmltcG9ydCBmciBmcm9tICdmaWxlcG9uZC9sb2NhbGUvZnItZnInXG5pbXBvcnQgaHUgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2h1LWh1J1xuaW1wb3J0IGlkIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9pZC1pZCdcbmltcG9ydCBpdCBmcm9tICdmaWxlcG9uZC9sb2NhbGUvaXQtaXQnXG5pbXBvcnQgbmwgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL25sLW5sJ1xuaW1wb3J0IG5vIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9ub19uYidcbmltcG9ydCBwbCBmcm9tICdmaWxlcG9uZC9sb2NhbGUvcGwtcGwnXG5pbXBvcnQgcHRfQlIgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3B0LWJyJ1xuaW1wb3J0IHB0X1BUIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9wdC1icidcbmltcG9ydCBybyBmcm9tICdmaWxlcG9uZC9sb2NhbGUvcm8tcm8nXG5pbXBvcnQgcnUgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3J1LXJ1J1xuaW1wb3J0IHN2IGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9zdl9zZSdcbmltcG9ydCB0ciBmcm9tICdmaWxlcG9uZC9sb2NhbGUvdHItdHInXG5pbXBvcnQgdWsgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3VrLXVhJ1xuaW1wb3J0IHZpIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS92aS12aSdcbmltcG9ydCB6aF9DTiBmcm9tICdmaWxlcG9uZC9sb2NhbGUvemgtY24nXG5pbXBvcnQgemhfVFcgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3poLXR3J1xuXG5jb25zdCBsb2NhbGVzID0ge1xuICAgIGFyLFxuICAgIGNzLFxuICAgIGRhLFxuICAgIGRlLFxuICAgIGVuLFxuICAgIGVzLFxuICAgIGZhLFxuICAgIGZpLFxuICAgIGZyLFxuICAgIGh1LFxuICAgIGlkLFxuICAgIGl0LFxuICAgIG5sLFxuICAgIG5vLFxuICAgIHBsLFxuICAgIHB0X0JSLFxuICAgIHB0X1BULFxuICAgIHJvLFxuICAgIHJ1LFxuICAgIHN2LFxuICAgIHRyLFxuICAgIHVrLFxuICAgIHZpLFxuICAgIHpoX0NOLFxuICAgIHpoX1RXLFxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBLElBQU0sU0FBUyxXQUFTLGlCQUFpQjtBQUV6QyxJQUFNLGNBQWMsQ0FBQyxjQUFjQSxXQUFVLENBQUMsR0FBR0MsV0FBVSxDQUFDLE1BQU07QUFFOUQsUUFBTUMsU0FBUTtBQUFBLElBQ1YsR0FBRztBQUFBLEVBQ1A7QUFHQSxRQUFNLGNBQWMsQ0FBQztBQUNyQixRQUFNLGdCQUFnQixDQUFDO0FBR3ZCLFFBQU0sV0FBVyxPQUFPLEVBQUUsR0FBR0EsT0FBTTtBQUduQyxRQUFNLHFCQUFxQixNQUFNO0FBRTdCLFVBQU0sUUFBUSxDQUFDLEdBQUcsV0FBVztBQUc3QixnQkFBWSxTQUFTO0FBRXJCLFdBQU87QUFBQSxFQUNYO0FBR0EsUUFBTSx1QkFBdUIsTUFBTTtBQUUvQixVQUFNLFFBQVEsQ0FBQyxHQUFHLGFBQWE7QUFHL0Isa0JBQWMsU0FBUztBQUd2QixVQUFNLFFBQVEsQ0FBQyxFQUFFLE1BQU0sTUFBQUMsTUFBSyxNQUFNO0FBQzlCLGVBQVMsTUFBTUEsS0FBSTtBQUFBLElBQ3ZCLENBQUM7QUFBQSxFQUNMO0FBR0EsUUFBTSxXQUFXLENBQUMsTUFBTUEsT0FBTSxlQUFlO0FBRXpDLFFBQUksY0FBYyxDQUFDLFNBQVMsUUFBUTtBQUNoQyxvQkFBYyxLQUFL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O0FBQUEsTUFDdEQ7QUFBQSxJQUNKO0FBQUEsSUFFQSxlQUFlLFdBQVk7QUFDdkIsVUFBSSxLQUFLLFVBQVUsT0FBTyxLQUFLLE9BQU8sWUFBWSxZQUFZO0FBQzFELGFBQUssT0FBTyxRQUFRO0FBQUEsTUFDeEI7QUFFQSxXQUFLLFNBQVM7QUFBQSxJQUNsQjtBQUFBLEVBQ0o7QUFDSjtBQTRCQSxJQUFNLFVBQVU7QUFBQSxFQUNaO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0o7IiwKICAibmFtZXMiOiBbInF1ZXJpZXMiLCAiYWN0aW9ucyIsICJzdGF0ZSIsICJkYXRhIiwgInF1ZXJ5IiwgIm5hbWUiLCAic2NhbGUiLCAibmFtZSIsICJhbmltYXRpb25zIiwgImFuaW1hdG9yIiwgImZuIiwgImV2ZW50cyIsICJnZXRPZmZzZXQiLCAic2NhbGVYIiwgInNjYWxlWSIsICJ0cmFuc2Zvcm1zIiwgInN0eWxlcyIsICJ3cml0ZSIsICJjcmVhdGUiLCAiZGVzdHJveSIsICJhY3Rpb25zIiwgInN0YXRlIiwgInN0b3JlIiwgInByb3BzIiwgInJlYWQiLCAicm9vdCIsICJsaXN0ZW5lcnMiLCAiaXRlbSIsICJ2YWx1ZSIsICJlcnJvciIsICJvcHRpb24iLCAiYmxvYiIsICJmaWxlIiwgImRhdGEiLCAicmVzIiwgImhlYWRlcnMiLCAiY2h1bmsiLCAib25kYXRhIiwgIm9uZXJyb3IiLCAicmVzZXQiLCAic2VydmVyRmlsZVJlZmVyZW5jZSIsICJrZXkiLCAiY2hhbmdlIiwgInF1ZXJ5IiwgImZldGNoIiwgInN1Y2Nlc3MiLCAicmVzdWx0IiwgImZhaWx1cmUiLCAiaGFuZGxlUmV2ZXJ0IiwgInN2ZyIsICJpc0FzeW5jIiwgIm1hcCIsICJhY3Rpb24iLCAiZSIsICJkcm9wIiwgImxvY2F0aW9uIiwgImN1cnJlbnRJbmRleCIsICJkcmFnSGVpZ2h0IiwgIml0ZW1IZWlnaHQiLCAiZW50cnkiLCAiaGFuZGxlcnMiLCAibGlzdCIsICJwYW5lbCIsICJkZWZhdWx0T3B0aW9ucyIsICJyb3V0ZSIsICJzZXRPcHRpb25zIiwgImdldEZpbGVzIiwgInF1ZXJpZXMiLCAib3V0cHV0IiwgInBsdWdpbiIsICJhcHAiLCAiciIsICJvIiwgInJlcyIsICJJU19CUk9XU0VSIiwgImlzTnVtYmVyIiwgImlzUG9zaXRpdmVOdW1iZXIiLCAiaXNPYmplY3QiLCAiZXJyb3IiLCAiaXNGdW5jdGlvbiIsICJ0b0FycmF5IiwgImRhdGEiLCAiYXNzaWduIiwgInN0eWxlcyIsICJuYW1lIiwgInN1cHBvcnRlZCIsICJsaXN0ZW5lciIsICJsaXN0ZW5lcnMiLCAibG9jYXRpb24iLCAicm90YXRlIiwgInNjYWxlWCIsICJzY2FsZVkiLCAicmVuZGVyIiwgInByZXZpZXciLCAiY2hhbmdlIiwgImNoZWNrIiwgIm1ldGhvZHMiLCAiY2xlYXIiLCAiZGVzdHJveSIsICJjZW50ZXIiLCAiZ2V0RGF0YSIsICJzZXREYXRhIiwgInNjYWxlIiwgIkNyb3BwZXIiLCAiZG9uZSIsICJhZGRGaWx0ZXIiLCAiVHlwZSIsICJyZXBsYWNlSW5TdHJpbmciLCAidG9OYXR1cmFsRmlsZVNpemUiLCAiZmlsZSIsICJpdGVtIiwgImlzQnJvd3NlciIsICJwbHVnaW4iLCAiYWRkRmlsdGVyIiwgIlR5cGUiLCAiaXNTdHJpbmciLCAicmVwbGFjZUluU3RyaW5nIiwgImd1ZXNzdGltYXRlTWltZVR5cGUiLCAiZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lIiwgImdldEZpbGVuYW1lRnJvbVVSTCIsICJpdGVtIiwgIm1hcCIsICJmaWxlIiwgImlzQnJvd3NlciIsICJmaWxlIiwgInBsdWdpbiIsICJhZGRGaWx0ZXIiLCAiVHlwZSIsICJpc0ZpbGUiLCAiZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyIsICJpdGVtIiwgImlzT2JqZWN0IiwgImlzTnVtYmVyIiwgImNyb3AiLCAiY2VudGVyIiwgInpvb20iLCAiaXNCcm93c2VyIiwgImZpbGUiLCAicGx1Z2luIiwgImFkZEZpbHRlciIsICJUeXBlIiwgImNyZWF0ZVJvdXRlIiwgImNyZWF0ZUl0ZW1BUEkiLCAiaXRlbSIsICJmaWxlQWN0aW9uQnV0dG9uIiwgInJlc29sdmUiLCAicmVqZWN0IiwgInJvb3QiLCAiY3JvcCIsICJyZXNpemUiLCAiZmlsdGVycyIsICJkYXRhIiwgImZpbHRlciIsICJtYXJrdXAiLCAiZGlkTG9hZEl0ZW0iLCAiaXNCcm93c2VyIiwgImZpbGUiLCAiSVNfQlJPV1NFUiIsICJpc0Jyb3dzZXIiLCAicGx1Z2luIiwgImFkZEZpbHRlciIsICJUeXBlIiwgImlzRmlsZSIsICJpdGVtIiwgImlzUHJldmlld2FibGVJbWFnZSIsICJmaWxlIiwgInNjYWxlIiwgImlzRGVmaW5lZCIsICJhdHRyIiwgIm5zIiwgInVwZGF0ZVJlY3QiLCAicm9vdCIsICJjcm9wIiwgInJlc2l6ZSIsICJzaXplIiwgIm1hcmt1cCIsICJ6b29tIiwgImNlbnRlciIsICJkYXRhIiwgImxvYWRJbWFnZSIsICJjcmVhdGVXb3JrZXIiLCAiaXRlbSIsICJ1cGRhdGVJbWFnZSIsICJhdmVyYWdlQ29sb3IiLCAiY3JlYXRlIiwgInBsdWdpbiIsICJhZGRGaWx0ZXIiLCAiVHlwZSIsICJjcmVhdGVSb3V0ZSIsICJpc0ZpbGUiLCAiZGlkTG9hZEl0ZW0iLCAiaXNCcm93c2VyIiwgImlzSW1hZ2UiLCAiZmlsZSIsICJnZXRJbWFnZVNpemUiLCAicGx1Z2luIiwgImFkZEZpbHRlciIsICJUeXBlIiwgIml0ZW0iLCAiaXNCcm93c2VyIiwgImlzSW1hZ2UiLCAiZmlsZSIsICJnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24iLCAibmFtZSIsICJjcmVhdGVWZWN0b3IiLCAidmVjdG9yRG90IiwgInZlY3RvclN1YnRyYWN0IiwgInZlY3RvckRpc3RhbmNlU3F1YXJlZCIsICJ2ZWN0b3JEaXN0YW5jZSIsICJnZXRPZmZzZXRQb2ludE9uRWRnZSIsICJnZXRSb3RhdGVkUmVjdFNpemUiLCAiZ2V0SW1hZ2VSZWN0Wm9vbUZhY3RvciIsICJjZW50ZXIiLCAiZ2V0Q2VudGVyZWRDcm9wUmVjdCIsICJjYWxjdWxhdGVDYW52YXNTaXplIiwgInpvb20iLCAiY3JvcCIsICJzY2FsZSIsICJJU19CUk9XU0VSIiwgImNhbnZhcyIsICJ2ZWN0b3JNdWx0aXBseSIsICJjcmVhdGVWZWN0b3IkMSIsICJ2ZWN0b3JBZGQiLCAidmVjdG9yTm9ybWFsaXplIiwgInZlY3RvclJvdGF0ZSIsICJnZXRNYXJrdXBWYWx1ZSIsICJnZXRNYXJrdXBTdHlsZXMiLCAiaXNEZWZpbmVkIiwgImdldE1hcmt1cFJlY3QiLCAicG9pbnRzVG9QYXRoU2hhcGUiLCAic2V0QXR0cmlidXRlcyIsICJhdHRyIiwgIm5zIiwgInN2ZyIsICJ1cGRhdGVSZWN0IiwgInVwZGF0ZUVsbGlwc2UiLCAiSU1BR0VfRklUX1NUWUxFIiwgInVwZGF0ZUltYWdlIiwgIlRFWFRfQU5DSE9SIiwgInVwZGF0ZVRleHQiLCAidXBkYXRlTGluZSIsICJ1cGRhdGVQYXRoIiwgImNyZWF0ZVNoYXBlIiwgImNyZWF0ZUltYWdlIiwgImNyZWF0ZUxpbmUiLCAiQ1JFQVRFX1RZUEVfUk9VVEVTIiwgIlVQREFURV9UWVBFX1JPVVRFUyIsICJjcmVhdGVNYXJrdXBCeVR5cGUiLCAidXBkYXRlTWFya3VwQnlUeXBlIiwgInNvcnRNYXJrdXBCeVpJbmRleCIsICJibG9iIiwgInRleHQiLCAicmVzaXplIiwgInRyYW5zZm9ybXMiLCAidHJhbnNmb3JtIiwgImRhdGEiLCAiZmlsdGVyIiwgImdldEJsb2JCdWlsZGVyIiwgImNyZWF0ZUJsb2IiLCAiZ2V0VW5pcXVlSWQiLCAiY3JlYXRlV29ya2VyIiwgImZuIiwgImNiIiwgImxvYWRJbWFnZSIsICJpdGVtIiwgInJlc29sdmUiLCAic3R5bGVzIiwgIm91dHB1dCIsICJvcHRpb25zIiwgIk1BUktVUF9SRUNUIiwgInRvT3B0aW9uYWxGcmFjdGlvbiIsICJwcmVwYXJlTWFya3VwIiwgImdldEltYWdlU2l6ZSIsICJpc0Jyb3dzZXIiLCAicGx1Z2luIiwgImFkZEZpbHRlciIsICJUeXBlIiwgImZvcmluIiwgImdldEZpbGVGcm9tQmxvYiIsICJpc0ZpbGUiLCAiY3JlYXRlIiwgImZpbGUiLCAicm9vdCIsICJpdGVtIiwgIlVSTCIsICJibG9iIiwgImNyZWF0ZSIsICJwbHVnaW4iLCAiYWRkRmlsdGVyIiwgIlR5cGUiLCAiY3JlYXRlUm91dGUiLCAiZGlkTG9hZEl0ZW0iLCAiaXNCcm93c2VyIiwgInBsdWdpbiIsICJzdGF0ZSIsICJibG9iIiwgImZpbGUiLCAiZXJyb3IiLCAiZmlsZUtleSIsICJuYW1lIl0KfQo=
